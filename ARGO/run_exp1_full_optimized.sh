#!/bin/bash

###############################################################################
# 完整实验脚本 - 优化版 (预计算embeddings)
# 
# 优化内容:
#   - 预计算所有3243个问题的embeddings (节省5+小时)
#   - 修复异常选项数量的bug
#
# 预计运行时间: 15-18小时 (相比原来的20-30小时)
###############################################################################

echo "========================================"
echo "启动完整实验 (优化版)"
echo "========================================"
echo "开始时间: $(date)"
echo ""

# 使用所有8张GPU
export CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7
export PYTHONUNBUFFERED=1

# 运行实验
cd /data/user/huangxiaolin/ARGO2/ARGO

python -u Exp_real_cost_impact_v2.py \
    --mode full \
    --difficulty hard \
    --gpus 0,1,2,3,4,5,6,7 \
    --seed 42

echo ""
echo "========================================"
echo "实验完成!"
echo "结束时间: $(date)"
echo "========================================"
