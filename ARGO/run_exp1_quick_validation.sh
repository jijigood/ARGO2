#!/bin/bash

###############################################################################
# 实验1: 快速验证脚本 (3种子, Hard难度)
# 
# 用途: 在运行完整实验前，先验证配置是否正确
# 预计运行时间: 3-4小时 (8 GPUs)
###############################################################################

echo "================================================================================"
echo "实验1: 快速验证 (3种子, Hard难度)"
echo "================================================================================"
echo "配置:"
echo "  - 随机种子: 3个 (42-44)"
echo "  - 难度级别: Hard"
echo "  - 问题数: 100"
echo "  - 总运行次数: 3"
echo "  - GPU: 8张 (0-7)"
echo "================================================================================"
echo "开始时间: $(date)"
echo ""

export CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7
export PYTHONUNBUFFERED=1

cd /data/user/huangxiaolin/ARGO2/ARGO

python -u Exp1_multi_seed_wrapper.py \
    --n-seeds 3 \
    --base-seed 42 \
    --n-questions 100 \
    --difficulties hard \
    --gpus 0,1,2,3,4,5,6,7

if [ $? -ne 0 ]; then
    echo ""
    echo "❌ 验证失败!"
    exit 1
fi

echo ""
echo "================================================================================"
echo "✓ 快速验证完成!"
echo "================================================================================"
echo "结束时间: $(date)"
echo ""
echo "验证成功! 可以运行完整实验:"
echo "  bash run_exp1_full_optimized.sh"
echo ""
echo "或者先分析当前结果:"
echo "  python Exp1_aggregate_and_analyze.py"
echo "================================================================================"
