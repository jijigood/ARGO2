#!/bin/bash
# 实验1 - 完整运行指南
# =====================================

echo "========================================"
echo "  实验1: 检索成本影响 - 完整运行指南"
echo "========================================"
echo ""

cat << 'EOF'
📋 修正版本 (v2) 主要改进:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✅ 1. 添加Random策略 (现在有4个策略)
✅ 2. 基线策略使用动态θ* (而非硬编码0.9)
✅ 3. 支持小规模测试/大规模实验切换
✅ 4. 图表命名符合实验设计文档
✅ 5. 完整的命令行参数支持
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🚀 快速开始 (3步):
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Step 1: 检查依赖
────────────────────────────────────────────────
  python check_dependencies.py

Step 2: 小规模测试 (推荐先运行)
────────────────────────────────────────────────
  bash test_exp1.sh
  
  • 问题数量: 50题
  • c_r采样点: 5个
  • 预计时间: 10-30分钟
  • 目的: 验证脚本能否正常运行

Step 3: 完整实验 (测试通过后再运行)
────────────────────────────────────────────────
  bash run_exp1_full.sh
  
  • 问题数量: ~12K题
  • c_r采样点: 10个
  • 预计时间: 8-24小时
  • 目的: 获得正式的实验结果

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 预期结果验证:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Graph 1.A (Accuracy vs. c_r):
  ✓ ARGO: 高且稳定 (~80-85%)
  ✓ Always-Retrieve: 平坦 (~85%)
  ✓ Always-Reason: 平坦但低 (~60-70%)
  ✓ Random: 平坦 (~70-75%)

Graph 1.B (Retrievals vs. c_r):
  ✓ ARGO: 随c_r增加而下降 ⬇️ (关键!)
  ✓ Always-Retrieve: 平坦且高 (~15-20次)
  ✓ Random: 平坦 (~7-10次)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📁 输出文件位置:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

数据文件:
  draw_figs/data/exp1_real_cost_impact_small_*.json
  draw_figs/data/exp1_real_cost_impact_full_*.json

图表文件:
  figs/exp1_graph1A_cost_vs_accuracy_*.png
  figs/exp1_graph1B_cost_vs_retrievals_*.png
  figs/exp1_supplementary_cost_vs_total_*.png

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📚 更多信息:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  • 详细文档: cat README_Exp1_v2.md
  • 版本对比: cat COMPARISON_v1_v2.md
  • 命令行帮助: python Exp_real_cost_impact_v2.py --help

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
EOF

echo ""
echo "准备开始了吗? 输入命令运行:"
echo "  python check_dependencies.py   # 先检查依赖"
echo ""
