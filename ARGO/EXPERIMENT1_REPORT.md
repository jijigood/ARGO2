# Experiment 1: Impact of Retrieval Cost ($c_r$) on Performance

## å®éªŒæ¦‚è¿°

**å®éªŒç›®æ ‡**: è¯æ˜ARGOæ˜¯å”¯ä¸€èƒ½å¤Ÿ**æ™ºèƒ½é€‚åº”**ä¸æ–­ä¸Šå‡çš„æ“ä½œæˆæœ¬(å¦‚APIè´¹ç”¨ã€å»¶è¿Ÿæƒ©ç½š)çš„ç­–ç•¥,è€Œé™æ€ç­–ç•¥æ•ˆç‡ä½ä¸‹ã€‚

**å®éªŒæ—¥æœŸ**: 2025-10-29

## å®éªŒè®¾ç½®

### å›ºå®šå‚æ•°
- **æµ‹è¯•é›†**: ORAN-Bench-13K (100é“ä¸­ç­‰éš¾åº¦é—®é¢˜, seed=42)
- **MDPç¯å¢ƒå‚æ•°**:
  - $\delta_r$ = 0.25 (æ£€ç´¢æ—¶Uçš„å¢é‡)
  - $\delta_p$ = 0.08 (æ¨ç†æ—¶Uçš„å¢é‡)  
  - $p_s$ = 0.8 (æ£€ç´¢æˆåŠŸç‡)
- **å…¶ä»–MDPå‚æ•°**:
  - $c_p$ = 0.02 (æ¨ç†æˆæœ¬)
  - $\mu$ = 0.6 (è´¨é‡å‚æ•°)
  - $\gamma$ = 0.98 (æŠ˜æ‰£å› å­)

### è‡ªå˜é‡
- **æ£€ç´¢æˆæœ¬ ($c_r$)**: ä» $c_p$ æ‰«æåˆ° $10 \times c_p$
- æµ‹è¯•äº†10ä¸ªä¸åŒçš„ $c_r$ å€¼: [0.02, 0.04, 0.06, 0.08, 0.10, 0.12, 0.14, 0.16, 0.18, 0.20]

### è¯„ä¼°ç­–ç•¥
1. **ARGO**: MDPå¼•å¯¼çš„è‡ªé€‚åº”ç­–ç•¥(å¯¹æ¯ä¸ª$c_r$é‡æ–°æ±‚è§£MDP)
2. **Always-Retrieve**: é™æ€ç­–ç•¥,å§‹ç»ˆæ‰§è¡Œæ£€ç´¢
3. **Always-Reason**: é™æ€ç­–ç•¥,ä»ä¸æ£€ç´¢
4. **Random**: éšæœºç­–ç•¥(50%æ£€ç´¢,50%æ¨ç†)

## å®éªŒæ­¥éª¤

å¯¹äºæ¯ä¸ª $c_r$ å€¼:
1. **é‡æ–°æ±‚è§£MDP**: è¿è¡ŒValue Iterationç®—æ³•,è·å–æ–°çš„æœ€ä¼˜é˜ˆå€¼ $\Theta^*$ å’Œ $\Theta_{cont}$
2. **è¯„ä¼°æ‰€æœ‰ç­–ç•¥**: åœ¨æ•´ä¸ªæµ‹è¯•é›†ä¸Šè¿è¡Œ4ç§ç­–ç•¥
3. **è®°å½•æŒ‡æ ‡**: å¹³å‡ç­”æ¡ˆè´¨é‡ $E[Q(O)]$ å’Œå¹³å‡æ£€ç´¢æ¬¡æ•° $E[R_T]$

## å®éªŒç»“æœ

### å…³é”®å‘ç°

#### 1. ARGOçš„è‡ªé€‚åº”è¡Œä¸º
- **é˜ˆå€¼æ¼”åŒ–**: 
  - å½“ $c_r = c_p$ æ—¶: $\Theta_{cont} = 0.92$, ARGOæ‰§è¡Œå¤§é‡æ£€ç´¢(5.1æ¬¡)
  - å½“ $c_r = 2 \times c_p$ æ—¶: $\Theta_{cont} = 0.14$, æ£€ç´¢æ¬¡æ•°é™è‡³1.3æ¬¡
  - å½“ $c_r \geq 4 \times c_p$ æ—¶: $\Theta_{cont} = 0.0$, **å®Œå…¨åœæ­¢æ£€ç´¢**

- **è´¨é‡ä¿æŒ**: å°½ç®¡å¤§å¹…å‡å°‘æ£€ç´¢,ARGOä»ä¿æŒ $Q = 1.0$ çš„é«˜è´¨é‡

#### 2. åŸºçº¿ç­–ç•¥çš„é™æ€è¡Œä¸º
- **Always-Retrieve**: 
  - æ£€ç´¢æ¬¡æ•°æ’å®šåœ¨5.1æ¬¡(ä¸æˆæœ¬æ— å…³)
  - è´¨é‡ $Q = 1.0$,ä½†æˆæœ¬éš $c_r$ çº¿æ€§å¢é•¿

- **Always-Reason**:
  - æ£€ç´¢æ¬¡æ•°æ’å®šä¸º0(ä»ä¸æ£€ç´¢)
  - è´¨é‡è¾ƒä½ $Q = 0.96$,æ— æ³•åˆ©ç”¨å¤–éƒ¨çŸ¥è¯†

- **Random**:
  - æ£€ç´¢æ¬¡æ•°æ’å®šåœ¨3.7æ¬¡å·¦å³
  - è´¨é‡ $Q \approx 0.97$,ä»‹äºä¸¤è€…ä¹‹é—´ä½†ä¸å¤Ÿä¼˜åŒ–

### å›¾è¡¨è§£è¯»

#### Figure 1: Retrieval Cost vs. Answer Quality
**æ–‡ä»¶**: `figs/exp1_cost_vs_quality.png`

**é¢„æœŸè¶‹åŠ¿**:
- **ARGO** (è“è‰²å®çº¿): è´¨é‡é«˜ä¸”ç¨³å®š,éšç€ $c_r$ æé«˜å¯èƒ½ç•¥å¾®ä¸‹é™
- **Always-Retrieve** (ç´«è‰²è™šçº¿): è´¨é‡æ’å®š(é«˜)ä½†ä¸è€ƒè™‘æˆæœ¬
- **Always-Reason** (æ©™è‰²è™šçº¿): è´¨é‡æ’å®š(è¾ƒä½)
- **Random** (çº¢è‰²ç‚¹çº¿): è´¨é‡æ’å®š(ä¸­ç­‰)

**å®é™…ç»“æœ**: 
- ARGOå’ŒAlways-Retrieveéƒ½ä¿æŒäº† $Q=1.0$ çš„è´¨é‡
- Always-Reasonè´¨é‡ä¸º0.96,ç•¥ä½
- æ‰€æœ‰ç­–ç•¥è´¨é‡åŸºæœ¬ä¸å˜(å› ä¸ºä»¿çœŸæ¨¡å‹ç®€åŒ–)

#### Figure 2: Retrieval Cost vs. Retrieval Calls
**æ–‡ä»¶**: `figs/exp1_cost_vs_retrievals.png`

**é¢„æœŸè¶‹åŠ¿**:
- **ARGO** (è“è‰²å®çº¿): **æ€¥å‰§ä¸‹é™**,å±•ç¤ºæˆæœ¬æ•æ„Ÿçš„è‡ªé€‚åº”
- **All Baselines** (å…¶ä»–çº¿): **å¹³å¦**,ä¸éšæˆæœ¬å˜åŒ–

**å®é™…ç»“æœ**: âœ… **å®Œå…¨ç¬¦åˆé¢„æœŸ!**
- ARGO: ä»5.1æ¬¡æ£€ç´¢ä¸‹é™åˆ°0æ¬¡(å½“ $c_r \geq 4c_p$ æ—¶)
- Always-Retrieve: æ’å®š5.1æ¬¡
- Always-Reason: æ’å®š0æ¬¡
- Random: æ’å®š3.7æ¬¡

#### Supplementary Figure: Threshold Evolution
**æ–‡ä»¶**: `figs/exp1_threshold_evolution.png`

å±•ç¤ºARGOçš„é˜ˆå€¼å¦‚ä½•éš $c_r$ å˜åŒ–:
- $\Theta_{cont}$ (è“è‰²): ä»0.92å¿«é€Ÿä¸‹é™åˆ°0
- $\Theta^*$ (ç´«è‰²): ä¿æŒåœ¨1.0(ç»ˆæ­¢é˜ˆå€¼ä¸å˜)

## å®éªŒéªŒè¯

### âœ… æˆåŠŸéªŒè¯çš„å‡è®¾

1. **ARGOçš„æ™ºèƒ½é€‚åº”æ€§**: 
   - âœ… ARGOæ ¹æ®æˆæœ¬è°ƒæ•´ç­–ç•¥(æ£€ç´¢æ¬¡æ•°ä»5.1â†’0)
   - âœ… é˜ˆå€¼ $\Theta_{cont}$ éšæˆæœ¬æ˜¾è‘—å˜åŒ–

2. **åŸºçº¿ç­–ç•¥çš„é™æ€æ€§**:
   - âœ… Always-Retrieve: æ£€ç´¢æ¬¡æ•°ä¸å˜
   - âœ… Always-Reason: æ£€ç´¢æ¬¡æ•°ä¸å˜(0)
   - âœ… Random: æ£€ç´¢æ¬¡æ•°ä¸å˜

3. **æˆæœ¬æ•ˆç‡**:
   - âœ… å½“ $c_r$ å¾ˆé«˜æ—¶,ARGOå­¦ä¼š"æ¨ç†"è€Œé"æ£€ç´¢"
   - âœ… ARGOåœ¨é«˜æˆæœ¬ä¸‹ä»ä¿æŒè´¨é‡(ä»æ£€ç´¢åˆ‡æ¢åˆ°æ¨ç†)

### ğŸ“Š æ•°æ®æ–‡ä»¶

ç»“æœå·²ä¿å­˜è‡³:
- **åŸå§‹æ•°æ®**: `draw_figs/data/exp1_retrieval_cost_impact_20251029_003418.json`
- **å›¾è¡¨**: `figs/exp1_*.png`

## ç»“è®º

**å®éªŒæˆåŠŸè¯æ˜**: 

1. **ARGOæ˜¯å”¯ä¸€å…·æœ‰æˆæœ¬è‡ªé€‚åº”èƒ½åŠ›çš„ç­–ç•¥**
   - å½“æ£€ç´¢æˆæœ¬ä½æ—¶,å……åˆ†åˆ©ç”¨æ£€ç´¢($c_r = c_p$: 5.1æ¬¡æ£€ç´¢)
   - å½“æ£€ç´¢æˆæœ¬é«˜æ—¶,åˆ‡æ¢åˆ°æ¨ç†($c_r \geq 4c_p$: 0æ¬¡æ£€ç´¢)
   
2. **é™æ€ç­–ç•¥æ— æ³•é€‚åº”æˆæœ¬å˜åŒ–**
   - Always-Retrieveä¼šäº§ç”Ÿä¸å¿…è¦çš„é«˜æˆæœ¬
   - Always-Reasonæ— æ³•åˆ©ç”¨å¤–éƒ¨çŸ¥è¯†
   - Randomæ•ˆç‡ä½ä¸‹

3. **MDPæ±‚è§£å™¨å·¥ä½œæ­£å¸¸**
   - é˜ˆå€¼å˜åŒ–ç¬¦åˆç†è®ºé¢„æœŸ
   - Value Iterationèƒ½å¤Ÿæ‰¾åˆ°æˆæœ¬æ•æ„Ÿçš„æœ€ä¼˜ç­–ç•¥

## è®ºæ–‡è´¡çŒ®

è¯¥å®éªŒæ”¯æŒè®ºæ–‡ä¸­å…³äºARGOä¼˜åŠ¿çš„æ ¸å¿ƒè®ºç‚¹:

> "Unlike static retrieval strategies that perform a fixed number of retrievals regardless of cost, ARGO intelligently adapts its retrieval policy based on the operational cost landscape, achieving the same answer quality with significantly fewer retrievals when costs are high."

**å¼•ç”¨å»ºè®®**:
- Figure 1å¯ç”¨äºè¯´æ˜è´¨é‡ä¿æŒ
- **Figure 2æ˜¯æ ¸å¿ƒè´¡çŒ®å›¾**,æ¸…æ™°å±•ç¤ºARGOçš„è‡ªé€‚åº”æ€§
- Supplementary Figureè¯´æ˜MDPæ±‚è§£å™¨å¦‚ä½•è°ƒæ•´ç­–ç•¥

## ä¸‹ä¸€æ­¥

å»ºè®®çš„åç»­å®éªŒ:
1. **Experiment 2**: æ£€ç´¢æˆåŠŸç‡ ($p_s$) çš„å½±å“
2. **Experiment 3**: ä¸åŒè´¨é‡å‡½æ•°çš„å½±å“
3. **Experiment 4**: åœ¨çœŸå®LLMä¸ŠéªŒè¯(éä»¿çœŸ)
4. **Experiment 5**: å¤šç§éš¾åº¦çº§åˆ«çš„å¯¹æ¯”

---

**ç”Ÿæˆæ—¶é—´**: 2025-10-29 00:34:18
**å®éªŒè„šæœ¬**: `Exp_retrieval_cost_impact.py`
**é…ç½®æ–‡ä»¶**: `configs/multi_gpu.yaml`
