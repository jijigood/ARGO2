O-RAN.WG4.CUS.0-v07.00
Technical Specification 
O-RAN Fronthaul Working Group
Control, User and Synchronization Plane Specification 
This is a re-published version of the attached final specification. 
For this re-published version, the prior versions of the IPR Policy will apply, except that the previous 
requirement for Adopters (as defined in the earlier IPR Policy) to agree to an O-RAN Adopter License 
Agreement to access and use Final Specifications shall no longer apply or be required for these Final 
Specifications after 1st July 2022.
The copying or incorporation into any other work of part or all of the material available in this 
specification in any form without the prior written permission of O-RAN ALLIANCE e.V.  is prohibited, 
save that you may print or download extracts of the material on this site for your personal use, or copy 
the material on this site for the purpose of sending to individual third parties for their information 
provided that you acknowledge O-RAN ALLIANCE as the source of the material and that you inform the 
third party that these conditions apply to them and that they must comply with them.

 
 
                                O-RAN.WG4.CUS.0-v07.00 
Technical Specification 
 
O-RAN Fronthaul Working Group  
 
Control, User and Synchronization Plane Specification 
 
 
  
 
Copyright © 2021 by O-RAN ALLIANCE e.V. 
By using, accessing or downloading any part of this O-RAN specification document, including by copying, saving, distributing, 
displaying or preparing derivatives of, you agree to be and  are bound to the terms of the O -RAN Adopter License Agreement 
contained in the Annex ZZZ of this specification. All other rights reserved. 
O-RAN ALLIANCE e.V. 
Buschkauler Weg 27, 53347 Alfter, Germany 
Register of Associations, Bonn VR 11238 
VAT ID DE321720189 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.           1 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      2 
O-RAN.WG4.CUS.0-v07.00 
Revision History 1 
Date Revision Description 
2021.07.11 07.00 Included review comments 147-153; accept all changes and formatting as needed. 
Documnet ready for WG4 approval. 
2021.07.02 06.00.03 Included review comments 3-146. 
2021.06.28 06.00.02 Updated doc version and this table (review comment #2). Included review comment 1; 
included CRs: NOK-0063, QCM-0012. 
2021.06.25 06.00.01 Updated doc version and this table (review comment #0). Added CRs: ADI-0001, MAV-
0018, MAV-0019, ERI-0020, QCM-0007, INT-0012, DCM-0011, SAM-0049, SAM-
0050, NOK-0060, NOK-0064, NOK-0062, NOK-0071, QCM-0008, NOK-0069, INT-
0010, INT-0011, CAL-001, ALS-0002, NOK-0070, QCM-0011, SAM-0053, SAM-
0054, SAM-0058, ETR-0013, MAV-0023, ERI-0031. 
2021.03.11 06.00 Included review comments 19-62; accept all changes and formatting as needed. 
Documnet ready for WG4 approval. 
2021.03.01 05.00.03 Updated doc version and this table (review comment #29). Included CRs: ERI-0016. 
2021.02.26 05.00.02 Updated doc version and this table (review comment #18). Included CRs: KEY-0012, 
ERI-0018, ERI-0017, QCM-0006, MAV-0016, SAM-0044, SAM-0046, DCM-0010, 
NOK-0053, NOK-0056. 
2021.02.19 05.00.01 Updated doc version and this table (review comment #0). Included review comment 1-
14; included CRs: NOK-0048, NOK-0049, NOK-0054, MAV-0015, ERI-0014, ERI-
0015, QCM-0005, INT-0008, SAM-0045 
2020.11.12 05.00 Included review comments 4-122; accept all changes and formatting as needed. 
Documnet ready for WG4 approval.  
2020.10.29 04.00.03 Updated doc version and this table. Added CRs: NOK-0047, ALS-0001, QCM-0003, 
DCM-0005, DCM-0008, CUC-0001, NEC-0005, MAV-0014. 
2020.10.23 04.00.02 Updated doc version and this table (comment #0), included CRs: NOK-0042, SAM-
0035, SAM-0036, SAM-0037, SAM-0039, ERI-0012, KEY-0002, CIS-0018. 
2020.10.15 04.00.01 Updated doc version and this table (comment #0), included CRs: NOK-0034, NOK-
0038, MAV-0009, NOK-0041, NOK-0046, QCM-0002, fixed some grammatical errors. 
2020.07.16 04.00 Updated this table including review comments 56-77; accept all changes and update 
table of contents as needed; review is complete.  Review comments 78-108, all 
typographical or formatting corrections, were received after the vote to approve was 
started and then approved for inclusion by WG4. 
2020.07.03 03.00.03 Updated this table including CRs NOK-0025, NOK-0032, NOK-0036, MAV-0006, 
MAV-0007, SAM-0024, ERI-0011 & INT-0006. Also included review comments 6-55. 
2020.06.26 03.00.02 Updated doc version and this table (comment #1), including CRs PIC-0003, NOK-0033, 
NOK-0035 and ERI-0010.  Also included review comments 2-5 (all that were received). 
2020.06.19 03.00.01 Updated doc version and this table (comment #1), included CRs: PIC-0001, KEY-0002, 
ATT-0001, INT-0005, QCM-0001, NOK-0027, NOK-0028, NOK-0031. 
2020.03.13 03.00 Update from comments #43 - #55, accept all changes and fix figure and table numbering 
and table of contents as needed. 
2020.03.10 02.00.04 Updated using the following CRs: NOK-0021, MAV-0005, ERI-0009, SAM-0016, 
SAM-020, SAM-0021, SAM-0022 plus all comments from the comment sheet up to 
comment #42 
2020.02.28 02.00.03 Updated using the following CRs: ERI-0007, COM-0001, COM-0002 and SAM-0014 … 
as well as comments from the comment review sheet. 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      3 
O-RAN.WG4.CUS.0-v07.00 
Date Revision Description 
2020.02.21 02.00.02 Updated using the following CRs: DCM-0002, DCM-0003, NOK-0020, NOK-0026, 
NOK-0029, ERI-0004, ETR-0006, SAM-0012, SAM-0013 and two comments received 
from Ericsson. 
2020.02.14 02.00.01 Updated using the following CRs: NOK-0014, NOK-0017, NOK-0018, NOK-0019, 
NOK-0023, NOK-0024, INT-0002, INT-0003, INT-0004, MAV-0001, MAV-0002, 
MAV-0003, MAV-0004, ERI-0003, ERI-0006, ETR-0001, ETR-0002, ETR-0003 and 
MCS-0001, as well as made minor grammatical corrections. 
2019.08.02 02.00 Updated with CR FJT-0001 and NOK-0015 and NOK-0016 and comments #31 - #34 
which are the final comments; updated version to v02.00 and created “tc” and clean 
versions for WG4 approval. 
2019.06.27 01.00.04 Updated with comments #22 - #30 in the review comment sheet as well as based on 
discussions at the June 27 meeting.  Most changes are related to mandatory/optional 
statements and conditions, and in 3.1.3.1.6 regarding endpoint use. 
2019.06.20 01.00.03 Updated with changes from Tokyo F2F meeting (see comment sheet), as well as NEC-
0003. 
2019.06.10 01.00.02 Accomodates review comments against v01.00.01. 
2019.06.02 01.00.01 Updated with NOK-0006, NOK-0007, NOK-0008, NOK-0009, NOK-0010, NOK-0011, 
NOK-0012, NOK-0013, ERI-0001, ERI-0002, INT-0001, SAM-0003, SAM-0004, CAB-
0001, CAB-0002 and CAB-0003, which include WI non-ideal fronthaul and several 
mandatory / optional modifications, as well as adding Section Extension =6 and =7. 
2019.03.11 01.00 Final version 01.00 
 1 
  2 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      4 
O-RAN.WG4.CUS.0-v07.00 
Contents 1 
Revision History ................................ ................................ ................................ ................................ ........... 2 2 
Chapter 1 Introductory Material ................................ ................................ ................................ ..................  13 3 
1.1 Scope ................................ ................................ ................................ ................................ .........................  13 4 
1.2 References ................................ ................................ ................................ ................................ .................  13 5 
1.2.1 Synchronization-specific Reference Documents ................................ ................................ ....................  14 6 
1.3 Definitions and Abbreviations and Conventions ................................ ................................ ..........................  15 7 
1.3.1 Definitions ................................ ................................ ................................ ................................ ............  15 8 
1.3.2 Abbreviations ................................ ................................ ................................ ................................ ....... 17 9 
1.3.3 Document Conventions ................................ ................................ ................................ .........................  17 10 
1.3.3.1 Fields and Bitmasks in Messages ................................ ................................ ................................ ..... 17 11 
Chapter 2 Architecture & Requirements ................................ ................................ ................................ ...... 19 12 
2.1 Functional Split ................................ ................................ ................................ ................................ .......... 19 13 
2.1.1 Selected Split 7-2x (DL) ................................ ................................ ................................ .......................  20 14 
2.1.2 Selected Split 7-2x (UL) ................................ ................................ ................................ .......................  23 15 
2.2 Data Flows ................................ ................................ ................................ ................................ .................  24 16 
2.3 Latency Requirements ................................ ................................ ................................ ................................  25 17 
2.3.1 Timing Parameter Relationships ................................ ................................ ................................ ............  27 18 
2.3.1.1 O-DU Transmission Window ................................ ................................ ................................ .......... 27 19 
2.3.2 U-Plane/ C-Plane Timing ................................ ................................ ................................ ......................  28 20 
2.3.3 Computed Latency Methods................................ ................................ ................................ ..................  34 21 
2.3.3.1 Fronthaul Timing Domain ................................ ................................ ................................ ...............  35 22 
2.3.3.2 Defined Transport Method ................................ ................................ ................................ ...............  36 23 
2.3.3.3 Measured Transport Method ................................ ................................ ................................ ............  37 24 
2.3.4 Latency Categories for O-DU with dynamic timing advance ................................ ................................ .. 40 25 
2.3.5 Latency Categories for O-DU with fixed timing advance ................................ ................................ ....... 42 26 
2.3.6 Non-Delay Managed U-Plane Traffic ................................ ................................ ................................ .... 43 27 
2.4  Reception Window Monitoring................................ ................................ ................................ ..................  44 28 
2.5  Transmission windows ................................ ................................ ................................ ...............................  45 29 
2.5.1 Normal Transmission ................................ ................................ ................................ ............................  45 30 
2.5.2  Uniformly Distributed Transmission ................................ ................................ ................................ .... 45 31 
2.5.2.1 Overlapping transmission windows ................................ ................................ ................................ .. 45 32 
2.5.3 Ordered Transmission ................................ ................................ ................................ ...........................  45 33 
2.5.4 Scheduled Transmission................................ ................................ ................................ ........................  46 34 
2.6  O-RU External Antenna Delay Handling ................................ ................................ ................................ .... 47 35 
2.6.1 Minimal O-DU Impact Method (Defined Transport Method) ................................ ................................ . 47 36 
2.6.1.1 Minimal O-DU Impact Method - Example ................................ ................................ .......................  48 37 
Chapter 3 Transport & Protocol Architecture ................................ ................................ ..............................  52 38 
3.1 Transport Encapsulation Types ................................ ................................ ................................ ...................  52 39 
3.1.1 Ethernet Encapsulation ................................ ................................ ................................ .........................  52 40 
3.1.2 IP/UDP Encapsulation ................................ ................................ ................................ ..........................  52 41 
3.1.3 Transport Headers................................ ................................ ................................ ................................ . 53 42 
3.1.3.1 eCPRI Transport Header ................................ ................................ ................................ ..................  53 43 
3.1.3.1.1 ecpriVersion (eCPRI protocol revision) ................................ ................................ ......................  54 44 
3.1.3.1.2 ecpriReserved (eCPRI reserved) ................................ ................................ ................................ . 54 45 
3.1.3.1.3 ecpriConcatenation (eCPRI concatenation indicator)................................ ................................ ... 54 46 
3.1.3.1.4 ecpriMessage (eCPRI message type) ................................ ................................ ..........................  54 47 
3.1.3.1.5 ecpriPayload (eCPRI payload size) ................................ ................................ .............................  54 48 
3.1.3.1.6 ecpriRtcid / ecpriPcid (real time control data / IQ data transfer message series identifier) ............  55 49 
3.1.3.1.7 ecpriSeqid (message identifier)................................ ................................ ................................ ... 56 50 
3.1.3.2 1914.3 Transport Header ................................ ................................ ................................ .................  59 51 
3.1.3.2.1 RoEsubType (sub type / message type) ................................ ................................ .......................  59 52 
3.1.3.2.2 RoEflowID (flow identifier) ................................ ................................ ................................ ....... 60 53 
3.1.3.2.3 RoElength (length) ................................ ................................ ................................ .....................  60 54 
3.1.3.2.4 RoEorderInfo (order information)................................ ................................ ...............................  60 55 
3.2 Protocol Architecture ................................ ................................ ................................ ................................ . 61 56 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      5 
O-RAN.WG4.CUS.0-v07.00 
3.2.1 C-plane ................................ ................................ ................................ ................................ .................  61 1 
3.2.2 U-plane ................................ ................................ ................................ ................................ ................  61 2 
3.2.3 S-plane ................................ ................................ ................................ ................................ .................  61 3 
3.3 Quality of Service ................................ ................................ ................................ ................................ ...... 61 4 
3.4 Data Flow Identification ................................ ................................ ................................ .............................  62 5 
3.5 Fragmentation ................................ ................................ ................................ ................................ ............  63 6 
3.5.1 Application layer fragmentation ................................ ................................ ................................ ............  63 7 
3.5.2 Radio Transport layer (eCPRI or IEEE-1914.3) fragmentation ................................ ...............................  63 8 
3.5.3 Fragmentation Guideline ................................ ................................ ................................ .......................  64 9 
Chapter 4 Security ................................ ................................ ................................ ................................ ...... 65 10 
Chapter 5 C-plane Protocol ................................ ................................ ................................ .........................  66 11 
5.1 General ................................ ................................ ................................ ................................ ......................  66 12 
5.2 Function................................ ................................ ................................ ................................ .....................  66 13 
5.2.1 C-Plane Transport ................................ ................................ ................................ ................................ . 66 14 
5.3 Elementary Procedures ................................ ................................ ................................ ...............................  66 15 
5.3.1 Scheduling and Beamforming Commands Transfer procedure ................................ ...............................  66 16 
5.3.2 Mixed Numerology and PRACH Handling ................................ ................................ ............................  67 17 
5.3.3 DL Precoding configuration parameters and indications ................................ ................................ ........ 72 18 
5.3.4 LAA Commands Transfer procedure ................................ ................................ ................................ ..... 74 19 
5.3.4.1 LBT procedure overview ................................ ................................ ................................ .................  74 20 
5.3.4.2 Definitions ................................ ................................ ................................ ................................ ...... 75 21 
5.3.4.3 General Guidelines for the LAA-procedure ................................ ................................ ......................  76 22 
5.3.4.3.1 PDSCH Transmission ................................ ................................ ................................ ................  76 23 
5.3.4.3.2 DRS Transmission ................................ ................................ ................................ .....................  76 24 
5.3.4.3.3 Congestion Window Information Transmission ................................ ................................ .......... 77 25 
5.3.5 Symbol Numbering and Duration ................................ ................................ ................................ .......... 77 26 
5.3.6 Dynamic Spectrum Sharing (DSS) ................................ ................................ ................................ ........ 77 27 
5.3.6.1 Dynamic Spectrum Sharing (DSS) via Dedicated Endpoints ................................ .............................  77 28 
5.3.6.2 Dynamic Spectrum Sharing (DSS) via Section Extension =9 for DSS ................................ ...............  78 29 
5.3.7 Channel Information based Beamforming ................................ ................................ .............................  78 30 
5.4 Elements for the C-plane Protocol ................................ ................................ ................................ ..............  78 31 
5.4.1 General ................................ ................................ ................................ ................................ .................  78 32 
5.4.1.1 Section Extensions ................................ ................................ ................................ ..........................  79 33 
5.4.1.2 Coupling of C-Plane and U-Plane ................................ ................................ ................................ .... 79 34 
5.4.1.2.1 Coupling via sectionId Value ................................ ................................ ................................ ..... 79 35 
5.4.1.2.2 Coupling via Frequency and Time ................................ ................................ ..............................  80 36 
5.4.1.2.3 Coupling via Frequency and Time with Priorities ................................ ................................ ....... 80 37 
5.4.1.2.4 Coupling via Frequency and Time with Priorities (Optimized) ................................ ....................  81 38 
5.4.2 Scheduling and Beamforming Commands ................................ ................................ .............................  81 39 
5.4.3 Coding of Information Elements – Transport Layer ................................ ................................ ...............  92 40 
5.4.4 Coding of Information Elements – Application Layer, Common ................................ ............................  92 41 
5.4.4.1 dataDirection (data direction (gNB Tx/Rx)) ................................ ................................ .....................  92 42 
5.4.4.2 payloadVersion (payload version) ................................ ................................ ................................ .... 92 43 
5.4.4.3 filterIndex (filter index) ................................ ................................ ................................ ...................  93 44 
5.4.4.4 frameId (frame identifier) ................................ ................................ ................................ ................  93 45 
5.4.4.5 subframeId (subframe identifier) ................................ ................................ ................................ ...... 94 46 
5.4.4.6 slotId (slot identifier) ................................ ................................ ................................ .......................  94 47 
5.4.4.7 startSymbolid (start symbol identifier) ................................ ................................ .............................  94 48 
5.4.4.8 numberOfsections (number of sections) ................................ ................................ ...........................  94 49 
5.4.4.9 sectionType (section type) ................................ ................................ ................................ ...............  94 50 
5.4.4.10 udCompHdr (user data compression header) ................................ ................................ ....................  94 51 
5.4.4.11 numberOfUEs (number Of UEs) ................................ ................................ ................................ ...... 95 52 
5.4.4.12 timeOffset (time offset) ................................ ................................ ................................ ...................  95 53 
5.4.4.13 frameStructure (frame structure) ................................ ................................ ................................ ...... 95 54 
5.4.4.14 cpLength (cyclic prefix length) ................................ ................................ ................................ ........ 96 55 
5.4.5 Coding of Information Elements – Application Layer, Sections ................................ .............................  97 56 
5.4.5.1 sectionId (section identifier) ................................ ................................ ................................ ............  97 57 
5.4.5.2 rb (resource block indicator) ................................ ................................ ................................ ............  97 58 
5.4.5.3 symInc (symbol number increment command) ................................ ................................ .................  97 59 
5.4.5.4 startPrbc (starting PRB of data section description) ................................ ................................ .......... 98 60 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      6 
O-RAN.WG4.CUS.0-v07.00 
5.4.5.5 reMask (resource element mask) ................................ ................................ ................................ ...... 99 1 
5.4.5.6 numPrbc (number of contiguous PRBs per data section description) ................................ .................  99 2 
5.4.5.7 numSymbol (number of symbols) ................................ ................................ ................................ .. 100 3 
5.4.5.8 ef (extension flag)................................ ................................ ................................ ..........................  100 4 
5.4.5.9 beamId (beam identifier) ................................ ................................ ................................ ...............  100 5 
5.4.5.10 ueId (UE identifier) ................................ ................................ ................................ .......................  101 6 
5.4.5.11 freqOffset (frequency offset)................................ ................................ ................................ .......... 101 7 
5.4.5.12 regularizationFactor (regularization Factor) ................................ ................................ ...................  101 8 
5.4.5.13 ciIsample, ciQsample (channel information I and Q values) ................................ ...........................  102 9 
5.4.5.14 laaMsgType (LAA message type) ................................ ................................ ................................ .. 102 10 
5.4.5.15 laaMsgLen (LAA message length) ................................ ................................ ................................ . 102 11 
5.4.5.16 lbtHandle ................................ ................................ ................................ ................................ ...... 102 12 
5.4.5.17 lbtDeferFactor (listen-before-talk defer factor) ................................ ................................ ...............  103 13 
5.4.5.18 lbtBackoffCounter (listen-before-talk backoff counter)................................ ................................ ... 103 14 
5.4.5.19 lbtOffset (listen-before-talk offset) ................................ ................................ ................................ . 103 15 
5.4.5.20 MCOT (maximum channel occupancy time) ................................ ................................ ..................  103 16 
5.4.5.21 lbtMode (LBT Mode) ................................ ................................ ................................ ....................  103 17 
5.4.5.22 lbtPdschRes (LBT PDSCH Result) ................................ ................................ ................................  104 18 
5.4.5.23 sfStatus (subframe status) ................................ ................................ ................................ ..............  104 19 
5.4.5.24 lbtDrsRes (LBT DRS Result)................................ ................................ ................................ ......... 104 20 
5.4.5.25 initialPartialSF (Initial partial SF) ................................ ................................ ................................ .. 104 21 
5.4.5.26 lbtBufErr (LBT Buffer Error) ................................ ................................ ................................ ........ 104 22 
5.4.5.27 sfnSf (SFN/SF End)................................ ................................ ................................ .......................  105 23 
5.4.5.28 lbtCWConfig_H (HARQ Parameters for Congestion Window management) ................................ .. 105 24 
5.4.5.29 lbtCWConfig_T (TB Parameters for Congestion Window management)................................ ......... 105 25 
5.4.5.30 lbtTrafficClass (Traffic class priority for Congestion Window management) ................................ .. 105 26 
5.4.5.31 lbtCWR_Rst (Notification about packet reception successful or not) ................................ ..............  105 27 
5.4.5.32 reserved (reserved for future use) ................................ ................................ ................................ ... 106 28 
5.4.6 Section Extension Commands ................................ ................................ ................................ .............  106 29 
5.4.6.1 extType (extension type) ................................ ................................ ................................ ...............  109 30 
5.4.6.2 ef (extension flag)................................ ................................ ................................ ..........................  109 31 
5.4.6.3 extLen (extension length) ................................ ................................ ................................ ..............  109 32 
5.4.7 Coding of Information Elements – Application Layer, Section Extensions ................................ ...........  109 33 
5.4.7.1 ExtType=1: Beamforming Weights Extension Type ................................ ................................ ....... 109 34 
5.4.7.1.1 bfwCompHdr (beamforming weight compression header) ................................ .........................  110 35 
5.4.7.1.2 bfwCompParam (beamforming weight compression parameter) ................................ ................  110 36 
5.4.7.1.3 bfwI (beamforming weight in-phase value) ................................ ................................ ...............  111 37 
5.4.7.1.4 bfwQ (beamforming weight quadrature value) ................................ ................................ .......... 111 38 
5.4.7.2 ExtType=2: Beamforming Attributes Extension Type ................................ ................................ .... 111 39 
5.4.7.2.1 bfaCompHdr (beamforming attributes compression header) ................................ ......................  112 40 
5.4.7.2.2 bfAzPt (beamforming azimuth pointing parameter)................................ ................................ ... 112 41 
5.4.7.2.3 bfZePt (beamforming zenith pointing parameter) ................................ ................................ ...... 113 42 
5.4.7.2.4 bfAz3dd (beamforming azimuth beamwidth parameter) ................................ ............................  113 43 
5.4.7.2.5 bfZe3dd (beamforming zenith beamwidth parameter) ................................ ...............................  113 44 
5.4.7.2.6 bfAzSl (beamforming azimuth sidelobe parameter)................................ ................................ ... 113 45 
5.4.7.2.7 bfZeSl (beamforming zenith sidelobe parameter) ................................ ................................ ...... 113 46 
5.4.7.2.8 zero-padding ................................ ................................ ................................ ............................  114 47 
5.4.7.3 ExtType=3: DL Precoding Extension Type ................................ ................................ ....................  114 48 
5.4.7.3.1 codebookIndex (precoder codebook used for transmission) ................................ .......................  115 49 
5.4.7.3.2 layerID (Layer ID for DL transmission) ................................ ................................ ....................  115 50 
5.4.7.3.3 txScheme (transmission scheme) ................................ ................................ ..............................  115 51 
5.4.7.3.4 numLayers (number of layers used for DL transmission) ................................ ..........................  115 52 
5.4.7.3.5 crsReMask (CRS resource element mask) ................................ ................................ .................  116 53 
5.4.7.3.6 crsSymNum (CRS symbol number indication) ................................ ................................ .......... 116 54 
5.4.7.3.7 crsShift (crsShift used for DL transmission)................................ ................................ ..............  116 55 
5.4.7.3.8 beamIdAP1 (beam id to be used for antenna port 1) ................................ ................................ .. 116 56 
5.4.7.3.9 beamIdAP2 (beam id to be used for antenna port 2) ................................ ................................ .. 117 57 
5.4.7.3.10 beamIdAP3 (beam id to be used for antenna port 3) ................................ ................................ .. 117 58 
5.4.7.4 ExtType=4: Modulation Compression Parameters Extension Type ................................ .................  117 59 
5.4.7.4.1 csf (constellation shift flag) ................................ ................................ ................................ ...... 117 60 
5.4.7.4.2 modCompScaler (modulation compression scaler value) ................................ ...........................  118 61 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      7 
O-RAN.WG4.CUS.0-v07.00 
5.4.7.5 ExtType=5: Modulation Compression Additional Parameters Extension Type ................................  118 1 
5.4.7.5.1 mcScaleReMask  (modulation compression power scale RE mask) ................................ ...........  119 2 
5.4.7.5.2 csf (constellation shift flag) ................................ ................................ ................................ ...... 120 3 
5.4.7.5.3 mcScaleOffset (scaling value for modulation compression) ................................ .......................  120 4 
5.4.7.6 ExtType=6: Non-contiguous PRB allocation in time and frequency domain ................................ ... 120 5 
5.4.7.6.1 rbgSize (resource block group size) ................................ ................................ ..........................  121 6 
5.4.7.6.2 rbgMask (resource block group bit mask) ................................ ................................ .................  121 7 
5.4.7.6.3 symbolMask (symbol bit mask) ................................ ................................ ................................  122 8 
5.4.7.6.4 priority................................ ................................ ................................ ................................ ..... 123 9 
5.4.7.6.5 repetition (repetition flag)................................ ................................ ................................ ......... 123 10 
5.4.7.7 ExtType=7: eAxC Mask Section Extension ................................ ................................ ....................  123 11 
5.4.7.7.1 eAxCmask (eAxC Mask) ................................ ................................ ................................ ......... 124 12 
5.4.7.8 ExtType=8: Regularization factor ................................ ................................ ................................ .. 124 13 
5.4.7.8.1 regularizationFactor (regularization Factor) ................................ ................................ ..............  124 14 
5.4.7.9 ExtType=9: Dynamic Spectrum Sharing parameters................................ ................................ ....... 125 15 
5.4.7.9.1 technology (interface name) ................................ ................................ ................................ ..... 125 16 
5.4.7.10 ExtType=10: Section description for group configuration of multiple ports ................................ .... 125 17 
5.4.7.10.1 beamGroupType ................................ ................................ ................................ ......................  126 18 
5.4.7.10.2 numPortc ................................ ................................ ................................ ................................ . 126 19 
5.4.7.10.3 Interaction with other Section Extensions ................................ ................................ .................  126 20 
5.4.7.11 ExtType=11: Flexible Beamforming Weights Extension Type................................ ........................  127 21 
5.4.7.11.1 bfwCompHdr (beamforming weight compression header) ................................ .........................  128 22 
5.4.7.11.2 bfwCompParam for PRB bundle x (beamforming weight compression parameter) ....................  128 23 
5.4.7.11.3 numBundPrb (Number of bundled PRBs per beamforming weights) ................................ ......... 128 24 
5.4.7.11.4 bfwI (beamforming weight in-phase value) ................................ ................................ ...............  128 25 
5.4.7.11.5 bfwQ (beamforming weight quadrature value) ................................ ................................ .......... 129 26 
5.4.7.11.6 disableBFWs (disable beamforming weights) ................................ ................................ ...........  129 27 
5.4.7.11.7 RAD (Reset After PRB Discontinuity) ................................ ................................ .....................  129 28 
5.4.7.12 ExtType=12: Non-Contiguous PRB Allocation with Frequency Ranges ................................ ......... 130 29 
5.4.7.12.1 priority (priority of section description) ................................ ................................ ....................  131 30 
5.4.7.12.2 symbolMask (symbol bit mask) ................................ ................................ ................................  131 31 
5.4.7.12.3 offStartPrb(r) (offset of PRB range start) ................................ ................................ ..................  131 32 
5.4.7.12.4 numPrb(r) (number of PRBs in PRB range) ................................ ................................ ..............  131 33 
5.4.7.13 ExtType=13: PRB Allocation with Frequency Hopping ................................ ................................ . 131 34 
5.4.7.13.1 nextSymbolId(n) (offset of PRB range start) ................................ ................................ .............  132 35 
5.4.7.13.2 nextStartPrbc(n) (number of PRBs in PRB range) ................................ ................................ ..... 132 36 
5.4.7.14 ExtType= 14: Nulling-layer Info. for ueId-based beamforming ................................ ......................  133 37 
5.4.7.14.1 nullLayerInd (null layer indication) ................................ ................................ ..........................  133 38 
5.4.7.15 ExtType= 15: Mixed-numerology Info. for ueId-based beamforming ................................ .............  133 39 
5.4.7.15.1 frameSturcture (frame structure) ................................ ................................ ...............................  133 40 
5.4.7.15.2 freqOffset (frequency offset) ................................ ................................ ................................ .... 133 41 
5.4.7.15.3 cpLength (cyclic prefix length) ................................ ................................ ................................ . 134 42 
5.4.7.16 ExtType=16: Section description for antenna mapping in UE channel information based UL 43 
beamforming ................................ ................................ ................................ ................................ . 134 44 
5.4.7.16.1 antMask ................................ ................................ ................................ ................................ ... 134 45 
5.4.7.17 ExtType= 17: Section description for indication of user port group ................................ .................  134 46 
5.4.7.17.1 numUeID ................................ ................................ ................................ ................................ . 135 47 
5.4.7.18  ExtType=18: Section description for Uplink Transmission Management ................................ ........ 135 48 
5.4.7.18.1 transmissionWindowOffset ................................ ................................ ................................ ...... 135 49 
5.4.7.18.2 transmissionWindowSize ................................ ................................ ................................ ......... 136 50 
5.4.7.18.3 Type of Transmission (toT) ................................ ................................ ................................ ...... 136 51 
5.4.7.18.4 Interaction with other Section Extensions ................................ ................................ .................  136 52 
5.4.7.19 ExtType=19: Section Compact multiple port beamforming information................................ .......... 137 53 
5.4.7.19.1  disableBFWs (disable beamforming weights) ................................ ................................ .......... 138 54 
5.4.7.19.2  repetition (repeat port info flag) ................................ ................................ ...............................  138 55 
5.4.7.19.3  numPortc ................................ ................................ ................................ ................................  138 56 
5.4.7.19.4  priority (priority of section description) ................................ ................................ ...................  138 57 
5.4.7.19.5  symbolMask (resource symbol bitmask) ................................ ................................ ..................  139 58 
5.4.7.19.6  bfwCompHdr ................................ ................................ ................................ ..........................  139 59 
5.4.7.19.7  portReMask (RE bitmask per port) ................................ ................................ ..........................  139 60 
5.4.7.19.8  portSymbolMask (symbol bitmask per port) ................................ ................................ ............  139 61 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      8 
O-RAN.WG4.CUS.0-v07.00 
5.4.7.19.9  bfwCompParam (beamforming weight compression parameter) ................................ ...............  139 1 
5.4.7.19.10  beamId (beam identifier for a port) ................................ ................................ ..........................  139 2 
5.4.7.19.11  bfwI (beamforming weight in-phase value) ................................ ................................ ...............  140 3 
5.4.7.19.12  bfwQ (beamforming weight quadrature-phase value) ................................ ...............................  140 4 
5.4.7.19.13  Interaction with Other Section Extensions ................................ ................................ ...............  140 5 
5.4.7.20 ExtType=20: Puncturing Extension ................................ ................................ ................................  141 6 
5.4.7.20.1 numPuncPatterns (number of puncturing pattern) ................................ ................................ ..... 142 7 
5.4.7.20.2 symbolMask (puncturing pattern symbol mask) ................................ ................................ ........ 142 8 
5.4.7.20.3 startPuncPrb (starting PRB to which one puncturing pattern applies) ................................ ......... 142 9 
5.4.7.20.4 numPuncPrb (number of contiguous PRBs to which one puncturing pattern applies) .................  142 10 
5.4.7.20.5 puncReMask (puncturing pattern RE mask) ................................ ................................ ..............  143 11 
5.4.7.20.6 rb (resource block indicator) ................................ ................................ ................................ ..... 143 12 
5.4.7.20.7 rbgIncl (rbg included flag) ................................ ................................ ................................ ........ 143 13 
5.4.7.20.8 rbgSize (rbg size) ................................ ................................ ................................ .....................  143 14 
5.4.7.20.9 rbgMask (rbg bitmask) ................................ ................................ ................................ .............  143 15 
5.4.7.20.9 Interaction with Other Extensions ................................ ................................ .............................  143 16 
5.5 C-Plane Optimizations ................................ ................................ ................................ .............................  143 17 
5.5.1 C-Plane Optimization using Section Extension =6 ................................ ................................ ...............  143 18 
5.5.2 C-Plane Optimization using Section Extension =7 ................................ ................................ ...............  144 19 
5.5.3 C-Plane Optimization using Section Extension =10 ................................ ................................ .............  144 20 
5.5.4 C-Plane Optimization using Section Extension =11 ................................ ................................ .............  144 21 
5.5.4.1 Interaction between Section Extension =11 and Section Extension =6 ................................ ............  145 22 
5.5.4.2 Interaction between Section Extension =11 and Section Extension =12 ................................ .......... 146 23 
5.5.4.3 Interaction between Section Extension =11 and Section Extension =13 ................................ .......... 148 24 
5.5.5 C-Plane Optimization using Section Extension =12 ................................ ................................ .............  151 25 
5.5.6 C-Plane Optimization using Section Extension =13 ................................ ................................ .............  151 26 
5.5.7 Coupling via Frequency and Time with Priorities ................................ ................................ ................  152 27 
5.5.7.1 Coupling via Frequency and Time with Priorities (Optimized) ................................ .......................  153 28 
5.5.8 U-Plane Operation Without C-Plane ................................ ................................ ................................ .... 154 29 
5.5.9 Modulation Compression with Section Extension Type 10 ................................ ................................ .. 154 30 
5.5.10   Optimization with Ext Type = 19 ................................ ................................ ................................ ....... 157 31 
5.5.11 Optimizations with ExtType=20................................ ................................ ................................ .......... 157 32 
5.6 O-RUs per endpoint and per C-Plane message limits................................ ................................ .................  158 33 
5.6.1 O-RU per endpoint processing limits ................................ ................................ ................................ ... 158 34 
5.6.2 O-RU C-Plane message limits ................................ ................................ ................................ .............  158 35 
Chapter 6 U-plane Protocol ................................ ................................ ................................ .......................  159 36 
6.1 General ................................ ................................ ................................ ................................ ....................  159 37 
6.1.1 U-plane Transport ................................ ................................ ................................ ...............................  159 38 
6.1.2 U-plane Data Compression ................................ ................................ ................................ .................  159 39 
6.1.3 Digital Power Scaling ................................ ................................ ................................ .........................  159 40 
6.1.3.1 Definition of IQ Power in dBFS................................ ................................ ................................ ..... 159 41 
6.1.3.2 Definition of Gain over Fronthaul Interface................................ ................................ ....................  160 42 
6.1.3.2.1 DL Gain Guideline ................................ ................................ ................................ ...................  162 43 
6.1.3.2.2 UL Gain Definition ................................ ................................ ................................ ..................  162 44 
6.1.3.3 TX Power Budget Guideline for Category A and Category B O-RUs................................ ..............  163 45 
6.2 Elementary Procedures ................................ ................................ ................................ .............................  165 46 
6.2.1 IQ Data Transfer procedure ................................ ................................ ................................ .................  165 47 
6.2.2 IQ Data Transfer Procedure Without C-Plane ................................ ................................ ......................  167 48 
6.3 Elements for the U-plane Protocol ................................ ................................ ................................ ............  167 49 
6.3.1 General ................................ ................................ ................................ ................................ ...............  167 50 
6.3.2 DL/UL Data ................................ ................................ ................................ ................................ ....... 167 51 
6.3.3 UL/DL Data Coding of Information Elements ................................ ................................ .....................  169 52 
6.3.3.1 dataDirection (data direction (gNB Tx/Rx)) ................................ ................................ ...................  169 53 
6.3.3.2 payloadVersion (payload version) ................................ ................................ ................................ .. 169 54 
6.3.3.3 filterIndex (filter index) ................................ ................................ ................................ .................  169 55 
6.3.3.4 frameId (frame identifier) ................................ ................................ ................................ ..............  170 56 
6.3.3.5 subframeId (subframe identifier) ................................ ................................ ................................ .... 170 57 
6.3.3.6 slotId (slot identifier) ................................ ................................ ................................ .....................  170 58 
6.3.3.7 symbolId (symbol identifier)................................ ................................ ................................ .......... 170 59 
6.3.3.8 sectionId (section identifier) ................................ ................................ ................................ .......... 170 60 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      9 
O-RAN.WG4.CUS.0-v07.00 
6.3.3.9 rb (resource block indicator) ................................ ................................ ................................ .......... 170 1 
6.3.3.10 symInc (symbol number increment command) ................................ ................................ ...............  170 2 
6.3.3.11 startPrbu (startingPRB of user plane section) ................................ ................................ .................  170 3 
6.3.3.12 numPrbu (number of PRBs per user plane section) ................................ ................................ ......... 171 4 
6.3.3.13 udCompHdr (user data compression header) ................................ ................................ ..................  171 5 
6.3.3.14 reserved (reserved for future use) ................................ ................................ ................................ ... 172 6 
6.3.3.15 udCompParam (user data compression parameter) ................................ ................................ ......... 172 7 
6.3.3.16 iSample (in-phase sample) ................................ ................................ ................................ .............  173 8 
6.3.3.17 qSample (quadrature sample) ................................ ................................ ................................ ......... 173 9 
6.3.3.18 sReSMask (Selective RE Sending Mask) ................................ ................................ .......................  173 10 
6.3.3.19 udCompLen (PRB field length) ................................ ................................ ................................ ..... 173 11 
6.3.4 DL Data Precoding ................................ ................................ ................................ .............................  174 12 
6.3.5 Data Transfer for Special Cases ................................ ................................ ................................ .......... 174 13 
6.3.5.1 Data Message Mapping and Packetization................................ ................................ ......................  174 14 
6.3.5.2 Uplink Data Transfer ................................ ................................ ................................ .....................  174 15 
6.3.5.3 PRACH Data Transfer Without C-Plane ................................ ................................ ........................  174 16 
6.3.5.4 SRS Data Transfer Without C-Plane ................................ ................................ ..............................  175 17 
6.4 U-Plane Optimizations ................................ ................................ ................................ .............................  175 18 
6.4.1 Coupling via Frequency and Time ................................ ................................ ................................ ....... 175 19 
Chapter 7 Counters and KPIs ................................ ................................ ................................ ....................  176 20 
7.1 Counters ................................ ................................ ................................ ................................ ..................  176 21 
Chapter 8 Specification Mandatory and Optional Capabilities ................................ ................................ ... 179 22 
8.1 General ................................ ................................ ................................ ................................ ....................  179 23 
Chapter 9 S-Plane Protocol ................................ ................................ ................................ .......................  186 24 
9.1 General ................................ ................................ ................................ ................................ ....................  186 25 
9.1.1 Overview ................................ ................................ ................................ ................................ ............  186 26 
9.2 Synchronization Baseline ................................ ................................ ................................ .........................  186 27 
9.2.1 List of Reference Documents ................................ ................................ ................................ ..............  186 28 
9.2.2 Clock Model and Synchronization Topology ................................ ................................ .......................  186 29 
9.2.2.1 Topology configuration LLS-C1 and LLS-C2 Synchronization ................................ ......................  187 30 
9.2.2.2 Topology configuration LLS-C3 Synchronization ................................ ................................ .......... 189 31 
9.2.2.3 Topology configuration LLS-C4 Synchronization ................................ ................................ .......... 191 32 
9.2.3 Clock Synchronization ................................ ................................ ................................ ........................  191 33 
9.2.4 Profiles ................................ ................................ ................................ ................................ ...............  192 34 
9.2.4.1 Physical Layer Frequency Signals (PLFS)................................ ................................ ......................  192 35 
9.2.4.2 PTP ................................ ................................ ................................ ................................ ...............  192 36 
9.2.4.2.1 Full Timing Support ................................ ................................ ................................ .................  192 37 
9.2.4.2.2 Partial Timing Support ................................ ................................ ................................ .............  193 38 
9.2.5 Synchronization Accuracy ................................ ................................ ................................ ..................  193 39 
9.2.5.1 Jitter ................................ ................................ ................................ ................................ ..............  194 40 
9.2.5.2 Wander ................................ ................................ ................................ ................................ ......... 194 41 
9.2.5.3 Air interface frequency error ................................ ................................ ................................ .......... 194 42 
9.2.5.4 Air interface maximum time error ................................ ................................ ................................ .. 194 43 
9.3 Time and Frequency Synchronization Requirements ................................ ................................ .................  197 44 
9.3.1 Allowed PTP and PLFS clock types and clock classes ................................ ................................ ......... 197 45 
9.3.2 Frequency and Time Synchronization Requirements across fronthaul network elements.......................  198 46 
9.3.2.1  Configurations LLS-C1 and LLS-C2 ................................ ................................ .............................  198 47 
9.3.2.2  Configuration LLS-C3 ................................ ................................ ................................ ...................  201 48 
9.3.2.3  Configuration LLS-C4 ................................ ................................ ................................ ...................  203 49 
9.4 Node Behavior Guidelines ................................ ................................ ................................ ........................  204 50 
9.4.1 Configurations LLS-C1 and LLS-C2 ................................ ................................ ................................ ... 204 51 
9.4.1.1 M-Plane disconnected................................ ................................ ................................ ....................  205 52 
9.4.1.2 O-RU in the FREERUN State ................................ ................................ ................................ ........ 206 53 
9.4.1.3 O-DU in the FREERUN state ................................ ................................ ................................ ........ 206 54 
9.4.1.4 Operation in LOCKED/HOLDOVER state ................................ ................................ ....................  206 55 
9.4.2 Configurations LLS-C3................................ ................................ ................................ .......................  207 56 
9.4.2.1 M-Plane disconnected................................ ................................ ................................ ....................  207 57 
9.4.2.2 O-RU in the FREERUN State ................................ ................................ ................................ ........ 208 58 
9.4.2.3 O-DU in the FREERUN state ................................ ................................ ................................ ........ 208 59 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      10 
O-RAN.WG4.CUS.0-v07.00 
9.4.2.4 Operation in SYNCED/HOLDOVER state ................................ ................................ ....................  208 1 
9.4.3 Configurations LLS-C4................................ ................................ ................................ .......................  208 2 
9.4.3.1 M-Plane disconnected................................ ................................ ................................ ....................  209 3 
9.4.3.2 O-RU in the FREERUN State ................................ ................................ ................................ ........ 209 4 
9.4.3.3 O-DU in the FREERUN state ................................ ................................ ................................ ........ 209 5 
9.4.3.4 Operation in SYNCED/HOLDOVER state ................................ ................................ ....................  209 6 
9.5 S-Plane Handling in Multiple Link Scenarios................................ ................................ ............................  209 7 
9.6 Announce Messages ................................ ................................ ................................ ................................ . 210 8 
9.7 Elementary Procedures ................................ ................................ ................................ .............................  210 9 
9.7.1 PTP Time Synchronization procedure ................................ ................................ ................................ . 210 10 
9.7.2 System Frame Number Calculation from GPS Time ................................ ................................ ............  210 11 
Chapter 10 Beamforming Guidelines................................ ................................ ................................ .. 213 12 
10.1 General ................................ ................................ ................................ ................................ ....................  213 13 
10.2 Hierarchy of Radiation Structure in O-RU ................................ ................................ ................................  213 14 
10.3 Calibration ................................ ................................ ................................ ................................ ...............  214 15 
10.4 beamId Use for Various Beamforming Methods ................................ ................................ .......................  214 16 
10.4.1 Predefined-beam Beamforming ................................ ................................ ................................ ...........  215 17 
10.4.1.1 Beam Characteristics ................................ ................................ ................................ .....................  215 18 
10.4.2 Weight-based dynamic beamforming ................................ ................................ ................................ .. 217 19 
10.4.2.1 Weight-based dynamic frequency-domain or time-domain beamforming (not hybrid) .....................  217 20 
10.4.2.2 Weight-based dynamic hybrid beamforming ................................ ................................ ..................  218 21 
10.4.2.2.1 Hybrid beamforming with updatable frequency-domain and time-domain weights ....................  218 22 
10.4.2.2.2 Hybrid beamforming with updatable frequency-domain weights and fixed time-domain 23 
beams ................................ ................................ ................................ ................................ ...... 219 24 
10.4.3 Attribute-based dynamic beamforming ................................ ................................ ................................  220 25 
10.4.4 Channel-information-based beamforming ................................ ................................ ............................  221 26 
10.5 O-RU Antenna Model supported by O-RAN................................ ................................ .............................  221 27 
10.5.1 Coordinate Systems ................................ ................................ ................................ ............................  221 28 
10.5.2 O-RU Antenna Model Parameters ................................ ................................ ................................ ....... 222 29 
10.5.3 Identification and Ordering of Array Elements ................................ ................................ ....................  223 30 
10.5.4 Relations Between Array Elements ................................ ................................ ................................ ..... 224 31 
10.5.5 Model Usage ................................ ................................ ................................ ................................ ...... 224 32 
Chapter 11 Shared Cell Supporting ................................ ................................ ................................ ........... 227 33 
11.1 General ................................ ................................ ................................ ................................ ....................  227 34 
11.2 Copy and Combine function ................................ ................................ ................................ .....................  228 35 
11.2.1 Selective transmission and reception using beamId ................................ ................................ ..............  230 36 
11.3 Delay management for Shared cell ................................ ................................ ................................ ...........  233 37 
11.3.1 DL delay management for Shared cell ................................ ................................ ................................ . 234 38 
11.3.2 UL delay management for Shared cell ................................ ................................ ................................ . 235 39 
11.4 S-plane for Shared cell ................................ ................................ ................................ .............................  237 40 
11.5 Cascade-FHM mode ................................ ................................ ................................ ................................ ......... 238 41 
11.5.1 General ................................ ................................ ................................ ................................ ..........................  238 42 
11.5.2 Copy and Combine function ................................ ................................ ................................ ...........................  238 43 
11.5.3 Delay management ................................ ................................ ................................ ................................ ........ 239 44 
Annex A  Compression Methods ................................ ................................ ................................ .......... 243 45 
A.1 Block Floating Point Compression................................ ................................ ................................ ............  243 46 
A.1.1 Block Floating Point Compression Algorithm ................................ ................................ .....................  243 47 
A.1.2 Block Floating Point Decompression Algorithm ................................ ................................ ..................  244 48 
A.2 Block Scaling Compression ................................ ................................ ................................ ......................  244 49 
A.2.1 Block Scaling Compression Algorithm ................................ ................................ ................................  245 50 
A.2.2 Block Scaling Decompression Algorithm ................................ ................................ ............................  245 51 
A.3 -Law Compression ................................ ................................ ................................ ................................ . 246 52 
A.3.1 -Law Compression Algorithm ................................ ................................ ................................ ...........  246 53 
A.3.2 -Law Decompression Algorithm ................................ ................................ ................................ ....... 247 54 
A.3.3 -Law udCompParam and IQ data format ................................ ................................ ...........................  248 55 
A.4 Beamspace Compression and Decompression ................................ ................................ ...........................  248 56 
A.4.1 Beamspace Compression Algorithm ................................ ................................ ................................ .... 248 57 
A.4.2 Beamspace Decompression Algorithm ................................ ................................ ................................  250 58 
A.5 Modulation Compression ................................ ................................ ................................ .........................  251 59 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      11 
O-RAN.WG4.CUS.0-v07.00 
A.6 Selective RE sending Compression ................................ ................................ ................................ ...........  254 1 
Annex B Delay Management Use Cases ................................ ................................ ..............................  255 2 
B.1 Latency categories and sub-categories ................................ ................................ ................................ ...... 260 3 
B.2 Example Case: Evaluating O-DU / O-RU Combinations ................................ ................................ ...........  264 4 
Annex C  M-Plane Impacts ................................ ................................ ................................ ..................  268 5 
Annex D IQ Sample and Exponent Packetization for Different Bitwidths ................................ .............  269 6 
Annex D.1 IQ Sample for Little Endian Byte Order ................................ ................................ ..............................  273 7 
Annex E  OFDM Phase Compensation ................................ ................................ ................................  279 8 
Annex F Beamforming Attributes Frame of Reference ................................ ................................ ........ 280 9 
Annex G  LAA Algorithms and Examples:................................ ................................ ...........................  282 10 
Annex H  S-Plane detailed frequency and phase error budget analysis, and future ITU-T clock types 11 
and classes reference ................................ ................................ ................................ .......................  286 12 
H.1 Reference documents ................................ ................................ ................................ ...............................  286 13 
H.2 Frequency and time error budget analysis ................................ ................................ ................................ . 286 14 
H.3 Summary of allowed number of switches:................................ ................................ ................................ . 290 15 
Annex I Precoding and Examples: ................................ ................................ ................................ ...... 293 16 
Annex J Beamforming Methods Description: ................................ ................................ ......................  301 17 
Annex K: Layers of Array Elements ................................ ................................ ................................ ......... 304 18 
K.1 Use Case A ................................ ................................ ................................ ................................ ..............  304 19 
K.2 Use Case B ................................ ................................ ................................ ................................ ..............  305 20 
Annex L: Considerations when operating in non-ideal transport environments ................................ .......... 306 21 
L.1  Deployment Scenarios and Performance Considerations ................................ ................................ .......... 306 22 
L.1.1  Low Impact ................................ ................................ ................................ ................................ ....... 306 23 
L.1.2 Medium Impact ................................ ................................ ................................ ................................ .. 306 24 
L.1.3 High Impact ................................ ................................ ................................ ................................ ........ 306 25 
L.2 HARQ ................................ ................................ ................................ ................................ .....................  306 26 
L.2.1 Synchronous HARQ ................................ ................................ ................................ ...........................  307 27 
L.2.1.1 HARQ Interleaving ................................ ................................ ................................ .......................  307 28 
L.2.1.2 Predictive HARQ ................................ ................................ ................................ ..........................  308 29 
L.2.2 Asynchronous HARQ Considerations ................................ ................................ ................................ . 309 30 
L.3 RACH Considerations ................................ ................................ ................................ ..............................  309 31 
L.3.1 Non-Ideal Fronthaul RACH Designs ................................ ................................ ................................ ... 310 32 
L.3.1.1 Option-1: Semi-persistent Resource allocation ................................ ................................ ...............  310 33 
L.3.1.2 Option-2: RACH retransmission estimation ................................ ................................ ...................  311 34 
L.4 Other Latency Related Considerations ................................ ................................ ................................ ...... 312 35 
L.5 Bandwidth Limitation Considerations ................................ ................................ ................................ ....... 313 36 
Annex M: Use Case of Selective Transmission and Reception ................................ ................................ .. 314 37 
M.1 Selective transmission and reception with non beamforming O-RUs and 1-to-1 mapping of global 38 
beamId and local beamId ................................ ................................ ................................ ..........................  314 39 
M.2 Selective transmission and reception with beamforming O-RUs and 1-to-N mapping of global beamId 40 
and local beamId ................................ ................................ ................................ ................................ ...... 315 41 
Annex ZZZ : O-RAN Adopter License Agreement ................................ ................................ ...................  317 42 
Section 1: DEFINITIONS ................................ ................................ ................................ ................................ ........ 317 43 
Section 2: COPYRIGHT LICENSE ................................ ................................ ................................ ..........................  317 44 
Section 3: FRAND LICENSE................................ ................................ ................................ ................................ ... 317 45 
Section 4: TERM AND TERMINATION ................................ ................................ ................................ .................  318 46 
Section 5: CONFIDENTIALITY ................................ ................................ ................................ ..............................  318 47 
Section 6: INDEMNIFICATION ................................ ................................ ................................ ..............................  318 48 
Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY ................................ ................................ ...............  319 49 
Section 8: ASSIGNMENT ................................ ................................ ................................ ................................ ....... 319 50 
Section 9: THIRD-PARTY BENEFICIARY RIGHTS ................................ ................................ ..............................  319 51 
Section 10: BINDING ON AFFILIATES ................................ ................................ ................................ .................  319 52 
Section 11: GENERAL ................................ ................................ ................................ ................................ ............  319 53 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      12 
O-RAN.WG4.CUS.0-v07.00 
 1 
 2 
3 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      13 
O-RAN.WG4.CUS.0-v07.00 
Chapter 1 Introductory Material 1 
1.1 Scope 2 
This Technical Specification has been produced by the O-RAN Alliance. 3 
The contents of the present document are subject to continuing work within O-RAN and may change following formal 4 
O-RAN approval. Should the O-RAN Alliance modify the contents of the present document, it will be re-released by O-5 
RAN with an identifying change of release date and an increase in version number as follows: 6 
Release x.y.z 7 
where: 8 
x the first digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, 9 
etc. (the initial approved document will have x=01). 10 
y the second digit is incremented when editorial only changes have been incorporated in the document. 11 
z the third digit included only in working versions of the document indicating incremental changes during the 12 
editing process. 13 
The present document specifies the control plane, user plane and synchronization plane protocols used over the 14 
fronthaul interface linking the O-DU (O-RAN Distributed Unit) with the O-RU (O-RAN Radio Unit) with a Lower 15 
Layer Functional Split-7-2x based architecture (explained below).  The scope of this document includes both LTE and 16 
NR (5G).  A separate document contains the O-RAN M-Plane (management plane) specification. 17 
In the following, “Layer 1” and “Physical Layer” are assumed to be synonymous. 18 
In the main body of this specification (in any “chapter”) the information contained therein is normative meaning 19 
binding on any compliant system, unless explicitly described as informative (a capability described as “optional” may 20 
or may not be included in a compliant system but if it is included it must comply with the optional capability 21 
description).  Information contained in an “Annex” to this specification is always informative. 22 
1.2 References 23 
The following documents contain provisions which, through reference in this text, constitute provisions of the present 24 
document. 25 
- References are either specific (identified by date of publication, edition number, version number, etc.) or 26 
non-specific. 27 
- For a specific reference, subsequent revisions do not apply. 28 
- For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including 29 
a GSM document), a non-specific reference implicitly refers to the latest version of that document in Release 15. 30 
[1] 3GPP TR 21.905: “Vocabulary for 3GPP Specifications”. 31 
[2] eCPRI Transport Network V1.2 (2018-06-25) “Common Public Radio Interface: Requirements for 32 
the eCPRI Transport Network”. 33 
[3] IEEE Std 1588-2008 “Standard for a Precision Clock Synchronization Protocol for Networked 34 
Measurement and Control Systems”. 35 
[4] 3GPP TS 38.211 V15.1.0 36 
[5] R1-1800296, "NR OFDM Symbol Generation Option Analysis", Intel, 3GPP TSG RAN WG1 37 
AH#18-01, Vancouver, Canada, Jan. 22-26, 2018 38 
[6] R1-1800802, "OFDM signal generation", Nokia, 3GPP TSG RAN WG1 AH#18-01, Vancouver, 39 
Canada, Jan. 22-26, 2018 40 
[7] ORAN-WG4.MP.0-v06.00: O-RAN Fronthaul Working Group Management Plane Specification, 41 
Release 07.00. 42 
[8] 3GPP TS 38.104 “Base Station (BS) radio transmission and reception”, Release 15, v15.2.0 (2018-43 
06). 44 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      14 
O-RAN.WG4.CUS.0-v07.00 
[9] 3GPP TS 36.104 “Base Station (BS) radio transmission and reception”, Release 16, v16.7.0 (2020-1 
07). 2 
[10] RFC 1166: “Internet Numbers”. 3 
[11] "IEEE Standard for Local and metropolitan area networks -- Time-Sensitive Networking for 4 
Fronthaul," in IEEE Std 802.1CM-2018, 8 June 2018. 5 
[12] "IEEE Standard for Local and metropolitan area networks -- Time-Sensitive Networking for 6 
Fronthaul - Amendment 1: Enhancements to Fronthaul Profiles to Support New Fronthaul 7 
Interface, Synchronization, and Syntonization Standards," in IEEE Std 802.1CMde-2020 8 
(Amendment to IEEE Std 802.1CM-2018, Oct. 2020. 9 
[13] 3GPP TR 38.801 V14.0.0 10 
 11 
 12 
1.2.1 Synchronization-specific Reference Documents 13 
• ITU-T G.781 (08/2017) Synchronization layer functions  14 
• ITU-T G.810 (08/1996) Definitions and terminology for synchronization networks  15 
• ITU-T G.810 (08/1996) Cor. 1 (11/2011) Definitions and terminology for synchronization networks  16 
• ITU-T G.8260 (08/2015) Definitions and terminology for synchronization in packet networks  17 
• ITU-T G.8260 (08/2015) Amd. 1 (04/2016) Definitions and terminology for synchronization in packet 18 
networks  19 
• ITU-T G.8261/Y.1361 (08/2019) Timing and synchronization aspects in packet networks 20 
• ITU-T G.8262/Y.1362 (11/2018) Timing characteristics of a synchronous Ethernet equipment slave clock  21 
• ITU-T G.8262.1/Y.1362 (11/2018) Timing characteristics of an enhanced synchronous equipment slave clock 22 
• ITU-T G.8264/Y.1364 (08/2017) Distribution of timing information through packet networks  23 
• ITU-T G.8264/Y.1364 (08/2017) Amd. 1 (03/2018) Distribution of timing information through packet 24 
networks 25 
• ITU-T G.8271/Y.1366 (08/2017) Time and phase synchronization aspects of telecommunication networks 26 
• ITU-T G.8271/Y.1366 (08/2017) Amd. 1 (03/2018) Time and phase synchronization aspects of 27 
telecommunication networks  28 
• ITU-T G.8271/Y.1366 (08/2017) Amd. 2 (11/2018) Time and phase synchronization aspects of 29 
telecommunication networksITU-T G.8271.1/Y.1366.1 (10/2017) Network limits for time synchronization in 30 
packet networks  31 
• ITU-T G.8271.1/Y.1366.1 (10/2017) Amd. 1 (03/2018) Network limits for time synchronization in packet 32 
networks 33 
• ITU-T G.8271.1/Y.1366.1 (10/2017) Amd. 2 (08/2019) Network limits for time synchronization in packet 34 
networks 35 
• ITU-T G.8271.1/Y.1366.1 (10/2020) Network limits for time synchronization in packet networks with full 36 
timing support from the network 37 
• ITU-T G.8271.2/Y.1366.2 (08/2017) Network limits for time synchronization in packet networks with partial 38 
timing support from the network 39 
• ITU-T G.8271.2/Y.1366.2 (08/2017) Amd. 1 (03/2018) Network limits for time synchronization in packet 40 
networks with partial timing support from the network 41 
• ITU-T G.8271.2/Y.1366.2 (08/2017) Amd. 2 (11/2018) Network limits for time synchronization in packet 42 
networks with partial timing support from the networkITU-T G.8272/Y.1367 (11/2018) Timing characteristics 43 
of primary reference time clocks  44 
• ITU-T G.8272.1/Y.1367. (11/2016) Timing characteristics of enhanced primary reference time clocks 45 
• ITU-T G.8272.1/Y.1367. (11/2016) Amd 1 (04/2016) Timing characteristics of enhanced primary reference 46 
time clocks 47 
• ITU-T G.8272.1/Y.1367. (11/2016) Amd 2 (08/2019) Timing characteristics of enhanced primary reference 48 
time clocks  49 
• ITU-T G.8273/Y.1368 (03/2018) Framework of phase and time clocks  50 
• ITU-T G.8273.2/Y.1368.2 (08/2018) Timing characteristics of telecom boundary clocks and telecom time 51 
slave clocks    52 
• ITU-T G.8273.3/Y.1368.3 (10/2017) Timing characteristics of telecom transparent clocks  53 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      15 
O-RAN.WG4.CUS.0-v07.00 
• ITU-T G.8273.3/Y.1368.3 (10/2017) Amd. 1 (11/2018) Timing characteristics of telecom transparent clocks  1 
• ITU-T G.8275/Y.1369 (08/2017)  Architecture and requirements for packet-based time and phase distribution 2 
• ITU-T G.8275/Y.1369 (08/2017) Amd. 1 (11/2018) Architecture and requirements for packet-based time and 3 
phase distribution 4 
• ITU-T G.8275/Y.1369 (08/2017) Amd. 2 (08/2019) Architecture and requirements for packet-based time and 5 
phase distribution 6 
• ITU-T G8275.1/Y.1369.1 (06/2016) Precision time protocol telecom profile for phase/time  7 
• ITU-T G8275.1/Y.1369.1 (06/2016) Amd. 1 (08/2017) Precision time protocol telecom profile for phase/time 8 
• ITU-T G8275.1/Y.1369.1 (06/2016) Amd. 2 (03/2018) Precision time protocol telecom profile for phase/time  9 
• ITU-T G8275.1/Y.1369.1 (06/2016) Amd. 3 (08/2019) Precision time protocol telecom profile for phase/time  10 
• ITU-T G8275.2/Y.1369.2 (06/2016) Precision time protocol telecom profile for time/phase synchronization 11 
with partial timing support from the network 12 
• ITU-T G8275.2/Y.1369.2 (06/2016) Amd. 1 (08/2017) Precision time protocol telecom profile for time/phase 13 
synchronization with partial timing support from the network 14 
• ITU-T G8275.2/Y.1369.2 (06/2016) Amd. 2 (03/2018) Precision time protocol telecom profile for time/phase 15 
synchronization with partial timing support from the network 16 
• ITU-T G8275.2/Y.1369.2 (06/2016) Amd. 3 (08/2019) Precision time protocol telecom profile for time/phase 17 
synchronization with partial timing support from the network 18 
• IEEE Std 1588-2008 “Standard for a Precision Clock Synchronization Protocol for Networked Measurement 19 
and Control Systems”, March 2008. 20 
• IEEE Std 1588-2019 “Standard for a Precision Clock Synchronization Protocol for Networked Measurement 21 
and Control Systems”, November 2019. 22 
 23 
1.3 Definitions and Abbreviations and Conventions 24 
1.3.1 Definitions 25 
For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following 26 
apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP 27 
TR 21.905 [1]. 28 
BMCA: Best Master Clock Algorithm  29 
C-Plane: Control Plane: refers specifically to real-time control between O-DU and O-RU, and should not be confused 30 
with the UE’s control plane 31 
CA: Carrier Aggregation  32 
Cascade mode: Mode of Shared cell which is realized by several O-RUs cascaded in chain. (See Chapter 11) 33 
DL: DownLink: data flow towards the radiating antenna (generally on the LLS interface) 34 
eAxC: extended Antenna-Carrier: a data flow for a single antenna (or spatial stream) for a single carrier in a single 35 
sector.  Includes the fields BandSector_ID, CC_ID, RU_Port_ID and DU_Port_ID (see sections 3.1.3.1.6 and 3.1.3.2.4) 36 
eEEC: enhanced Ethernet Equipment Clock  37 
ePRTC: enhanced Primary Reference Time Clock 38 
FFO: Fractional Frequency Offset.  This is defined as ∆f/f_norm which is used to describe frequency error, typically on 39 
the output of the T-TSC filter in the O-RU. It is the same as the Fractional Frequency Deviation defined in ITU-T 40 
G.810. 41 
FHM mode: Mode of Shared cell which is realized by FHM and several O-RUs. (See Chapter 11) 42 
Hop: physical link between 2 s-plane nodes (where node can be O-DU, switch or O-RU) as defined in IEEE 802.1CM 43 
LAA: Licensed-assisted access: Carrier aggregation with at least one secondary cell operating in the unlicensed 44 
spectrum. 45 
LLS: Lower Layer Split: logical interface between O-DU and O-RU when using a lower layer (intra-PHY based) 46 
functional split. 47 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      16 
O-RAN.WG4.CUS.0-v07.00 
LLS-U: Lower Layer Split User-plane: logical interface between O-DU and O-RU when using a lower layer functional 1 
split. 2 
LLS-C: Lower Layer Split Control-plane: logical interface between O-DU and O-RU when using a lower layer 3 
functional split. 4 
High-PHY: those portions of the PHY processing on the O-DU side of the fronthaul interface, including FEC 5 
encode/decode, scrambling, and modulation/demodulation. 6 
Low-PHY: those portions of the PHY processing on the O-RU side of the fronthaul interface, including FFT/iFFT, 7 
digital beamforming, and PRACH extraction and filtering. 8 
M-Plane: Management Plane: refers to non-real-time management operations between the O-DU and the O-RU 9 
O-CU: O-RAN Control Unit – a logical node hosting PDCP, RRC, SDAP and other control functions 10 
O-DU: O-RAN Distributed Unit: a logical node hosting RLC/MAC/High-PHY layers based on a lower layer functional 11 
split. 12 
O-RU: O-RAN Radio Unit: a logical node hosting Low-PHY layer and RF processing based on a lower layer functional 13 
split.  This is similar to 3GPP’s “TRP” or “RRH” but more specific in including the Low-PHY layer (FFT/iFFT, 14 
PRACH extraction).    15 
OTA: Over the Air 16 
OTDOA: Observed Time Delay Of Arrival 17 
PLFS : Physical Layer Frequency Support, as per ITU-T G.8271.1. SyncE is one example.  18 
Processing element: See section 4.5 of the M-Plane specification [7] for a definition of processing element. 19 
PRC: Primary Reference Clock 20 
PRTC: Primary Reference Time Clock. There are different types of PRTC defined in both G.8272 and G.8272.1. 21 
Unless the specific type is indicated, a reference to a PRTC in this document could include any of these types. 22 
PTP: Precision Time Protocol 23 
Q<I.F>: denotes a signed two’s-complement I+F bit fixed point number with I signed integer bits, and F fractional bits. 24 
S-Plane: Synchronization Plane: refers to traffic between the O-RU or O-DU to a synchronization controller which is 25 
generally an IEEE 1588 Grand Master (however, Grand Master functionality may be embedded in the O-DU). 26 
Shared cell: The operation for the same cell by several O-RUs. (See Chapter 11) 27 
Slot: this is a group of 14 symbols, for LTE and NR.  LTE has a separate slot definition within 3GPP which is 7 28 
symbols but that definition is not used in this specification.  So for NR, “slot” in this document means slot as 3GPP 29 
defines it, but for LTE “slot” in this document correlates to the LTE “TTI” as defined by 3GPP. 30 
Spatial stream: the data flow on the DL associated with precoded data (may be same as layers or different if there is 31 
expansion in the precoding), and on UL associated with the number of outputs from the digital beamforming 32 
(sometimes called “beams”).  33 
SSM: Synchronization Status Message: part of ITU G.781 and G.8264 standards. 34 
SYNCE: Synchronous Ethernet 35 
T-BC: Telecom Boundary Clock 36 
T-GM: Telecom Grand Master 37 
T-TSC: Telecom Subordinate Clock; this is what ITU-T standards refer to as a “Telecom Slave Clock”  38 
TAE: Time Alignment Error as defined by 3GPP TS36.104 and TS38.104 39 
TE(t): Time Error – The difference between the time indicated by a clock or timing signal, and that indicated by a 40 
reference clock or timing signal. See ITU-T G.810, clause 4.5.13.  41 
TRX: Refers to the specific processing chain in an O-RU associated with D/A or A/D converters.  Due to digital 42 
beamforming the number of TRXs may exceed the number of spatial streams, and due to analog beamforming the 43 
number of TRXs may be lower than the number of antenna elements. 44 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      17 
O-RAN.WG4.CUS.0-v07.00 
U-Plane: User Plane: refers to IQ sample data transferred between O-DU and O-RU 1 
UL: UpLink : data flow away from the radiating antenna (generally on the LLS interface) 2 
UNI: User Network Interface as defined by eCPRI network requirement specification 3 
UQ<I.F>: denotes an unsigned I+F bit fixed point number with I unsigned integer bits and F fractional bits 4 
1.3.2 Abbreviations 5 
For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An 6 
abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 7 
3GPP TR 21.905 [1]. 8 
eNB e NodeB (applies to LTE) 9 
FHM Fronthaul Multiplexer 10 
gNB g NodeB (applies to NR) 11 
O-DU O-RAN Distributed Unit (see definitions section) 12 
O-RU O-RAN Radio Unit 13 
SMO Service Management and Orchestration 14 
1.3.3 Document Conventions 15 
Terminology: “ignored” 16 
Within this specification, it is sometimes stated that certain information elements are to be “ignored” by the receiver 17 
(generally for “reserved” fields but in some cases other fields too).  In this case, the fields shall be ignored for the 18 
purposes of processing at the O-RAN application level, but in the case of certain packet error-checking such as 19 
Ethernet-layer CRC or parity calculations, the fields shall be included in the CRC or parity calculations.  As well, in the 20 
event of packet encryption, the “ignored” fields shall be encrypted along with the other packet payload information. 21 
1.3.3.1 Fields and Bitmasks in Messages 22 
This section describes the format of messages and data structures within messages.  23 
In accordance with RFC 1166 [10], the left most bit of an octet is the most significant bit (msb) and the right most bit is 24 
the least significant bit (lsb). The msb is labelled as 0 and lsb is labelled as 7. This is illustrated by a blue ribbon in 25 
tables showing the message format. An example is depicted in Table 1-1. Note that this bit labelling convention 26 
(specifically the blue ribbon header in some tables) for octets is different from the labelling of bits within a field 27 
(bracketed bit numbers shown in tables). 28 
To address specific bits within a field, the following notation is used: “X[k]” represents kth bit in a field X with the 29 
convention that bit X[0] is the least significant bit of field X and located in the rightmost bit position. Where applicable, 30 
a sequence of bits in a field X can be interpreted as an unsigned integer value 𝑋𝑣𝑎𝑙 calculated with formula: 31 
𝑋𝑣𝑎𝑙 =∑𝑋[𝑘]2^𝑘
𝑁−1
𝑘=0
 32 
where N is number of bits in field X. 33 
Notation “X[a:b]” represents a sequence of bits in field X starting from bit X[a] and ending at bit X[b] inclusive, where 34 
a > b. 35 
Table 1-1 below illustrates the format of messages and data structures using this notation.  36 
Table 1-1 Example of table presenting format of a data structure 37 
0 (msb) 1 2 3 4 5 6 7 (lsb) # of 
bytes 
octet 
Y[3:0] X[11:8] 1 N 
X[7:0] 1 N+1 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      18 
O-RAN.WG4.CUS.0-v07.00 
 1 
The example data structure presented in Table 1-1 is interpreted as follows: 2 
• Field Y has 4 bits. Bits Y[3] to Y[0] of field Y are in octet N; Y[3], the most significant bit of field Y is in the 3 
most significant bit of octet N. 4 
• Field X has 12 bits. Bits X[11] to X[8] of field X are in octet N; X[8] is in the least significant bit of octet N.  5 
Bits X[7] to X[0] of field X are in octet N+1; X[7] is in the most significant bit of octet N+1 and X[0] is in the 6 
least significant bit of octet N+1. 7 
This corresponds to a structure that maps every bit as presented in Table 1-2 below. 8 
Table 1-2 Interpretation of the example of table presenting format of a data structure 9 
0 (msb) 1 2 3 4 5 6 7 (lsb) # of 
bytes 
octet 
Y[3] Y[2] Y[1] Y[0] X[11] X[10] X[9] X[8] 1 N 
X[7] X[6] X[5] X[4] X[3] X[2] X[1] X[0] 1 N+1 
  10 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      19 
O-RAN.WG4.CUS.0-v07.00 
Chapter 2 Architecture & Requirements 1 
Architectural aspects 2 
The architecture of eNB or gNB with O-DU and O-RUs is shown in Figure 2-1. LLS-C and LLS-U provide C-plane 3 
and U-plane over LLS interface, respectively. 4 
In this architecture, O-DU and O-RU can be defined as follows. 5 
Lower Layer Split Central Unit (O-DU): a logical node that includes the eNB/gNB functions as listed in section 2.1 6 
split option 7-2x, excepting those functions allocated exclusively to the O-RU. The O-DU controls the operation of O-7 
RUs. 8 
O-RAN Radio Unit (O-RU): a logical node that includes a subset of the eNB/gNB functions as listed in section 2.1 9 
split option 7-2x. The real-time aspects of control & user plane communication with the O-RU are controlled by the O-10 
DU. 11 
O-DU
LLS-C
O-RU O-RU
LLS-U
LLS-C LLS-U
eNB/gNB
...
 12 
Figure 2-1 : eNB/gNB architecture with O-DU and O-RUs 13 
 14 
2.1 Functional Split 15 
When considering the functional split defining a fronthaul interface there are two competing interests: 16 
a) There is a benefit in keeping an O-RU as simple as possible because size, weight, and power draw are primary 17 
deciding considerations and the more complex an O-RU, the larger, heavier and more power-hungry the O-RU 18 
tends to be; 19 
b) There is a benefit in having the interface at a higher level which tends to reduce the interface throughput 20 
relative to a lower-level interface – but the higher-level the interface, the more complex the O-RU tends to be. 21 
To resolve this conundrum, O-RAN has selected a single split point, known as “7-2x” but allows a variation, with the 22 
precoding function to be located either “above” the interface in the O-DU or “below” the interface in the O-RU.  For the 23 
most part the interface is not affected by this decision, but there are some impacts namely to provide the necessary 24 
information to the O-RU to execute the precoding operation.  O-RUs within which the precoding is not done (therefore 25 
of lower complexity) are called “Category A” O-RUs while O-RUs within which the precoding is done are called 26 
“Category B” O-RUs.  See Figure 2-2 for a depiction of this dual O-RU concept. 27 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      20 
O-RAN.WG4.CUS.0-v07.00 
 
 
RE Mapping 
Layer Mapping 
Modulation 
Scrambling 
IQ Compression 
O-DU 
O-RU 
Processing blocks with dotted blocks are not mandatory 
for all O-RU categories. Precoding operation for certain 
O-RU categories can be done within the O-RU and in this 
case precoding in O-DU can be bypassed. 
Non-precoding O-RAN 
Radio Unit. Precoding in 
radio is not supported. 
O-RU Category A 
Precoding O-RAN Radio 
Unit. Precoding in radio is 
supported.   
Allows support for 
modulation compression. 
O-RU Category B 
Digital Beamforming  
iFFT and CP addition 
Digital to Analog 
Analog Beamforming 
IQ Decompression 
Digital and Analog 
beamforming optional 
Digital and Analog 
beamforming optional 
Precoding 
Precoding 
(bypass mode possible) 
O-RAN FH 
 1 
Figure 2-2 : Split Point and Category A and Category B O-RAN Radio Units 2 
The inclusion of these two O-RU categories has certain implications for the LTE and NR functional splits in both DL 3 
and UL which are reflected in the following sections.  In particular, for a Category B O-RU to implement precoding for 4 
LTE TM2-TM4 some special C-Plane instructions need to be provided to the O-RU from the O-DU; this is described in 5 
a later section of this document.  For LTE TM5-10 and NR, no special instructions are needed because the precoding 6 
may be included in a digital beamforming processing block within the O-RU for a Category B O-RU (even for analog 7 
beamforming O-RUs), while for a Category A O-RU, the precoding would be executed in the O-DU and any 8 
beamforming in the O-RU, if present, would exclude the precoding calculation. 9 
 10 
2.1.1 Selected Split 7-2x (DL) 11 
DL functional split for various physical layer channels is illustrated in Figure 2-3 (LTE Category A O-RUs), Figure 12 
2-4 (LTE Category B O-RUs), Figure 2-5 (NR Category A O-RUs), and Figure 2-6 (NR Category B O-RUs).  13 
When O-RU Category A is supported by O-DU it is mandatory to support a total number of precoded streams of up to 14 
8. Support for more than 8 precoded streams is optional. 15 
For LTE (e.g. TM9) and NR PDSCH with UE specific reference signals, the DL processing chain specified by 3GPP 16 
does not include a precoding operation. The detailed precoding operation referred to in Figure 2-3 and Figure 2-4 for 17 
PDSCH with UE specific reference signals is not further described within this specification. 18 
 19 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      21 
O-RAN.WG4.CUS.0-v07.00 
 1 
 2 
 
 3 
Figure 2-3 : Lower layer DL split description, LTE, Category A O-RUs 4 
 5 
 6 
 
O-RAN FH 
 7 
Figure 2-4 : Lower layer DL split description, LTE, Category B O-RUs 8 
Although not explicitly indicated in Figure 2-4, RE mapping operation is separated into two parts for precoding support 9 
at O-RU for transmit diversity and spatial multiplexing modes in Category B radios: 10 
1) RE mapping to frequency resources is performed at O-DU  11 
2) RE mapping to antenna ports is performed at O-RU after precoding  12 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      22 
O-RAN.WG4.CUS.0-v07.00 
 1 
 2 
Figure 2-5 : Lower layer DL split description, NR, Category A Radio 3 
NOTE: the above figure illustrates some of the high level functionalities inside the O-RU and O-DU, and do not bind 4 
the internal design of each of the O-RU and O-DU 5 
 6 
 7 
Figure 2-6 : Lower layer DL split description, NR, Category B Radio 8 
NOTE: the above figure illustrates some of the high level functionalities inside the O-RU and O-DU, and do not bind 9 
the internal design of each of the O-RU and O-DU 10 
 11 
Split 7-2x 12 
Description: 13 
In the DL, OFDM phase compensation (clause 5.4 of [4]), iFFT, CP addition, and digital beamforming functions reside 14 
in the O-RU as well as precoding for Category B O-RUs. The rest of the PHY functions including resource element 15 
mapping, precoding, layer mapping, modulation, scrambling, rate matching and coding reside in the O-DU.  Precoding 16 
must be in the O-DU for Category A O-RU support but this only applies if the number of precoder output spatial 17 
streams is 8 or less, otherwise precoding must be in the (Category B) O-RU. 18 
The option of including some PHY functionality in a radio unit was not included in [13]. 19 
Benefits and Justification: 20 
O-RAN FH 
O-RAN FH 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      23 
O-RAN.WG4.CUS.0-v07.00 
- Interface simplicity: Transfer of user plane data is based on Resource Elements / Physical Resource Blocks, which 1 
simplifies the data mapping and limits the required associated control messages 2 
- Transport Bandwidth Scalability: Lower split options (e.g., splits 7-1 and 8) scale based on number of antennas. In 3 
contrast, 7-2x interface scales based on “streams”, which allows using high number of antennas without higher 4 
transport bandwidth. Further, user data transfer can be optimized to send only PRBs that contain user data for 5 
purpose of reducing transport bandwidth 6 
- Beamforming Support: The same interface design can support different beamforming techniques (digital, analog, 7 
hybrid) as well as different beamforming algorithms. Likewise, deployments using only analog beamforming are 8 
also possible with the same interface design. 9 
- Interoperability: Less user specific parameters are used at split 7-2x (when compared to higher split options), 10 
which can simplify specification. 11 
- Advanced receivers and inter-cell coordination: this option allows implementation of advanced receivers and 12 
coordination features, which are also easier to implement and less restricted when most functions are placed at 13 
the O-DU.  For example, UL CoMP is not possible when the UL upper-PHY processing is in the O-RU. 14 
- Lower O-RU complexity: Less functions at O-RU (when compared to higher split options) allow limiting the 15 
number of required real time calculations as well as required memory requirement, especially for Category A O-16 
RUs. 17 
- Future proof-ness: Placing most functions at O-DU will allow introduction of new features via software upgrades 18 
without inflicting HW changes at O-RU (e.g., specification changes due to URLLC or new modulation 19 
schemes). 20 
- Interface and functions symmetry: If the same interface and split point is used for DL and UL, specification effort 21 
can be reduced. 22 
 23 
2.1.2 Selected Split 7-2x (UL) 24 
UL functional split for various physical layer channels and transmission modes are illustrated in Figure 2-7.  Likewise, 25 
digital beamforming in this context, is the function of antenna port selection or antenna port combining. 26 
Digital 
Beamforming
Equalization, iDFT
Channel Estimation Detection
Demodulation
FFT and CP removal Filtering*
RE demapping
PRACH
RE demapping
Descrambling
PUxCH
Analog to Digital
Analog 
Beamforming
Digital 
Beamforming
IQ Decompression
IQ Compression
IQ 
Decompression
Channel
Estimation
SRS
RE demapping
Digital 
Beamforming
Analog 
Beamforming
IQ 
Decompression
IQ Compression IQ 
Compression
Analog 
Beamforming
O-DU
(PHY part)
O-RU
O-RAN FH
Dotted-line blocks 
are optional
*for PRACH, Filtering 
block includes CP 
removal, decimation 
filtering, and a 
smaller FFT or a 
larger FFT and 
PRACH subcarrier 
selection
 27 
Figure 2-7 : Lower layer UL split description for LTE and NR 28 
NOTE: the above figure illustrates some of the highlevel functionalities inside the O-RU and O-DU, and do not bind the 29 
internal design of each of the O-RU and O-DU. 30 
 31 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      24 
O-RAN.WG4.CUS.0-v07.00 
Split 7-2x 1 
Description: 2 
In the UL, OFDM phase compensation (for all channels except PRACH when section type “3” message is used) 3 
according to clause 5.4 of [4], FFT, CP removal and digital beamforming functions reside in the O-RU. The rest of the 4 
PHY functions including resource element de-mapping, equalization, de-modulation, de-scrambling, rate de-matching 5 
and de-coding reside in the O-DU. 6 
The option of including some PHY functionality in a radio unit was not included in [13]. 7 
Benefits and Justification: 8 
- The benefits defined for Option 7-2x for DL are also applicable for Uplink (See Section 2.1.1). 9 
 10 
2.2 Data Flows 11 
An overall reference of required inputs for some major functional blocks, their granularity and input originating source 12 
is compiled in Table 2-1 and Table 2-2 for DL and UL respectively.  13 
 14 
Table 2-1 : Required information for each functional block (DL) 15 
Function Required Information Signaling Granularity  Information source 
Digital beamforming • Digital beamforming 
information 
• Number of TRXs or 
Beams 
Per RE per beam per slot Scheduler (O-DU) 
iFFT and CP addition • FFT size 
• SC spacing 
• CP length 
Per TRX per slot Scheduler (O-DU) 
Analog beamforming • Analog beamforming 
info 
Per frequency band per slot Scheduler (O-DU) 
Listen Before Talk (LBT) • LBT parameters Per MCOT Scheduler (O-DU) 
 16 
Table 2-2 : Required Information for each functional block (UL) 17 
Function Required Information Signaling Granularity  Information source 
Digital beamforming • Digital beamforming 
information 
• Number of TRXs or 
Beams 
Per RE per TRX per slot Scheduler (O-DU) 
FFT and CP removal • FFT size 
• SC spacing 
• CP length 
Per TRX per slot Scheduler (O-DU) 
Analog beamforming • Analog beamforming 
info 
Per frequency band per slot Scheduler (O-DU) 
 18 
In case of lower layer fronthaul based on split option 7-2x for DL and UL, the required external data flows (excluding 19 
M-plane) to exchange information between O-DU and O-RU can be categorized as follows.  Further, the data flow 20 
contents mapping is described in Table 2-3.  21 
• User-Plane 22 
o Data Flow 1a: Flows of IQ Data in FFT frequency domain on DL 23 
o Data Flow 1b: Flows of IQ Data in FFT frequency domain on UL 24 
o Data Flow 1c: Flow of PRACH IQ data in FFT frequency domain 25 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      25 
O-RAN.WG4.CUS.0-v07.00 
• C-Plane 1 
o Data Flow 2a: Scheduling commands (DL and UL) & Beamforming commands 2 
o Data Flow 2b: LAA Listen-Before-Talk (LBT) configuration commands and requests 3 
o Data Flow 2c: LAA LBT status and response messages  4 
• Synchronization-Plane 5 
o Data Flow S: Timing and Synchronization data 6 
 7 
 
O-RU O-DU 
1a: DL IQ data in FFT frequency domain 
1b: UL IQ data in FFT frequency domain 
1c: PRACH IQ 
2a: Scheduling Commands (DL&UL) & Beamforming Commands 
S: Timing & Synchronization 
2b: LAA LBT configuration parameters and requests 
2c: LAA LBT status and responses 
Note: M-Plane flows not represented here 
 8 
Figure 2-8 : Lower layer fronthaul data flows 9 
 10 
Table 2-3 : Data Flow Information Mapping 11 
Plane ID Name Contents Periodicity  
U-Plane 1a DL Frequency Domain IQ 
Data  
DL user data (PDSCH), control channel 
data (PDCCH, etc.), … 
< slot 
 
1b UL Frequency Domain IQ 
Data  
UL user data (PUSCH), control channel 
data (PUCCH, etc.), …  
< slot 
 
1c  PRACH Frequency Domain 
IQ Data  
UL PRACH data 
 
< slot 
 
C-Plane 2a Scheduling Commands & 
Beamforming Commands  
 
Scheduling information, FFT size, CP 
length, Subcarrier spacing, UL PRACH 
scheduling 
DL and UL Beamforming commands (e.g., 
beam index) and scheduling 
~ slot 
 
2b LAA LBT configuration 
parameters and requests 
LBT Configuration parameters such as 
lbtHandle, lbtDeferFactor, 
lbtBackoffCounter, lbtOffset, MCOT, 
lbtMode, sfnSf, lbtCWconfig_H, 
lbtCWconfig_T, lbtTrafficClass.  
 
per 
MCOT/DRS 
2c LAA LBT status and 
responses 
LBT DL indication parameters such as 
lbtHandle, lbtResult,  initialPartialSFs, 
bufferError, lbtCWR_Result  
 
S-Plane S Timing and Synchronization SyncE SSM & IEEE 1588 PTP packets  
 12 
2.3 Latency Requirements 13 
Intra-PHY lower layer fronthaul split has characteristic of a stringent bandwidth and tight latency requirement. This 14 
implies use of a special “Fronthaul Service Profile” to be supported by the transport network, and which may differ 15 
depending on the operating environment, topology and target use cases. The general concept and latency model is based 16 
on eCPRI reference points for delay management definitions (See Figure 2-9). However, this specification provides 17 
additional details for both DL and UL (Table 2-4) latency. The delay parameters and how these are determined are 18 
explained below; note that in general it is expected a separate set of timing parameters applies to each O-RU attached to 19 
an O-DU.  This chapter defines multiple approaches which can be used to provide an inter-operable timing solution. 20 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      26 
O-RAN.WG4.CUS.0-v07.00 
The reference points defined for eCPRI are reflected below in Figure 2-9.  The reference points are: 1 
• O-DU: R1/ R4 – Transmit/ Receive interface at O-DU 2 
• O-RU: R2/ R3 – Receive/ Transmit interface at O-RU 3 
• Ra: Antenna interface at O-RU  4 
NOTE: When an external antenna is used with a cable imposing a negligible delay, then the O-RU connector can be 5 
assumed as Ra. 6 
 7 
 8 
Figure 2-9 : Definition of reference points for delay management (adapted from [2]) 9 
Transmission delay between O-DU and O-RU are specified as T12 (downlink) and T34 (uplink).  The transmission 10 
delay encompasses only the time from when a bit leaves the sender (R1/ R3) until it is received at the receiver (R2/ R4).  11 
In an ethernet transport network, these delays may not be constant due to switching delays (i.e. PDV).  To account for 12 
this, transport delay must be considered as a range with upper and lower bounds: 13 
• Downlink transport delay: T12min/ T12max 14 
• Uplink transport delay: T34min/ T34max 15 
However, fixed timing at Ra is still required.  Therefore, Ra is used as a reference point for delay management in the 16 
eCPRI model.  Therefore, transmission and reception at the reference points are measured relative to Ra, resulting in the 17 
following parameters: 18 
Table 2-4 : eCPRI O-DU/ O-RU Delay Model Latency Parameters 19 
 eCPRI Latency eCPRI 
Minimum Maximum 
Downlink 
O-DU T1a Measured from output at O-DU (R1) to 
transmission over the air. 
T1amin T1amax 
O-RU T2a Measured from reception at O-RU (R2) to 
transmission over the air 
T2amin T2amax 
Uplink 
O-DU Ta4 Measured from reception at O-RU antenna to 
reception at O-DU port (R4). 
Ta4min Ta4max 
O-RU Ta3 Measured from reception at O-RU antenna to 
output at O-RU port (R3) 
Ta3min Ta3max 
 20 
It is expected that a common timescale is used on both ends of the link. The relative time error of the S-plane 21 
measurement signals between the O-DU and O-RU, for the purposes of latency requirements management, should be 22 
within a limit of 3µs (±1.5 µsec).  23 
• This requirement allows for the measurement of the transport delay (i.e., between O-DU and O-RU UNIs) with 24 
a measurement error that is sufficiently lower than the delay that is to be measured (e.g., 10 times lower).   25 
• In case of LLS-C1 and LLS-C2, due to Section 9.3.2 requirements, the relative time error of the S-plane 26 
measurement signals between the O-DU and O-RU would always be within the limit of 3µs (±1.5 µsec).  27 
• In case of LLS-C3 and LLS-C4, the synchronization network would need to meet G.8271.1 or G.8271.2 28 
network limits in order to meet similar requirements (relative time error of the S-plane measurement signals 29 
between the O-DU and O-RU within a limit of 3µs). 30 
• The upper bound on the absolute time error requirement at the O-DU S-Plane is dictated by the O-RU’s receive 31 
window, the delay and PDV in the transport network and the O-DU’s internal delays.  32 
 33 
O-DU O-RU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      27 
O-RAN.WG4.CUS.0-v07.00 
2.3.1 Timing Parameter Relationships 1 
To ensure proper reception of data at the receiver over the packet interface, there are several relationships between the 2 
parameters defined above which must be met.  First it is important to understand the nature of the transmission itself.  In 3 
either direction (downlink/ uplink) it takes some amount of time for the sender to actually transmit the packets onto the 4 
transmission media.  However, the amount of data for any interval (e.g symbol) can vary thus resulting differing 5 
transmit times.  This transmission time can be affected by several factors including (but not limited to) transport media 6 
rate, air interface bandwidth, and amount of data compression.   The maximum amount of time allowed for the 7 
transmitter to send all data for an interval (Transmission Window) is defined by T1amax – T1amin.  It is important to 8 
note that this is the allowed time, based on transport and O-RU characteristics.  This is explained in greater detail, and 9 
its impacts on O-DU in section 2.3.1.1.     10 
To account for transport variation and transmission time the receiver implements a reception window.  This allows 11 
packets containing samples for a specific symbol to be received within the window and still be transmitted at Ra at the 12 
required time.  The size of the Reception Window must account for both the maximum transmission time at the sender 13 
and the transport variation through the fronthaul network.  The result is the first of the delay relationships which must 14 
be met to ensure a working delay solution. 15 
Reception Window ≥ Transmission Window + Transport Variation 16 
Table 2-5 : eCPRI Delay Windows 17 
 Reception Window Transmission Window Transport Variation 
Downlink T2amax – T2amin T1amax – T1amin T12max – T12min 
Uplink Ta4max – Ta4min Ta3max – Ta3min T34max – T34min 
 18 
The position (in time) of the reception/ transmission windows at the O-RU is fixed relative to the air interface.  19 
However, the position of the corresponding windows at the O-DU is a function of the O-RU and transport parameters.  20 
For guaranteed reception of packets sent from O-DU to O-RU within the O-RU reception window, the following 21 
relationships must also be met1: 22 
Table 2-6 : O-DU transmission/ reception window position (in time) 23 
O-DU Timing Parameter O-DU Transmit Boundary Relationships  
Downlink 
(Transmit) 
No earlier than T1amax T1amax ≤ T2amax + T12min 
No later than T1amin T1amin ≥ T2amin + T12max 
Uplink 
(Receive) 
No earlier than  Ta4min Ta4min ≤ Ta3min + T34min 
No later than Ta4max Ta4max ≥ Ta3max + T34max 
 24 
2.3.1.1 O-DU Transmission Window 25 
The U-Plane O-DU transmission window (T1amax – T1amin) is defined by the relationships above based on the O-RU 26 
reception window and max transport variation.  It does not define the exact timing of transmission from the O-DU.  27 
Rather, it defines the boundaries that the U-Plane O-DU transmission must operate within.  The window merely 28 
represents the mathematical boundaries imposed on the O-DU as a result of the O-RU and Transport constraints.  It is 29 
possible to define the constraints for any one of O-DU, transport and O-RU based on knowledge of the other two.  30 
However, typically the O-RU constraint is predefined based on the equipment and transport is part of the overall 31 
network goals. 32 
The window resulting from the relationships must be greater than or equal to the actual maximum time required by the 33 
O-DU to transmit all data for a symbol (TXmaxO-DU).  That is, the window must be at least large enough that the O-DU 34 
can transmit in the worst case within the window.  Where, within the window, the O-DU transmits (e.g. beginning, 35 
middle, end) and how much of the window is consumed by the O-DU transmission is a matter of O-DU design. 36 
The following downlink example illustrates the concept: 37 
• O-RU parameters:  T2amin = 100 usec, T2amax = 260 usec 38 
• Transport Parameters (direct fiber of known length):  T12min = 50 usec, T12max = 51 usec 39 
 
1 Refer to Annex B for explanation of these inequalities.  

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      28 
O-RAN.WG4.CUS.0-v07.00 
The result indicates an O-DU transmission window as follows: 1 
• T1amax ≤ 260 + 50  2 
• T1amin ≥ 100 + 51 3 
This provides a very large transmit window available to the O-DU.  If, for example, the TXmaxO-DU is only 30 usec, 4 
then the O-DU can determine where within the window to start its transmission, so long as the transmission completes 5 
prior to T1amin. 6 
If, however, this same O-DU were paired with an O-RU with smaller reception window (e.g. T2amin = 100, T2amax = 7 
150) using a transport network with the same T12min, but with 15 usec of PDV (T12max = 65), the result is: 8 
• T1amax ≤ 150 + 50 9 
• T1amin ≥ 100 + 65 10 
The delay solution still works (200 – 165 ≥ 30), but with far less margin, and far less flexibility as to where within the 11 
window the O-DU may begin transmission. 12 
 The C-plane O-DU transmission window follows the same concept as the U-plane O-DU transmit window. 13 
However, the C-plane O-DU transmission window can be larger in size and hence, can start much earlier in time 14 
compared to the U-plane O-DU transmission window.  15 
In certain scenarios such as sending the beamforming weights in real-time for mMIMO application using section 16 
extension type 11, the C-plane messages need to be spread over time to avoid peak throughput. To illustrate the use 17 
case, consider Figure 2-10: 18 
 19 
Figure 2-10 : Example of the benefit of using a longer C-Plane tx/rx window compared to the U-Plane windows 20 
2.3.2 U-Plane/ C-Plane Timing 21 
The basic delay parameters above describe the general delay model and characteristics of the O-RAN interface.  22 
However, the ORAN interface is divided into C-Plane and U-Plane parts.  The C-Plane must be available in order to 23 
process the corresponding U-Plane packets.  To support coordination of C-Plane and U-Plane timing, the O-RAN 24 
interface specifies that C-Plane messages must arrive at the O-RU some amount of time in advance (Tcp_adv_dl) of the 25 
latest possible time the first corresponding U-Plane messages may arrive.  (Note that it is possible for Tcp_adv_dl to be 26 
set to 0, but the O-RAN delay model does not assume this.)  As a result, O-RAN has defined the downlink timing 27 
relationships and parameters shown in Figure 2-11. 28 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      29 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 2-11 : Timing relations per symbol IQ in DL direction (U-Plane and C-Plane) 2 
O-RAN does not assume that the transmission windows for C-Plane and U-Plane are of the same size.  Tcp_adv_dl 3 
allows for different alignment of the respective transmission/ reception windows as illustrated in the figure. The 4 
reference (denoted as “tDL=0”) is the transmission of the earliest IQ sample in time domain within a symbol (including 5 
cyclic prefix) which is generated from the IQ data received in a U-plane messages specific to a symbol identified by 6 
symbolId (optionally adjusted by timeOffset).  7 
A downlink C-plane message can refer to one or more symbols; transmission and reception windows for a downlink C-8 
plane message referencing multiple symbols are relative to the start of the earliest symbol referenced by the message 9 
(identified by startSymbolId; optionally adjusted by timeOffset). 10 
For uplink, the C-Plane is sent from O-DU to O-RU, while the U-Plane is from O-RU to O-DU.  Since uplink C-Plane 11 
is from O-DU to O-RU, it uses the R1/ R2 reference points, and corresponding timing parameters.  However, the uplink 12 
C-Plane timing is not characterized relative to the downlink C-Plane or U-Plane timing, but relative to Ra.  The 13 
resulting O-RAN delay model for non-PRACH channels is shown in Figure 2-12.  14 
start of Tx window C-Plane DL end of Tx window C-Plane DL 
Transmission 
Window 
C-Plane DL 
Reception Window C-Plane DL 
C-Plane data 
for symbol #n 
c 
c 
Symbol #n-2 
start of Rx window C-Plane DL 
Symbol #n-1 Symbol #n Symbol #n+1 
  
O-
DU 
O-
RU 
tDL=0 
Symbol #n 
Processing 
Symbol #n+1 
Processing 
#n 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      30 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 2-12 : Timing relations per symbol IQ in UL direction (U-Plane and C-Plane) 2 
An uplink C-plane message not describing PRACH channels can refer to one or more symbols. The reference point for 3 
uplink C-plane message (denoted as “tUL=0”) is the reception of the earliest IQ sample in time domain (start of cyclic 4 
prefix) that is specific to the earliest symbol referenced by the message (pointed by startSymbolId; if Section Type 3 5 
message is used, timeOffset will also point to this reference point). 6 
The reference point for uplink U-plane messages related to non-PRACH channels (denoted as “tUL=0”) is the reception 7 
of the earliest IQ sample in time domain within a symbol (start of cyclic prefix) referenced by the message (pointed by 8 
symbolId; if Section Type 3 message is used, timeOffset will also point to this reference point). Note that “tUL=0” is 9 
not affected by FFT sampling offset configured over M-plane since configured FFT sampling offset cannot be longer 10 
than CP-length. 11 
Due to the characteristics regarding CP-length and symbol-length of PRACH-symbols, PRACH is handled in a separate 12 
way. Especially for the long preamble PRACH formats 0..3 (see reference 3GPP TS 38.211) the length of both the CP 13 
and the length of the repeatable part is much larger than corresponding parts for e.g. PUSCH symbols. For the other 14 
PRACH formats (A1..C2) the length of the CP could be very long compared to the CP for the PUSCH symbols (up to 15 
roughly 14 times longer (C2)). The consequence of either long CP and/or long repeatable part of specific PRACH 16 
formats is that the values of Ta3_min and Ta3_max are increased. Due to this, PRACH CP duration and number of 17 
repetitive parts are excluded from the values for these parameters provided by O-RU. 18 
The O-DU is aware of the characteristics of the PRACH format being used (e.g., length of CP, number of repetitions), 19 
and with this information the position and size of the reception window is calculated by the O-DU. The used values for 20 
Ta3_min and Ta3_max are the ones being retrieved from the O-RU for the SCS being used for PRACH.  21 
An uplink C-plane message describing PRACH can refer to one or more repeatable parts of PRACH sequence (PRACH 22 
repetitions) depending on the PRACH format. For PRACH formats with repetition, only a single C-plane message is 23 
used to refer to all PRACH repetitions for a particular PRACH occasion.  24 
The reference point for PRACH C-plane message is pointed by startSymbolId and: 25 
- Is the reception of the earliest IQ sample in time domain (start of cyclic prefix) that is specific to the PRACH 26 
repetition referenced by the message; 27 
- This is allowed only for PRACH formats without repetitions and with only one PRACH occasion in a slot, 28 
e.g. Format 0; 29 
- In this case, cpLength is set to a non-zero value in the PRACH C-plane (Section Type 3) message, which 30 
should indicate the actual CP duration; 31 
- Or is the start of the latest symbol timing that starts right at or before the reception of the earliest IQ sample in time 32 
domain (after PRACH cyclic prefix) that is specific to the earliest PRACH repetition referenced by the message; 33 
Transmission 
Window 
C-Plane UL 
Reception Window 
C-Plane UL 
c 
c 
O-
DU 
O-
RU Symbol #n 
Processing 
Symbol #n+1 
Processing 
tUL=0 
c-plane data 
for symbol #n 
Symbol #n-2 Symbol #n-1 Symbol #n Symbol #n+1 
  
#n 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      31 
O-RAN.WG4.CUS.0-v07.00 
- This is allowed for all PRACH formats; 1 
- In this case, cpLength is set to zero in the PRACH C-plane (Section Type 3) message; 2 
- If the SCS value provided by “frameStructure” is equal to or greater than 15 kHz, then the symbol timing 3 
used to determine startSymbolId is based on the numerology of the SCS value provided by 4 
“frameStructure”. Else, if the SCS value provided by “frameStructure” is less than 15 kHz (e.g. for long 5 
preamble PRACH formats), then the symbol timing used to determine startSymbolId is based on the 6 
numerology of 15 kHz SCS; 7 
- When ul-fft-sampling-offset for PRACH is configured (via M-plane) to a non-zero value, the timing of the 8 
earliest IQ sample is advanced by that value. However, the reference symbol timing that is used to determine 9 
the startSymbolId value in the PRACH C-plane message is unaffected by ul-fft-sampling-offset. Therefore, 10 
with a non-zero ul-fft-sampling offset for PRACH, it is possible that “the latest symbol timing that starts 11 
right at or before the reception of the earliest IQ sample in time domain (after PRACH cyclic prefix) that is 12 
specific to the earliest PRACH repetition” may change to an earlier symbol timing compared to the case 13 
where ul-fft-sampling-offset for PRACH is zero. So, the O-DU needs to take ul-fft-sampling-offset for 14 
PRACH into account when determining the startSymbolId value. However, it is noted that even if ul-fft-15 
sampling-offset for PRACH is configured to a non-zero value, it is expected to be in the order of nano 16 
seconds (i.e., less than 1 microsecond).  17 
The reference point for PRACH U-plane message is the reception of the earliest IQ sample in time domain within a 18 
PRACH repetition (after PRACH cyclic prefix) referenced by the message.  19 
- For the first PRACH repetition: 20 
- If cpLength is set to a non-zero value in the PRACH C-plane (Section Type 3) message referencing the 21 
PRACH repetition, this reference point for PRACH U-plane message is pointed by timeOffset (pointing to 22 
the start of PRACH cyclic prefix) + cpLength – ul-fft-sampling-offset (for PRACH); 23 
- Else, if cpLength is set to zero in the PRACH C-plane (Section Type 3) message referencing the PRACH 24 
repetition, this reference point for PRACH U-plane message is pointed by timeOffset (pointing to the start of 25 
the PRACH repetition (after PRACH cyclic prefix)) – ul-fft-sampling-offset (for PRACH); 26 
- For subsequent PRACH repetitions (for PRACH formats with repetition), this reference point for PRACH U-plane 27 
message is shifted by the PRACH sequence duration. 28 
Figures 2-13 to 2-16 illustrate timing relationships for PRACH taking some specific PRACH formats (Format 0, 29 
Format 1, Format B4 and Format C0) as examples.  30 
 31 
Figure 2-13 : Timing relations for PRACH (Example 1: PRACH Format 0) 32 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      32 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 2-14 : Timing relations for PRACH (Example 2: PRACH Format 1) 2 
 3 
Figure 2-15 : Timing relations for PRACH (Example 3: PRACH Format B4) 4 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      33 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 2-16 : Timing relations for PRACH (Example 4: PRACH Format C0) 2 
 3 
The resulting O-RAN delay model parameters are summarized on Table 2-7.  The respective sections within the table 4 
for O-RU and O-DU define the delay profile parameters for the equipment. 5 
 6 
Table 2-7 : O-RAN Delay Management Model Parameters 7 
DL UL DL UL
T12min T12_min T12_min T12_min NA
T12max T12_max T12_max T12_max NA
T34min NA NA NA T34_min
T34max NA NA NA T34_max
T2amin T2a_min_cp_dl T2a_min_cp_ul T2a_min_up NA
T2amax T2a_max_cp_dl T2a_max_cp_ul T2a_max_up NA
Tcp_adv_dl NA NA NA
Ta3min NA NA NA Ta3_min
Ta3max NA NA NA Ta3_max
T1amin T1a_min_cp_dl T1a_min_cp_ul T1a_min_up NA
T1amax T1a_max_cp_dl T1a_max_cp_ul T1a_max_up NA
Ta4min NA NA NA Ta4_min
Ta4max NA NA NA Ta4_max
C-Plane U-Plane
Network
O-RU
O-DU
Model Parameters
 8 
The relationships between the various delay model parameters are defined below: 9 
Table 2-8 : Downlink Delay Relationships 10 
 Earliest transmission from O-DU Latest Transmission from O-DU 
U-Plane T1a_max_up ≤ T2a_max_up + T12_min T1a_min_up ≥ T2a_min_up + T12_max 
C-Plane T1a_max_cp_dl ≤ T2a_max_cp_dl + T12_min T1a_min_cp_dl ≥ T2a_min_cp_dl + T12_max 
 11 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      34 
O-RAN.WG4.CUS.0-v07.00 
Table 2-9 : Uplink Delay Relationships 1 
 Earliest Reception at O-DU Latest Reception at O-DU 
U-Plane Ta4min ≤ Ta3min + T34min Ta4max ≥ Ta3max + T34max 
C-Plane T1a_min_cp_ul ≥ T2a_min_cp_ul + T12_max T1a_max_cp_ul ≤ T2a_max_cp_ul + T12_min 
 2 
For the O-RAN interface to operate properly, the transmit and receive windows at the O-DU must be properly aligned.  3 
(The O-RU window alignment is always based on Ra.)  For the O-DU to align transmit and receive windows, it needs 4 
the following: 5 
• O-RU Delay Characteristics 6 
• Transport Network Delay Characteristics 7 
The expected accuracy of the reported O-RU delay characteristics is 200ns.   The 200ns value was decided as a 8 
compromise between a very high accuracy (tens of nanoseconds) which makes buffering in the O-RU easier and a more 9 
modest accuracy (~0.5 microseconds) which is relatively easy for a well-controlled Ethernet network to accomplish.  10 
This accuracy applies only to the reported start and end times of the reception and transmission windows relative to Ra.  11 
Ra is a fixed reference point as defined by the respective air interface standards and supported features.  As an example, 12 
if the O-RU reports T2a_min_up of 20 µs, the O-RU may begin processing the data from 19.8 µs to 20.2 µs prior to the 13 
symbol over the air transmission time (Ra).  However, the O-RU MUST still transmit over the air with the precision as 14 
defined by the air interface standards. 15 
The remainder of this chapter addresses O-RAN supported methods for providing the O-DU with the required 16 
information to properly align transmit and receive windows.  The following methods are supported: 17 
Table 2-10 : O-DU transmit/ receive window alignment methods 18 
Delay 
Characteristics 
Computed Methods 
Defined Transport Measured Transport 
O-RU Delay O-RU specific values available to O-
DU 
O-RU specific values available to O-DU 
Transport 
Delay 
Pre-defined Min/ Max Min – Measured; PDVmax - SLA 
 19 
2.3.3 Computed Latency Methods 20 
As previously noted, the goal of delay management for O-RAN interfaces is to ensure that the transmission/ reception 21 
windows as the O-DU are properly aligned to support the O-RU and transport network characteristics.  The computed 22 
methods require the O-DU to compute the required transmit and receive windows based on O-RU delay and transport 23 
network characteristics. The O-DU then determines if the O-DU can accommodate the required transmit and receive 24 
windows.  If so, it sets its transmit and receive windows (based on O-DU design) to the most appropriate settings.  As 25 
an example, an O-DU may have a fixed set of transmit and receive windows.  The O-DU may then select the fixed 26 
settings that best fit the transport latency (T12/ T34) and O-RU delay characteristics for the connected O-RUs. 27 
The O-DU should raise some notification if it is not capable of accommodating the required transmit and receive 28 
windows.   29 
Alignment of the transmit window at the O-DU requires that the following conditions be met based on the downlink 30 
delay relationships defined in Table 2-8: 31 
• The O-DU MUST be able to transmit DL U-Plane (T1a_min_up/ T1a_max_up) 32 
• Early enough (e.g. before T1a_min_up) to ensure it is received at O-RU before T2a_min_up 33 
• Late enough (e.g. after T1a_max_up) to ensure it is NOT received before T2a_max_up 34 
• Similarly, the O-DU must be able to transmit C-Plane messages within their respective windows 35 
Alignment of the receive window at the O-DU requires that the following conditions be met based on the uplink delay 36 
relationships defined in Table 2-9 : 37 
• The O-DU MUST set its receive window for UL U-Plane (Ta4_min, Ta4_max) 38 
• Early enough to ensure UL U-Plane is not received before Ta4_min 39 
• Late enough to ensure UL U-Plane is not received after Ta4_max 40 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      35 
O-RAN.WG4.CUS.0-v07.00 
The following O-DU constraints must be met for delay management to operate properly: 1 
 2 
 3 
Table 2-11 : O-DU Constraints 4 
O-DU  Constraint 
Description Parameter Relationship 
Transmit 
Window 
(U-Plane) 
maximum required transmit 
window 
TXmaxO-DU T1a_max_up – T1a_min_up ≥ TXmaxO-DU  
Maximum supported 
T1a_max_up 
T1a_max_upO-DU T1a_max_upO-DU ≥ T1a_max_up 
Receive 
Window 
Maximum supported receive 
window 
RXmaxO-DU RXmaxO-DU ≥ Ta4_max - Ta4_min 
Maximum supported uplink 
latency relative to Ra 
Ta4_maxO-DU Ta4_maxO-DU ≥ Ta4_max 
Transmit 
Window 
(C-plane) 
maximum required transmit 
window 
TXmaxO-DU-C-plane T1a_max_cp_dl – T1a_min_cp_dl ≥ TXmaxO-DU-C-plane  
 5 
If any of the O-DU constraints is violated, then proper delay operation cannot be assured.   6 
2.3.3.1 Fronthaul Timing Domain 7 
When using a computed delay approach, the domain over which the O-DU delay parameters apply must be considered.  8 
A timing domain is defined as the set of O-DU and O-RU ports to which the computed O-DU delay parameters apply.  9 
The O-DU timing domain may encompass a single O-DU port, or may encompass multiple O-DU ports, where the O-10 
DU requires the same O-DU timing parameters to apply to all O-DU ports in the domain. 11 
Similarly, each O-DU port in the domain may support O-RAN C/U-Plane traffic to 1 or more O-RU ports.  Therefore, a 12 
fronthaul timing domain encompasses one or more DU_Port_IDs and one or more RU_port_IDs. 13 
When computing the O-DU transmit/ receive windows, the single set of delay parameters for the O-DU must 14 
encompass the worst case of Transport and O-RU delay characteristics within the domain.  The following definitions 15 
are used: 16 
• Transport Network Parameters for timing domain 17 
 T12_minij : T12_min between DU_Port_ID(i) and RU_Port_ID(j) 18 
T34_minij : T34_min between DU_Port_ID(i) and RU_Port_ID(j) 19 
NOTE: it is assumed that if a timing domain has multiple T12_min/ T34_min values, then the transport delay 20 
characteristics are measured.  For measured transport delay it is not possible to measure the maximum delay.  T12_max 21 
and T34_max in this case is computed by adding an a pre-defined (e.g. via SLA) worst case variation (PDVmax) to the 22 
corresponding transport minimum delay values. 23 
Table 2-12: Radio Delay Parameters for O-RU Port "j" within timing domain 24 
 Downlink U-Plane Uplink U-Plane Downlink C-Plane2 Uplink C-Plane 
Minimum T2a_min_upj Ta3_minj T2a_min_cp_dlj T2a_min_cp_ulj 
Maximum T2a_max_upj Ta3_maxj T2a_max_cp_dlj T2a_max_cp_ulj 
  25 
The resulting parameters to be used for determining the O-DU window for the timing domain are: 26 
Table 2-13 : Transport Network Parameters for Timing Domain 27 
 Downlink Uplink 
Minimum T12_min = MIN(T12_minij) T34_min = MIN(T34_minij) 
Maximum T12_max = MAX(T12_minij) + PDVmax T34_max = MAX(T34_minij) + PDVmax 
 28 
 
2 Tcp_adv_dl may be different across RUs within a domain, therefore T2a_min_cp_dl and T2a_max_cp_dl must be used to determine 
downlink C-Plane window. 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      36 
O-RAN.WG4.CUS.0-v07.00 
Table 2-14 : O-RU Delay Parameters for Timing Domain 1 
  U-Plane C-Plane 
Downlink Minimum T2a_min_up = MAX(T2a_min_upj) T2a_min_cp_dl = MAX(T2a_min_cp_dlj) 
Maximum T2a_max_up = MIN(T2a_max_upj) T2a_max_cp_dl = MIN(T2a_max_cp_dlj) 
Uplink Minimum Ta3_min = MIN(Ta3_minj) T2a_min_cp_ul = MAX(T2a_min_cp_ulj) 
Maximum Ta3_max = MAX(Ta3_maxj) T2a_max_cp_ul = MIN(T2a_max_cp_ulj) 
The tables defined above are used to derive the corresponding delay parameters to be used in the timing relationships 2 
defined in Table 2-8 and Table 2-9  to support the computed methods defined below. 3 
When using a computed delay approach, there are two situations that are considered within O-RAN: 4 
• Defined Transport Method: the network delay is pre-defined (usually by the network operator) and the 5 
delays are computed based on that definition.  The definition generally considers the maximum network 6 
latency, with an assumption that a smaller delay can more easily be accommodated. 7 
• Measured Transport method: the network delay is estimated based on actual measurements of packet latency 8 
on the downlink and uplink (sometimes a symmetric delay is assumed but this is not necessary). 9 
 10 
Regardless of whether the Defined Transport Method or Measured Transport Method is used, the calculations are 11 
mainly the same.  The next two sub-sections describe in more detail these two methods. 12 
 13 
2.3.3.2 Defined Transport Method 14 
With the Defined Transport method, the O-DU transmit and receive windows are determined based on pre-defined 15 
transport network characteristics, and the delay characteristics of the O-RUs within the timing domain.  For this 16 
approach to work, the O-RU delay characteristics as defined in Table 2-14 for each O-RU in the timing domain must be 17 
available to the O-DU.  The O-DU can adapt its transmit and receive windows to accommodate the O-RU delay 18 
characteristics if O-DU has that capability.   The adaptation of the O-DU transmission and reception windows may be 19 
limited based on the O-DU design. 20 
Table 2-15 : DL and UL Delay Profiles 21 
 O-RU delay profile O-DU delay profile 
Downlink 
T2a_min_up, T2a_max_up, 
T2a_min_cp_dl, T2a_max_cp_dl, 
Tcp_adv_dl 
T1a_max_upO-DU, TXmaxO-DU 
Uplink Ta3_min, Ta3_max, T2a_min_cp_ul, 
T2a_max_cp_ul 
Ta4_maxO-DU, RXmaxO-DU 
 22 
Refer to M-Plane specification for details on how O-RU parameters are obtained.  Optionally, an O-RU may adapt its 23 
delay profile information, especially for uplink, based on O-DU delay profile and transport delay (T12_min/ T34_min).  24 
If this option is supported, then the O-DU must provide its delay profile as well as the T12_min to the O-RU.  The 25 
exchange of this information should use the same approach as defined for exchange of O-RU delay profile.  With this 26 
option, the O-RU receives the O-DU delay profile before sending its delay profile to the O-DU.  The O-DU is unaware 27 
that the O-RU delay profile information has been modified.   It simply uses the delay profile provided by the O-RU as it 28 
would without this option. 29 
As previously noted, delay characteristics for an O-RU may vary based on air interface properties.  To ensure 30 
interoperability, O-RAN supported air interface properties which may be used as the basis for supporting different delay 31 
characteristics are limited to: 32 
- Channel Bandwidth 33 
- SCS 34 
 35 
A set of delay characteristics which applies to a combination of the above properties is referred to as a delay profile.  36 
For each supported combination of the above properties that an O-RU supports, a delay profile must be identified.  Note 37 
it is possible for multiple combinations of the above properties to utilize the same O-RU delay profile.  These delay 38 
profiles are O-RU specific, and are not within the scope of the O-RAN specification.   39 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      37 
O-RAN.WG4.CUS.0-v07.00 
When calculating the O-DU transmit and receive window for a timing domain, the O-DU must use the delay profile 1 
applicable for each O-RU based on the air interface properties used by the O-RU in the specific network configuration.  2 
As previously noted, it is possible that the O-DU design is not capable of adjusting its transmit/ delay windows to meet 3 
the required transmit or receive windows.   4 
The O-RU and O-DU may have multiple delay profiles depending on the design as shown in Table 2-14.5 
Using the delay parameters specified for the corresponding profile for each O-RU in the timing domain, the uplink and 6 
downlink O-RU parameters to use for the timing domain can be determined as specified in section 2.3.3.1 Table 2-12.  7 
The transport delay parameters are constant for this method and specified as part of the network.  The delay 8 
relationships as previously defined in Table 2-8 and Table 2-9 can then be applied to determine the O-DU transmit and 9 
receive delay parameters.  Finally, the O-DU uplink and downlink constraints as defined in Table 2-11 are applied to 10 
ensure that the calculated windows can be supported. 11 
2.3.3.3 Measured Transport Method 12 
With the Measured Transport method, the O-DU transmit and receive windows are determined based on the delay 13 
characteristics of the O-RUs as defined in section 2.3.3.2, and measured transport delays between all O-DU ports and 14 
O-RU ports in the timing domain.  The O-DU must measure the transport delay(s) for all O-RU/O-DU port pairs in the 15 
timing domain and adapt its transmit and receive windows to accommodate the measured transport delay 16 
characteristics. 17 
O-RAN specifies the use of the One-Way Delay Measurement messages as defined in the eCPRI specification [2].  18 
Some of the benefits of using the eCPRI approach are: 19 
• Measurement consistency between the C-Plane and U-Plane is achieved by using a single processing element 20 
(see section 1.3.1 for the definition of a processing element) and associated C/U-Plane endpoint address for the 21 
measurement.   22 
• eCPRI One-Way Delay Measurement allows for varying packet sizes to better simulate real traffic. 23 
• eCPRI approach allows for separate T12 and T34 measurements. 24 
Note that for this delay measurement eCPRI One-Way Delay protocol must be used because no other specified transport 25 
mechanism supports one-way delay measurements – this is true even if RoE is used as the C-Plane and U-Plane 26 
transport mechanism. 27 
 28 
Table 2-16 : eCPRI One-Way Delay Measurement Message 29 
One-Way Delay Measurement (Type 5) 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
  
ecpriVersion ecpriReserved ecpriConcat 
enation 
1 Octet 1 
ecpriMessage = 5 1 Octet 2 
ecprPayload 2 Octet 3 
Measurement ID 1 Octet 5 
Action Type 1 Octet 6 
TimeStamp (seconds) 6 Octet 7 
TimeStamp (nanoseconds) 4 Octet 13 
Compensation value (nanoseconds) 8 Octet 17 
Dummy bytes L Octet 25 
                  Octet M 
 30 
The O-DU is the initiator for measuring T12 and optionally T34 according to Figure 2-17 (T12) and Figure 2-18(T34). 31 
eCPRI Specification [3] defines 2 methods for measuring the One-Way-Delay, a 1-Step and a 2-Step method. With the 32 
1-Step method the sender of the Request message will include the values of t1 and tCV1 in the request. With the 2-Step 33 
method these values are included in a Follow-Up message. See [3] for detailed information of this procedure. 34 
Usage of either 1-Step or 2-Step method for the T34 measurement is controlled by M-Plane O-RU capability parameters 35 
one-step-t34-supported and two-step-t34-supported. When the O-RU supports Measured Transport Method (eCPRI 36 
Msg 5) the O-RU needs to support at least one of the methods for measurement of T34. When the two parameters are 37 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      38 
O-RAN.WG4.CUS.0-v07.00 
reported by the O-RU in the capability report, the O-RU shall support both 1-Step and 2-Step method of the T12 1 
measurement. If the O-DU will initiate a T34 measurement, the O-DU shall support both 1-Step and 2-Step method of 2 
the T34 measurement. When the two parameters are not reported by the O-RU in the capability report, but measured 3 
transport method is supported by the O-RU, the O-DU may probe the O-RU capabilities by using either 1-step or 2-step 4 
method when performing a T12 or T34 measurement. 5 
  6 
O-DU
(Initiator)
t1
tCV1
t2
tD = (t2 - tCV2) – (t1  + tCV1)
tCV2
tD = (t2 - tCV2) – (t1  + tCV1)
Measurement of T12
with and without Follow -UP O-RU
t1
tCV1
t2
tD = (t2 - tCV2) – (t1  + tCV1)
tCV2
tD = (t2 - tCV2) – (t1  + tCV1)
2-Step method
1-Step method
 7 
Figure 2-17 : eCPRI One-Way Delay T12 Measurement procedure 8 
 9 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      39 
O-RAN.WG4.CUS.0-v07.00 
tCV1
t2
tCV2
t1
tD = (t2 - tCV2) – (t1  + tCV1)
tD = (t2 - tCV2) – (t1  + tCV1)
O-DU
(Initiator)
Measurement of T34
with and without Follow -UP O-RU
tCV1
t2
tCV2
t1
tD = (t2 - tCV2) – (t1  + tCV1)
tD = (t2 - tCV2) – (t1  + tCV1)
1-Step method
2-Step method
 1 
Figure 2-18: eCPRI One-Way Delay T32 Measurement procedure 2 
Note that when measuring the one-way delay, the goal is to determine the minimum transport delay.  Since any 3 
individual packet can experience different delays through the network due to PDV, it is necessary to perform multiple 4 
measurements.  Since the desired value is the minimum (T12_min or T34_min), the minimum delay measurement 5 
among the various measurements is used to estimate the minimum transport delay.  The O-DU may use the estimated 6 
T12_min value as the T34_min value. 7 
There is no theoretical upper bound for transport delay.  The maximum values are determined based on the measured 8 
minimum values plus a maximum allowed transport variation (PDVmax) defined as part of the SLA for the transport 9 
network. 10 
The O-DU must measure the delay corresponding to each O-DU/ O-RU port pair within the timing domain.  The per 11 
port pair minimum delay are then used as per Table 2-12 to provide the transport parameters to be used in the delay 12 
relationships specified in Table 2-8 and Table 2-9 . The resulting delay configuration must meet the O-DU constraints 13 
defined in Table 2-11. 14 
Since the transport delay is necessary to establish correct timing, this measurement is performed initially before sending 15 
of C/U-Plane traffic.  The measurement should be performed with packets using the same L2 Cos Priority or L3 DSCP 16 
Code as the U-Plane data uses, to ensure the measurement accurately reflects the U-Plane transport latency. This could 17 
also be done periodically to verify delay if desired.  Note however that section 2.4 describes traffic counts which can 18 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      40 
O-RAN.WG4.CUS.0-v07.00 
also be used for error detection.  If an error is detected, it may be necessary to re-measure the delay and update the O-1 
DU or O-RU timing based on the new measurements. 2 
2.3.4 Latency Categories for O-DU with dynamic timing advance  3 
As an aide to selection of equipment for use in specific transport network use cases, O-RAN O-DU and O-RU are 4 
categorized based on delay capabilities.  Equipment is categorized with a Category [AAAA-ZZ] and Sub-category [.00-5 
.1000].  The category can be used to determine the maximum T12max/ T34max which the equipment can support.  6 
Categories are determined as follows: 7 
• T1a_maxO-DU ≥ T12max + T2a_min_up 8 
• Ta4_maxO-DU ≥ T34max + Ta3_max_up 9 
 10 
By definition T1a_max_upO-DU  is the earliest that the O-DU can begin transmission.  This results in that the earliest 11 
that the O-DU can be guaranteed to complete transmission is T1a_max_upO-DU - TXmaxO-DU.  The result is that: 12 
• T1a_max_upO-DU - TXmaxO-DU - T2a_min_up ≥ T12max  13 
Similarly, for uplink Ta4_max_upO-DU is the latest that the O-DU may receive any packet from the O-RU.  Therefore: 14 
• Ta4_max_upO-DU - Ta3_max_up ≥ T34max  15 
 16 
Both of these are illustrated in the Figure 2-19 below: 17 
 18 
Figure 2-19 : Uplink and Downlink Timing Parameter Relationship 19 
 Using these inequalities, O-DU and O-RU can be assigned categories based the following constraints: 20 
 21 
Description O-DU O-RU Processing Transport
Downlink Max Transport T1a_max_upO-DU - TXmaxO-DU T2a_min_up T12_max = T1a_max_up O-DU - TXmaxO-DU - T2a_min_up
Uplink Max Transport Ta4_max_upO-DU Ta3_max_up T34_max = Ta4_max_up O-DU - Ta3_max_up
Parameters Constraint
 22 
Note that the maximum range that can be supported is based on the minimum value of T12_max/ T34_max from above.  23 
This requires separate categorization for UL and DL for each O-DU and O-RU.  Therefore, an uplink category pair 24 
(AX) and downlink category pair (BY) must be evaluated for each pairing of O-DU and O-RU.  The minimum distance 25 
(T12_max/ T34_max) represented by the corresponding pairs (AX/ BY) then identifies the maximum transport latency 26 
which can be supported by the pair. 27 
Each endpoint has a specific value for the characteristics defined in the table immediately above.  In order to categorize 28 
endpoints, the endpoints are grouped based on the range in which the maximum transport characteristic falls.  The 29 
category identification then means that the maximum transport characteristic for the endpoint falls somewhere between 30 
the maximum and minimum values for the category.   31 
O-DU 
O-DU 
O-DU 
O-DU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      41 
O-RAN.WG4.CUS.0-v07.00 
Since the category identifies that the maximum latency supported for the endpoint falls somewhere within the category 1 
range, the resulting category pair (AX) defines a range of T12_max/ T34_max for the combination.  The combination 2 
can be used to identify a maximum T12_max/ T34_max and minimum T12_max/ T34_max that the combination can 3 
support.  The category pair identifies a best and worst case for the maximum range the combination can support.  The 4 
actual maximum range supported by a specific O-DU/ O-RU with a given category combination will fall somewhere 5 
within the range.  That is, for a given O-DU with category A and O-RU with category X, the T12_max/ T34_max 6 
supported by the pair is defined as: 7 
• Latency_minAX ≤ (T12_max = T34_max) ≤ Latency_maxAX 8 
Additionally, the paired combination can be mapped to supported use cases.  Annex B.1 contains the category 9 
definitions, Latency_min, Latency_max, and use case tables. 10 
Note that categories are only useful for identifying the maximum possible range (T12_max/ T34_max) values.  To be 11 
able to usefully identify equipment for a given use-case, it is also necessary to be able to identify T12_min/ T34_min 12 
values.  This can be defined in terms of variation, where variation indicates how much lower T12_min/ T34_min can be 13 
relative to T12_max/ T34_max respectively.  That is: 14 
• DL Variation = T12_max – T12_min 15 
• UL Variation = T34_max – T34_min 16 
An additional level of categorization is required to address the transport delay variation (e.g. T12max – T12min) that a 17 
given equipment type pair can support.  This is addressed using sub-categories.  Note that the total variation that can be 18 
supported is a combination of the receive window at the receiver, and the transmit variation.  However, the receive 19 
window will likely be much larger than the transmit variation.  Each endpoint is assigned to both an uplink and 20 
downlink category.  The O-DU DL sub-category is based on transmit variation, while the O-DU UL sub-category is 21 
based on receive window.  For UL, the roles are reversed and the O-RU DL sub-category is based on receive window, 22 
and the UL sub-category is based on transmit variation.   23 
As a result, sub-categories are defined based on the role for the endpoint in the given transmission direction (UL/ DL). 24 
Downlink variation (Tvariation_DL) is defined in Figure 2-20 as follows: 25 
 26 
Figure 2-20 : Downlink Transport Variation 27 
Tvariation_DL ≤ T2a_max_up – T2a_min_up – TXmaxO-DU 28 
 29 
Uplink variation (Tvariation_UL) is defined in Figure 2-21 as follows: 30 
O-DU 
O-DU 
O-DU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      42 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 2-21 : Uplink Transport Variation 2 
Tvariation_UL ≤  RXmaxO-DU – (Ta3_max – Ta3_min) 3 
 4 
Using the respective constraints, the variability can be defined based on O-DU and O-RU delay characteristics as 5 
follows: 6 
 7 
Description O-DU O-RU Processing Transport
Downlink Max Variation TXmaxO-DU T2a_max_up - T2a_min_up T12_max - T12_min = (T2a_max_up - T2a_min_up) - TXmaxO-DU
Uplink Max Variation RXmaxO-DU Ta3_max T34_max - T34_min =  RXmaxO-DU - (Ta3_max_up - Ta3_min_up)
Parameters Constraint
 8 
Sub-categories for each direction are defined using the endpoint characteristics.  Similar to categories, sub-categories 9 
indicate that the endpoint has a variation characteristic that falls somewhere in the specified sub-category range.  Since 10 
transmit variability and receive windows are expected to have different ranges, separate tables are created.  However, 11 
since sub-categories are numeric [.####], to simplify these values are assigned in a similar way.  The #### value 12 
represents the time in 10’s of µsec for the given endpoint property. 13 
For example, if an O-RU with a category X has a T2a_min – T2a_max = 163 µsec, the sub-category for the O-RU 14 
would be [.16].  Making the full category for the O-RU X.16 (the “.” is not a decimal point but a delimiter only).  Note 15 
that by using this approach, the receiver sub-category and transmitter sub-category can be directly used to determine the 16 
dynamic range in either direction: 17 
TX sub-category: .06 18 
RX sub-category: .16 19 
Resulting Tvariability = 16 * 10 - 6 * 10 = 100 µsec.  Note that this provides a lower bound on the maximum dynamic 20 
range supported in one direction.  The minimum of the UL and DL Tvariability is used to determine the maximum dynamic 21 
range for the combination (e.g. maximum difference between T12_max and T12_min that can be supported). 22 
Annex B.2 contains the sub-category definitions and resulting combination dynamic range use case tables. 23 
With dynamic timing advance, since the O-DU can set its earliest transmission time based on the measured T12_max, 24 
the full range of variability is available regardless of the T12_max.  For example, if an O-DU/ O-RU combination has 25 
100 usec worth of variability, and a maximum range T12_max of 250 usec, the combination can support the measured 26 
T12_max (≤ 250 usec) and T12_min of T12_max – 100 usec.  So, if the measured T12_max is 200 usec, the 27 
combination can support T12_max of 200 usec and T12_min of 100 usec. 28 
2.3.5 Latency Categories for O-DU with fixed timing advance  29 
The same category concepts apply for O-DU which support fixed transmit/ receive windows.  The earliest transmit 30 
window and latest receive window timing defines the maximum range that the O-DU can support.  T1a_max_upO-DU   31 
for the O-DU is equal to the T1a_max_up of the earliest fixed transmit window.  Similarly, Ta4_maxO-DU  is equal to the 32 
Ta4_max of the latest receive window.  The O-DU category is then assigned based on this value.   33 
O-DU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      43 
O-RAN.WG4.CUS.0-v07.00 
Fixed transmit and receive windows do however impact variability.  The fixed transmit time results in sending packets 1 
earlier than absolutely needed to achieve the actual T12_max (i.e. the T12_max value that is either measured or 2 
configured by the service provider).  The following figure Figure 2-22 illustrates: 3 
 4 
 5 
Figure 2-22 : Fixed Transmit Time Illustration 6 
Note that since the TXDL_Start is earlier than required for T12_max by T1a_offset, the latest packets arrive at least 7 
T1a_offset before T2a_min_up.  This results in T1a_offset worth of O-RU receive buffer being always used, implying 8 
that the O-RU needs additional buffer to compensate T1a_offset.  Since the TXDL_Start is fixed, the T12min is also fixed 9 
at: 10 
T12min = TXDL_Start  – (T2a_max_up – TXmaxO-DU) 11 
Since T12min is unaffected, the resulting Tvariation is reduced by T1a_offset.  To support T12min, O-RU need to provide 12 
T1a_offset + T12max – T12min + TXmax_O_DU  13 
It should also be noted that when T12_max + T2a_min_up = T1a_max_upO-DU (e.g. at maximum range), then 14 
T1a_offset = 0.  But as the actual T12_max decreases, the amount of receive buffer consumed by T1a_offset increases 15 
by the corresponding amount. 16 
Note that the same applies for UL.  The result is that the T34_min is defined relative to the T34_max for the 17 
combination, not relative to the measured T34_max.   18 
2.3.6 Non-Delay Managed U-Plane Traffic 19 
While most U-Plane data must meet the delay constraints described above, there are certain types of U-Plane traffic for 20 
which the reception windows may not be applicable.  Not applying the transmission/ reception window constraints to 21 
such data allows the transmission of the data over the fronthaul interface to be spread to reduce the peak bandwidth 22 
required by the interface.   23 
Figure 2-23 uses SRS to illustrate an example non-delay managed U-Plane traffic. 24 
O-DU 
O-DU 
O-DU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      44 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 2-23 : SRS as non-delay managed U-Plane traffic 2 
In the example, a large amount of SRS data is received during a special slot on the air interface.  By allowing the SRS 3 
data to be transmitted from the O-RU to the O-DU outside of the normal transmit window, and instead allowing it to 4 
use otherwise un-used fronthaul interface bandwidth, the required peak fronthaul bandwidth requirement can be 5 
substantially reduced.   6 
Non-delay managed U-Plane traffic flows must be uniquely identified from delay managed U-Plane traffic flows.  The 7 
identification of U-Plane traffic flows using eAxC identifiers is described in section 3.4, and the eAxC must be used to 8 
indicate delay-managed versus non-delay-managed traffic (e.g. some eAxC or Pcid-identified packets may carry delay-9 
managed U-Plane traffic while other eAxC or Pcid-identified packets may carry non-delay-managed U-Plane traffic).  10 
Non-delay managed U-Plane traffic flows may not use the same eAxC identifiers as delay managed U-Plane traffic 11 
flows.  Different RU_Port_IDs are allocated within the eAxC ID for non-delay managed U-Plane flows from those used 12 
for delay managed U-Plane traffic flows in the same direction (UL/DL).  It is not required that the RU_Port_IDs used in 13 
UL for non-delay managed traffic be the same as those used in the DL.  14 
Non-delay managed traffic may be sent by the sender without regard to the transmission window for the corresponding 15 
air interface symbol.  Similarly, the receiver will not discard received non-delay managed traffic received outside the 16 
normal reception window for the corresponding air interface symbol.  However, the air interface symbol time is still 17 
contained within the U-Plane packets for reference.   18 
Note that the status of traffic flows being delay-managed versus non-delay-managed (which is managed within the 19 
application) is independent of any transport prioritization that may be configured. 20 
 2.4  Reception Window Monitoring 21 
The reception window can be used for the purpose of error detection. The reception windows at O-RU and O-DU 22 
absorb delay variation in the fronthaul. Although its maximum size may vary depending on implementation, the 23 
position of windows at O-DU may be adjustable via parametrization as described in section 2.3.  24 
Data flow error detection during fronthaul operation is monitored and reported via counters based on receipt of packets 25 
relative to the reception window. The receiving node monitors the actual reception timing and generates counters 26 
regarding the status and whether packets were successfully received in proper timing.  27 
The following reception window performance counters are expected to be supported: 28 
 29 
• Data was received on time (within reception window) – no action needed 30 
• Data was received too early – link latency re-measurement may be needed 31 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      45 
O-RAN.WG4.CUS.0-v07.00 
• Data was received too late – link latency re-measurement may be needed 1 
 2 
The above counters and other performance monitoring counters may be implemented as defined in section 7.1.  Based 3 
on those counts the system may adjust its operation.   The specific reaction will be implementation-specific and depend 4 
on such considerations as the number of instances needed before justifying sending an alarm, the ability of the system to 5 
measure link latencies, or other design-dependent judgments.  Additional details regarding the counts, alarms, and fault 6 
handling are outside of the scope of this current document. 7 
Dynamic adaptation of windows at Tx side to handle larger delay values may be employed.  For instance, fronthaul 8 
distance may be extended by handling a portion (or most) of the fixed delay component at Tx buffer side by adapting 9 
the transmission timing based on information provided by Rx side. In other words, rather than accommodating a latency 10 
range of zero to “max”, it is possible to instead accommodate a longer latency of “offset” to “max+offset” (longer 11 
latency but same range).  This is described in detail in section 2.3. 12 
 13 
2.5  Transmission windows 14 
This chapter gives a more detailed information on how messages are transmitted within transmission windows. 15 
2.5.1 Normal Transmission 16 
O-RU and O-DU send C- and U-Plane messages at unspecified time within appropriate transmission window (see 17 
chapter 2.3.2 for general description of transmission windows). This default O-RU transmission behavior in uplink may 18 
be altered by configuration over M-plane or with section extension type 18 in C-plane message as described in the 19 
following chapters. 20 
2.5.2  Uniformly Distributed Transmission 21 
O-RU may be configured (over M-plane or with section extension type 18 in C-plane message) to uniformly distribute 22 
transmission of UL U-plane messages over the transmission window (uniformly-distributed-transmission-supported 23 
in M-Plane). 24 
The definition of “uniformly distributed” is that the total number of packets should as evenly as possible be spread out 25 
in time over the transmission window when they are sent on the interface. 26 
The transmission window is divided into N sub-windows where N is the total number of packets to be transmitted 27 
during the transmission window. The N packets shall be sent one packet per sub-window. The transmission shall start at 28 
a random time within the sub-window. 29 
The above description of when packets are sent can be disturbed by other traffic being transmitted by the O-RU, if that 30 
is the case the main object with ‘uniform distribution’ is that the traffic load shall be evenly distributed in time as much 31 
as possible. 32 
2.5.2.1 Overlapping transmission windows 33 
In many cases transmission windows will be overlapping between different user data flows (different eAxCs or 34 
different section IDs etc.) When this is the case the same “rule” as described above in chapter 2.5.2 is still valid. I.e. 35 
within the specific sub-window that data packet should be sent at a random time. If several packets (due to different 36 
flows) are to be sent within the same sub-window each packet shall be sent at a random time. If the transmission time 37 
for the different packets collide then the packets are buffered in any order and sent when link capacity is available. 38 
2.5.3 Ordered Transmission 39 
O-RU may be configured (over M-plane) to order transmission of UL U-plane messages within transmission window 40 
(ordered-transmission-supported in M-Plane). If O-RU is configured to order transmission of a set of eAxC then O-41 
RU reports how eAxC are grouped into ordering groups (G) and relative order of eAxCs within each group (R) 42 
(transmission-order and transmission-order-group in M-Plane).  43 
Let  44 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      46 
O-RAN.WG4.CUS.0-v07.00 
A and B be eAxCs configured to order transmission,  1 
GA and GB be ordering groups of eAxC A and B respectively, 2 
RA and RB be relative ordering values of eAxC A and B respectively. 3 
MA and MB be messages of eAxC A and B respectively that carry data related to the same symbol (the symbol is 4 
identified by a the same frame number and the same symbol number within the frame and the same duration as 5 
derived from SCS) and transmitted in transmission windows WA and WB respectively.  6 
If A and B belong to the same ordering group (GA = GB) and relative order of A is less then relative order of B (RA < RB) 7 
and start of transmission window WA is same as start of transmission window WB and end of transmission window WA 8 
is same as end of transmission window WB then O-RU transmits message MA before message MB. Otherwise O-RU 9 
transmits message MA and MB in unspecified order. Therefore, order of U-plane messages of eAxCs of different 10 
ordering groups and eAxCs of the same relative order (within a group) is unspecified. Also note that messages 11 
transmitted in different transmission windows are ordered only as required to transmit them within transmission 12 
windows. 13 
2.5.4 Scheduled Transmission 14 
O-RU may be configured (over M-plane or with section extension type 18 in C-plane message) to shift (delay) and/or 15 
resize UL U-plane messages transmission window. 16 
O-RU may be commanded to shift the transmission window by given offset (delay) expressed as number of symbols. 17 
Depending on the O-RU capability the eAxC specific window offset (O) and window size (S) may be provided over  18 
1. M-plane (transmission-window-offset and transmission-window-size in M-Plane) or 19 
2. C-plane (in section extension type 18).  20 
The window offset (O) and size (S) are specific to each eAxC and depending on O-RU the offset and size may be:  21 
1. specific to all REs in a symbol within eAxC 22 
This is applicable to O and S values provided over M-plane and C-plane. 23 
2. specific to REs selected by section descriptions in a symbol within an eAxC.  24 
This is applicable only to O and S provided in C-plane. In this case, the same values of O and S shall be used 25 
for every section extension 18 description referring to REs in the same PRB using different values of reMask..  26 
Note that a C-plane message can address multiple eAxCs if section extension 7 is used or mapping between of an 27 
eAxC_ID to multiple eAxCs is configured with M-plane. 28 
The time at which the O-RU UL U-Plane message is transmitted depends on whether the eAxC is configuration for 29 
delay managed or non-delay managed traffic.  30 
If eAxC is configured for delay managed traffic and is also configured (via C-plane or M-plane) to apply 31 
transmission window offset (O) and window size (S), then the O-RU transmits the UL U-plane message with data 32 
specific to REs in symbol N (N is the number of the symbol within a frame), in a window that starts at the same time 33 
as UL U-plane normal transmission window corresponding to symbol N+O and has a duration as configured by 34 
window size setting. O-RU reports per endpoint max number of symbols and max number of PRBs that can be 35 
buffered (max-buffered-prbs and max-buffered-symbols in M-Plane). The O-DU shall not request from the O-RU 36 
UL a reception and transmission window configuration that exceeds O-RU buffering capacity. For calculation of 37 
buffering load, O-DU shall assume that the O-RU allocates its buffer at the time reference for ta3_min (typically 38 
start of symbol) and the buffer is released at the end of transmission window. 39 
If eAxC is configured for non-delay managed traffic and is also configured (via C-plane or M-plane) to apply 40 
transmission window offset (O) and window size (S), then the O-RU transmits the UL U-plane message with data 41 
specific REs in to symbol N (N is the number of the symbol within a frame) in a window that starts after of UL U-42 
plane normal transmission window corresponding to symbol N+O. In this case only the start of transmission 43 
window is defined – the end of the transmission window is unspecified. O-RU may report per endpoint max number 44 
of symbols and max number of PRBs that can be buffered (max-buffered-prbs and max-buffered-symbols in M-45 
Plane). O-DU can request from O-RU UL reception and transmission window configuration that exceeds O-RU 46 
buffering capacity and O-RU shall handle it on best effort basis. For calculation of buffering load, O-DU shall 47 
assume that O-RU allocates buffer at the time reference for ta3_min (typically start of symbol) and the buffer is not 48 
released before at the start of transmission window. Note U-plane message transmission of eAxC configured for 49 
non-delay managed traffic is always handled by O-RU on best effort basis and transmission is not guaranteed. 50 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      47 
O-RAN.WG4.CUS.0-v07.00 
If O-RU does not report, over M-plane, support for independent U-plane transmission window control (feature 1 
INDEPENDENT-TRANSMISSION-WINDOW-CONTROL in M-Plane), then all endpoints with transmission 2 
window control enabled, handling the same carrier type and SCS, must be configured (via M-plane or C-plane) with 3 
parameter values resulting in transmission windows that coincide between the endpoints. That is, for every symbol 4 
N, the effective transmission window for symbol N must start at the same time and end at the same time for all the 5 
endpoints handling same carrier type and SCS. This restriction applies only to endpoints that have transmission 6 
control enabled over M-plane. 7 
2.6  O-RU External Antenna Delay Handling 8 
Up to and including v06.00 of this specification it is not possible to adjust timing to compensate transmission delays 9 
between antenna ports of the O-RU and the external antenna. Figure 2-9 assumes that the antenna delay is negligible 10 
compared to the O-RU’s internal delay or is known by the O-RU. Figure 2-9 defines the T2a and Ta3 values as the total 11 
processing time between Fronthaul interface input/output ports (R2 and R3) and the antenna interface point (Ra). 12 
Figure 2-24 defines the reference points for delay management where the O-RU external antenna delay parameters are 13 
defined. Note that T2a and Ta3 will have a new definition when external antenna delays are introduced. T2a is the O-14 
RU internal delay between R2 and Rd and Ta3 is the O-RU internal delay between Ru and R3. 15 
O-DU O-RU
R1
R4
R2
R3
Rd
Ru
T2a
Ta3
T12
T34
Tda
Tau
T1a (=T12 + T2a + Tda)
Ta4 (=Tau + Ta3 + T34)
Ra
 16 
Figure 2-24: Definition of reference points including external antenna delay 17 
Table 2-17: eCPRI O-RU Additional Delay Latency Parameters 18 
  
Parameter 
 
Latency 
 
Minimum Maximum 
Downlink 
 
Tda 
Timing difference between the output of DL 
signal at the antenna connector (Rd) of O-RU 
and the transmission over the air (Ra).  
- - 
Uplink  
Tau 
Timing difference between the reception over 
the air (Ra) and the input of UL signal at the 
antenna connector (Ru) of O-RU . 
- - 
 19 
Note: 20 
As a first step to introduce the possibility to handle external delays between O-RU and antenna reference point a 21 
method is specified in section 2.6.1 which has  minimal impact on the O-DU implementation. Later releases of this 22 
specification will contain other methods including Measured Transport Method, which are FFS. 23 
2.6.1 Minimal O-DU Impact Method (Defined Transport Method)  24 
When using Defined Transport Method as described in section 2.3.3.2 and non-negligible external delays between the 25 
O-RU and antenna are present this method will have a minimal impact on the O-DU implementation. 26 
The presence of the external delays is assumed to be unknown to the part of the O-DU implementation that handles the 27 
transmission and reception of messages between the O-DU and O-RU. Since new M-Plane parameters are introduced 28 
for Tda and Tau that must be configured on the O-RU there may be changes to the O-DU’s implementation of its O-RU 29 
M-Plane configuration flows. 30 
Instead of taking Tda and Tau under consideration when calculating the transmission and reception windows on the O-31 
DU the external delay is taken from the fronthaul delay (T12, T34) timing budget. 32 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      48 
O-RAN.WG4.CUS.0-v07.00 
When using this method, the values configured to O-RU for t12-max and t34-max shall maintain the same value as if 1 
there is no external delay, i.e. Tau = Tda = 0 (zero). It will be the responsibility of the operator to ensure that the actual 2 
fronthaul latency between R1 and R2 respectively R3 and R4 shall not exceed (t12-max – Tda) and (t34-max – Tau). 3 
This method will keep the transmission and reception windows on the O-DU at the same positions in time with or 4 
without the external delays. 5 
The O-RU shall transmit the downlink signal at reference point Rd at (tDL=0 – Tda). The O-RU shall start the 6 
processing of the uplink signal received at the reference point Ru at (tUL=0 + Tau). 7 
For downlink C- and U-Plane, the O-RU shall shift its reception windows Tda earlier in time. For uplink C-Plane the 8 
reception window shall NOT be shifted. The transmission window for uplink U-Plane data will be shifted by Tau on the 9 
O-RU but since the external delay is taken from the fronthaul latency budget the uplink U-Plane messages arrive within 10 
the reception window on the O-DU. The sizes for reception and transmission windows remain unchanged on the O-DU 11 
and on the O-RU. 12 
2.6.1.1 Minimal O-DU Impact Method - Example 13 
This section shows an example of the timing relations for downlink and uplink when using the method described in 14 
section 2.1.1. 15 
Table 2-18 contains values for all relevant parameters used in this example.  16 
Table 2-18: Parameters for example 17 
Parameter Latency (Tda = Tau = 0) 
[µs] 
Latency (Tda = Tau = 25) 
[µs] 
Physical T12/T34_max (note 1) 100 75 
T12/T34_max 100 
T12/T34_min 0 
T2a_min_up_dl 100 
T2a_max_up_dl 300 
T1a_min_up_dl = T2a_min_up_dl + T12_max = 100 + 100 = 200  
T1a_max_up_dl = T2a_max_up_dl = 300 
T2a_min_cp_dl 250 
T2a_max_cp_dl 600 
T1a_min_cp_dl = T2a_min_cp_dl + T12_max = 250 + 100 = 350  
T1a_max_cp_dl = T2a_max_cp_dl = 600 
T2a_min_cp_ul 100 
T2a_max_cp_ul 500 
T1a_min_cp_ul = T2a_min_cp_ul + T12_max = 100 + 100 = 200 
T1a_max_cp_ul = T2a_max_cp_ul = 500 
Ta3_min_up 50 
Ta3_max_up 150 
Ta4_min_up = Ta3_min_up = 50 
Ta4_max_up = Ta3_max_up + T34_max = 150 + 100 = 250  
 18 
NOTE 1: The configured T12/T34_max values are 100. Due to the external delay of 25 the actual physical 19 
T12/T34_max is decreased by 25 according to the method description. The physical max fronthaul latency is 20 
thus 75. 21 
Below are figures similar to figures 2-11 and 2-12, showing the timing relations both with and without the usage of the 22 
“Minimal O-DU Impact”-method. Figure 2-25 and Figure 2-27 assumes zero external delay both for downlink and 23 
uplink, the purpose of these two figures are to show that the relationships stated in Table 2-8 and Table 2-9 are still 24 
valid when applying the method in section 2.6.1., i.e. the transmission and reception windows are unchanged on the O-25 
DU. 26 
The blue lines and arrows of the figures apply to U-Plane messages, and the green lines and arrows apply to C-Plane 27 
messages. 28 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      49 
O-RAN.WG4.CUS.0-v07.00 
#n-2
T1a_max_cp_dl, 600
T1a_min_cp_dl, 350Tx-win CP DL, 250
T2a_max_cp_dl, 600
T2a_min_cp_dl, 250
Rx-win CP DL, 350
T1a_max_up_dl, 300
T1a_min_up_dl, 200
Rx-win UP DL, 200
T2a_max_up_dl, 300
T2a_min_up_dl, 100
DOWNLINK
Tx-win UP DL, 100
tDL=0
Without  Minimal O-DU 
Impact -Method
#n-1 #n
T12_max, 100
T12_max, 100
 1 
Figure 2-25: Downlink without using 2.6.1 2 
Figure 2-25 shows the timing relations for downlink without any external delays. T12_max in this example is 100 µs, 3 
both as configured value and as the actual physical maximum fronthaul latency. 4 
#n-2
T1a_max_cp_dl, 600
T1a_min_cp_dl, 350
Tx-win CP DL, 250
T2a_max_cp_dl, 600
T2a_min_cp_dl, 250
Rx-win CP DL, 350
T1a_max_up_dl, 300
T1a_min_up_dl, 200
T2a_min_up_dl, 100
DOWNLINK
Tda, 25
Tx-win UP DL, 100
tDL=0
With  Minimal O-DU 
Impact -Method
#n-1 #n
Actual physical
Rx-window
Actual physical Rx -window
Rx-win UP DL, 200
T2a_max_up_dl, 300
Restricted
T12_max, 75
Restricted
T12_max, 75
 5 
Figure 2-26: Downlink with usage of 2.6.1 6 
Figure 2-26 shows the timing relations for downlink when an external delay of 25 µs is present and the method 7 
described in section 2.6.1 is used. As shown, the transmission windows on the O-DU will be the same as the ones in 8 
Figure 2-25. The shifting of the reception windows on the O-RU is shown, i.e. these windows will start Tda µs earlier 9 
compared to when not using the method in 2.6.1, the sizes of the reception windows will be the same. The red arrows 10 
and text show the actual reception windows on the O-RU when restricting the actual physical fronthaul latency from 11 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      50 
O-RAN.WG4.CUS.0-v07.00 
100 µs to 75 µs but still configuring 100 µs to the system. As can be seen there will be a part at the start of the reception 1 
windows that should be “un-used”. While it is not expected by the O-RU to receive C-Plane or U-Plane messages 2 
during these periods the O-RU shall process these messages. 3 
#n-1#n-2 #n
Ta3_min_up, 50
Tx-win UP UL, 100
T1a_max_cp_ul, 500
T1a_min_cp_ul, 200
Tx-win CP UL, 300
T2a_max_cp_ul, 500
T2a_min_cp_ul, 100
Rx-win CP UL, 400
Ta3_max_up, 150
Ta4_min_up, 50
Ta4_max_up, 250
Rx-win UP UL, 200
tUL=0UPLINK
Without  Minimal O-DU Impact -Method
T34_max, 100
T12_max, 100
 4 
Figure 2-27: Uplink without using 2.6.1 5 
Figure 2-27 shows the timing relations for uplink without any external delays. T12_max and T34_max in this example 6 
are 100 µs, both as configured value and as the actual physical maximum fronthaul latency. 7 
#n-1#n-2 #n
Ta3_min_up, 50
Tx-win UP UL, 100
Tau, 25
T1a_max_cp_ul, 500
T1a_min_cp_ul, 200Tx-win CP UL, 300
T2a_max_cp_ul, 500
T2a_min_cp_ul, 100
Rx-win CP UL, 400
Actual physical Rx -window
Ta4_min_up, 50
Ta4_max_up, 250
Rx-win UP UL, 200
Actual physical
Rx-window
tUL=0UPLINK
With  Minimal O-DU Impact -Method
Ta3_max_up, 150
Restricted
T12_max, 75
Restricted
T34_max, 75
 8 
Figure 2-28: Uplink with usage of 2.6.1 9 
Figure 2-28 shows the timing relations for uplink when an external delay of 25 µs is present and the method described 10 
in section 2.6.1 is used. As shown, the transmission window on the O-DU will be the same as the ones in Figure 2-27. 11 
Note: The reception window on the O-RU for C-Plane messages is NOT shifted for uplink traffic. The size of the 12 
reception window will be the same. The red arrows and text show the actual reception windows on the O-RU and on the 13 
O-DU when restricting the actual physical fronthaul latency from 100 µs to 75 µs but still configuring 100 µs to the 14 
system. As can be seen there will be a part at the end of the reception window on the O-RU that will be “un-used”. 15 
While it is not expected by the O-RU to receive C-Plane messages during this period the O-RU shall process these 16 
messages. On the O-DU there will be a part at the start of the reception window that will be “un-used”. While it is not 17 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      51 
O-RAN.WG4.CUS.0-v07.00 
expected by the O-DU to receive U-Plane messages during this period the O-DU shall process these messages. The 1 
transmission window on the O-RU for the U-Plane messages will be shifted Tau later in time due to the external latency 2 
between reference points Ra and Ru. 3 
  4 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      52 
O-RAN.WG4.CUS.0-v07.00 
Chapter 3 Transport & Protocol Architecture 1 
3.1 Transport Encapsulation Types 2 
3.1.1 Ethernet Encapsulation 3 
Ethernet can be used as transport mechanism for both U-plane and C-plane. In this case, messages are transmitted over 4 
standard Ethernet frames (See Figure 3-1). The supported frame format is Ethernet II/DIX frame with type 5 
interpretation of the type length field. The Length-interpretation and multiplexing data with LLC (IEEE 802.2 LLC 6 
standard) is not supported. A globally administered unicast MAC address is assigned per Ethernet interface.  The 7 
Ethernet termination feature supports MAC Client Data field sizes of up to 1500 bytes for basic frames, and up to 9000 8 
bytes for jumbo frames. 9 
To ensure QoS is supported, 3-bit PCP field as defined in IEEE 802.1Q shall be supported meaning the capability for 10 
VLAN tagging for the traffic shall be supported and M-Plane configurable (but using VLAN tags may be omitted for 11 
certain network configurations e.g. LLS-C1). Priority tagged frames (i.e., frames tagged with VLAN ID=0) are always 12 
received, as required by standard. Transmitting priority tagged frames is optional. 13 
The MAC address resolution for U-plane and C-plane is performed via an M-plane procedure specified in [7] regardless 14 
of whether the destined node supports IP or not. 15 
The O-DU and O-RU shall support Intermediate L2 switch MAC address learning to avoid flooding U-plane and/or C-16 
plane (not necessary for topology LLS-C1); this is done as a result of test Ethernet frame exchanges during the M-Plane 17 
procedure “Ethernet connectivity checking” as specified in [7]. 18 
Further, both the eCPRI header and payload are contained within the Ethernet data field.  For this encapsulation, either 19 
the eCPRI Ethertype or the IEEE 1914.3 Ethertype shall be used. 20 
 21 
 22 
Figure 3-1 : Native Ethernet frame with VLAN 23 
 24 
3.1.2 IP/UDP Encapsulation 25 
IP/UDP can be used as transport mechanism for both U-plane and C-plane. In this case, IP version 4 shall be supported 26 
according to RFC791 (Internet Protocol), and/or IPv6 as per RFC2460 (both IPv4 and IPv6 are optional, see Table 8-2).  27 
The encapsulation mechanism is identified by “IPv4” or “IPv6” Ethertype (See Figure 3-2 and Figure 3-3).  O-RAN 28 
equipment shall not send IPv4 packets with any IPv4 header option field or IPv6 packets with "Next Header" value that 29 
is an extension header or "Next Header = 59".  If the IPv4 header option field or IPv6 packets with "Next Header" value 30 
that is an extension header or "Next Header = 59" is detected in the received packet, the packet is to be silently 31 
discarded at the receiving equipment (though the existence of the discarded packet may be logged). For IPv6, if the 32 
value in “Next Header” is not an extension header and value is not equal to “59”, it indicates that the next item in the 33 
header is upper-layer header and the packets shall be processed by the receiver (Refer RFC2460). 34 
IP based applications can be bound to virtual or physical interface addresses. Each configured physical and logical (i.e. 35 
VLAN-) interface shall be configured with a separate subnet. As an option, Alias IP addresses (i.e. more than one IP 36 
address on the same interface) can be supported as well. If supported, they can be assigned to logical and physical 37 
interfaces as well as to virtual interfaces (loopback interfaces). 38 
ORAN packets shall not use IPv4 or IPv6 fragmentation due to stringent bandwidth and tight latency requirements 39 
(such received packets shall be silently discarded). The minimum MTU that is configurable shall be as per the relevant 40 
standard, i.e. RFC791 for IPv4 and RFC2460 for IPv6. 41 
The resolution of MAC addresses and the flooding traffic reduction through L2 switch mac address learning shall be 42 
done via ARP according to RFC 826 only when IPv4 is supported by the transmitting and receiving nodes.  43 
Destination MAC
Address
(6 Bytes)
Source MAC
Address
(6 Bytes)
Type/Length
(Ethertype)
(2 Bytes)
Payload
(46…1500 Bytes)
FCS
(4 Bytes)
VLAN Tag
(4 Bytes)
Preamble
(8 Bytes)
IFG
(12 Bytes)

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      53 
O-RAN.WG4.CUS.0-v07.00 
When using IP/UDP encapsulation, the UDP destination port field shall identify the encapsulated protocol.  The UDP 1 
destination port field shall be set during initialization via M-Plane configuration.  When the eCPRI Specification or 2 
IEEE1914.3 define their respective UDP destination ports these will become the default for M-Plane configuration.. 3 
On egress, the sending node shall set the checksum for transmitted UDP datagrams as per the relevant standards: 4 
• For IPv4 UDP datagrams the field can be filled with a proper value to mark that the checksum is valid or to 0 5 
to mark that the checksum is not calculated (see RFC768). 6 
• For IPv6 UDP datagrams the field must be filled with a proper value (see RFC2460). 7 
On ingress, the receiving node may (not shall) validate UDP checksums if the checksum field contains a proper value. 8 
 9 
 10 
 11 
Figure 3-2 : Native IPv4 packet with VLAN 12 
  13 
 14 
Figure 3-3 : Native IPv6 packet with VLAN 15 
Note that while the numbers in Figure 3-1, Figure 3-2 and Figure 3-3 imply standard Ethernet packets, use of Jumbo 16 
frames (up to 9000 bytes in length) is not precluded in this specification. 17 
3.1.3 Transport Headers 18 
O-RAN allows for multiple different transport headers within the Ethernet payload to further describe how the application 19 
data is to be handled in the C-Plane and U-Plane.  In each case the transport header is 8 bytes in length and provides basic 20 
data routing capabilities, including description of the data flow type, sending and reception port identifiers, ability to 21 
support concatenation of multiple application messages in a single Ethernet packet, and sequence number ing.  The 22 
following sections describe the possible transport headers. 23 
3.1.3.1 eCPRI Transport Header 24 
The definition of the eCPRI transport header is shown in Table 3-1 below. 25 
 26 
Table 3-1 : eCPRI Transport Header Field Definitions 27 
Section Type : any 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
  
ecpriVersion ecpriReserved ecpriConcat 
enation 
1 Octet 1 
ecpriMessage 1 Octet 2 
ecpriPayload 2 Octet 3 
ecpriRtcid / ecpriPcid 2 Octet 5 
ecpriSeqid 2 Octet 7 
 28 
Each field within the eCPRI Transport Header is further described in the following sub-sections. 29 
Destination MAC
Address
(6 Bytes)
Source MAC
Address
(6 Bytes)
Type/Length
(Ethertype)
(2 Bytes)
Payload
(1…1472 Bytes)
FCS
(4 Bytes)
VLAN Tag
(4 Bytes)
UDP
(8 Bytes)
IPv4
(20 Bytes)
Preamble
(8 Bytes)
IFG
(12 Bytes)
Destination MAC
Address
(6 Bytes)
Source MAC
Address
(6 Bytes)
Type/Length
(Ethertype)
(2 Bytes)
Payload
(1…1452 Bytes)
FCS
(4 Bytes)
VLAN Tag
(4 Bytes)
UDP
(8 Bytes)
IPv6
(40 Bytes)
Preamble
(8 Bytes)
IFG
(12 Bytes)

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      54 
O-RAN.WG4.CUS.0-v07.00 
3.1.3.1.1 ecpriVersion (eCPRI protocol revision) 1 
Description: This parameter indicates the eCPRI protocol version. NOTE: This parameter is part of the eCPRI common 2 
header. 3 
Value range: {0001b=eCPRI version 1.0, 1.1, 1.2 and 2.0, where the interpretation of the eCPRI message shall follow 4 
the eCPRI specification versions up to 2.0; 0000b and 0010b-1111b=Reserved for future eCPRI protocol revisions }. 5 
Type: unsigned integer. 6 
Field length: 4 bits 7 
Default Value: 0001b (eCPRI version 1.0, 1.1, 1.2 and 2.0). 8 
 9 
3.1.3.1.2 ecpriReserved (eCPRI reserved) 10 
Description: This parameter is reserved for eCPRI future use. NOTE: This parameter is part of the eCPRI common 11 
header. 12 
Value range: {001b-111b=Reserved}. 13 
Type: unsigned integer 14 
Field length: 3 bits. 15 
Default Value: 000b (reserved fields should always be set to all zeros). 16 
 17 
3.1.3.1.3 ecpriConcatenation (eCPRI concatenation indicator) 18 
Description: This parameter indicates when eCPRI concatenation is in use (allowing multiple eCPRI messages in a 19 
single Ethernet payload). NOTE: This parameter is part of the eCPRI common header. 20 
Value range: {0b=No concatenation, 1b=Concatenation}. 21 
Type: binary bit. 22 
Field length: 1 bits. 23 
Default Value: 0b (no concatenation). 24 
 25 
3.1.3.1.4 ecpriMessage (eCPRI message type) 26 
Description: This parameter indicates the type of service conveyed by the message type. NOTE: This parameter is part 27 
of the eCPRI common header. NOTE: In this version of the specification, only values “0000 0000b” and “0000 0010b” 28 
and “0000 0101b” are used. 29 
Value range:  30 
0000 0000b = IQ data message; 31 
0000 0010b = Real-time control data message; 32 
0000 0101b = transport network delay measurement message (see section 2.3.3.3 for full message format); 33 
other values not recognized within this version of the specification. 34 
Type: unsigned integer. 35 
Field length: 8 bits. 36 
Valid Values: 0x0 (U-Plane data) or 0x2 (C-Plane data) or 0x5 (network delay measurement messages). 37 
 38 
3.1.3.1.5 ecpriPayload (eCPRI payload size) 39 
Description: This parameter is the size in bytes of the payload part of the corresponding eCPRI message. It does not 40 
include any padding bytes following the eCPRI message. The maximum supported payload size is 216-1, but the actual 41 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      55 
O-RAN.WG4.CUS.0-v07.00 
size may be further limited by the maximum payload size of the underlying transport network. NOTE: This parameter is 1 
part of the eCPRI common header. 2 
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b}. 3 
Type: unsigned integer. 4 
Field length: 16 bits. 5 
 6 
Figure 3-4 : eCPRI payload - no concatenation (source: [2]) 7 
 8 
3.1.3.1.6 ecpriRtcid / ecpriPcid (real time control data / IQ data transfer message series 9 
identifier) 10 
Description: This parameter is an eAxC identifier (eAxC ID) and identifies the specific data flow associated with each 11 
C-Plane (ecpriRtcid) or U-Plane (ecpriPcid) message.  It is the analog of CPRI’s “AxC” (antenna-carrier) value so is 12 
designated here as “eAxC” (“e” for “extended” to accommodate multiple bands and multiple component carriers).  13 
Multiple O-DU processors may contribute to a single eAxC. 14 
 An endpoint may support mixed numerologies by indicating the capability via an M-plane parameter; and a Section 15 
Type 3 message can be used to select one of the numerologies (frameStructure) from the capability list of possible 16 
numerologies for that endpoint.  In this case, a single eAxC id may be used for channels with different characteristics 17 
(framestructure, cpLength, timeOffset, freqOffset), e.g. channels with different numerology and PRACH can share 18 
same eAxC Id.  Alternatively, an endpoint may be simpler, supporting a single numerology by declaring non-support of 19 
mixed numerology capability via the M-plane parameter, and a Section Type 3 message can be used to convey different 20 
values for parameters other than frameStructure than the M-plane configured value.  In this case a unique eAxC id 21 
would be used for each mixed numerology channel (frameStructure), i.e. channels with different numerologies will use 22 
different eAxC ids.  An endpoint may declare non-support for Section Type 3, in which case it is suitable for channels 23 
like PDSCH/PUSCH. 24 
The eAxC ID value assigned to an O-RU’s endpoint is used to identify the endpoint within O-RU and must be unique 25 
among all endpoints of O-RU of the same direction (Tx or Rx). An O-RU’s endpoint could in principle be associated 26 
with multiple physical and virtual fronthaul interfaces (Ethernet ports and VLANs), but an eAxC ID value must be 27 
unique and cannot be used to address different endpoints. The association of an O-RU’s endpoint with multiple 28 
fronthaul interfaces is subject to O-RU design restrictions reported by O-RU via the M-Plane – interfaces not associated 29 
with a given endpoint shall not be configured via M-plane for transferring C- and U-plane message to the endpoint. 30 
Also, fronthaul interfaces not configured via M-plane shall not be used for transferring C- and U-plane messages to the 31 
endpoint.  In other words, the O-DU shall obey the O-RU restrictions as conveyed on the M-Plane. 32 
The O-DU may decide to use same eAxC ID value to address endpoints on different O-RUs, but eAxC ID values 33 
assigned to one O-RU must be unique within the O-RU’s endpoints of same direction. 34 
It is noted that there are O-RUs which do not support, within a same eAxC ID, independent sequence checkers for C-35 
plane messages describing U-plane DL and C-plane messages describing U-plane UL, which is specified in Section 36 
3.1.3.1.7. This O-RU capability limitation can be signalled by O-RUs and be interpreted by O-DUs from M-plane 37 
specification v03.00. If either or both of the O-RU and O-DU only supports previous versions of the M-plane 38 
specification, then the network operators and vendors intending to work with such O-RUs will need to ensure that the 39 
O-DU can interpret the O-RU capability limitation in other non-standardized ways, i.e. through off-line discussions. To 40 
interoperate with such O-RUs, O-DUs will need to avoid requiring at the O-RU, within a same eAxC ID, independent 41 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      56 
O-RAN.WG4.CUS.0-v07.00 
sequence checkers for C-plane messages describing U-plane DL and C-plane messages describing U-plane UL, either 1 
by (1) using different eAxC IDs for them; or (2) if the O-DU chooses to use the same eAxC ID, using a shared sequence 2 
generator for C-plane messages describing U-plane DL and C-plane messages describing U-plane UL as shown in 3 
Figure 3-6 and described in Section 3.1.3.1.7. However, support of such behavior in order to interoperate with such O-4 
RUs is optional for the O-DUs, and it is noted that incompatible operation is likely to result in data outages and spurious 5 
error reports. 6 
This version of specification does not define behavior regarding transferring C- and U-plane messages to or from an 7 
endpoint over multiple fronthaul interfaces at the same time.  For example, in UL, if an endpoint were to be assigned to 8 
multiple fronthaul ports, there is no way to instruct the endpoint which fronthaul port to use for any given message. In 9 
addition, in DL there is no accommodation for multiple delay windows per eAxC ID when multiple links are used.  10 
Therefore, an endpoint shall be assigned exactly one fronthaul interface via the M-Plane, but different endpoints may 11 
use different fronthaul interfaces (ports) so the O-RU as a whole may use multiple fronthaul ports. 12 
eAxC ID subfields 13 
One eAxC identifier (eAxC ID) comprises a band and sector identifier (BandSector_ID), a component-carrier identifier 14 
(CC_ID) a spatial stream identifier (RU_Port_ID) and a Distributed Unit identifier (DU_Port_ID).   15 
NOTE: This parameter is specific to eCPRI Message Type = 2 (C-Plane) and Message Type 0 (U-Plane) messages. In 16 
this version of the specification, one eAxC contains only one spatial stream (i.e. one beam per subcarrier) at a time.  17 
When precoding in the O-RU, then each eAxC contains one layer at a time, except for TxD (LTE TM2) when a single 18 
eAxC (single ecpriRtcid and ecpriPcid) represents all TxD layers. 19 
Bit allocation is subdivided as follows: 20 
o DU_Port_ID: Used to differentiate processing units at O-DU (e.g., different baseband cards).  It is expected the 21 
O-DU will assign these bits, and the O-RU will attach the same value to the UL U-Plane messages carrying the 22 
same sectionId data. 23 
o BandSector_ID: Aggregated cell identifier (distinguishes bands and sectors supported by the O-RU). 24 
o CC_ID: distinguishes Carrier Components supported by the O-RU. 25 
o RU_Port_ID: designates logical flows such as data layers or spatial streams, and logical flows such as separate 26 
numerologies (e.g. PRACH) or signaling channels requiring special antenna assignments such as SRS.   27 
The assignment of the DU_port_ID, BandSector_ID, CC_ID, and RU_Port_ID as part of the eAxC ID is done solely by 28 
the O-DU via the M-plane. Furthermore, the O-RU doesn’t need an explicit definition of any bit-level allocation within 29 
any of the four fields of the eAxC ID. 30 
The bitwidth of each of the above fields is variable and set via M-Plane messaging.   This is to allow flexibility given it 31 
is expected that not all fields will simultaneously need their maximum range for any given O-RU.  It is expected the M-32 
Plane message will configure the O-RU and O-DU with the appropriate bitwidth of each of the four fields, and the SMO 33 
that does the actual assignment will assure all 16 bits are allocated (with or without padding).  34 
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b = eAxC ID} 35 
Bit allocations: 36 
0 
(msb) 
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 
(lsb) 
Number of 
Octets 
DU_Port_ID BandSector_ID CC_ID RU_Port_ID 2 
 37 
Type: unsigned integer (concatenated bit fields). 38 
Field length: 16 bits. 39 
 40 
3.1.3.1.7 ecpriSeqid (message identifier) 41 
Description: This parameter provides unique message identification and ordering on two different levels. The first octet 42 
of this parameter is the Sequence ID, which is used to identify ordering of messages within an eAxC message stream.  43 
The Sequence ID field increments and wraps independently for each U-Plane eAxC DL, U-Plane eAxC UL, C-Plane 44 
eAxC DL, and C-Plane eAxC UL, even if they share the same eAxC ID. The Sequence ID is used to verify that all 45 
messages are received and also to reorder messages that are received out of order. The second octet of this parameter is 46 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      57 
O-RAN.WG4.CUS.0-v07.00 
the Subsequence ID. The Subsequence ID is used to verify ordering and implement reordering when radio-transport-1 
level (eCPRI or IEEE-1914.3) fragmentation occurs.  Radio-transport (eCPRI or IEEE-1914.3) fragmentation is a 2 
method of splitting U-plane messages containing one or more sections whose length exceeds the maximum packet or 3 
message length of the underlying protocol.  The Subsequence ID field consists of a 7 bit Subsequence counter and a 4 
single bit field, called E-bit. The Subsequence number increments starting from zero for each fragment of a U-plane 5 
message.  The E bit is used to indicate the last message of the radio-transport level fragments.  It is always set to zero 6 
except for the last message of the U-plane fragment. In the case of C-plane messages radio-transport fragmentation is 7 
not allowed, therefore the Subsequence ID shall be set to zero, and the E bit set to one.  See Section 3.5 for a 8 
description of the fragmentation process. 9 
NOTE: As an alternative to radio-transport-level fragmentation, application fragmentation can be implemented.  In this 10 
case the application can take the responsibility to ensure all transport messages are not too long (fit within the necessary 11 
transport payload size).  When this “application layer fragmentation” is used, the subsequence identifier shall always be 12 
set to “0”, and the E-bit set to “1” (See Section 3.5). 13 
Figure 3-5 shows how the sequence numbers are intended to be generated and checked by C-Plane and U-Plane 14 
messaging. 15 
C-Plane message
   Rtcid = 
   dataDirection bit=1
seq count
generator
C-Plane message
   Rtcid = 
   dataDirection bit=0
seq count
generator
C-Plane message
   Rtcid = 
   dataDirection bit=0
seq count
checker
U-Plane message
   Pcid = 
   dataDirection bit=1
seq count
generator
U-Plane message
   Pcid = 
   dataDirection bit=0
seq count
checker
seq count
checker
seq count
checker
tx-endpoint
eAxC=, DL
tx-array
seq count
checker
seq count
generator rx-endpoint
eAxC=, UL
rx-array
seq count
generator
LAA LBT
O-RU generates and and checks sequence
counters per endpoint but separate for
C-Plane and U-Plane
O-DU must generate separate
sequence counters for
dataDirection bit = 0 and = 1
 16 
Figure 3-5 : Sequence Count Generation and Checking for C-Plane and U-Plane in O-DU and O-RU 17 
Implications of Figure 3-5 are as follows: 18 
a) Sequence ID is unique per eAxC (ecpriRtcid or ecpriPcid): different eAxC values have their own Sequence ID 19 
generation 20 
b) Sequence ID is generated by the fronthaul interface transmitter in either the O-DU or O-RU 21 
c) The sequence generator and checker for a C-Plane message describing U-Plane DL is independent of the 22 
sequence generator and checker for a C-Plane message describing U-Plane UL. 23 
 24 
Table 3-2 summarizes this situation consistent with Figure 3-5: 25 
Table 3-2 : Description of Shared or Independent Sequence Generators 26 
direction of 
message flow 
type of 
flow 
U-Plane data direction Same/different eAxC 
between DL & UL 
shared/independent 
sequence generator 
O-DU → O-RU C-plane DL (dataDirection bit =1) same or different independent 
O-DU → O-RU C-plane UL (dataDirection bit =0) same or different independent 
O-RU → O-DU C-plane UL (dataDirection bit =0) same or different independent 
O-DU → O-RU U-plane DL (dataDirection bit =1) same or different independent 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      58 
O-RAN.WG4.CUS.0-v07.00 
O-RU → O-DU U-plane UL (dataDirection bit =0) same or different independent 
 1 
As described in Section 3.1.3.1.6, there are O-RUs which do not support, within a same eAxC ID, independent 2 
sequence checkers for C-plane messages describing U-plane DL and C-plane messages describing U-plane UL. As also 3 
described in Section 3.1.3.1.6, to interoperate with such O-RUs, O-DUs may choose, among other options, to use the 4 
same eAxC ID but with a shared sequence generator for C-plane messages describing U-plane DL and C-plane 5 
messages describing U-plane UL as described in Figure 3-6 and Table 3-3 below. 6 
C-Plane message
   dataDirection bit=1
C-Plane message
   dataDirection bit=0
C-Plane message
   dataDirection bit=0
U-Plane message
   dataDirection bit=1
U-Plane message
   dataDirection bit=0
Rtcid = 
Message type = 2
seq count
generator
Rtcid = 
Message type = 2
seq count
checker
Pcid = 
Message type = 0
seq count
generator
Pcid = 
Message type = 0
seq count
checker
Rtcid = 
Message type = 2
seq count
checker
Pcid = 
Message type = 0
seq count
checker
Rtcid = 
Message type = 2
seq count
generator
Pcid = 
Message type = 0
seq count
generator
tx-endpoint
rx-endpoint
oRAN Layer eCPRI Layer eCPRI Layer oRAN Layer
O-DU O-RU
LAA LBT
 7 
Figure 3-6 : Optional case of Shared Sequence Generation and Checking for C-Plane and U-Plane in O-DU and 8 
O-RU 9 
 10 
Table 3-3 : Optional case of Description of Shared Sequence per eAxC id Generators 11 
direction of 
message flow 
type of 
flow 
U-Plane data direction Same/different eAxC 
between DL & UL 
shared/independent 
sequence generator 
O-DU → O-RU C-plane DL (dataDirection bit =1) same  Shared 
O-DU → O-RU C-plane UL (dataDirection bit =0) same  Shared 
O-RU → O-DU C-plane UL (dataDirection bit =0) same or different Independent 
O-DU → O-RU U-plane DL (dataDirection bit =1) same or different Independent 
O-RU → O-DU U-plane UL (dataDirection bit =0) same or different Independent 
 12 
 13 
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b} 14 
Bit allocations: 15 
msb       lsb   
0 1 2 3 4 5 6 7 Number of 
Octets 
 
Sequence ID 1 Octet 1 
E bit Subsequence ID 1 Octet 2 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      59 
O-RAN.WG4.CUS.0-v07.00 
Type: unsigned integer (concatenated bit fields) 1 
Field length: Sequence ID: 8 bits; subsequence ID: 7 bits; E-bit: 1 bit. 2 
 3 
3.1.3.2 1914.3 Transport Header 4 
As an alternative to eCPRI as a transport header, IEEE 1914.3 may be used.  The definition of the 1914.3 transport header 5 
is shown in Table 3-4 below. 6 
Table 3-4 : 1914.3 Transport Header Field Definitions 7 
Section Type : any 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
  
RoEsubType 1 Octet 1 
RoEflowId 1 Octet 2 
RoElength 2 Octet 3 
RoEorderInfo 4 Octet 5 
 8 
Each field within the 1914.3 Transport Header is further described in the following sub-sections. 9 
 10 
3.1.3.2.1 RoEsubType (sub type / message type) 11 
Description: This field indicates the payload type within the IEEE 1914.3 Standard for Radio over Ethernet 12 
Encapsulations and Mappings (RoE) subType range. RoE allows RoE subTypes in the range 128 to 191 to be mapped 13 
to external organizations and companies using a subtype mapping table (below). This table has two fields. The 14 
OUI/CID field uses a unique Company ID (CID) value. For O-this version of this specification, the OUI/CID assigned 15 
by IEEE to xRAN (0xFAEB6E) shall be used.  The payload structure mapping field assigns the RoE subtype to O-RAN 16 
message types. When the payload structure mapping field is set to 0xFFFF, this indicates that that RoE subtype is not 17 
mapped to an O-RAN message type.  18 
A given O-RAN implementation may choose to have fixed (default) mappings, or alternatively, it may choose to 19 
configure the subType mapping table using control packets as described in IEEE 1914.3.  20 
NOTE: The table below indicates the use by O-RAN of the IEEE-defined xRAN subtype mapping; future discussions 21 
with IEEE are needed to convert these to O-RAN subtype mapping. 22 
 23 
Table 3-5 : RoE Subtype Mapping 24 
RoE 
subType 
OUI/CID subType mapping table (.mapSubtype) 
OUI/CID Mapping (3 bytes) 
bit39  <----------------------------------- 
Payload structure mapping (2 bytes) 
  --------------------------------------------------> bit 0 
128 xRAN=0xFAEB6E 0x0001, IQ (No concatenation) 
129 xRAN=0xFAEB6E 0x0002, IQ (With concatenation) 
130 xRAN=0xFAEB6E 0x0003, Ctrl (No concatenation) 
131 xRAN=0xFAEB6E 0x0004, Ctrl (With concatenation) 
132 to 191 xRAN=0xXXXXXX (don’t care) 0xFFFF (IEEE1914.3 default), unused/unmapped 
by xRAN in this version of the O-RAN 
specification. 
 25 
Value range: 128 to 191. Default values are shown below. 26 
Type: unsigned integer. 27 
Field length: 8 bits. 28 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      60 
O-RAN.WG4.CUS.0-v07.00 
Valid Values: 128 (U-Plane, no concat), 129 (U-Plane, with concat), 130 (C-Plane, no concat), 131 (C0-Plane, with 1 
concat). 2 
 3 
3.1.3.2.2 RoEflowID (flow identifier) 4 
Description: The RoEflowID is a mechanism which can identify specific flows between end-points. RoEflowID, 0xFF 5 
is reserved for RoE control packets. O-RAN has no current use for this field. 6 
Value range: 0 – 0xFE. 7 
Type: unsigned integer. 8 
Field length: 8 bits. 9 
Description: This field is currently unused. 10 
 11 
3.1.3.2.3 RoElength (length) 12 
Description: This field is the size in bytes of the payload part of the message. The payload length field value is the total 13 
number of octets following the O-RAN common header. It does not include the Ethernet FCS or following bytes. 14 
Value range: 0 – 0xFFFF. 15 
Type: unsigned integer. 16 
Field length: 16 bits. 17 
 18 
3.1.3.2.4 RoEorderInfo (order information) 19 
Description: This field is split into seven sub-fields. 20 
Table 3-6 : RoE RoEorderInfo MappingField 21 
Field Length Note 
DU_Port_ID 
16 bits 
Used to differentiate processing units at O-DU (e.g., different 
baseband cards). It is expected the O-DU will assign these bits, and 
the O-RU will attach the same value to the UL U-Plane messages 
carrying the same sectionId data. See sub-clause 3.1.3.1.6 for further 
information. 
BandSector_ID Aggregated cell identifier (distinguishes bands and sectors supported 
by the O-RU). See sub-clause 3.1.3.1.6 for further information. 
CC_ID Distinguishes Carrier Components supported by the O-RU. See sub-
clause 3.1.3.1.6 for further information. 
RU_Port_ID Used to differentiate spatial streams or beams on the O-RU. See sub-
clause 3.1.3.1.6 for further information. 
Sequence_ID 8 bits Unique message ordering sequence. See sub-clause 3.1.3.1.7 for 
further information. 
E_Bit 1 bit Marks the last message pertaining to the section. See sub-clause 
3.1.3.1.7 for further information. 
Subsequence_ID 7 bits Unique message ordering sub-sequence. See sub-clause 3.1.3.1.7 for 
further information. 
 22 
Value range: 0 to 0xFFFF FFFF. 23 
Type: unsigned integer (concatenated bit fields). 24 
Field length: 32 bits. 25 
 26 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      61 
O-RAN.WG4.CUS.0-v07.00 
3.2 Protocol Architecture 1 
3.2.1 C-plane 2 
Figure 3-7 depicts the protocol stack for C-Plane. Data can be optionally transmitted over IP Layer 3 if supported by 3 
the transmitting and receiving nodes. 4 
 5 
 6 
 7 
 8 
 9 
Figure 3-7 : C-plane protocol structure 10 
 11 
3.2.2 U-plane 12 
Figure 3-8 depicts the protocol stack for U-Plane. Data can be optionally transmitted over IP Layer 3 if supported by 13 
the transmitting and receiving nodes. 14 
  15 
 16 
 17 
 18 
 19 
 20 
Figure 3-8 : U-plane protocol structure 21 
 22 
3.2.3 S-plane 23 
Frequency and time synchronization of O-DUs and O-RUs via Ethernet use Synchronous Ethernet and IEEE 1588 24 
Precision Time Protocol (PTP). Transport of PTP directly over L2 Ethernet (ITU-T G.8275.1 full timing on-path 25 
support) is assumed in this version of the specification, whilst transport of PTP over UDP/IP (ITU-T G.8275.2 partial 26 
timing support from the network) is also possible albeit with unassured synchronization performance. Security 27 
mechanisms will not be used for this plane. The protocol stack for PTP and SyncE over L2 Ethernet is depicted in 28 
Figure 3-9. 29 
    30 
Figure 3-9 : S-plane protocol structure 31 
 32 
3.3 Quality of Service 33 
The LLS interface needs to support the ability to distinguish between data flows with different QoS requirements.   34 
Configurable priority levels (via the M-Plane) for traffic prioritization of flows shall be supported on each node on the 35 
network path.  Default values for the respective O-RAN planes are indicated. Priority marking per packet is needed in 36 
each protocol layer except for protocols that do not allow such tagging e.g. ITU-T G.8264 for SyncE and ITU-T 37 
Eth L1
Eth L2
PTP SyncE
Eth L1 
Eth L2 + VLAN 
IP (optional) 
UDP (optional) 
eCPRI / RoE 
Eth L1 
Eth L2 + VLAN 
IP (optional) 
UDP (optional) 
eCPRI / RoE 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      62 
O-RAN.WG4.CUS.0-v07.00 
G.8275.1 for full timing support PTP. For operation at Layer 2, prioritization is performed by specifying a configurable 1 
value for the Priority Code Point (PCP) tag in the IEEE 802.1q VLAN header on the outgoing traffic. 2 
 3 
Table 3-7 : Quality of service classes 4 
Plane L2 CoS Priority (range 0-7) L3 DSCP Code Preemption(1) 
S-Plane G.8264: N/A  
G.8275.1:  N/A 
G.8275.2: Default 7 
G.8264: N/A 
G.8275.1: N/A 
G.8275.2: EF (Expedited Forwarding)  
non-preemptable 
U-Plane Default: 7 EF (Expedited Forwarding) non-preemptable 
C-Plane Default: 7 EF (Expedited Forwarding) non-preemptable 
M-Plane Default: 2 AF2x (Assured Forwarding) preemptable 
Other traffic Default: 1 BE (Best Effort) preemptable 
 (1) Not all networks will support preemption so this only applies to networks supporting preemption 
(2) applies also to LBP [7] 
(3) applies also to ARP, if used, where IPv4 is used 
  5 
For U-Plane separate priorities can be supported based on ecpriRtcid / ecpriPcid (or the equivalent fields in RoE packet 6 
headers).  This allows for different prioritization of some channels (e.g. PRACH/ SRS), or services (URLLC).  This 7 
requires the ability to configure priority assignments to ecpriRtcid / ecpriPcid via M-Plane messages.   The default U-8 
Plane priority can be applied to flows not specifically configured with a different value via the M-Plane.  If a node does 9 
not support configurable ecpriRtcid / ecpriPcid priorities, then all U-Plane traffic will use the default value. 10 
QoS failure (dropped packets) may be detected using the sequence numbers that make up part of the transport header.  11 
Loss of a packet in the U-Plane will generally impact only a specific symbol except in rare cases where a multi-symbol 12 
U-Plane message is sent (using the “symInc” field).  Loss of a C-Plane packet is more serious, with the possibility of 13 
impacting an entire slot’s worth of data.  A broader impact is also possible with C-Plane packet loss: if downloaded 14 
beamforming weights, beamforming attributes, or channel information is lost then a beamId may be incorrectly 15 
associated with an “old” set of beamforming weights thereby possibly impacting multiple slots.  However, packet loss 16 
can be detected via the sequence number so a recovery action may be taken to re-send messages that may have a 17 
persistent impact. 18 
3.4 Data Flow Identification 19 
Differentiation between a combined U/C-Plane data flow for a single eAxC_ID and Management Plane data flow traffic 20 
can be achieved using the following options: 21 
• Data flow separation based on TCP/UDP (applicable when layer 3 transport is used for the C/U-plane) 22 
• Data flow separation based on VLAN (applicable when layer 2 or layer 3 is used for the C/U-plane transport) 23 
o NOTE: The mechanism for assigning a VLAN ID to the combined U-Plane and C-Plane data flow for a given 24 
eAxC_ID is assumed to be via the M-Plane 25 
• Data flow separation based on usage of different MAC addresses (applicable when Layer 2 is used for the 26 
combined C/U plane transport) 27 
o e.g., one MAC address used for the combined C/U-Plane data flow and a second MAC address used for the M-28 
Plane data flow or additional MAC addresses used for the U-Plane for baseband load sharing purposes 29 
• Data flow separation based on different EtherTypes (applicable when Layer 2 is used for C/U plane transport) 30 
The U-plane application also needs to uniquely associate different data flows (e.g. spatial streams) each with a unique 31 
U/C plane endpoint address. This can be achieved in an O-RU using the eAxC identifier, and in the O-DU using the 32 
eAxC identifier in combination with transport-based endpoint identifiers to differentiate O-RUs. In addition, O-RU data 33 
flows can be switched/routed to different O-DUs (or different O-DU ports or O-DU processors) according to the 34 
transport-based identifiers associated with an eAxCid (referred to as processing-elements in the WG4 M-Plane 35 
Specification) to allow frames/packets to be switched/routed by network equipment with no visibility of the eAxC 36 
values carried in the eCPRI/1914.3 header. 37 
 Different transport identifiers (e.g. UDP/IP, VLAN, MAC) can be used based on whether layer 2 or layer 3 transport is 38 
used for the U/C plane: 39 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      63 
O-RAN.WG4.CUS.0-v07.00 
• Separation of the combined U/C-plane data flow using UDP-port identifiers (applicable when layer 3 transport is 1 
used for the C/U-plane) 2 
• Separation of the combined U/C-plane data flow using VLAN identities (applicable when layer 2 or layer 3 is used 3 
for the C/U-plane transport) 4 
• Separation of the combined U/C-plane data flow using different MAC addresses (applicable when Layer 2 is used 5 
for C/U plane transport) 6 
 7 
3.5 Fragmentation 8 
Fragmentation is applied in case data (U-Plane or C-Plane data) with Ethernet transport overheads to be transferred 9 
exceed maximum transmission unit (MTU) of the network. This specification allows two methods for fragmentation, 10 
application layer fragmentation and transport layer fragmentation: 11 
3.5.1 Application layer fragmentation 12 
• Application creates C-plane or U-Plane messages, which when including overheads can fit to MTU 13 
requirements set by network 14 
• Sequence ID: Sequence ID increases for every message, E=1, Subsequence ID=0 15 
An example of application fragmentation is provided in Figure 3-10, wherein a long data section is split between 16 
multiple U-Plane messages.  In the example it is a single data section (0xABC) so described as such in the C-Plane, and 17 
in the U-Plane the sectionId is cited multiple times in the multiple U-Plane messages but with differing and consecutive 18 
groups of PRBs as indicated by the startPrbu and numPrbu fields.  The I and Q word width in the example is 14 bits, 19 
which for such a large data section requires multiple U-Plane messages.  The ecpriRtcid / ecpriPcid (0xDEF3) is shown 20 
with a random example value, as is the sequence ID in the C-Plane (0x99) and independently in the U-Plane (0x40-21 
0x48). 22 
 23 
 24 
Figure 3-10: Example of Application-Level Fragmentation of U-Plane Messages 25 
 26 
3.5.2 Radio Transport layer (eCPRI or IEEE-1914.3) fragmentation 27 
o Application creates U-Plane messages, which when including overhead may exceed MTU 28 
requirements set by network 29 
o Radio transport layer splits message which may contain more than one section into pieces such that 30 
the fragments with overheads fit to MTU requirements set by network. 31 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      64 
O-RAN.WG4.CUS.0-v07.00 
o Sequence ID: Sequence ID remains same for all the fragments. Subsequence ID starts from 0 for the 1 
first fragment and counts up for each fragment. Last fragment flagged with E=1, others E=0. 2 
Table 3-8 : Example of Sequence Numbers Usage 3 
Application Layer Fragmentation  eCPRI Layer Fragmentation 
eAxC SeqId E Sub-SeqId  eAxC SeqId E Sub-SeqId 
 0 1 0   0 0 0 
 1 1 0   0 1 1 
 2 1 0   1 0 0 
 3 1 0   1 0 1 
 4 1 0   1 0 2 
 5 1 0   1 1 3 
 6 1 0   2 0 0 
 7 1 0   2 0 1 
 8 1 0   2 1 2 
 9 1 0   3 1 0 
 4 
3.5.3 Fragmentation Guideline 5 
Application layer fragmentation should be applied so that maximum size standard IEEE 802.3 Ethernet frames can be 6 
used. (Jumbo frames, if used, increase the maximum MTU size). 7 
• In case of L2 only solution, application layer maximum transmission unit size is standard IEEE 802.3 Ethernet 8 
frame payload size (1500 bytes) – transport overhead (8 bytes) = 1492 bytes (or larger for Jumbo frames) 9 
When a U-plane section payload is fragmented due to large number of PRBs, it will be divided into multiple groups of 10 
PRBs such that each group (including the application headers) can fit to the MTU requirements. Each group of PRBs 11 
shall have its respective control fields including the same section ID from the C-plane and startPrbu and numPrbu to 12 
identify its contents (See Figure 3-10).  When an application layer message exceeds the MTU size set via the M-Plane 13 
configuration, radio-transport layer fragmentation can be applied at the transport layer and has the advantage of 14 
allowing application layer messages to fit whatever is the MTU size without the application having to know about 15 
transport-level details.  16 
  17 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      65 
O-RAN.WG4.CUS.0-v07.00 
Chapter 4 Security 1 
Security requirements are depicted in Table 4-1. 2 
Table 4-1 : Security requirements for User-Plane, Control-Plane, and Synchronization-Plane 3 
Plane Integrity (protection 
from modifications) 
Confidentiality 
(encryption 
protection) 
Availability 
(protection from 
packet insertion) 
Remarks 
U-Plane No requirement No requirement No requirement User data protected end to end 
via PDCP protocol 
C-Plane No requirement No requirement No requirement  
S-Plane No requirement No requirement No requirement Optional in IEEE 1588 (PTP). 
However, not feasible at a 
reasonable cost.  
  4 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      66 
O-RAN.WG4.CUS.0-v07.00 
Chapter 5 C-plane Protocol 1 
5.1 General 2 
5.2 Function 3 
5.2.1 C-Plane Transport 4 
Either eCPRI or IEEE 1914.3 is used as an encapsulation mechanism for the control-plane messages. Due to the nature 5 
of these messages (very strict delay constraints), it is assumed that message acknowledgements are not possible. 6 
Likewise, it is assumed that a different data flow is used other than the U-Plane channel. Further, C-Plane messages are 7 
not concatenated with U-Plane messages within same Ethernet frame. 8 
5.3 Elementary Procedures 9 
5.3.1 Scheduling and Beamforming Commands Transfer procedure 10 
This procedure is used to exchange C-Plane messages between O-DU and O-RU. The main purpose of these messages 11 
is to transmit data-associated control information required for processing of user data (e.g., scheduling and 12 
beamforming commands) if such information is not provided via M-Plane (see section 6.2.2 for more details). Messages 13 
are sent separately for DL related commands and UL related commands (see Figure 5-1).  See also Figure 5-8 for the 14 
special case of LTE LAA wherein there are UL as well as DL C-Plane message flows.  For purpose of increased 15 
flexibility, C-Plane messages may be sent either jointly or separately depending on the channel for which information is 16 
conveyed. For example, PUCCH and PUSCH may be bundled or not bundled into a single C-Plane message depending 17 
on implementation.  18 
 19 
…
min. time the 
O-RU has to 
prepare to 
process DL 
data from the 
O-DU
O-DU
(@ FH interface)
DL C-Plane and DL U-Plane UL C-Plane and UL U-PlaneO-RU
(@ FH interface)
t2a_min_cp_ul
ta3_min
min. time the O-RU 
has to prepare to 
process UL signals 
at the antenna
time
flow
*) A DL C-plane message describing multiple symbols must arrive at O -RU 
at least Tcp_adv_dl before the end of DL U-plane receive window for 
symbol startSymbolId (the earliest symbol described by the message).
**) A UL C-plane message describing multiple symbols must arrive at O -RU 
at least t2a_min_cp_ul before the earliest air interface UL signal sample of 
symbol startSymbolId (the earliest symbol described by the message) 
arrives at O-RU antenna.
Tcp_adv_dl
the end of DL C-plane receive window for symbol #M
the end of DL U-plane receive window for symbol #M
network
delay
the end of UL C-plane receive window for symbol #M
the earliest air interface UL signal sample for symbol #M arrives at O-RU antenna
O-DU
(@ FH interface)
O-RU
(@ FH interface)
time
flow
network
delay
the start of UL U-plane transmit window for symbol #M
messages arrive at RU before the deadline 
by a margin > inaccuracies of timing params.
messages arrive at RU before the deadline 
by a margin > inaccuracies of timing params.
messages arrive at RU before the deadline 
by a margin > inaccuracies of timing params.
network
delay
the start of UL U-plane transmit window for symbol #M+1
the start of UL U-plane transmit window for symbol #N
the end of DL U-plane receive window for symbol #M+1
the end of DL U-plane receive window for symbol #N
…
 20 
Figure 5-1 : Scheduling and beamforming commands transfer procedure 21 
 22 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      67 
O-RAN.WG4.CUS.0-v07.00 
5.3.2 Mixed Numerology and PRACH Handling 1 
5G NR defines Physical Resource Block (PRB) where the number of subcarriers per PRB is the same for all 2 
numerologies (twelve). However, subcarrier spacing may differ, resulting in mixed numerology used in time and 3 
frequency domains respectively. Likewise, mixed numerologies may be applied to both DL and UL respectively 4 
(Figure 5-2). 5 
 6 
Figure 5-2 : Mixed Numerology in Time and Frequency Domain 7 
Frequency indexing across multiple numerologies  8 
• RB indexing (i.e. the physical resource block) is always dependent on the used numerology. For PRACH and 9 
SSB the relation is with the physical channel. In case of PRACH, indexing of RBs inside of each PRACH 10 
frequency block follows 3GPP specifications and PRACH subcarrier extraction is performed in the O-DU. In 11 
particular, the first RE of the first RB addressed inside section Id shall correspond with the first guard tone 12 
used at the lower edge of the PRACH frequency block based on the PRACH SCS. The O-RU, using the filter 13 
index and SCS of corresponding PUSCH, knows the PRACH subcarrier position and guard tones and can then 14 
adjust its filtering parameters (e.g. filter center, passband). For the SSB case, its own separate frequency offset 15 
is assigned.  16 
Figure 5-3 shows a PRACH example illustrating startPrbc, numPrbc, and freqOffset. Specifically, 17 
o freqOffset indicate the location of lowest RE’s center in the lowest RB defined by frameStructure, 18 
with respect to center-of-channel-bandwidth. 19 
o startPrbc and numPrbc in the section type 3 indicate the PRB in the RB grid defined by corresponding 20 
freqOffset and frameStructure. 21 
▪ If freqOffset refers to the lowest RE’s center in the lowest RB of the PRACH block (as 22 
shown in Figure 5-3), then startPrbc shall be set to 0. 23 
▪ If freqOffset refers to lower than the start of the PRACH block, then startPrbc will take a 24 
non-zero value, where indexing starts from the PRB referred to by freqOffset. 25 
o Note that numPrbc may exclude PRBs with all-guard-tones at the upper end of the PRACH frequency 26 
block. (Hence, in the example in Figure 5-3, numPrbc could be set to 71 or 72). 27 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      68 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 5-3: startPrbc, numPrbc, and freqOffset Illustration - PRACH example 2 
• For each numerology (and PRACH/SSB), the freqOffset IE  determines frequency offset between center of 3 
channel bandwidth (configured via M-plane) and center of subcarrier corresponding to RE#0 of RB#0 with 4 
resolution of half the SCS of the respective numerology. This concept is depicted in Figure 5-4, Figure 5-5 5 
and Figure 5-6. 6 
o The center of channel bandwidth (component carrier center frequency in Hz) is the common reference 7 
to all numerologies and PRACH/SSB channels. The center of channel bandwidth  is configured at 8 
carrier setup over M-Plane. 9 
o Frequency offset resolution of 0.5 x SCS allows center of channel bandwidth to be aligned with an RE 10 
center, or and RE edge.  11 
 12 
RE
0
RE
1
RE
862
RE 
863... RE
11 ...RE
851...
RB 0 RB 71
RE
0
RE
1
RE
862
RE 
863... RE
11 ...RE
851...
RB 0 RB 71
frequency
freqOffset = +864freqOffset = -2592 center of channel 
bandwidth
PRACH frequency block #1 with SCS = 1.25 kHz
+540 kHz = +864*0.625 kHz-1620 kHz = -2592*0.625 kHz
PRACH frequency block #3 with SCS = 1.25 kHz
Note: Each frequency block in sent with separate section ID and control setting in section type 3
Note: In this example, 5G NR 100 MHz carrier PUSCH SCS is 30 kHz, PRACH SCS is 1.25 kHz
Note: In 5G NR PRACH frequency blocks are continuous
Note: In the example guard tones are included.
 13 
Figure 5-4 : RB Mapping– PRACH Example 14 
 15 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      69 
O-RAN.WG4.CUS.0-v07.00 
RE
0
RE
1
RE 
1631... RE
11 ...RE
1620...
RB 0 RB 135
frequency
freqOffset = -3240  (-24.3 MHz = -3240*7.5 kHz)
center of channel bandwidth
50 MHz FR1 carrier with SCS 15 kHz (270 RB), SCS 30 kHz (133 RB) and SCS 60 kHz (65 RB)
15 kHz RE
3239...
RE
0
RE
803...RE
798...
RB 66
RE
1595...
RE
0
RE
390
RE
395...RE
384...
RB 32
RE
779...
RE
1
RE
792
...
...
RB 0
RB 0
freqOffset = -780  (-23.4 MHz = -780*30 kHz)
freqOffset = -1596  (-23.94 MHz = -1596*15 kHz)
30 kHz
60 kHz
 1 
Figure 5-5 : RB Mapping and Support of Mixed Numerologies - Example with Mixed Numerologies 2 
 3 
frequency
center of channel bandwidth
50 MHz FR1 carrier with SCS 30 kHz (133 RB) for PDSCH and SCS 30 kHz (20 RB) for SSB
RE
0
RE
803...RE
798...
RB 66
RE
1595...RE
1
RE
792 ...
RB 0
freqOffset = -240  (-3.6 MHz = -240*15 kHz)
freqOffset = -1596  (-23.94 MHz = -1596*15 kHz)
30 kHz
PDSCH
30 kHz
SSB
RE
0
RE
131......
RB 10
RE
239...RE
1
RE
120 ...
RB 0
RE
125
 4 
Figure 5-6 : RB Mapping and Support of Mixed Numerologies - Example SSB 5 
 6 
Slot indexing with mixed numerologies 7 
For a given frequency range FR1 or FR2, the highest possible numerology supported by the O-RU shall be used as the 8 
common reference per component carrier for the start of the slot identified by slotId.  UL and DL on the same 9 
component carrier shall use the same reference numerology for slotId.  If the highest numerology supported by the O-10 
RU allows both normal and extended CP then normal CP shall be used as reference. Note that the O-RU shall advance 11 
slots with extended CP against the reference.  The symbol duration and position in time is calculated from the µ value 12 
(SCS from frameStruture in message field or configured via M-plane) and the slotId field in the CU-Plane message.   13 
The value of the sectionId field in CU-Plane messages addressed per eAxC shall be unique per slot identified by slotId 14 
value. 15 
For example, in FR1 case, the maximum slot numbers per subframe is four, when the maximum supported SCS by the 16 
O-RU is 60kHz 17 
• µ= 0 → slot #0; µ=1 → slot #0 & #2; µ=2 → slot #0, #1, #2, #3 (see Table 5-1) 18 
 19 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      70 
O-RAN.WG4.CUS.0-v07.00 
Table 5-1 : slotId Indexing (example 1) 1 
µ=2
60 kHz
(Highest supported 
numerology)
slotId symbolId
µ=1
30 kHz
slotId symbolId
µ=0
15 kHz
slotId symbolId
0 0
1
2
...
11
12
13
1 0
1
2
...
11
12
13
2 0
1
2
...
11
12
13
3 0
1
2
...
11
12
13
0 0
1
2
...
11
12
13
0
0
1
2
...
11
12
13
2 0
1
2
...
11
12
13
0
0
1
...
12
13
1
0
1
...
12
13
µ=3
120 kHz
(Highest supported 
numerology)
slotId symbolId
2
0
1
...
12
13
3
0
1
...
12
13
4
0
1
...
12
13
5
0
1
...
12
13
6
0
1
...
12
13
7
0
1
...
12
13
µ=2
60 kHz
slotId symbolId
µ=1
30 kHz
slotId symbolId
0 0
1
2
...
11
12
13
2 0
1
2
...
11
12
13
4 0
1
2
...
11
12
13
6 0
1
2
...
11
12
13
0 0
1
2
...
11
12
13
4 0
1
2
...
11
12
13
0 0
1
2
...
11
12
13
0 0
1
2
...
0
0
1
0
0
1
...
12
13
1
0
1
...
12
13
0 0
1
2
...
11
12
13
0 0
1
2
...
... ...
 2 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      71 
O-RAN.WG4.CUS.0-v07.00 
Table 5-2: slotId Indexing (example 2) 1 
µ=1
30 kHz
(Highest supported 
numerology)
slotId symbolId
µ=0
15 kHz
slotId symbolId
0 0
1
2
...
11
12
13
1 0
1
2
...
11
12
13
0 0
1
2
...
11
12
13
1 0
1
2
...
11
12
13
0 0
1
2
...
11
12
13
0 0
1
2
...
11
12
13
0 0
1
2
...
11
12
13
0 0
1
2
......
µ=4
240 kHz
(Highest supported 
numerology)
µ=3
120 kHz
0
0
1
...
12
13
1
0
1
...
12
13
slotId symbolId
2
0
1
...
12
13
3
0
1
...
12
13
4
0
1
...
12
13
...
0
1
...
12
13
14
0
1
...
12
13
15
0
1
...
12
13
slotId symbolId
0 0
1
2
...
11
12
13
2 0
1
2
...
11
12
13
4 0
1
2
...
11
12
13
14 0
1
2
...
11
12
13
0
0
1
...
12
13
1
0
1
...
12
13
0 0
1
2
...
11
12
13
...
...
 2 
Numerology for slotId is based on the highest possible numerology supported by the O-RU. For example: 3 
• If the O-RU supports 15kHz SCS, 30kHz SCS and 60kHz SCS, it will be as per the left hand side table of 4 
Table 5-1; 5 
• If the O-RU supports 30kHz SCS, 60kHZ and 120kHz SCS, it will be as per the right hand side table of Table 6 
5-1; 7 
• If the O-RU supports 120kHz SCS and 240kHz SCS, it will be as per the left hand side table of Table 5-2; 8 
• If the O-RU supports 15kHz SCS and 30kHz SCS, it will be as per the right hand side table of Table 5-2; 9 
 10 
PRACH formats with multiple repetitions of preamble 11 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      72 
O-RAN.WG4.CUS.0-v07.00 
Certain PRACH formats lead to PRACH symbols to be constructed from multiple repetitions of a preamble sequence, 1 
with only the Cyclic Prefix (CP) used with the first sequence. Therefore, the O-RU must be informed how to correctly 2 
execute CP extraction and FFT.  This is achieved by sending a single control message spanning over multiple symbols 3 
(e.g. example depicted in Figure 5-6: number of symbols = 4, CP length = 0, time offset duration is adjusted by an 4 
equivalent time value of 1152 samples to compensate for setting CP length =0), which reduces the number of C-Plane 5 
messages and data sections required.  6 
Optionally O-RU can advertise the list of the supported formats for the specific endpoint. If the O-RU chooses not to, it 7 
means O-RU supports all PRACH formats and the O-DU may select whatever format that is 3GPP compliant with the 8 
selected SCS. If the O-RU implements earlier releases of the M-plane specification which does not support such 9 
reporting, then the negotiation of PRACH formats to use must happen offline, i.e. operators and/or vendors have to 10 
ensure that the intended PRACH formats are supported by both O-RU and O-DU. 11 
 12 
The example in Figure 5-7 depicts the scenario with format A2 and 30kHz SCS, in which only CP extraction occurs 13 
once, yet there are four associated FFT operations. 14 
 15 
Figure 5-7 : Example of PRACH Format A2 16 
5.3.3 DL Precoding configuration parameters and indications  17 
This sub-section addresses the method of specifying the precoding operation in the O-RU, which is expected when 18 
Category B O-RUs are supported.  For Category A O-RUs the precoding is implemented in the O-DU so the 19 
descriptions in this sub-section are not relevant.  Annex I contains more information and examples regarding this 20 
precoding. 21 
O-DU  22 
12 REs are generally sent on the interface from the O-DU to the O-RU but for certain IQ formats (selective RE 23 
sending as described in Annex A.1), fewer REs may be sent.  In this case the missing REs would be considered by 24 
the O-RU to be equal to zero in both I and Q. 25 
For ‘single Tx’:  26 
• For layer mapping at O-RU, complex-valued modulation symbols mapped in a sequence starting with  27 
)1(),...,0( (q)
symb
)()( −Mdd qq
 to frequency REs (k,l) and are packed into a PRB. A single eAxC is used for this 28 
purpose. 29 
• For CRS mapping at O-RU, all CRS REs belong to a single Tx antenna and are mapped to frequency REs (k,l) 30 
for one layer and are packed into a PRB for transmission and are unpacked at O-RU (see Annex I for details).  31 
For TxD:  32 
• For layer mapping at O-RU, complex-valued modulation symbols mapped in a sequence starting with  33 
)1(),...,0( (q)
symb
)()( −Mdd qq
 to frequency REs (k,l) and are packed into a PRB. A single eAxC is used for this 34 
purpose. 35 
• For CRS mapping at O-RU, all CRS RE’s are mapped to frequency REs (k,l) for all layers and are packed into 36 
a PRB for transmission and are unpacked at O-RU (see Annex I for details).  37 
For TM3/TM4, TM5/6 38 
• At the O-DU, layer mapped symbols for each layer v, mapped in sequence starting with39 
 
T
ixixix )(...)()( )1()0( −= 
 to frequency REs (k,l) are packed into each PRB (see Annex I).  40 
• For precoding at the O-RU, different eAxCs are used for each layer (See Annex I). 41 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      73 
O-RAN.WG4.CUS.0-v07.00 
• For CRS mapping at the O-RU, all CRS RE’s for each layer are packed into a PRB for transmission and are 1 
unpacked at the O-RU (see Annex I for details).  2 
• All C-plane message parameters are kept the same for precoding purposes. 3 
For TM7-10 and NR 4 
• Precoding in the O-RU may be implemented in various ways that are vendor-defined and vendor-specific, 5 
because there is no 3GPP-mandated precoding operation for these cases. 6 
O-RU  7 
From the C-plane precoding section extension, the O-RU determine the transmission scheme using txScheme 8 
field. 9 
For ‘single Tx’:  10 
• At the O-RU, input modulated symbols 
)1(),...,0( (q)
symb
)()( −Mdd qq are to be unpacked and used to perform 11 
layer mapping, precoding and antenna port mapping for single tx. 12 
• For transmission on a single antenna port, a single layer is used, 
1= , and the mapping is defined as13 
)()( )0()0( idix =
 with 
(0)
symb
layer
symb MM = . 14 
• For single tx transmission on a single antenna port, precoding is defined by 
)()( )0()( ixiy p =  where 15 
 0,4,5,7,8,11,13,107,108,109,110p 
 is the number of the single antenna port used for transmission of the 16 
physical channel and 
1,...,1,0 ap
symb −= Mi , 
layer
symb
ap
symb MM = . 17 
• For antenna port mapping p={0}, each y(i)=[y(p) (i) ]T RE goes to antenna port y_p(i) after antenna port 18 
mapping. 19 
• Since the PRB contains CRS sequences for one antenna port, the RE should extract the CRS RE’s using 20 
crsSymbolNumber, crsReMask and crsShift (see Annex I for details) and are mapped to the appropriate RE 21 
position.  22 
For txScheme ‘TxD’:  23 
• At the O-RU, input modulated symbols 
)1(),...,0( (q)
symb
)()( −Mdd qq are to be unpacked and used to perform 24 
layer mapping, precoding and antenna port mapping. 25 
• The appropriate precoder is selected based on number of layers and antenna ports.  26 
• For antenna port mapping p={0..N}, each y(i)=[y(p) (i) ]T RE goes to each antenna port y_p(i) after antenna 27 
port mapping. 28 
• Since the PRB contains CRS sequences for N antenna ports, the RE should extract the CRS RE’s using 29 
crsSymbolNumber, crsReMask and crsShift (see Annex I for details) which are mapped to the appropriate RE 30 
position and rest of the REs are populated with zero data.  31 
For TM3/TM4, TM5/6 32 
• Input layer mapped symbols  
 
T
ixixix )(...)()( )1()0( −=  shall be used to perform precoding at the O-RU 33 
based on codeBookIndex, numLayers, layerID. 34 
• In closed loop mode, the appropriate precoder is selected per codebook index, number of layers and antenna 35 
ports.  36 
• In open loop mode, the codebook index field is ignored. 37 
• The O-RU changes the precoder per RE automatically based on the number of antenna ports and number of 38 
layers. 39 
• After precoding, for antenna port mapping p={0..N}, each y(i)=[y (p) (i) ]T RE goes to each antenna port y_p(i) 40 
after antenna port mapping. 41 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      74 
O-RAN.WG4.CUS.0-v07.00 
• Since all PRBs contain CRS sequences for N antenna ports, then based on the layerID (layer 0) extract CRS 1 
sequence using crsSymbolNumber, crsReMask and crsShift (see Annex I) for CRS mapping to each of the 2 
antenna ports using the reMask bit field; the CRS REs from other layers can be ignored.  3 
For TM7-10 and NR 4 
• One way to implement precoding in the O-RU is via the beamID values, wherein a beamID points to a 5 
beamforming vector that also implements the precoding operation. 6 
5.3.4 LAA Commands Transfer procedure 7 
This procedure is used to exchange C-Plane messages between O-DU and O-RU. The main purpose of these messages 8 
is to support LAA feature in the O-RU/O-DU.  See Annex G for more details on the LAA message flow. 9 
5.3.4.1 LBT procedure overview  10 
The LBT procedure is used to configure the O-RU with the parameters needed to do LBT prior to PDSCH or DRS 11 
transmission OTA. The O-RU needs to report the LBT process outcome (either success or failure) in the indication 12 
message.  13 
In contrast to licensed spectrum, where the O-RU may continuously send data or reference signals OTA, in unlicensed 14 
spectrum, the O-RU can only send discontinuous bursts of data (of length MCOT) or periodic DRS signals. The 15 
LBT_DL_CONFIG request message is sent once prior to each OTA transmission on the LAA SCell. This includes both 16 
DRS and PDSCH (i.e., MCOT burst) transmissions. For every LBT_DL_CONFIG request message, the O-RU replies 17 
with the LBT_DL indication messages which include the LBT outcome and the status of the subframe 18 
(transmitted/dropped) (see Figure 5-8). 19 
If O-RU can manage a congestion window by itself, the O-DU does not need to send LBT_DL_CONFIG request 20 
message to start the LBT procedure at O-RU. Because O-RU can determine the start timing of LBT procedure, the 21 
requirements of O-DU for the LBT procedure at the O-RU is a delivery of needed information to adjust a congestion 22 
window managed by O-RU. To transmit these information, O-DU sends LBT_CWCONFIG_REQ message, and O-RU 23 
notifies to the O-DU by LBT_CWCONFIG_RSP message to indicate that the LBT_CWCONFIG_REQ message is 24 
successfully received or not. Also, O-RU can adjust its congestion window based on the information on the 25 
LBT_CWCONFIG_REQ message.  For every LBT_CWCONFIG_REQ request message, the O-RU replies with the 26 
LBT_DL indication message(s) which include the LBT outcome and the status of the subframe (transmitted/dropped). 27 
For the DRS signal, initially, the O-DU must configure the O-RU with the DRS parameters (DMTC period and DMTC 28 
offset) via the M-plane. 29 
Before every DRS period, the O-DU must send the LBT_DL_CONFIG request message and the DRS signal. O-RU 30 
does LBT and transmits the DRS signal OTA in case of LBT success. The O-RU then must send the LBT_DL 31 
indication. 32 
The DRS signal can be transmitted over the fronthaul interface similar to other reference signals such as the 33 
PSS/SSS/CRS.  34 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      75 
O-RAN.WG4.CUS.0-v07.00 
 1 
 2 
Figure 5-8 : LBT Message Flow 3 
5.3.4.2 Definitions 4 
• 𝐷𝑂𝑊: Maximum one-way fronthaul latency 5 
• 𝑃𝐷𝑈: Maximum O-DU processing time (reading an upstream O-RU c-plane message, MAC processing, 6 
sending the downstream U-plane data) 7 
• 𝑃𝑅𝑈: Maximum O-RU processing time (sending an upstream c-plane message, receiving downstream U-plane 8 
data, transmitting U-plane data OTA)  9 
• 𝐵𝑅𝑈: O-RU Buffer depth (for LAA) ceiled to an integer number of OFDM symbols in microseconds (up to 140 10 
symbols, for example (i.e., MCOT)). This is equivalent to the minimum amount of data that must be buffered 11 
at the O-RU. This parameter could be less than or equal to the actual O-RU buffer size communicated via the 12 
M-Plane.  13 
• Expired symbol: Symbol where the current time at the O-RU exceeds its target transmission time (i.e., 14 
SFN/SF) OTA.  15 
• Normal (partially-filled) SF assumption: 𝑇𝑠𝑡𝑎𝑟𝑡 is the start of the transmission time, which occurs at the first SF 16 
(slot) boundary the O-RU encounters after starting the LBT CAT 4 process and after finishing the minimum 17 
sensing duration. Initially known to the O-DU (since it sends the LBT start time and the LBT parameters to the 18 
O-RU). It can be updated in real-time based on the LBT outcome and the communication between the O-DU 19 
and O-RU.  Note that here, a “slot” follows the LTE definition of containing seven symbols. 20 
O-DU O-RU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      76 
O-RAN.WG4.CUS.0-v07.00 
• LBT_DL indication Threshold (𝐿𝐵𝑇𝑡ℎ): The latest time the O-DU is expected to receive the LBT_DL 1 
indication message from the O-RU.  2 
𝐿𝐵𝑇𝑡ℎ =𝑇𝑠𝑡𝑎𝑟𝑡 +(𝑃𝑅𝑈 +𝐷𝑂𝑊 +𝑃𝐷𝑈) 3 
• CU Transmission time threshold (CU𝑇𝑡ℎ): The time at which the O-DU is required to send the data to the O-4 
RU to be transmitted OTA at time 𝑇𝑠𝑡𝑎𝑟𝑡 5 
𝐶𝑈𝑇𝑡ℎ =𝑇𝑠𝑡𝑎𝑟𝑡 −(𝑃𝑅𝑈 +𝐷𝑂𝑊 +𝑃𝐷𝑈) 6 
• 𝑥: Minimum time between any two potential start transmission times 7 
𝑥={1 𝑚𝑠,                      𝑁𝑜𝑟𝑚𝑎𝑙 𝑆𝐹 
0.5 𝑚𝑠,  𝑃𝑎𝑟𝑡𝑖𝑎𝑙𝑙𝑦−𝑓𝑖𝑙𝑙𝑒𝑑 𝑆𝐹 8 
 9 
5.3.4.3 General Guidelines for the LAA-procedure 10 
5.3.4.3.1 PDSCH Transmission 11 
• O-DU should avoid buffer overflow or underflow at the O-RU: 12 
• O-DU should only send 𝐵𝑅𝑈 worth of data to the O-RU for every single transmission 13 
• O-DU should plan for the data to be received at the O-RU only 𝑃𝑅𝑈 before the actual OTA 14 
transmission time at the O-RU 15 
• O-RU should avoid buffer overflow or underflow at the O-RU: 16 
• O-RU should flush its buffer (by dropping any expired symbols) as soon as any symbol becomes 17 
expired (i.e., current time is larger than the symbol’s scheduled time) 18 
• O-RU should immediately send a success LBT indication to the O-DU once the channel is acquired.  19 
• The O-RU should send an error message to the O-DU if data received is larger than its local buffer  20 
• The O-RU should send a subframe drop or transmission message to the O-DU when buffered 21 
subframe is dropped because scheduled time is passed, or is transmitted after LBT success. 22 
• The O-RU should have a buffer that satisfies the following equation: 𝐵𝑅𝑈 ≥2×𝐷𝑂𝑊 +𝑃𝐷𝑈 +𝑃𝑅𝑈 23 
• Note on LBT CAT 4 in general: 24 
• The O-DU can configure the O-RU (via the M-plane) with the threshold on the LBT CAT 4 duration 25 
(e.g., 8 ms). Once this threshold has exceeded, the O-RU sends a failure LBT indication to the O-DU, 26 
which in return sends back a new LBT config request. The O-RU can then restart the LBT CAT 4 27 
process.  28 
• The data signal may be received at the O-RU before or after the LBT_PDSCH_REQ 29 
• The O-RU should generate the reservation signal locally whenever needed 30 
 31 
5.3.4.3.2 DRS Transmission 32 
• Recall: 33 
1. PSS/SSS being part of a DRS may occur outside subframe 0 and 5 34 
2. CRS/CSI-RS/PSS/SSS do not vary with subframe number but are kept unchanged across subframes 35 
0–4 (call it DRS_v1) and 5–9 (DRS_v2). 36 
• Assumption: DRS OTA transmission starts at the SF boundaries. 37 
• The DRS signal may be received before or after the LBT_DRS_REQ 38 
• LBT_DRS_REQ is sent once per DRS window (e.g., DMTC offset = 6 ms is conveyed to the O-RU via the M-39 
plane). 40 
• DRS signal is sent every SF in the 6 SFs of the DRS window until LBT succeeds.  41 
• 𝐷𝑅𝑆𝑡ℎ,1 =𝑆𝐹0−(𝑃𝑅𝑈 +𝐷𝑂𝑊 +𝑃𝐷𝑈) 42 
• 𝐷𝑅𝑆𝑡ℎ,2 =𝑆𝐹5−(𝑃𝑅𝑈 +𝐷𝑂𝑊 +𝑃𝐷𝑈) 43 
• 𝑆𝐹0: The start of SF0, SF1, SF2, SF3, or SF4 44 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      77 
O-RAN.WG4.CUS.0-v07.00 
• 𝑆𝐹5: The start of SF5, SF6, SF7, SF8, or SF9 1 
• At 𝐷𝑅𝑆𝑡ℎ,1, O-DU sends DRS_v1 (i.e., to be transmitted within SFs 0-4) 2 
• At 𝐷𝑅𝑆𝑡ℎ,2, O-DU sends DRS_v2 (i.e., to be transmitted within SFs 5-9) 3 
• Notes:  4 
1. LBT indication with failure outcome must be sent for every sensing period.  5 
5.3.4.3.3 Congestion Window Information Transmission 6 
• O-DU should send information regarding a congestion window adjustment to O-RU 7 
• HARQ feedback information for the reference subframe and number of TB are included 8 
• O-RU should adjust its managed congestion window value and notify to O-DU the packet reception status 9 
• O-RU should adjust its congestion window value based on received information 10 
• O-RU should immediately send a success LBT_CWCONFIG_RSP to the O-DU when the message is 11 
successfully received. If not, O-RU should send a fail LBT_CWCONFIG_RSP. 12 
 13 
5.3.5 Symbol Numbering and Duration 14 
For the NR case, data symbol numbering in a slot shall be from zero to thirteen (for extended CP, eleven).  For LTE the 15 
symbol numbering shall be mapped to the NR numbering as follows: 16 
LTE with normal prefix maps to NR with same μ and normal prefix: 17 
 LTE symbol 𝑙𝐿𝑇𝐸 of slot 2𝑖 is mapped to NR slot 𝑖, symbol 𝑙′=𝑙𝐿𝑇𝐸 18 
 LTE symbol 𝑙𝐿𝑇𝐸 of slot 2𝑖+1 is mapped to NR slot 𝑖, symbol 𝑙′ =7+𝑙𝐿𝑇𝐸 19 
LTE with extended prefix the following applies: 20 
 LTE symbol 𝑙𝐿𝑇𝐸 of slot 2𝑖 is mapped to NR slot 𝑖, symbol 𝑙′=𝑙𝐿𝑇𝐸 21 
 LTE symbol 𝑙𝐿𝑇𝐸 of slot 2𝑖+1 is mapped to NR slot 𝑖, symbol 𝑙′ =6+𝑙𝐿𝑇𝐸 22 
 23 
The symbol duration can be determined from the SCS provided by “frameStructure” and knowledge of whether LTE 24 
versus NR is supported; 3GPP specifications 36.211 and 38.211 provide the necessary formulas. 25 
When the SCS value provided by “frameStructure” is less than 15kHz (e.g. for long preamble PRACH formats), 26 
numerology for symbolId is based on 15kHz SCS. 27 
 28 
5.3.6 Dynamic Spectrum Sharing (DSS) 29 
Dynamic Spectrum sharing allows different technologies – 4G LTE and 5G NR in this version of the specification, to 30 
share same frequency carrier dynamically, i.e. the O-DU may allocate one or more set(s) of frequency-time resources 31 
(or PRBs) to LTE or NR dynamically. The O-RU also must support this feature for the O-DU to take advantage of such 32 
an allocation. This version of the specification supports DSS via using dedicated eAxC ids (i.e. endpoints) for LTE and 33 
NR or via using Section Extension =9 for DSS. 34 
5.3.6.1 Dynamic Spectrum Sharing (DSS) via Dedicated Endpoints 35 
Dedicated endpoints are configured in the O-RU for LTE and NR (hence dedicated eAxC ids) to implement DSS. For 36 
e.g. when an O-DU allocates a set of PRBs for LTE, O-DU uses an eAxC id dedicated for LTE (assigned to a carrier 37 
identified as an LTE carrier) to address the LTE endpoint; at a different time when the O-DU allocates the same set of 38 
PRBs for NR, the O-DU uses eAxC id dedicated for NR (assigned to a carrier identified as an NR carrier) to address the 39 
NR endpoint in the O-RU.  40 
When using this approach, a carrier will be assigned to LTE or NR, so when both LTE and NR are to be supported at 41 
the same time (“DSS”), two carriers with overlapping frequency ranges are to be identified, one being LTE and the 42 
other being NR.  It will be up to the O-RU to overlap the two carriers such that the same frequency range can support 43 
both NR and LTE, and it will be up to the O-DU to assure that no RE is assigned to both LTE and NR at the same time. 44 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      78 
O-RAN.WG4.CUS.0-v07.00 
5.3.6.2 Dynamic Spectrum Sharing (DSS) via Section Extension =9 for DSS 1 
Using Section Extension =9 for DSS, the O-DU can use a single eAxC id (and hence a single endpoint) for conveying 2 
LTE and NR PRB allocations if the O-RU is capable of handling both LTE and NR processing using one endpoint (i.e. 3 
the O-RU indicates support for Section Extension =9). Note that a single carrier may be allocated to either LTE, NR or 4 
both, and supporting DSS in this manner means the carrier (to which the endpoint is assigned) would be designated as 5 
supporting both.  The O-DU indicates whether the PRB allocation information is applicable to LTE or to NR via 6 
Section Extension =9.   7 
5.3.7 Channel Information based Beamforming 8 
In channel information based beamforming method, the O-DU provides channel information per UE periodically 9 
(generally less often than every slot) using Section Type 6 C-plane message and then on a slot-by-slot basis the O-DU 10 
provides scheduling information using Section Type 5 C-plane message which the O-RU uses along with the channel 11 
information to calculate the proper beamforming weights for the specific slot with its co-scheduled UEs. To reduce 12 
peak bandwidth, the transmission/ reception window constraints shall not apply to Section Type 6 message. O-RU is 13 
expected to use the latest possible available channel information for a ueId for channel information based beamforming 14 
operation i.e., O-RU uses channel information for a ueId available in O-RU at the end of receive window of Section 15 
Type 5 message. O-RU is expected to store updated channel information for a ueId when it is received, to be used when 16 
that ueId is scheduled in future. 17 
5.4 Elements for the C-plane Protocol 18 
5.4.1 General 19 
C-Plane messages are encapsulated using a two-layered header approach. The first layer consists of a eCPRI common 20 
header or IEEE 1914.3 common header, including corresponding fields used to indicate the message type, while the 21 
second layer is an application layer including necessary fields for control and synchronization. Within the application 22 
layer, a “section” defines the characteristics of U-plane data to be transferred or received from a beam with one pattern 23 
id.  In general, the transmission header, application header, and sections are all intended to be aligned on 4-byte 24 
boundaries and are transmitted in “network byte order” meaning the most significant byte of a multi-byte parameter is 25 
transmitted first. 26 
When the optional “little endian byte order” is chosen via M-plane, the beamforming weights (Section Type 1 or 3, and 27 
extType = 1) and ciIsample/ciQsample (Section Type 6) fields shall use little endian byte order to transmit the complex 28 
numbers. Annex D.1 shows little endian byte order format for various I/Q data length. 29 
Table 5-3 describes the section types that are supported within the C-Plane. 30 
Table 5-3 : Section Types 31 
Section 
Type 
Target Scenario Remarks 
0 Unused Resource Blocks or 
symbols in Downlink or Uplink 
Indicates to O-RU that certain Resource Blocks or symbols will not be 
used (idle periods, guard periods). Likewise, there are no associated 
U-Plane messages containing IQ data for this Section Type. The 
purpose is to inform the O-RU that transmissions may be halted 
during the specified idle interval for e.g. power-savings or to provide 
an interval for calibration. 
1 Most DL/UL radio channels* Here “most” refers to channels not requiring time or frequency offsets 
such as are needed for mixed-numerology channels 
2 reserved for future use  
3 PRACH and mixed-numerology 
channels* 
Channels requiring time or frequency offsets or different-than-nominal 
SCS values 
4 Reserved for future use  
5 UE scheduling information (UE-
ID assignment to section) 
Provides scheduling information for UE-IDs 
6 Channel information Sends UE-specific channel information from the O-DU to the O-RU 
7 LAA Messages communicated between O-DU and the O-RU in both 
directions to configure LBT for PDSCH/DRS transmission and to 
report the LBT outcome. 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      79 
O-RAN.WG4.CUS.0-v07.00 
8-255 Reserved for future use  
*Note : When PRACH having same numerology as other UL channel, Section type 1 can alternatively be used by O-1 
DU for PRACH signaling. In this case, O-RU is not expected to perform any PRACH specific processing. 2 
5.4.1.1 Section Extensions 3 
Within a data section description, the section header in most cases includes an “extension flag” which indicates 4 
parameters that apply to the section beyond those within the section header (the extension flag is most often adjacent to 5 
the beamId or ueId fields).  The presence of this extension flag indicates that following the header, a section extension 6 
is present.  Within the section extension is another extension flag, adjacent to the “extType” field, which indicates that a 7 
second (or third, etc.) extension is present.  In this way any number of section extensions may be included within a data 8 
section.  This provides an extensibility for section parameters without the need to continually redefine the section 9 
header or create new section types to accommodate future fronthaul specification needs. 10 
The section extension takes the form reminiscent of “TLV”: there is a type field specifically “extType” which is a 7-bit 11 
field describing the specific extension type, then a one-byte length field specifically “extLen” field detailing how many 12 
4-byte words are contained in the extension (minimum of 1 including the “extType” and “extLen” fields), and then 13 
some number of parameters that depend on the “extType” value for their definition.  In all cases the section extension 14 
will be an integer number of (4-byte) words in length. 15 
Specific valid values of “extType”, their meanings and their associated parameters are detailed in subsequent sub-16 
chapters of this specification.  17 
5.4.1.2 Coupling of C-Plane and U-Plane 18 
Selected types of C-Plane messages (section types 1, 3 and 5) carry data section descriptions that convey information 19 
applicable to data sections carried in U-Plane messages. This chapter describes a method of coupling data section 20 
descriptions from C-Plane and data sections in U-Plane. 21 
5.4.1.2.1 Coupling via sectionId Value 22 
This method of C-Plane and U-Plane coupling is used by default. O-DU may configure O-RU to use the other method 23 
via M-Plane. In this method, information from section description D in C-Plane message CM is applied to resource 24 
element R in PRB P (PRB understood as 12 resource elements of one OFDM symbol consecutive in frequency) in data 25 
section S in U-Plane message UM if: 26 
1. CM corresponds to UM i.e. both have the same eAxC_id and CM.dataDirection value matches direction of 27 
UM 28 
2. CM.frameId = UM.frameId and CM.subframeId = UM.subframeId and CM.slotId = UM.slotId  29 
3. symbol identified by UM.symbolId is described by the section description D.  30 
This requires evaluation of CM.startSymbolId, symInc and numSymbol in CM or checking D.symbolMask 31 
in section extension #6 , #12 or #19 if any of the extensions is present. 32 
4. PRB P is described by the section description D. This requires checking that D.startPrbc ≤ P < D.startPrbc 33 
+ D.numPrbc ∙ (D.rb + 1), if D.rb = 1 checking that D.startPrbc modulo 2 = P modulo 2; it requires 34 
evaluating D.rbgMask in section extension type #6 if this extension is present in D. Checking section 35 
extension #12, #13, #19 and #20 is required if any of them is present in D. 36 
5. D.reMask has value 1 in a bit corresponding to RE R. Checking effect of section extension #20 is required if 37 
this extension is present in D. 38 
6. D.sectionId = S.sectionId 39 
In addition, the following restrictions apply (in context of one eAxC): 40 
1. A PRB may occur only once in all U-Plane messages related to the same OFDM symbol. 41 
2. A resource element may be “referenced” (see conditions 3, 4 and 5 above) by only one section description. 42 
3. All section descriptions that are applicable to a PRB (see conditions 3 and 4 above) must have same value of 43 
sectionId. 44 
4. Section descriptions that are not applicable to same PRB (see conditions 3 and 4 above) must have different 45 
value of sectionId. 46 
5. Sender of C-Plane shall send in sectionId a value that is unique within a slot. 47 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      80 
O-RAN.WG4.CUS.0-v07.00 
6. Section descriptions that have the same value of sectionId must have same value of rb, startPrbc, numPrbc 1 
and numSymbol. 2 
5.4.1.2.2 Coupling via Frequency and Time 3 
This coupling method is used if a corresponding capability is reported by O-RU via M-Plane and use for an eAxC is 4 
configured via M-Plane. In this method, information from section description D in C-Plane message CM is applied to 5 
resource element R in PRB P (PRB understood as 12 resource elements of one OFDM symbol consecutive in 6 
frequency) in data section S in U-Plane message UM if: 7 
1. CM corresponds to UM i.e. both have the same eAxC_id and CM.dataDirection value matches direction of 8 
UM 9 
2. CM.frameId = UM.frameId and CM.subframeId = UM.subframeId and CM.slotId = UM.slotId  10 
3. symbol identified by UM.symbolId is described by the section description D.  11 
This requires evaluation of CM.startSymbolId, symInc and numSymbol in CM or checking D.symbolMask in 12 
section extension #6, #12 or #19 if any of the extensions is present. 13 
4. PRB P is described by the section description D. This requires checking that D.startPrbc ≤ P < D.startPrbc 14 
+ D.numPrbc ∙ (D.rb + 1), if D.rb = 1 checking that D.startPrbc modulo 2 = P modulo 2; it requires 15 
evaluating D.rbgMask in section extension type #6 if this extension is present in D. Checking section 16 
extension #12, #13, #19 and #20 is required if any of them is present in D. 17 
5. D.reMask has value 1 in a bit corresponding to RE R. Checking effect of section extension type #20 is 18 
required if this extension is present in D. 19 
In addition, the following restrictions apply (in context of one eAxC): 20 
1. A PRB may occur only once in all U-Plane messages related to the same OFDM symbol. 21 
2. A resource element may be “referenced” (see conditions 3, 4 and 5 above) by only one section description. 22 
3. Sender of C-Plane shall send in sectionId a value 4095. 23 
4. Sender of C-Plane shall order section descriptions such that any section descriptions referencing to any RE 24 
(non-zero value of reMask) are present before section descriptions that do not reference any RE (i.e. zero 25 
value in reMask). This allows O-RU to more quickly identify section descriptions that carry beamforming 26 
configuration for any RE and also makes them localized in memory which can improve message processing 27 
performance.  28 
5.4.1.2.3 Coupling via Frequency and Time with Priorities 29 
This optional coupling method is used if a corresponding capability is reported by O-RU via M-Plane and use for an 30 
eAxC is configured via M-plane. In this method information from section description D in C-Plane message CM is 31 
applied to resource element R in PRB P (PRB understood as 12 resource elements of one OFDM symbol consecutive in 32 
frequency) in data section S in U-Plane message UM if: 33 
1. CM corresponds to UM i.e. both have the same eAxC_id and CM.dataDirection value matches direction of 34 
UM 35 
2. CM.frameId = UM.frameId and CM.subframeId = UM.subframeId and CM.slotId = UM.slotId  36 
3. symbol identified by UM.symbolId is described by the section description D.  37 
This requires evaluation of CM.startSymbolId, symInc and numSymbol in CM or checking D.symbolMask in 38 
section extension #6, #12 or #19 if any of the extensions is present. 39 
4. PRB P is described by the section description D. This requires checking that D.startPrbc ≤ P < D.startPrbc 40 
+ D.numPrbc ∙ (D.rb + 1), if D.rb = 1 checking that D.startPrbc modulo 2 = P modulo 2; it requires 41 
evaluating D.rbgMask in section extension type #6 if this extension is present in D. Checking section 42 
extension #12, #13, #19 and #20 is required if any of them is present in D. 43 
5. D.reMask has value 1 in a bit corresponding to RE R and D has highest priority among data section 44 
descriptions referencing the RE R in the message CM. Checking effect of section extension type #20 is 45 
required if this extension is present in D. Priority of data section description is the value of priority field in 46 
section extension #6 (see 5.4.7.6.4), #12 (see 5.4.7.6.4) or #19 (see 5.4.7.6.4) if any of the extensions is 47 
present in D and zero if the extensions are absent. NOTE: scope of search for highest priority description is 48 
restricted to one C-Plane message to avoid beamforming configuration errors that would be unavoidable if 49 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      81 
O-RAN.WG4.CUS.0-v07.00 
scope would be covering multiple messages and one of them would be lost. See also note in restriction #3 1 
below. 2 
In addition, the following restrictions apply (in context of one eAxC): 3 
1. A PRB may occur only once in all U-Plane messages related to the same OFDM symbol. 4 
2. Data section descriptions that refer to the same RE and are conveyed in the same C-Plane message shall have 5 
different priority in order to avoid ambiguity. 6 
3. If a complete beamforming configuration does not fit into one C-Plane message, then sender shall duplicate 7 
highest priority data section descriptions, specifically each C-Plane message must contain the highest priority 8 
section description referring to any RE that is referred in a message. This is required to ensure that O-RU will 9 
interpret configuration received in each message correctly. If such duplication is needed to avoid 10 
misinterpretation it does not violate restriction #4 below. Alternatively, section extension #20 can be used 11 
instead of repeating high priority sections (refer to section 5.4.7.20, and 5.5.10 for more details) 12 
4. Sender shall avoid sending unnecessary data section descriptions e.g. descriptions that carry the same 13 
configuration (but refer to note in restriction #3 above).  14 
5. Sender of C-Plane shall send in sectionId a value 4095. 15 
6. Sender of C-Plane shall order section descriptions such that any section descriptions referring to any RE (non-16 
zero value of reMask) are present before section descriptions that do not reference any RE (i.e. zero value in 17 
reMask); section descriptions referring to any RE shall be ordered by effective priority (highest priority first). 18 
Ordering section descriptions with non-zero reMask first allows O-RU to more quickly identify section 19 
descriptions that carry beamforming configuration for any RE and also makes them localized in memory 20 
which can improve message processing performance. Ordering section descriptions by highest priority first is 21 
intended to optimize O-RU C-plane message processing i.e. RE beamforming configuration can be 22 
determined from the earliest section description occurring in the message. 23 
5.4.1.2.4 Coupling via Frequency and Time with Priorities (Optimized) 24 
All the restrictions remain same as coupling via frequency and time with priorities except restriction 5: 25 
5. Sender of C-Plane shall send in sectionId value 4095 for section description with lower priority. For highest 26 
priority sections unique sectionIds shall be set in a defined range  starting from “0” to “max-highest-priority-27 
sections-per-slot” specified through M-Plane, across eAxC IDs (limiting this range helps O-RU reduce the 28 
search space for repeated highest priority section descriptions detection). While duplicating highest priority 29 
sections, all fields including sectionId shall be duplicated. In addition to this, for C-Plane message processing 30 
O-RUs, additional limits to restrict the number of highest priority sections per C-Plane message  on top of 31 
eAxC limits shall be applied (section 5.6.2). 32 
In addition to associating unique sectionId to highest priority section as described above, O-DU shall set the “repetition” 33 
flag to “1” for every repeated C-Plane message. O-RU can choose to process or ignore the flag based on its implementation 34 
(Section 5.4.7.6.5). 35 
 36 
5.4.2 Scheduling and Beamforming Commands  37 
A common frame format is used for C-Plane messages, consisting of a transport layer and an application layer. The 38 
application layer is within the transport layer payload and consists of a common header for time reference, followed by 39 
information and parameters dependent and specific to the Section Type in use. Multiple sets of section data of the same 40 
Section Type value can be lined up one after another within the payload. To minimize packet rate over the interface, 41 
transmitter should fill messages with as many subsequent sections (with or without sequential section IDs) as possible. 42 
However, sets of section data of different Section Type values are to be sent via separate messages (i.e. different values 43 
of Section Type shall not be mixed within a single C-Plane message payload). 44 
 45 
o Transport Layer (see section 3.1.3) 46 
o Application Layer 47 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      82 
O-RAN.WG4.CUS.0-v07.00 
o Section Type “0” Fields (used for indicating idle or guard periods from O-DU to O-RU) 1 
▪ Common Header Fields 2 
• dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  3 
• payloadVersion (payload version) field: 3 bits 4 
• value = “1” shall be set (1st protocol version for payload and time reference format)  5 
• filterIndex (filter index) field: 4 bits 6 
• frameId (frame identifier) field: 8 bits 7 
• subframeId (subframe identifier) field: 4 bits 8 
• slotID (slot identifier) field: 6 bits 9 
• startSymbolid (start symbol id) field: 6 bits  10 
• numberOfsections (number of sections) field: 8 bits 11 
• sectionType (section type) field: 8 bits 12 
• value = “0” shall be set 13 
• timeOffset (time offset) field: 16 bits 14 
• frameStructure (frame structure) field: 8 bits 15 
• cpLength (cyclic prefix length) field: 16 bits 16 
• reserved (reserved for future use) field: 8 bits 17 
▪ Section Fields 18 
• sectionID (section identifier) field: 12 bits  19 
• rb (resource block indicator) field: 1 bit 20 
▪ symInc (symbol number increment command) field: 1 bit 21 
• startPrbc (starting PRB of data section description) field: 10 bits 22 
• numPrbc (number of contiguous PRBs per data section description) field: 8 bits 23 
• reMask (resource element mask) field: 12 bits 24 
• numSymbol (number of symbols) field: 4 bits 25 
• ef (extension flag) field: 1 bit 26 
• reserved (reserved for future use) field: 15 bits 27 
o Section Type “1” Fields (used for most Downlink and Uplink radio channels – some channels 28 
especially PRACH and mixed-numerology channels may need more information elements contained 29 
in other section types. However, if section type “1” is used for PRACH channel, it should be 30 
processed in the same manner as a non-PRACH channel is processed in O-RU.) 31 
▪ Common Header Fields 32 
▪ dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  33 
▪ payloadVersion (payload version) field: 3 bits 34 
• value = “1” shall be set (1st protocol version for payload and time reference format)  35 
▪ filterIndex (filter index) field: 4 bits 36 
▪ frameId (frame identifier) field: 8 bits 37 
▪ subframeId (subframe identifier) field: 4 bits 38 
▪ slotID (slot identifier) field: 6 bits 39 
▪ startSymbolid (start symbol id) field: 6 bits  40 
▪ numberOfsections (number of sections) field: 8 bits 41 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      83 
O-RAN.WG4.CUS.0-v07.00 
▪ sectionType (section type) field: 8 bits 1 
• value = “1” shall be set 2 
▪ udCompHdr (user data compression header) field: 8 bits 3 
▪ reserved (reserved for future use) field: 8 bits  4 
▪ Section Fields 5 
▪ sectionId (section identifier) field: 12 bits  6 
▪ rb (resource block identifier) field: 1 bit 7 
▪ symInc (symbol number increment command) field: 1 bit 8 
▪ startPrbc (starting PRB of data section description) field: 10 bits 9 
▪ numPrbc (number of contiguous PRBs per data section description) field: 8 bits 10 
▪ reMask (resource element mask) field: 12 bits 11 
▪ numSymbol (number of symbols) field: 4 bits 12 
▪ ef (extension flag) field: 1 bit 13 
▪ beamId (beam identifier) field: 15 bits 14 
o Section Type “3” Fields (used for PRACH and mixed-numerology channels):  15 
▪ Common Header Fields 16 
▪ dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  17 
▪ payloadVersion (payload version) field: 3 bits 18 
• value = “1” shall be set (1st protocol version for payload and time reference format)  19 
▪ filterIndex (filter index) field: 4 bits 20 
▪ frameId (frame identifier) field: 8 bits 21 
▪ subframeId (subframe identifier) field: 4 bits 22 
▪ slotID (slot identifier) field: 6 bits 23 
▪ startSymbolid (start symbol identifier) field: 6 bits 24 
▪ numberOfsections (number of sections) field: 8 bits 25 
▪ sectionType (section type) field: 8 bits 26 
• value = “3” shall be set 27 
▪ timeOffset (time offset) field: 16 bits 28 
▪ frameStructure (frame structure) field: 8 bits 29 
▪ cpLength (cyclic prefix length) field: 16 bits 30 
▪ udCompHdr (user data compression header) field: 8 bits 31 
▪ Section Fields 32 
▪ sectionID (section identifier) field: 12 bits  33 
▪ rb (resource block identifier) field: 1 bit 34 
▪ symInc (symbol number increment command) field: 1 bit 35 
▪ startPrbc (starting PRB of data section description) field: 10 bits 36 
▪ numPrbc (number of contiguous PRBs per data section description) field: 8 bits 37 
▪ reMask (resource element mask) field: 12 bits 38 
▪ numSymbol (number of symbols) field: 4 bits 39 
▪ ef (extension flag) field: 1 bit 40 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      84 
O-RAN.WG4.CUS.0-v07.00 
▪ beamId (beam identifier) field: 15 bits 1 
▪ freqOffset (frequency offset) field: 24 bits 2 
▪ reserved (reserved for future use) field: 8 bits 3 
o Section Type “5” Fields (used for UE scheduling information):  4 
▪ Common Header Fields 5 
▪ dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  6 
▪ payloadVersion (payload version) field: 3 bits 7 
• value = “1” shall be set (1st protocol version for payload and time reference format)  8 
▪ filterIndex (filter index) field: 4 bits 9 
▪ frameId (frame identifier) field: 8 bits 10 
▪ subframeId (subframe identifier) field: 4 bits 11 
▪ slotID (slot identifier) field: 6 bits 12 
▪ startSymbolid (start symbol identifier) field: 6 bits 13 
▪ numberOfsections (number of sections) field: 8 bits 14 
▪ sectionType (section type) field: 8 bits 15 
• value = “5” shall be set 16 
▪ udCompHdr (user data compression header) field: 8 bits  17 
▪ reserved (reserved for future use) field: 8 bits 18 
▪ Section Fields 19 
▪ sectionID (section identifier) field: 12 bits  20 
▪ rb (resource block identifier) field: 1 bit 21 
▪ symInc (symbol number increment command) field: 1 bit 22 
▪ startPrbc (starting PRB of data section description) field: 10 bits 23 
▪ numPrbc (number of contiguous PRBs per data section description) field: 8 bits 24 
▪ reMask (resource element mask) field: 12 bits 25 
▪ numSymbol (number of symbols) field: 4 bits 26 
▪ ef (extension flag) field: 1 bit 27 
▪ ueId (UE identifier) field: 15 bits 28 
o Section Type “6” Fields (used for sending channel information for a specific UE ID):  29 
▪ Common Header Fields 30 
▪ dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  31 
▪ payloadVersion (payload version) field: 3 bits 32 
• value = “1” shall be set (1st protocol version for payload and time reference format)  33 
▪ filterIndex (filter index) field: 4 bits 34 
▪ frameId (frame identifier) field: 8 bits 35 
▪ subframeId (subframe identifier) field: 4 bits 36 
▪ slotID (slot identifier) field: 6 bits 37 
▪ startSymbolid (start symbol identifier) field: 6 bits 38 
▪ numberOfsections (number of sections) field: 8 bits 39 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      85 
O-RAN.WG4.CUS.0-v07.00 
▪ sectionType (section type) field: 8 bits 1 
• value = “6” shall be set 2 
▪ numberOfUEs (number of UE-specific channel information data sets) field: 8 bits 3 
▪ reserved (reserved for future use) field: 8 bits 4 
▪ Section Fields 5 
▪ ef (extension flag) field: 1 bit 6 
▪ ueId (UE identifier) field: 15 bits 7 
▪ regularizationFactor (regularization factor used for MMSE reception) field: 16 bits 8 
▪ reserved (reserved for future use) field: 4 bits 9 
▪ rb (resource block identifier) field: 1 bit 10 
▪ symInc (symbol number increment command) field: 1 bit 11 
▪ startPrbc (starting PRB of data section description) field: 10 bits 12 
▪ numPrbc (number of contiguous PRBs per data section description) field: 8 bits 13 
▪ ciIsample (channel information value, in-phase sample) field: 16 bits 14 
▪ ciQsample (channel information value, quadrature sample) field: 16 bits 15 
o Section Type “7” Fields (used to support LAA):  16 
▪ Common Header Fields 17 
▪ reserved (reserved for future use) field: 1 bit 18 
▪ payloadVersion (payload version) field: 3 bits 19 
• value = “1” shall be set (1st protocol version for payload and time reference format)  20 
▪ reserved (reserved for future use) field: 4 bits 21 
▪ frameId (frame identifier) field: 8 bits 22 
▪ subframeId (subframe identifier) field: 4 bits 23 
▪ slotID (slot identifier) field: 6 bits 24 
▪ reserved (reserved for future use) field: 14 bits 25 
▪ sectionType (section type) field: 8 bits 26 
• value = “7” shall be set 27 
▪ reserved (reserved for future use) field: 16 bits 28 
▪ Section Fields 29 
▪ laaMsgType (LAA message type) field: 4 bits 30 
▪ laaMsgLen field: 4 bits 31 
 32 
o laaMsgType = “0” shall be set for LBT_DL_CONFIG.request: LBT_PDSCH_REQ 33 
▪ lbtHandle (An opaque handling returned in LBT_PDSCH_RSP) field: 16 bits 34 
▪ lbtOffset (LBT start time in microseconds from the beginning of the subframe scheduled by 35 
this message) field: 10 bits 36 
▪ lbtMode (LBT process type) field: 2 bits 37 
▪ reserved (reserved for future use) field: 1 bit 38 
▪ lbtDeferFactor (Defer factor in sensing slots as described in 3GPP TS 36.213 Section 39 
15.1.1) field: 3 bits 40 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      86 
O-RAN.WG4.CUS.0-v07.00 
▪ lbtBackoffCounter (LBT backoff counter in sensing slots as described in 3GPP TS 36.213 1 
Section 15.1.1) field: 10 bits 2 
▪ MCOT (LTE TXOP duration in subframes) field: 4 bits 3 
▪  reserved (reserved for future use) field: 10 bits 4 
 5 
o laaMsgType = “1” shall be set for LBT_DL_CONFIG.request: LBT_DRS_REQ 6 
▪ lbtHandle (An opaque handling returned in LBT_DRS_RSP) field: 16 bits 7 
▪ lbtOffset (LBT start time in microseconds from the beginning of the subframe scheduled by 8 
this message) field: 10 bits 9 
▪ lbtMode (LBT process type) field: 2 bits: 10 
▪ reserved (reserved for future use) field: 28 bit 11 
 12 
o laaMsgType = “2” shall be set for LBT_DL.indication: LBT_PDSCH_RSP 13 
▪ lbtHandle (An opaque handling returned in LBT_PDSCH_RSP) field: 16 bits 14 
▪ lbtPdschRes (LBT result of SFN/SF) field: 2 bits 15 
▪ inParSF (Indicates whether the initial SF in the LBT process is full or partial) field: 1 bit 16 
▪ sfStatus (subfrme status) field: 1 bit 17 
▪ sfnSf (SFN/SF of subframe which is dropped or successfully transmitted at O-RU) field: 12 18 
bits 19 
▪ reserved (reserved for future use) field: 24 bits 20 
 21 
o laaMsgType = “3” shall be set for LBT_DL.indication: LBT_DRS_RSP 22 
▪ lbtHandle (An opaque handling returned in LBT_DRS_RSP) field: 16 bits 23 
▪ lbtDrsRes (LBT result of SFN/SF) field: 1 bit 24 
▪ reserved (reserved for future use) field: 7 bits 25 
 26 
o laaMsgType = “4” shall be set for LBT_buffer error: LBT_Buffer_Error 27 
▪ lbtHandle (An opaque handling returned in LBT_DRS_RSP) field: 16 bits 28 
▪ lbtBufErr (LBT buffer error type) field: 1 bit 29 
▪ reserved (reserved for future use) field: 7 bits 30 
 31 
o laaMsgType = “5” shall be set for LBT_DL_CONFIG.request: LBT_CWCONFIG_REQ 32 
▪ lbtHandle (An opaque handle returned in LBT_CWCONFIG_RSP) field: 16 bits 33 
▪ lbtCWConfig_H (HARQ feedback information regarding number of NACK about reference 34 
subframe as described in 3GPP TS 36.213 Section 15.1.3) field: 8 bits 35 
▪ lbtCWConfig_T (number of TB to manage Congestion Window as described in 3GPP TS 36 
36.213 Section 15.1.3) field: 8 bits 37 
▪ lbtMode (LBT process type) field: 2 bits 38 
▪ lbtTrafficClass (LBT traffic class) field: 3 bits 39 
▪ reserved (reserved for future use) field: 19 bits 40 
 41 
o laaMsgType = “6” shall be set for LBT_DL.indication: LBT_CWCONFIG_RSP 42 
▪ lbtHandle (An opaque handling returned in LBT_CWCONFIG_RSP) field: 16 bits 43 
▪ lbtCWR_Rst (Notification LBT_CWCONFIG_REQ message successful or not) field: 1 bit 44 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      87 
O-RAN.WG4.CUS.0-v07.00 
▪ reserved (reserved for future use) field: 7 bits 1 
 2 
Table 5-4 : Scheduling and beamforming commands frame format (Section Type “0”) 3 
Section Type 0 : idle / guard periods 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
  
transport header, see section 3.1.3 8 Octet 1 
dataDirection payloadVersion filterIndex 1 Octet 9 
frameId 1 Octet 10 
subframeId slotId 1 Octet 11 
slotId startSymbolid 1 Octet 12 
numberOfsections 1 Octet 13 
sectionType = 0 1 Octet 14 
timeOffset 2 Octet 15 
frameStructure 1 Octet 17 
cpLength 2 Octet 18 
Reserved 1 Octet 20 
sectionId 1 Octet 21 
sectionId rb symInc startPrbc 1 Octet 22 
startPrbc 1 Octet 23 
numPrbc 1 Octet 24 
reMask[11:4] 1 Octet 25 
reMask[3:0] numSymbol 1 Octet 26 
ef reserved (7 bits) 1 Octet 27 
reserved (8 bits) 1 Octet 28 
section extensions as indicated by”ef” if any var Octet 29 
… 
 
  
sectionId 1 Octet N 
sectionId rb symInc startPrbc 1 N+1 
startPrbc 1 N+2 
numPrbc 1 N+3 
reMask[11:4] 1 N+4 
reMask[3:0] numSymbol 1 N+5 
ef reserved (7 bits) 1 N+6 
reserved (8 bits) 1 N+7 
section extensions as indicated by”ef” if any var N+8 
                  Octet M 
shading: yellow is transport header, pink is radio application header, others are repeated sections 4 
 5 
Table 5-5 : Scheduling and beamforming commands frame format (Section Type “1”) 6 
Section Type 1 : DL/UL control msgs 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
transport header, see section 3.1.3 8 Octet 1 
dataDirection payloadVersion filterIndex 1 Octet 9 
frameId 1 Octet 10 
subframeId slotId 1 Octet 11 
slotId startSymbolid 1 Octet 12 
numberOfsections 1 Octet 13 
sectionType = 1 1 Octet 14 
udCompHdr 1 Octet 15 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      88 
O-RAN.WG4.CUS.0-v07.00 
reserved 1 Octet 16 
sectionId 1 Octet 17 
sectionId rb symInc startPrbc 1 Octet 18 
startPrbc 1 Octet 19 
numPrbc 1 Octet 20 
reMask[11:4] 1 Octet 21 
reMask[3:0] numSymbol 1 Octet 22 
ef = 1 beamId[14:8] 1 Octet 23 
beamId[7:0] 1 Octet 24 
section extensions as indicated by “ef” var Octet 25 
… 
  
sectionId 1 Octet N 
sectionId rb symInc startPrbc 1 N+1 
startPrbc 1 N+2 
numPrbc 1 N+3 
reMask[11:4] 1 N+4 
reMask[3:0] numSymbol 1 N+5 
ef = 0 beamId[14:8] 1 N+6 
beamId[7:0] 1 N+7 
section extensions as indicated by “ef” var N+8          
Octet M 
shading: yellow is transport header, pink is radio application header, others are repeated sections 1 
 2 
Table 5-6 : Scheduling and beamforming commands frame format (Section Type “3”) 3 
Section Type 3 : PRACH & mixed-numerology 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
  
transport header, see section 3.1.3 8 Octet 1 
dataDirection payloadVersion filterIndex 1 Octet 9 
frameId 1 Octet 10 
subframeId slotId 1 Octet 11 
slotId startSymbolid 1 Octet 12 
numberOfsections 1 Octet 13 
sectionType = 3 1 Octet 14 
timeOffset 2 Octet 15 
frameStructure 1 Octet 17 
cpLength 2 Octet 18 
udCompHdr 1 Octet 20 
sectionId 1 Octet 21 
sectionId rb symInc startPrbc 1 Octet 22 
startPrbc 1 Octet 23 
numPrbc 1 Octet 24 
reMask[11:4] 1 Octet 25 
reMask[3:0] numSymbol 1 Octet 26 
ef beamId[14:8] 1 Octet 27 
beamId[7:0] 1 Octet 28 
freqOffset 3 Octet 29 
reserved (8 bits) 1 Octet 32 
section extensions as indicated by “ef” var Octet 33 
… 
 
  
sectionId 1 Octet N 
sectionId rb symInc startPrbc 1 N+1 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      89 
O-RAN.WG4.CUS.0-v07.00 
startPrbc 1 N+2 
numPrbc 1 N+3 
reMask[11:4] 1 N+4 
reMask[3:0] numSymbol 1 N+5 
ef beamId[14:8] 1 N+6 
beamId[7:0] 1 N+7 
freqOffset 3 N+8 
reserved (8 bits) 1 N+11 
section extensions as indicated by “ef” var N+12 
                  Octet M 
shading: yellow is transport header, pink is radio application header, others are repeated sections 1 
 2 
Table 5-7 : UE scheduling information frame format (Section Type “5”) 3 
Section Type 5 : UE scheduling information conveyance 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
transport header, see section 3.1.3 8 Octet 1 
dataDirection payloadVersion filterIndex 1 Octet 9 
frameId 1 Octet 10 
subframeId slotId 1 Octet 11 
slotId startSymbolid 1 Octet 12 
numberOfsections 1 Octet 13 
sectionType = 5 1 Octet 14 
udCompHdr 1 Octet 15 
reserved 1 Octet 16 
sectionId 1 Octet 17 
sectionId rb symInc startPrbc 1 Octet 18 
startPrbc 1 Octet 19 
numPrbc 1 Octet 20 
reMask[11:4] 1 Octet 21 
reMask[3:0] numSymbol 1 Octet 22 
ef ueId[14:8] 1 Octet 23 
ueId[7:0] 1 Octet 24 
section extensions as indicated by “ef” var Octet 25 
… 
  
sectionId 1 Octet N 
sectionId rb symInc startPrbc 1 N+1 
startPrbc 1 N+2 
numPrbc 1 N+3 
reMask[11:4] 1 N+4 
reMask[3:0] numSymbol 1 N+5 
ef ueId[14:8] 1 N+6 
ueId[7:0] 1 N+7 
section extensions as indicated by “ef” var N+8          
Octet M 
shading: yellow is transport header, pink is radio application header, others are repeated sections 4 
 5 
 6 
 7 
Table 5-8 : UE channel information frame format (Section Type “6”) 8 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      90 
O-RAN.WG4.CUS.0-v07.00 
Section Type 6 : channel information conveyance 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
transport header, see section 3.1.3 8 Octet 1 
dataDirection payloadVersion filterIndex 1 Octet 9 
frameId 1 Octet 10 
subframeId slotId 1 Octet 11 
slotId startSymbolid 1 Octet 12 
numberOfsections 1 Octet 13 
sectionType = 6 1 Octet 14 
numberOfUEs 1 Octet 15 
reserved 1 Octet 16 
ef ueId[14:8] 1 Octet 17 
ueId[7:0] 1 Octet 18 
regularizationFactor 2 Octet 19 
reserved rb symInc startPrbc 1 Octet 21 
startPrbc 1 Octet 22 
numPrbc 1 Octet 23 
ciIsample (first PRB, first antenna) var Octet 24 
ciQsample (first PRB, first antenna) var  
ciIsample (first PRB, second antenna) var  
ciQsample (first PRB, second antenna) var  
…   
ciIsample (first PRB, last antenna) var  
ciQsample (first PRB, last antenna) var  
…   
ciIsample (last PRB, last antenna) var  
ciQsample (last PRB, last antenna) var  
section extensions as indicated by “ef” var  
… 
  
ef ueId[14:8] 1 Octet N 
ueId[7:0] 1 N+1 
regularizationFactor 2 N+2 
Reserved rb symInc startPrbc 1 N+4 
startPrbc 1 N+5 
numPrbc 1 N+6 
ciIsample (first PRB, first antenna) var N+7 
ciQsample (first PRB, first antenna) var  
ciIsample (first PRB, second antenna) var  
ciQsample (first PRB, second antenna) var  
…   
ciIsample (first PRB, last antenna) var  
ciQsample (first PRB, last antenna) var  
…   
ciIsample (last PRB, last antenna) var  
ciQsample (last PRB, last antenna) var  
section extensions as indicated by “ef” var           
Octet M 
shading: yellow is transport header, pink is radio application header, others are repeated sections 1 
 2 
 3 
Table 5-9 : LAA Message, O-DU to O-RU -OR- O-RU to O-DU (Section Type “7”) 4 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      91 
O-RAN.WG4.CUS.0-v07.00 
Section Type 7 : LAA Message,O-DU to O-RU or O-RU toO-DU 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
transport header, see section 3.1.3 8 Octet 1 
reserved payloadVersion reserved 1 Octet 9 
frameId 1 Octet 10 
subframeId slotId 1 Octet 11 
slotId reserved 1 Octet 12 
reserved 1 Octet 13 
sectionType = 7 1 Octet 14 
reserved 1 Octet 15 
reserved 1 Octet 16 
laaMsgType laaMsgLen 1 Octet 17 
Payload (see below) plus padding to 32-bit boundary 3 or 7 Octet 18+ 
Note that here, frameId, subframeId and slotId serve to provide a time stamp on the LAA LBT C-Plane message and do 1 
not describe any U-Plane data associated with the Section Type 7 C-Plane message. 2 
 3 
Section Type 7 : LAA Request Message, O-DU to O-RU LBT_PDSCH_REQ 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
laaMsgType = 0000b (LBT_PDSCH_REQ) laaMsgLen = 2 (2 words) 1 Octet 17 
lbtHandle 2 Octet 18 
lbtOffset[9:2] 1 Octet 20 
lbtOffset[1:0] lbtMode reserved lbtDeferFactor 1 Octet 21 
lbtBckoffCounter[9:2] 1 Octet 22 
lbtBckoffCounter[1:0] MCOT reserved 1 Octet 23 
reserved 1 Octet 24 
 4 
Section Type 7 : LAA Request Message, O-DU to O-RU LBT_DRS_REQ 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
laaMsgType = 0001b (LBT_DRS_REQ) laaMsgLen = 2 (2 words) 1 Octet 17 
lbtHandle 2 Octet 18 
lbtOffset[9:2] 1 Octet 20 
lbtOffset[1:0] lbtMode reserved 1 Octet 21 
reserved 1 Octet 22 
reserved 1 Octet 23 
reserved 1 Octet 24 
 5 
Section Type 7 : LAA Response Message, O-RU to O-DU  LBT_PDSCH_RSP 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
laaMsgType = 0010b (LBT_PDSCH_RSP) laaMsgLen = 2 (2 words) 1 Octet 17 
lbtHandle 2 Octet 18 
lbtPdschRes inParSF sfStatus sfnSf[11:8] 1 Octet 20 
sfnSf[7:0] 1 Octet 21 
reserved 1 Octet 22 
reserved 1 Octet 23 
reserved 1 Octet 24 
 6 
Section Type 7 : LAA Response Message, O-RU to O-DU  LBT_DRS_RSP 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      92 
O-RAN.WG4.CUS.0-v07.00 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
laaMsgType = 0011b (LBT_DRS_RSP) laaMsgLen = 1 (1 word) 1 Octet N 
lbtHandle 2 N+1 
lbtDrsRes  reserved 1 N+3 
 1 
Section Type 7 : LAA Response Message, O-RU to O-DU  LBT_Buffer_Error 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
laaMsgType = 0100b (LBT_Buffer_Error) laaMsgLen = 1 (1 word) 1 Octet N 
lbtHandle 2 N+1 
lbtBufErr  reserved 1 N+3 
 2 
Section Type 7 : LAA Request Message, O-DU to O-RU  LBT_CWCONFIG_REQ 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
laaMsgType = 0101b (LBT_CWCONFIG_REQ) laaMsgLen = 2 (2 words) 1 Octet N 
lbtHandle 2 N+1 
lbtCWConfig_H 1 N+3 
lbtCWConfig_T 1 N+4 
lbtMode lbtTrafficClass reserved 1  N+5 
reserved 2 N+6 
 3 
Section Type 7 : LAA Request Message, O-RU to O-DU LBT_CWCONFIG_RSP 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
laaMsgType = 0110b (LBT_CWCONFIG_RSP) laaMsgLen = 1 (1 word) 1 Octet N 
lbtHandle 2 N+1 
lbtCWR_Rst reserved 1 N+2 
 4 
5.4.3 Coding of Information Elements – Transport Layer 5 
See Section 3.1.3 for transport header information element details. 6 
5.4.4 Coding of Information Elements – Application Layer, Common 7 
5.4.4.1 dataDirection (data direction (gNB Tx/Rx)) 8 
Description: This parameter indicates the gNB data direction.  9 
Value range: {0b=Rx (i.e. UL), 1b=Tx (i.e. DL)}. 10 
Type: binary bit. 11 
Field length: 1 bit. 12 
 13 
5.4.4.2 payloadVersion (payload version) 14 
Description: This parameter defines the payload protocol version valid for the following IEs in the application layer. In 15 
this version of the specification payloadVersion=001b shall be used.  16 
Value range: {000b-111b=Payload version}. 17 
Type: unsigned integer. 18 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      93 
O-RAN.WG4.CUS.0-v07.00 
Field length: 3 bits. 1 
Default Value: 001b (version 1 assumed). 2 
 3 
5.4.4.3 filterIndex (filter index) 4 
Description: This parameter defines an index to the channel filter to be used between IQ data and air interface, both in 5 
DL and UL. For most physical channels filterIndex =0000b is used which indexes the standard channel filter, e.g. 6 
100MHz channel filter for 100MHz nominal carrier bandwidth. Another use case is PRACH in UL, where different 7 
filter indices can be used for different PRACH formats, assuming that before FFT processing of PRACH data there is a 8 
separate PRACH filter or PRACH filter in addition to the standard channel filter in UL. Please note that for PRACH, 9 
when section type “3” message is used, there is typically also a frequency offset (see freqOffset) applied before the 10 
PRACH filter.  11 
NOTE 1: Filter index is commanded from O-DU to O-RU. Likewise, it is not mandatory to command special filters, 12 
and filter index = 0000b is also allowed for PRACH. 13 
NOTE 2: When using filter indices corresponding to PRACH, the first RE of the first PRB addressed inside the section 14 
Id shall correspond with the first guard tone used at the lower edge of the PRACH frequency block as specified in 3GPP 15 
RAN1 TS 3x.211. In case of fragmentation of 1 data section over multiple U-Plane messages, this is applicable to the 16 
first fragmented section. 17 
NOTE 3: Since different PRACH formats are assigned to the same filterIndex value, optionally O-RU can notify by M-18 
plane the specific supported formats (grouped into PRACH format-groups) in o-ran-uplane-conf.yang module on a per-19 
endpoint basis. 20 
Value range: {0000b-1111b}. 21 
Table 5-10 : Filter Index 22 
Value of IE “filter Index” Usage PRACH preamble formats Minimum filter pass band 
0000b=0x0 standard channel 
filter 
N/A  
0001b=0x1 UL filter for PRACH 
preamble formats 
LTE-0, LTE-1, LTE-2, 
LTE-3, NR-0, NR-1, NR-2 
839 x 1.25kHz = 1048.75 kHz 
0010b=0x2 NR-3 839 x 5 kHz = 4195 kHz 
0011b=0x3 NR-A1, NR-A2, NR-A3, 
NR-B1, NR-B2, NR-B3, 
NR-B4, NR-C0, NR-C2 
139 x ΔfRA  
(See SCS in Table 5-11) 
0110b=0x6 1151 x 15 kHz = 17265 kHz  
0111b=0x7 571 x 30 kHz = 17130 kHz 
0100b=0x4 UL filter for 
NPRACH 
LTE-NB0, LTE-NB1 
LTE-NB0-a, LTE-NB1-a 
LTE-NB2 
48 x 3.75kHz = 180 kHz 
 
144 x 1.25 kHz = 180 kHz 
0101b=0x5 UL filter for PRACH 
preamble formats 
LTE-4 139 x 7.5kHz = 1042.5 kHz 
1000b…1111b Reserved   
 23 
Type: unsigned integer. 24 
Field length: 4 bits. 25 
Default Value: 0000b (no special filter). 26 
 27 
5.4.4.4 frameId (frame identifier) 28 
Description: This parameter is a counter for 10 ms frames (wrapping period 2.56 seconds), specifically frameId = 29 
frame number modulo 256. 30 
Value range: {0000 0000b-1111 1111b}. 31 
Type: unsigned integer. 32 
Field length: 8 bits. 33 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      94 
O-RAN.WG4.CUS.0-v07.00 
 1 
5.4.4.5 subframeId (subframe identifier) 2 
Description: This parameter is a counter for 1 ms sub-frames within 10ms frame.  3 
Value range: {0000b-1111b}. 4 
Type: unsigned integer. 5 
Field length: 4 bits. 6 
 7 
5.4.4.6 slotId (slot identifier) 8 
Description: This parameter is the slot number within a 1ms sub-frame. All slots in one sub-frame are counted by this 9 
parameter, slotId running from 0 to Nslot-1. In this version of the specification the maximum Nslot=16, All other values 10 
of the 6 bits are reserved for future use. 11 
Value range: {00 0000b-00 1111b=slotID, 01 0000b-11 1111b=Reserved}. 12 
Type: unsigned integer. 13 
Field length: 6 bits. 14 
 15 
5.4.4.7 startSymbolid (start symbol identifier) 16 
Description: This parameter identifies the symbol number (within a slot) of the earliest symbol, to which the 17 
information of this message is applicable.  18 
Value range: {00 0000b-11 1111b}. 19 
Type: unsigned integer. 20 
Field length: 6 bits. 21 
 22 
5.4.4.8 numberOfsections (number of sections) 23 
Description: This parameter indicates the number of data section descriptions (separate citations of section ID even for 24 
multiple citations of the same sectionId) included in this C-Plane message. 25 
Value range: {0000 0000b-1111 1111b}. 26 
Type: unsigned integer. 27 
Field length: 8 bits. 28 
 29 
5.4.4.9 sectionType (section type) 30 
Description: This parameter determines the characteristics of U-plane data to be transferred or received from a beam 31 
with one pattern id. 32 
Value range: {0000 0000b-1111 1111b=Section Type, see table at the start of this chapter for section type meanings} 33 
Type: unsigned integer. 34 
Field length: 8 bits. 35 
 36 
5.4.4.10 udCompHdr (user data compression header) 37 
See section 6.3.3.13 for the description of this parameter. 38 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      95 
O-RAN.WG4.CUS.0-v07.00 
The udCompHdr information is provided on the U-Plane, instructing the O-RU (on DL) and O-DU (on UL) how to 1 
interpret and decompress the received U-Plane data.  However, the O-RU is not expected to decide by itself the best UL 2 
data format and data compression method, instead the O-DU shall instruct the O-RU via udCompHdr in a C-Plane 3 
message.  This means the udCompHdr in a C-Plane message only has meaning for UL U-Plane data (dataDirection = 4 
0b) and should be set to 0x00 when dataDirection = 1b (DL data), and the receiving O-RU shall ignore the received 5 
udCompHdr value.  When static data format and compression is used (see 6.1.2) then udCompHdr is not needed in any 6 
C-Plane message and should be set to 0x00, and the receiving O-RU shall ignore the received udCompHdr value. 7 
Note that it is impermissible to specify different values of udCompHdr for the same data section, even if it is sent over 8 
separate C-Plane messages discriminated by different reMask values.  Only a single compression method per data 9 
section is supported (see section 5.4.5.1).   The O-RU response if the C-Plane specifies multiple udCompHdr values for 10 
a single data section is undefined. 11 
 12 
5.4.4.11 numberOfUEs (number Of UEs) 13 
Description: This parameter applies to section type 6 messages and indicates the number of UEs (for which channel 14 
information is provided) are included in the message.  This allows the parser to determine when the last UE’s data has 15 
been parsed. 16 
Value range: {0000 0000b-1111 1111b}. 17 
Type: unsigned integer. 18 
Field length: 8 bits. 19 
 20 
5.4.4.12 timeOffset (time offset) 21 
Description: This parameter defines the time_offset from the start of the slot to the start of the Cyclic Prefix (CP) in 22 
number of samples Ts (=1/30.72MHz as specified in 3GPP TS38.211 section 4.1).  The value shall be less than the slot 23 
length. The slot length is based on the SCS on which the startSymbolId numerology is based (see Tables 5-1 and 5-1a in 24 
5.3.2). For the mixed numerology case (non-PRACH), timeOffset points to the same timing pointed by startSymbolId. 25 
For PRACH, refer to section 2.3.2.  26 
time_offset = timeOffset * ts 27 
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b}. 28 
Type: unsigned integer. 29 
Field length: 16 bits. 30 
 31 
5.4.4.13 frameStructure (frame structure) 32 
Description: This parameter defines the frame structure. The first 4 bits define the FFT/iFFT size being used for all IQ 33 
data processing related to this message. The second 4 bits define the sub carrier spacing as well as the number of slots 34 
per 1ms sub-frame according to 3GPP TS 38.211, taking for completeness also 3GPP TS 36.211 into account. The 35 
parameter µ=0…5 from 3GPP TS 38.211 is extended to apply for PRACH processing.  36 
NOTE: The parameter “FFTSize” is meant to facilitate the above calculation and is not meant to strictly dictate the O-37 
RU’s method of time-to-frequency conversion. 38 
Value range: {0000 0000b-1111 1111b} 39 
Bit allocations 40 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number of 
Octets 
 
FFT Size µ (Subcarrier spacing) 1 Octet 1 
 41 
Table 5-11 : FFT Size 42 
Value of IE “FFT_size” FFT/iFFT size 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      96 
O-RAN.WG4.CUS.0-v07.00 
0000b Reserved (no FFT/iFFT processing)  
0001b…0110b Reserved 
0111b 128 
1000b 256 
1001b 512 
1010b 1024 
1011b 2048 
1100b 4096 
1101b 1536 
1110,1111b Reserved 
 1 
 2 
 3 
 4 
Table 5-12 : Sub-Carrier Spacing 5 
Value of IE “SCS” 3GPP “µ” Subcarrier spacing f Number of slots 
per 1ms sub-
frame: Nslot 
Slot length 
0000b 0 15kHz  1 1ms 
0001b 1 30kHz 2 500µs 
0010b 2 60kHz 4 250µs 
0011b 3 120kHz 8 125µs 
0100b 4 240kHz 16 62.5µs 
0101b…1011b NA Reserved Reserved Reserved 
1100b NA 1.25kHz 1 1ms 
1101b NA 3.75kHz (LTE-specific) 1 1ms 
1110b NA 5kHz 1 1ms 
1111b NA 7.5kHz (LTE-specific) 1 1ms 
 6 
Type: unsigned integer (concatenated bit fields). 7 
Field length: 8 bits. 8 
 9 
5.4.4.14 cpLength (cyclic prefix length) 10 
Description: This parameter defines the length CP_length of the Cyclic Prefix (CP) as follows, based on Ts 11 
(=1/30.72MHz as specified in 3GPP TS38.211 section 4.1): 12 
CP_length = cpLength * Ts  13 
NOTE: cpLength parameter is used with section types 0 and 3, and is applicable to all symbols addressed by the C-14 
plane message. In addition to the values defined in 3GPP, the value 0 is supported. The slot start time reference 15 
differentiation between normal CP and extended CP is based on cpLength and frameStructure. If cpLength is zero then 16 
differentiation between normal CP and extended CP time reference is based on cp-type parameter conveyed in the M-17 
Plane.  With section type 1, the CP properties shall be configured over M-Plane. In the latter case, the cyclic prefix shall 18 
have the following properties: 19 
- cp-type: Normal or extended 20 
- cp-length: same unit as cpLength defined in this section; used for symbol 0 for NR & LTE, and symbol 7*2µ for NR 21 
(µ as defined in the table above with “NA” for µ shall be replaced by “0”) 22 
- cp-length-other: same unit as cpLength defined in this section; used for other symbols than by cp-length 23 
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b}. 24 
Type: unsigned integer. 25 
Field length:  16 bits. 26 
 27 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      97 
O-RAN.WG4.CUS.0-v07.00 
5.4.5 Coding of Information Elements – Application Layer, Sections 1 
5.4.5.1 sectionId (section identifier) 2 
Description: If C-Plane and U-Plane coupling via sectionId (see 5.4.1.2.1) is used then this parameter identifies 3 
individual data sections that are described by data section descriptions within the C-Plane message. The purpose of the 4 
sectionId is to map U-Plane data sections to the corresponding C-Plane message (and Section Types) associated with 5 
the data.  Two or more C-Plane data section descriptions with same SectionId may be cited corresponding to a single U-6 
Plane data section containing a combined payload for both citations (e.g., for supporting mixed CSI RS and PDSCH). 7 
This case is applicable when usage of reMask is complimentary (or orthogonal) and different beam directions (i.e. 8 
beamIds) are given the resource elements.  Data sections are specific to a value of eAxC so different eAxC values may 9 
have differently-defined data sections e.g. have different ranges of PRBs contained within.  10 
NOTES:  11 
▪ sectionIds are specific to a slot, so sectionId values may be “reused” for each slot, and the sectionId value for 12 
one slot has no specified relation to the sectionId value for a different slot  13 
▪ All data in section descriptions with same SectionId value shall have same rb, startPrbc, numPrbc, 14 
udCompHdr, and numSymbol IE fields’ content.  15 
▪ An upper bound on the max number of section IDs that can be addressed per eAxC or per sets of eAxCs, per 16 
symbol and per slot, for DL and for UL respectively, shall be conveyed via M-plane messaging as part of the 17 
O-RU capabilities description. 18 
▪ The sectionId cited in a C-Plane message must have the same value as the sectionId in the corresponding U-19 
Plane message for the given data section as defined by the frameId, subFrameId, slotId, startSymbolid fields 20 
and range of relevant PRBs as indicated by the totality of the specified startPrb(c/u) and numPrb(c/u) fields. 21 
If C-Plane and U-Plane coupling via sectionId (see 5.4.1.2.1) is not used, then the sectionId value is not used for 22 
identification of data sections in U-plane messages and is not used for identification of data section descriptions in C-23 
plane messages. In this case above rules for uniqueness of sectionId value within slot and restriction on rb, startPrbc, 24 
numPrbc, udCompHdr, and numSymbol IE fields’ content do not apply. Sender shall send SectionId = 4095. The only 25 
exception to this is “Coupling via Frequency and Time with Priorities (Optimized)” where a unique value of sectionId is 26 
still used for identification of the highest priority data section descriptions in C-plane messages (Sec 5.4.1.2.4, 27 
restriction 5). The corresponding U-Plane messages shall still use sectionId value as 4095 in this case. 28 
Value range: {0000 0000 0000b-1111 1111 1111b}. 29 
Type: unsigned integer. 30 
Field length: 12 bits. 31 
 32 
5.4.5.2 rb (resource block indicator) 33 
Description: This parameter is used to indicate if every RB is used or every other RB is used. The starting RB is 34 
defined by startPrbc and total number of used RBs is defined by numPrbc.  Example: RB=1, startPrb=1, numPrb=3, 35 
then the PRBs used are 1, 3, and 5.  If numPrbc=0 (i.e., all PRBs), then the sending node shall set the rb value to zero, 36 
and the receiving node shall ignore whatever rb value is received and assume it is zero.  37 
If section description includes section extension type #6 or #12 sender shall set parameter rb to zero. 38 
Value range: {0b=every RB used; 1b=every other RB used}. 39 
Type: binary bit. 40 
Field length: 1 bit. 41 
Default Value: 0b (every RB used). 42 
 43 
5.4.5.3 symInc (symbol number increment command) 44 
Description: If the section description does not include section extension #6, #12 and #19, this parameter is used to 45 
indicate which symbol number is relevant to the given section description. If the section description includes section 46 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      98 
O-RAN.WG4.CUS.0-v07.00 
extension type #6, #12 or #19 then set of symbols relevant for the section description is given in symbolMask (see 1 
5.4.7.6.3, 5.4.7.12.2 and 5.4.7.19.5). In this case, symInc and numSymbol do not affect the set of symbols relevant for 2 
the section description but can affect the following section descriptions if they do not include section extension type #6, 3 
#12 and #19. Regardles of presence of section extension type #6 , #12 and #19 it is expected that for each C-Plane 4 
message a symbol number is maintained and starts with the value of startSymbolid.  The same value is used for each 5 
section in the message as long as symInc is zero.  When symInc is one, the maintained symbol number should be 6 
incremented to the next symbol, and that new symbol number should be used for that section and each subsequent 7 
section until the symInc bit is again detected to be one.  In the case of a multiple-symbol data section (numSymbol > 1), 8 
the new symbol number shall be the one after the last symbol in the data section.  In this manner, multiple symbols may 9 
be handled by a single C-Plane message.   10 
A few other points regarding use of symInc in the C-Plane: 11 
a) SymInc may be used when different data section descriptions have a different number of symbols under certain 12 
conditions namely that the data section descriptions in the C-Plane message are carefully arranged.  The 13 
arrangement must be such that the following procedure as applied by the O-RU works correctly: 14 
symbol[s] - symbol addressed by section description s=1…N (considers section descriptions in one C-15 
Plane message, s=1 identifies the first section description) shall be calculated as follows: 16 
Let symInc[s] and numSymbols[s] are values of corresponding fields of section description s 17 
For sake of simplicity let symbol[0] = startSymbolId, symInc[0]=0 and numSymbols[0]=1 18 
for s=1…N (all section descriptions in a message) 19 
If symInc[s] = 0 then symbol[s] = symbol[s-1]  20 
Else symbol[s] = symbol[s-1] + numSymbols[s-1] 21 
b) SymInc is specific to a data section description and, if section extension type #6, #12 and #19 is not present, is 22 
affecting range of symbols described by the section description. When C-Plane and U-Plane coupling via 23 
sectionId (see 5.4.1.2.1) is used and a data section is referenced by multiple data section descriptions (e.g. with 24 
different reMask values) if the value of symInc is to be set to 1, then only the first invocation of the sectionId 25 
shall have symInc=1 and all other invocations of the sectionId shall have symInc=0 in the same C-Plane 26 
message.  This assures that the above rule can be applied (in the same C-Plane message only) while assuring 27 
that all invocations of the data section descriptions will refer to the same symbols, which must be the case 28 
whether the invocations are in the same C-Plane message or in separate C-Plane messages. 29 
Use of symInc in the U-Plane is independent of the use of symInc in the C-Plane. The current view is that U-Plane 30 
message includes data for a single symbol (to avoid degrading the latency performance of the U-Plane), so use of 31 
symInc=1 is prohibited in the U-Plane as of this version of the specification. A future version may allow use of 32 
symInc=1 in the U-Plane to allow multiple symbols to be contained in a single U-Plane message.  33 
 34 
Value range: {0b=use the current symbol number; 1b=increment the current symbol number and use that}. 35 
Type: binary bit. 36 
Field length: 1 bit. 37 
Default Value: 0b (do not increment the current symbol number). 38 
 39 
5.4.5.4 startPrbc (starting PRB of data section description) 40 
Description: In absence of section extension types #6, #12 and #13 in the section description, startPrbc parameter 41 
conveys the first (lowest frequency) PRB described by the section description. The interpretation of startPrbc is affected 42 
by presence of section extension types #6, #12 and #13; see 5.4.7.6, 5.4.7.12 and 5.4.7.13 for more details.  43 
Section description must address resource elements without ambiguity: a resource element addressed by a section 44 
description must not be addressed by other section description, with exception for C-plane and U-plane coupling with 45 
coupling via frequency and time with priorities which resolves ambiguity by differences in priorities (see 5.4.1.2.3 and 46 
5.4.1.2.4). If coupling of C-plane and U-plane via sectionId value is used a PRB addressed by a section description must 47 
not be addressed by a section description with a different value of sectionId.  48 
NOTE: freqOffset affects the frequency span for specific range of PRB numbers. Therefore "must address resource 49 
elements without ambiguity" must consider the value of freqOffset. 50 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      99 
O-RAN.WG4.CUS.0-v07.00 
Center frequency FRE in Hz of a subcarrier corresponding to RE #k (k = 0 … 11) in PRB identified by startPrbc is 1 
defined by: 2 
FRE = center_of_channel_bandwidth + frequency_offset + startPrbc * 12 * f + k * f + dc_skip 3 
where  4 
center_of_channel_bandwidth in Hz is configured in M-plane, 5 
frequency_offset is calculated from freqOffset field (see 5.4.5.11) if freqOffset is present in the C-plane message or 6 
calculated from M-plane parameter offset-to-absolute-frequency-center (in this case frequency_offset = offset-to-7 
absolute-frequency-center * f * 0.5 where f is frequency in Hz corresponding to subcarrier spacing configured via 8 
M-Plane) otherwise, 9 
f is frequency in Hz corresponding to the subcarrier spacing configured in frameStructure (see 5.4.4.13) if 10 
frameStructure is present in the message, or to the subcarrier spacing configured via M-Plane otherwise, 11 
dc_skip depends on carrier type:  12 
if carrier is of LTE DL type and frequency_offset + startPrbc * 12 * f + k * f  ≥ 0 then dc_skip = f  13 
else  dc_skip = 0. 14 
The above formulation is intended to result in resource grid position in frequency compatible with 3GPP requirements, 15 
defined in [8] and [9]. 16 
Value range: {00 0000 0000b-11 1111 1111b}. 17 
Type: unsigned integer. 18 
Field length: 10 bits. 19 
 20 
5.4.5.5 reMask (resource element mask) 21 
Description: This parameter defines the Resource Element (RE) mask within a PRB. Each bit setting in the reMask 22 
indicates if the section control is applicable to the RE sent in U-Plane messages (0=not applicable; 1=applicable).  MSB 23 
indicates the value for the RE of the lowest frequency in a PRB. 24 
Note that different REs in a PRB may be referenced by different data section descriptions. This is restricted to data 25 
section descriptions having the same sectionId but different reMask if C-Plane and U-Plane coupling via sectionId is 26 
used (see 5.4.1.2.1). If C-Plane and U-Plane coupling method independent on sectionId (see 5.4.1.2.2 or 5.4.1.2.2) is 27 
used, then data sections descriptions referencing different REs in a PRB must have different reMask values but 28 
sectionId is not relevant. In addition, if C-Plane and U-Plane coupling via frequency and time with priorities (see 29 
5.4.1.2.3) is used a RE in a PRB may be referenced by more than one data section description (in terms of reMask) but 30 
only configuration carried with data section description of highest priority is applicable (see 5.4.1.2.3 and 5.4.7.6.4). 31 
The maximum number of different reMask values that may be applied to a PRB is an O-RU characteristic that is 32 
conveyed from the O-RU to the O-DU via the M-Plane.  If any RE in a PRB is never pointed to by an reMask (but other 33 
REs in that PRB are), the “missing” RE should be set to zero in the U-Plane, and no beamforming ID or other 34 
processing should be applied to the “missing” RE.  No RE may be referenced more than once in a data section. 35 
Value range: {0000 0000 0000b-1111 1111 1111b}. 36 
Type: unsigned integer (bit mask). 37 
Field length: 12 bits. 38 
Default Value: 1111 1111 1111b (all REs in the block applicable). 39 
 40 
5.4.5.6 numPrbc (number of contiguous PRBs per data section description) 41 
Description: In absence of section extension types #6, #12 and #13 in the section description, the numPrbc parameter 42 
conveys the number of PRBs described by the section description. The interpretation of numPrbc is affected by 43 
presence of section extension types #6, #12 and #13; see 5.4.7.6, 5.4.7.12 and 5.4.7.13 for more details.  44 
Section description must address resource elements without ambiguity: a resource element addressed by a section 45 
description must not be addressed by other section description, with exception for C-plane and U-plane coupling with 46 
coupling via frequency and time with priorities which resolves ambiguity by differences in priorities (see 5.4.1.2.3 and 47 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      100 
O-RAN.WG4.CUS.0-v07.00 
5.4.1.2.4). If coupling of C-plane and U-plane via sectionId value is used a PRB addressed by a section description must 1 
not be addressed by a section description with a different value of sectionId.  2 
Value range: {0000 0001b-1111 1111b, 0000 0000b = all PRBs in the specified SCS and carrier bandwidth}. 3 
 Value 0000 0000b is reserved for NR cases wherein the total number of PRBs may be more than 255.  In this case, 4 
the sending node shall set the startPrbc value to zero and the receiving node shall ignore whatever startPrbc value is 5 
received and assume it is zero. For all other cases a non-zero value of numPrbc must be used. 6 
More specifically, if number of PRBs that needs to be sent is more than 255 but not all the PRBs in the specified SCS 7 
and carrier bandwidth, then it is expected that multiple data sections describing smaller numner of PRBs are specified. 8 
Type: unsigned integer. 9 
Field length: 8 bits. 10 
 11 
5.4.5.7 numSymbol (number of symbols) 12 
Description: In section description without section extension #6, #12 and #19, this parameter defines number of 13 
symbols, or number of PRACH repetitions in the case of PRACH, to which the section control is applicable. At 14 
minimum, the section control shall be applicable to at least one symbol. However, possible optimizations could allow 15 
for several (up to 14) symbols, if e.g., all 14 symbols use the same beam ID. 16 
In section description with section extension type #6, #12 or #19, the set of symbols referred by the description is 17 
conveyed with symbolBitmask field and numSymbol parameter does not reflect number of symbols referred by the 18 
description. In this case, the value of numSymbol can be zero or non-zero number of symbols as it affects the set of 19 
symbols referred by the following section descriptions that do not include section extension type #6, #12 and #19 and 20 
have symInc flag set to 1. 21 
Refer to section 5.4.5.3 for more details. 22 
Value range: {0001b-1110b=number of symbols, 0000b=reserved (can be used in section description with section 23 
extension type 6 or 12), 1111b=reserved}. 24 
Type: unsigned integer. 25 
Field length: 4 bits. 26 
 27 
5.4.5.8 ef (extension flag) 28 
Description: This parameter is used to indicate if this section has any Section Extensions as described in section 5.4.6 29 
included in the message 30 
Value range: {0b=no Section Extensions; 1b=one or more Section Extensions are included in this section}. 31 
Type: binary bit. 32 
Field length: 1 bit. 33 
Default Value: 0b (no Section Extensions). 34 
 35 
5.4.5.9 beamId (beam identifier) 36 
Description: This parameter defines the beam pattern to be applied to the U-Plane data. beamId = 0 means no 37 
beamforming operation will be performed. No beamforming operation implies that the RU shall not apply any phase or 38 
amplitude weights to the U-plane data and that the resulting RF signal will be applied to all antenna elements in the 39 
group equally. 40 
Note that the beamId encodes the beamforming to be done on the O-RU.  This beamforming may be digital, analog or 41 
both (“hybrid beamforming”) and the beamId provides all the information necessary for the O-RU to select the correct 42 
beam (or weight table or beam attributes from which to create a beam).  It is intended that the beamId be global for the 43 
O-RU meaning there are 32767 possible beams shared within the O-RU for all Rtcids/Pcids and shared between UL and 44 
DL (beamId=0x0000 is reserved for no beamforming).  The specific mapping of beamId to e.g. weight table, beam 45 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      101 
O-RAN.WG4.CUS.0-v07.00 
attributes, directionality, beam adjacency or any other beam designator is specific to the O-RU design and must be 1 
conveyed via M-Plane from the O-RU to O-DU upon startup. 2 
NOTE: An upper bound on the max number of beamIDs that can be addressed per eAxC or per sets of eAxCs, per 3 
symbol and per slot, for DL and for UL respectively, shall be conveyed via  M-plane messaging as part of the O-RU 4 
capabilities description. In addition to this, for O-RUs with C-Plane message processing limits, additional limits to 5 
restrict the number of highest priority sections per C-Plane message on top of eAxC limits shall be applied (section 6 
5.6.2). 7 
Value range: {000 0000 0000 0001b-111 1111 1111 1111b; 000 0000 0000 0000b means no BF to be done} 8 
Type: unsigned integer. 9 
Field length: 15 bits. 10 
Default Value: 0000 0000 0000 0000b (no beamforming). 11 
 12 
5.4.5.10 ueId (UE identifier) 13 
Description: This parameter provides a label for the UE for which the section contents apply.  This is used to support 14 
channel information sending from the O-DU to the O-RU.  This is just a label and the specific value has no meaning 15 
regarding types of UEs that may be supported within the system. 16 
Value range: {000 0000 0000 0000b-111 1111 1111 1111b} 17 
Type: unsigned integer. 18 
Field length: 15 bits. 19 
 20 
5.4.5.11 freqOffset (frequency offset) 21 
Description: This parameter defines the frequency offset with respect to the carrier center frequency before additional 22 
filtering (e.g. for PRACH) and FFT processing (in UL) in steps of one half the subcarrier spacings f. The frequency 23 
offset shall be consistent per data section (one cannot use reMask to allow different frequency offsets for different REs 24 
in the PRBs). 25 
Frequency offset in Hz is calculated as: 26 
 frequency_offset = freqOffset * f * 0.5 27 
where f is frequency in Hz corresponding to subcarrier spacing provided in frameStructure (see 5.4.4.13). 28 
NOTE: Frequency span resulting from frameStructure, freqOffset, startPrbc, numPrbc, and rb must not exceed channel 29 
bandwidth configured for eAxC over M-plane. 30 
Value range: { 0x000000=no offset,  31 
0x000001 – 0x7FFFFF = positive frequency offset,  32 
0x800000 – 0xFFFFFF = negative frequency offset }. 33 
Type: signed integer. 34 
Field length: 24 bits. 35 
 36 
5.4.5.12 regularizationFactor (regularization Factor) 37 
Description: This parameter provides a signed value to support MMSE operation within the O-RU when beamforming 38 
weights are supported in the O-RU, so related to section type 6. 39 
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b} 40 
Type: unsigned integer. 41 
Field length: 16 bits. 42 
 43 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      102 
O-RAN.WG4.CUS.0-v07.00 
5.4.5.13 ciIsample, ciQsample (channel information I and Q values) 1 
Description: These values are the channel information complex values relayed from the O-DU to the O-RU, related to 2 
section type 6.  The order of transmission is first Prbc for the first antenna to the last antenna, then second Prbc for the 3 
first to last antenna, and so on until reaching the last Prbc for the first to last antenna.  The bit-width per I and Q value is 4 
variable (determined by M-Plane messaging) so after the very last Q value, some number of padding (set to zero) bits 5 
may be inserted to get to the next byte boundary. When the optional “little endian byte order” is chosen via M-plane, the 6 
ciIsample/ciQsample shall use little endian byte order to transmit the complex numbers. Refer to Annex D.1 for details. 7 
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b} for each I and Q value 8 
Type: signed integer. 9 
Field length: variable bit-with per I and Q value. 10 
 11 
5.4.5.14 laaMsgType (LAA message type) 12 
Description: This parameter defines the LAA message type being conveyed within the Section Type 7 C-Plane 13 
message.  Note that here the C-Plane messages may flow from the O-DU to the O-RU (as usual) or from the O-RU to 14 
the O-DU.  All of these messages relate to the listen-before-talk (LBT) LAA operation and provide a “handshake” 15 
between the O-DU and the O-RU to manage the LBT operation. 16 
Value range: {0001b-1111b}. 17 
Table 5-13 : laaMsgType definition 18 
laaMsgType lssMsgType definition lssMsgType meaning 
0000b LBT_PDSCH_REQ O-DU to O-RU request to obtain a PDSCH channel 
0001b LBT_DRS_REQ O-DU to O-RU request to obtain the channel and send DRS 
0010b LBT_PDSCH_RSP O-RU to O-DU response, channel acq success or failure 
0011b LBT_DRS_RSP O-RU to O-DU response, DRS sending success or failure 
0100b LBT_Buffer_Error O-RU to O-DU response, reporting buffer overflow 
0101b LBT_CWCONFIG_REQ O-DU to O-RU request, congestion window configuration 
0110b LBT_CWCONFIG_RSP O-RU to O-DU response, congestion window config. 
response 
0100b – 1111b reserved for future methods  
 19 
Type: unsigned integer. 20 
Field length: 4 bits. 21 
 22 
5.4.5.15 laaMsgLen (LAA message length) 23 
Description: This parameter defines number of 32-bit words in the LAA section, where “1” means one 32-bit word, 24 
“2” means 2 32-bit words, etc. – including the word containing the lssMsgLen parameter.  Zero is a reserved value. 25 
Value range: {0001b-1111b=number of 32-bit words in the section from 1 to 16 words (4 to 64 bytes) 26 
       0000b is a reserved value } 27 
Type: unsigned integer. 28 
Field length: 4 bits. 29 
 30 
5.4.5.16 lbtHandle  31 
Description: This parameter provides a label that is included in the configuration request message (e.g., 32 
LBT_PDSCH_REQ, LBT_DRS_REQ) transmitted from the O-DU to the O-RU and returned in the corresponding 33 
response message (e.g., LBT_PDSCH_RSP, LBT_DRS_RSP). 34 
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b} 35 
Type: unsigned integer. 36 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      103 
O-RAN.WG4.CUS.0-v07.00 
Field length: 16 bits. 1 
 2 
5.4.5.17 lbtDeferFactor (listen-before-talk defer factor) 3 
Description: Defer factor in sensing slots as described in 3GPP TS 36.213 Section 15.1.1. This parameter is used for 4 
LBT CAT 4 and can take one of three values: {1,3, 7} based on the priority class. Four priority classes are defined in 5 
3GPP TS 36.213. 6 
Value range: {001b, 011b, 111b} or {1, 3, 7} in decimal 7 
Type: unsigned integer 8 
Field length: 3 bits 9 
 10 
5.4.5.18 lbtBackoffCounter (listen-before-talk backoff counter) 11 
Description: LBT backoff counter in sensing slots as described in 3GPP TS 36.213 Section 15.1.1.  12 
Value range: {00 0000 0000b – 11 1111 1111b} (0-1023 decimal) 13 
Type: unsigned integer 14 
Field length: 10 bits 15 
 16 
5.4.5.19 lbtOffset (listen-before-talk offset) 17 
Description: LBT start time in microseconds from the beginning of the subframe scheduled by this message 18 
Value range: {00 0000 0000b – 11 1110 0111b} or {0 – 999} in decimal 19 
Type: unsigned integer 20 
Field length: 10 bits 21 
 22 
5.4.5.20 MCOT (maximum channel occupancy time) 23 
Description: LTE TXOP duration in subframes as described in 3GPP TS 36.213 Section 15.1.1. The maximum values 24 
for this parameter are {2, 3, 8, 10} based on the priority class. Four priority classes are defined in 3GPP TS 36.213. 25 
Value range: {1-10} in decimal 26 
Type: unsigned integer 27 
Field length: 4 bits 28 
 29 
5.4.5.21 lbtMode (LBT Mode) 30 
Description: Part of multi-carrier support. Indicates whether full LBT process is carried or partial LBT process is 31 
carried (multi carrier mode B according to 3GPP TS 36.213 Section 15.1.5.2).  32 
00b = full LBT (regular LBT, sending reservation signal until the beginning of the SF/slot) 33 
01b = Partial LBT (looking back 25 sec prior to transmission as indicated in 3GPP TS 36.213 section 15.1.5.2) 34 
10b = Partial LBT (looking back 34 sec prior to transmission as indicated in 3GPP TS 36.213 section 15.1.5.2) 35 
11b = full LBT and stop (regular LBT, do NOT send reservation signal; O-RU senses the spectrum for the defer factor 36 
+ a sensing slot right before OTA when the O-DU is ready to transmit data as indicated in 3GPP TS 36.213 37 
section 15.1.1. i.e., right before the SF/slot boundary) 38 
Value range: {00b - 11b} 39 
Type: unsigned integer 40 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      104 
O-RAN.WG4.CUS.0-v07.00 
Field length: 2 bits 1 
 2 
5.4.5.22 lbtPdschRes (LBT PDSCH Result) 3 
Description: LBT result of SFN/SF 4 
o 00b = not sensing – indicates that the O-RU is transmitting data 5 
o 01b = currently sensing – indicates the O-RU has not yet acquired the channel 6 
o 10b = success – indicates that the channel was successfully acquired 7 
o 11b = Failure – indicates expiration of the LBT timer.  The LBT process should be reset. 8 
Value range: {00b - 11b} 9 
Type: unsigned integer 10 
Field length: 2 bits 11 
 12 
5.4.5.23 sfStatus (subframe status) 13 
Description: indicates whether the subframe was dropped or transmitted 14 
o 0 – subframe was dropped 15 
o 1 – subframe was transmitted 16 
Value range: {0,1} 17 
Type: binary bit 18 
Field length: 1 bit 19 
 20 
5.4.5.24 lbtDrsRes (LBT DRS Result) 21 
Description: LBT result of SFN/SF 22 
o 0 – SUCCESS – indicates that DRS is sent 23 
o 1 – FAILURE – indicates that DRS is not sent 24 
Value range: {0,1} 25 
Type: binary bit 26 
Field length: 1 bit 27 
 28 
5.4.5.25 initialPartialSF (Initial partial SF) 29 
Description: Indicates whether the initial SF in the LBT process is full or partial.  30 
o 0 – full SF (two slots, 14 symbols) 31 
o 1 – partial SF (only second slot, last 7 symbols) 32 
Value range: {0, 1} 33 
Type: binary bit 34 
Field length: 1 bit 35 
 36 
5.4.5.26 lbtBufErr (LBT Buffer Error) 37 
Description: Indicates when an LBT buffer overflow has occurred.  38 
o 0 –  reserved 39 
o 1 – buffer overflow – data received at O-RU is larger than the available buffer size 40 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      105 
O-RAN.WG4.CUS.0-v07.00 
Value range: {0, 1} 1 
Type: binary bit 2 
 3 
5.4.5.27 sfnSf (SFN/SF End) 4 
Description: SFN/SF which is dropped by O-RU because of time expired or successfully transmitted 5 
Value range: SFN: {0000 0000b – 1111 1111b} or {0 – 255} in decimal, SF: {0000b – 1001b} or {0 – 9} in decimal 6 
Type: unsigned integer 7 
Field length: 12 bits 8 
 9 
5.4.5.28 lbtCWConfig_H (HARQ Parameters for Congestion Window management) 10 
Description: Total number of HARQ NACK feedback messages received for the lbtCWConfig_T transport blocks 11 
transmitted over LAA cell(s)to be used for adjusting the Congestion Window. 12 
Value range: {0000 0000b – 1111 1111b} or {0 – 255} in decimal 13 
Type: unsigned integer 14 
Field length: 8 bits 15 
 16 
5.4.5.29 lbtCWConfig_T (TB Parameters for Congestion Window management) 17 
Description: Total number of Transport Blocks (TB) transmitted over the LAA cell to be used for adjusting the 18 
Congestion Window. 19 
Value range: {0000 0000b – 1111 1111b} or {0 – 255} in decimal 20 
Type: unsigned integer 21 
Field length: 8 bits 22 
 23 
5.4.5.30 lbtTrafficClass (Traffic class priority for Congestion Window management) 24 
Description: Channel access priority class as defined in TS 36.213 25 
   Value range: {000 - 111} or {0 - 7} in decimal 26 
                    1 - 4: traffic class priority 27 
                    0, 5 - 7: reserved 28 
   Type: unsigned integer 29 
   Field length: 3 bits 30 
 31 
5.4.5.31 lbtCWR_Rst (Notification about packet reception successful or not) 32 
Description: Notifies to O-DU whether the O-RU receives LBT_CWCONFIG_REQ message successfully or not 33 
o 0 – SUCCESS – indicates successful reception of LBT_CWCONFIG_REQ 34 
o 1 – FAILURE – indicates failure of receiving LBT_CWCONFIG_REQ 35 
Value range: {0, 1} 36 
Type: binary bit 37 
Field length: 1 bit 38 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      106 
O-RAN.WG4.CUS.0-v07.00 
 1 
5.4.5.32 reserved (reserved for future use) 2 
Description: This parameter is reserved for future use. Transmitter shall send value “0”, while receiver shall ignore the 3 
value received. 4 
Value range: {variable}. 5 
Type: variable. 6 
Field length:  variable. 7 
 8 
5.4.6 Section Extension Commands 9 
The following section extension parameters are defined within the C-Plane: 10 
Table 5-14: Section Extension Commands 11 
extType meaning extLen extension parameters octets meaning 
0 reserved 1 (1 
word) 
reserved 
reserved 
1 
1 
for future use 
for future use 
1 beamforming weights var bfwCompHdr 
bfwCompParam 
bfwI (for TRX 0) 
bfwQ (for TRX 0) 
… 
bfwI (for last TRX) 
bfwQ (for last TRX) 
1 
1 
var 
var 
 
var 
var 
bitWidth(3:0) | compMeth(3:0) 
depends on compr. method 
beamforming weight I value 
beamforming weight Q value 
 
beamforming weight I value 
beamforming weight Q value 
2 beamforming attributes var bfaCompHdr 
bfAzPt 
bfZePt 
bfAz3dd 
bfZe3dd 
bfAzSl 
bfZeSl 
2 
var 
var 
var 
var 
3b 
3b 
BF attributes compr. header 
BF azimuth pointing param 
BF zenith pointing param 
BF azimuth beamwidth param 
BF zenith beamwidth param 
BF azimuth sidelobe param 
BF zenith sidelobe param 
3 DL Precoding configuration 
parameters and indications 
var 
(3 or 4 
words) 
codebookIndex 
layerId 
txScheme 
numLayers 
crsReMask 
crsSymNum 
crsShift 
beamIdAP1 
beamIdAP2 
beamIdAP3 
1 
4b 
4b 
4b 
12b 
4b 
1b 
15b 
15b 
15b 
precoder codebook 
layer ID for DL Tx 
transmission scheme  
number of layers in DL Tx 
CRS RE Mask 
CRS symbol number 
CRS shift command 
Beam ID, Antenna Port 1 
Beam ID, Antenna Port 2 
Beam ID, Antenna Port 3 
4 modulation compr. params 0 csf 
modCompScaler 
1b 
15b 
constellation shift flag 
mod. compr. scale value 
5 modulation compression 
additional scaling parameters 
var mcScaleReMask 
csf 
mcScaleOffset 
12b 
1b 
15b 
Position of same scaling bits 
constellation shift flag 
added mod. compr. scale values 
6 Non-contiguous PRB allocation 2 (2 
words) 
repetition 
rbgSize 
rbgMask 
priority 
symbolMask 
1b 
3b 
28b 
2b 
14b 
repetition flag 
number of PRBs in the group 
mask of RBGs in the symbol(s) 
priority of section description 
mask of symbols in the slot 
7 Multiple-eAxC designation 1 eAxCmask 16b eAxC mask 
8 regularization factor 1 regularizationFactor 16b regularization factor 
9 Dynamic Spectrum Sharing 
parameters 
1 technology 1 interface name 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      107 
O-RAN.WG4.CUS.0-v07.00 
extType meaning extLen extension parameters octets meaning 
10 Multiple ports grouping var beamGroupType 
numPortc 
beamID (or ueID) 
2b 
6b 
15b 
type of beam grouping 
the number of ports 
beam ID (or UE ID) 
11 Flexible BF weights var disableBFWs 
RAD 
numBundPrb 
bfwCompHdr 
bfwCompParam for bundle 0 
beamId (for PRB bundle 0) 
bfwI (for TRX 0, bundle 0) 
bfwQ (for TRX 0, bundle 0) 
… 
bfwI (for last TRX, bundle 0) 
bfwQ (for last TRX bundle 0) 
… 
bfwCompParam for last bundle 
beamId (for last PRB bundle) 
bfwI (for TRX 0, last bundle) 
bfwQ (for TRX 0, last bundle) 
… 
bfwI (for last TRX, last bundle) 
bfwQ (for last TRX & bundle) 
1b 
1b 
1 
1 
var  
2 
var 
var 
… 
var 
var 
… 
var  
2 
var 
var  
 
var 
var 
disable beamforming weights 
Reset After (PRB) Discontinuity  
Number of bundled PRBs 
bitWidth(3:0) | compMeth(3:0) 
depends on compr. method 
Beam ID 
BF weight I value for bundle 0 
BF weight Q value for bundle 0 
… 
BF weight I value for bundle 0 
BF weight Q value for bundle 0 
… 
depends on compr. method 
Beam ID 
BF weight I value for last bundle 
BF weight Q value for last bundle 
… 
BF weight I value for last bundle 
BF weight Q value for last bundle 
12 non-contiguous PRB allocation 
with frequency ranges 
var priority, 
symbolMask 
offStartPrb(1) 
numPrb(1) 
… 
offStartPrb(R-1) 
numPrb(R-1) 
2b 
14b 
8b 
8b 
  
8b 
8b 
priority of section description 
mask of symbols in the slot 
offset to start of PRB range #1 
number of PRBs in the range #1 
  
offset to start of PRB range 
number of PRBs in the range  
13 frequency hopping var nextSymbolId(1) 
nextStartPrbc (1) 
… 
nextSymbolId (R-1), 
nextStartPrbc (R-1) 
4b 
10b 
 
4b 
10b 
start symbol of hop #1  
start PRB for hop #1  
 
start symbol of hop #R-1  
start PRB for hop #R-1 
14 Null-layer Info. for ueId-based 
beamforming 
var nullLayerInd 1 Nulling-layer indication 
15 Mixed-numerology Info. for 
ueId-based beamforming 
var frameStructure 
freqOffset 
cpLength 
1 
3 
2 
FFT size, mu (SCS) 
Frequency offset 
Cyclic prefix length 
16 Antenna mapping for UE 
channel Info based UL 
beamforming 
 antMask 
… 
antMask 
8 
 
var 
Bitmask of Max. 64 antenna 
 
Bitmask of Max. 64 antenna 
17 User port group indication var numUeID 4b Number of ueIDs per user 
18 Uplink Transmission 
Management 
2 (2 
words) 
transmissionWindowOffset 
transmissionWindowSize 
toT 
16b 
14b 
2b 
transmission window offset 
transmission window size 
type of transmission 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      108 
O-RAN.WG4.CUS.0-v07.00 
extType meaning extLen extension parameters octets meaning 
19 Compact multiple port 
beamforming information 
var disableBFWs 
repetition  
priority 
numPortc 
symbolMask 
bfwCompHdr 
… 
portReMask(for port 1) 
portSymbolMask(for port 1) 
 
bfwCompParam(for port 1) 
… 
beamId(for port 1) 
bfwI (for port 1 and TRX 0)  
… 
bfwQ (for port 1 and TRX 0) 
… 
portReMask(for last port) 
portSymbolMask(for last port) 
bfwCompParam(for last port) 
… 
beamId(for last port) 
bfwI (for last port and TRX 0)  
… 
bfwQ (for last port and TRX 0) 
… 
1b 
1b 
2b 
6b 
14b 
8b 
 
12b 
14b 
 
var 
 
2 
var 
 
var 
disable BF weights 
repetition flag 
priority of section description 
num ports 
resource symbol bitmask  
BF weight compression header 
 
RE bitmask for port 1 
Symbol bitmask for port 1  
 
BF weight compression parameter 
for port 1 
beam identifier for port 1 
BF weight in-phase value for port 
1 TRX0 
BF weight quadrature-phase value 
port 1 TRX0 
RE bitmask for last port  
Symbol bitmask last port 
BF weight compression parameter 
for last port 
beamId for last port 
BF weight in-phase value for last 
port and TRX0 
BF weight quadrature-phase value 
last port TRX0 
20 Dedicated puncturing  var numPuncPatterns  
symbolMask(1) 
 
startPuncPrb(1) 
… 
numPuncPrb(1) 
… 
… 
puncReMask(1) 
rb(1) 
rbgIncl(1) 
rbgSize(1) 
rbgMask(1) 
symbolMask(last) 
 
startPuncPrb(last) 
… 
numPuncPrb(last) 
… 
… 
puncReMask(last) 
rb(last) 
rbgIncl(last) 
rbgSize(last) 
rbgMask(last) 
8b 
14b 
 
10b 
 
10b 
 
 
12b 
1b 
1b 
3b 
28b 
14b 
 
10b 
 
10b 
 
 
12b 
1b 
1b 
3b 
28b 
number of puncturing patterns 
first puncturing pattern symbol 
mask 
first PRB to which puncturing 
pattern applies 
number of contiguous PRBs to 
which first puncturing pattern 
applies 
first puncturing pattern RE mask 
first RB indicator 
first rbg included flag 
first rbg size 
first rbg bitmask 
last puncturing pattern symbol 
mask 
last PRB to which puncturing 
pattern applies 
number of contiguous PRBs to 
which last puncturing pattern 
applies 
last puncturing pattern RE mask 
last RB indicator 
last rbg included flag 
last rbg size 
last rbg bitmask 
21-127 reserved 1 (1 
word) 
reserved 
reserved 
1 
1 
for future use 
for future use 
 1 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      109 
O-RAN.WG4.CUS.0-v07.00 
5.4.6.1 extType (extension type) 1 
Description: This parameter provides the extension type which provides additional parameters specific to the subject 2 
data extension.  An O-RU or O-DU receiving a “reserved” section extension shall ignore the extension and all 3 
parameters contained within it. 4 
Value range: {all zeros – all ones}.  See Table 5-14 for values. 5 
Type: unsigned integer. 6 
Field length: 7 bits. 7 
 8 
5.4.6.2 ef (extension flag) 9 
Description: This parameter is used to indicate if there is another extension present (ef=1) or this is the last extension 10 
ef=0) 11 
Value range: {0b=no more extensions; 1b=one or more extensions are included after this one}. 12 
Type: binary bit. 13 
Field length: 1 bit. 14 
5.4.6.3 extLen (extension length) 15 
Description: This parameter provides the length of the section extension in units of 32-bit (or 4-byte) words.  The value 16 
zero is reserved, so there is always at least one word in the extension (the word containing the extType and extLen). 17 
Value range: {all zeros – all ones} – from one word to 255 words (8 bits) or 65535 words (16 bits). 18 
Type: unsigned integer. 19 
Field length: 8 bits for all section extensions except for section extension #11,19 and 20  for which the field length is 20 
16 bits. 21 
 22 
5.4.7 Coding of Information Elements – Application Layer, Section 23 
Extensions 24 
5.4.7.1 ExtType=1: Beamforming Weights Extension Type 25 
This section applies to the sending of beamforming weights from the O-DU to the O-RU.  When this is done, the 26 
weights are sent along with a beamID which is meant to allow those same weights to be used in future C-Plane 27 
messages by invoking the same beamID (without the need to send the weights again).  This allows downloaded weights 28 
to have “persistence” which should save DL throughput by not requiring sending of weights multiple times.  The K 29 
parameter is defined in section 10.5.2.  Refer to Annex D for details on the usual weight byte order.   The optional “little 30 
endian byte order” is applied to bfwI/bfwQ fields if chosen via M-plane. Refer to Annex D.1 for details of little endian 31 
byte order. This section extension applies only to section types 1 and 3. 32 
Table 5-15 : Extension Type 1 Data Format 33 
ef extType = 0x1 1 Octet N 
extLen 1 Octet N+1 
bfwCompHdr 1 Octet N+2 
bfwCompParam var Octet N+3 
bfwI (for TRX 0) var  
bfwQ (for TRX0) var  
remaining beamforming weights bfwI and bfwQ up to K TRXs var  
zero pad to 4-byte boundary var  
 34 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      110 
O-RAN.WG4.CUS.0-v07.00 
5.4.7.1.1 bfwCompHdr (beamforming weight compression header) 1 
Description: This parameter defines the compression method and IQ bit width for the beamforming weights in the 2 
specific section in the C-Plane message.  In this way each set of weights may employ a separate compression method. 3 
Note that for the block compression methods, the block size is the entire vector of beamforming weights, not some 4 
subset of them. 5 
Value range: {0000 0000b-1111 1111b} 6 
Bit allocations 7 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
bfwIqWidth bfwCompMeth 1 Octet 1 
 8 
Table 5-16 : udIqWidth definition 9 
bfwIqWidth Bit width of each I and each Q 
0000-1111b value of bfwIqWidth except a value of zero means 16 bits 
e.g. bfwIqWidth = 0000b means I and Q are each 16 bits wide; 
e.g. bfwIqWidth = 0001b means I and Q are each 1 bit wide; 
e.g. bfwIqWidth = 1111b means I and Q are each 15 bits wide 
 10 
Table 5-17 : bfwCompMeth definition 11 
bfwCompMeth compression method udIqWidth meaning 
0000b no compression bitwidth of each uncompressed I and Q value 
0001b block floating point bitwidth of each I and Q mantissa value 
    
0010b block scaling bitwidth of each I and Q scaled value 
    
0011b -law bitwidth of each compressed I and Q value 
    
0100b beamspace compression bitwidth of each beamspace I and Q coefficient 
0101b – 1111b reserved for future methods depends on the specific compression method 
 12 
Type: unsigned integer (concatenated bit fields). 13 
Field length: 8 bits. 14 
Default Value: 0000 0000b (no compression, 16-bit I and Q). 15 
 16 
5.4.7.1.2 bfwCompParam (beamforming weight compression parameter) 17 
Description: This parameter applies to the compression method specified by the associated bfwCompMeth value. 18 
Value range: {0000 0000b-1111 1111b}. 19 
Bit allocations 20 
bfwCompMeth 0 (msb) 1 2 3 4 5 6 7 (lsb) compParam 
size 
   0000b = no compression absent 0 octets 
   0001b = block fl. point reserved (set to all zeros) Exponent (unsigned) 1 octet 
   0010b = block scaling blockScaler (unsigned, 1 integer bit, 7 fractional bits) 1 octet 
   0011b = -law compBitWidth compShift 1 octets 
   0100b = beamspace activeBeamspaceCoefficientMask ceil(K/8) 
octets* 
blockScaler (unsigned,1 integer bit,7 fractional bits) 1 octet 
0101b – 1111b reserved (set to all zeros) ? octets 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      111 
O-RAN.WG4.CUS.0-v07.00 
*K is the number of elements in uncompressed beamforming weight vector (see chapter 10.5.2 and Annex J). K is O-1 
RU-specific and is calculated from parameters describing array conveyed from the O-RU to the O-DU as part of the 2 
initialization procedure via the M-Plane 3 
Type: unsigned integer (concatenated bit fields). 4 
Field length: zero for bfwCompMeth value 0000b, 8 bits for bfwCompMeth values 0001b, 0010b and 0011b; other 5 
bfwCompMeth values may imply other lengths but will always be an integer number of bytes. 6 
 7 
5.4.7.1.3 bfwI (beamforming weight in-phase value) 8 
Description: This parameter is the In-phase beamforming weight value. Refer to Annex D for details the usual weight 9 
byte order. When optional “little endian byte order” is chosen via M-plane, refer to Annex D.1 for detail byte order. The 10 
total number of weights in the section is O-RU-specific and is conveyed from the O-RU to the O-DU as part of the 11 
initialization procedure via the M-Plane. 12 
Value range: {all zeros – all ones}. 13 
Type: signed integer. 14 
Field length: 1-16 bits. 15 
 16 
5.4.7.1.4 bfwQ (beamforming weight quadrature value) 17 
Description: This parameter is the Quadrature beamforming weight value. Refer to Annex D for details the usual 18 
weight byte order. When optional “little endian byte order” is chosen via M-plane, refer to Annex D.1 for detail byte 19 
order. The total number of weights in the section is O-RU-specific and is conveyed from the O-RU to the O-DU as part 20 
of the initialization procedure via the M-Plane. 21 
Value range: {all zeros – all ones}. 22 
Type: signed integer. 23 
Field length: 1-16 bits. 24 
 25 
5.4.7.2 ExtType=2: Beamforming Attributes Extension Type 26 
This section extension applies only to section types 1 and 3.  27 
Section extension type 2 applies to the sending of beamforming attributes from the O-DU to the O-RU which is 28 
described in Annex J. 29 
The following table shows the format of this section extension. 30 
Table 5-18 : Extension Type 2 Data Format 31 
ef extType = 0x02 1 Octet N 
extLen 1 Octet N+1 
bfaCompHdr 2 Octet N+2 
bfAzPt var Octet N+3 
bfZePt var  
bfAz3dd var  
bfZe3dd var  
zero-padding bfAzSl bfZeSl 1  
zero padding to achieve 4-byte alignment as needed 
  
 32 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      112 
O-RAN.WG4.CUS.0-v07.00 
5.4.7.2.1 bfaCompHdr (beamforming attributes compression header) 1 
Description: This parameter defines the bit width for the beamforming attributes extension parameters. In this way 2 
each set of beamforming attributes may employ a different bit width. 3 
Value range: {0000 0000 0000b-1111 1111 1111b} 4 
Bit allocations 5 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
Reserved bfAzPtWidth bfZePtWidth 1 Octet 1 
Reserved bfAz3ddWidth bfZe3ddWidth 1 Octet 2 
 6 
Table 5-19 : fzAzPtWidth definition 7 
bfAzPtWidth Bit width of bfAzPt 
000-111b value of bfAzPtWidth 
 8 
Table 5-20 : bfZePtWidth definition 9 
bfZePtWidth Bit width of bfZePt 
000-111b value of bfZePtWidth 
 10 
Table 5-21 : bfAz3ddWidth definition 11 
bfAz3ddWidth Bit width of bfAz3dd 
000-111b value of bfAz3ddWidth 
 12 
Table 5-22 : bfZe3ddWidth definition 13 
bfZe3ddWidth Bit width of bfZe3dd 
000-111b value of bfZe3ddWidth 
 14 
For each of the four bitwidth values in this parameter (bfAzPtWidth, bfZePtWidth, bfAz3ddWidth, and bfZe3ddWidth) 15 
the following mapping shall be used: 16 
000b = no bits, the field is not applicable (O-RU cannot support it) or the default value shall be used. 17 
001b = 2-bit bitwidth 18 
010b = 3-bit bitwidth 19 
011b = 4-bit bitwidth 20 
100b = 5-bit bitwidth 21 
101b = 6-bit bitwidth 22 
110b = 7-bit bitwidth 23 
111b = 8-bit bitwidth (this is the highest bitwidth anticipated to be needed) 24 
Type: unsigned integer (concatenated bit fields). 25 
Field length: 16 bits (4 bits are reserved). 26 
Default Value: 0011 1111 0011 1111b (8-bit azimuth and zenith pointing angle and 8-bit azimuth and zenith 27 
beamwidth). 28 
 29 
5.4.7.2.2 bfAzPt (beamforming azimuth pointing parameter) 30 
Description: This parameter is the azimuth beamforming pointing angle in degrees. The valid range of values is O-RU-31 
specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. 32 
Value range: {all zeros – all ones}. 33 
Type: signed integer. 34 
Field length: 0-8 bits. 35 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      113 
O-RAN.WG4.CUS.0-v07.00 
 1 
5.4.7.2.3 bfZePt (beamforming zenith pointing parameter) 2 
Description: This parameter is the zenith beamforming pointing angle in degrees. The valid range of values is O-RU-3 
specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. 4 
Value range: {all zeros – all ones}. 5 
Type: unsigned integer. 6 
Field length: 0-8 bits. 7 
 8 
5.4.7.2.4 bfAz3dd (beamforming azimuth beamwidth parameter) 9 
Description: This parameter is the azimuth beamforming beamwidth in degrees. The valid range of values is O-RU-10 
specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. The value 11 
(000b) corresponds to the minimum valid beamwidth. 12 
Value range: {all zeros – all ones}. 13 
Type: unsigned integer. 14 
Field length: 0-8 bits. 15 
 16 
5.4.7.2.5 bfZe3dd (beamforming zenith beamwidth parameter) 17 
Description: This parameter is the zenith beamforming beamwidth in degrees. The valid range of values is O-RU-18 
specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. The value 19 
(000b) corresponds to the minimum valid beamwidth. 20 
Value range: {all zeros – all ones}. 21 
Type: unsigned integer. 22 
Field length: 0-8 bits. 23 
 24 
5.4.7.2.6 bfAzSl (beamforming azimuth sidelobe parameter) 25 
Description: This parameter is the azimuth beamforming sidelobe suppression value in dB. The valid range of values is 26 
O-RU-specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. The 27 
value of bfAzSl corresponds to a value of 10 dB for all zeros and increments in 5 dB steps (e.g. 001b corresponds to 15 28 
dB, 010b corresponds to 20 dB, and so on). The value 111b corresponds to having a sidelobe suppresion of 45dB or 29 
more. 30 
Value range: {all zeros – all ones}. 31 
Type: unsigned integer. 32 
Field length: 3 bits. 33 
 34 
5.4.7.2.7 bfZeSl (beamforming zenith sidelobe parameter) 35 
Description: This parameter is the zenith beamforming sidelobe suppression value in dB. The valid range of values is 36 
O-RU-specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. The 37 
value of bfZeSl corresponds to a value of 10 dB for all zeros and increments in 5 dB steps (e.g. 001b corresponds to 15 38 
dB, 010b corresponds to 20 dB, and so on). The value 111b corresponds to having a sidelobe suppresion of 45dB or 39 
more. 40 
Value range: {all zeros – all ones}. 41 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      114 
O-RAN.WG4.CUS.0-v07.00 
Type: unsigned integer. 1 
Field length: 3 bits. 2 
 3 
5.4.7.2.8 zero-padding 4 
Description: This parameter is intended to pad out the data to the next 4-byte boundary.  Because the preceding 5 
parameters are of varying bitwidth, extra padding in most cases will be needed to achieve the 4-byte boundary 6 
condition.  Transmitter shall send value “0”, while receiver shall ignore the value received. 7 
Value range: {variable}. 8 
Type: variable. 9 
Field length:  variable. 10 
 11 
5.4.7.3 ExtType=3: DL Precoding Extension Type 12 
This section extension applies only to section types 1 and 3 and is to be used only for LTE TM2, TM3 and TM4.  For 13 
other LTE transmission modes and for NR, precoding is assumed to be included in the beamforming operation (that is, 14 
encoded in the beamforming weights). 15 
The following table shows the format of this section extension. 16 
Table 5-23 : Extension Type 3 Data Format – first data layer 17 
0 (msb) 1 2 3 4 5 6 7 (lsb) # of 
bytes 
 
ef extType = 0x03 1 Octet N 
extLen = 0x04 (4 words) 1 N+1 
codebookIndex 1 N+2 
layerId = 0000b or 1111b numLayers[3:0] 1 N+3 
txScheme[3:0] crsReMask[11:8] 1 N+4 
crsReMask[7:0] 1 N+5 
 crsShift reserved crsSymNum[3:0] 1 N+6 
 reserved 3 N+7 
reserved beamIdAP1[14:8] 1 N+10 
beamIdAP1[7:0] 1 N+11 
reserved beamIdAP2[14:8] 1 N+12 
beamIdAP2[7:0] 1 N+13 
reserved beamIdAP3[14:8] 1 N+14 
beamIdAP3[7:0] 1 N+15 
 18 
Table 5-24 : Extension Type 3 Data Format – not first data layer 19 
0 (msb) 1 2 3 4 5 6 7 (lsb) # of 
bytes 
 
ef extType = 0x03 1 Octet N 
extLen = 0x01 (1 word) 1 N+1 
codebookIndex 1 N+2 
layerId ≠ 0000b or 1111b numLayers 1 N+3 
 20 
There may be two or four antenna ports hence two or four beamIDs needed (same beamID for user data and CRS REs).  21 
For Antenna Port 0, the beamId is contained in the C-Plane data section header, while the Antenna Ports 1-3 beamIDs 22 
are contained in this section extension.  When there are two antenna ports, the section extension only contains the 23 
second Antenna Port beam ID (“beamIdAP1”) and the section extension length is 3 words (“extLen” = 0x3).  When 24 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      115 
O-RAN.WG4.CUS.0-v07.00 
there are four antenna ports, the section extension contains the second, third and fourth Antenna Port beam IDs 1 
(“beamIdAP1”, “beamIdAP2”. And “beamIdAP3”) and the section extension length is 4 words (“extLen” = 0x4). 2 
For the txScheme indicating TxD, one Pcid is used for all the user data and one section instantiation is needed using the 3 
corresponding C-Plane Rtcid, providing all the beam IDs (up to 4) for the user data; a second section instantiation (same 4 
sectionId) with a different reMask may be used to provide the CRS RE beam IDs (also up to 4).  In the TxD case the 5 
layerId is set to 1111b (“TxD”). 6 
For the txSchemes indicating spatial multiplexing (LD CDD or no CDD), each layer will have its own Pcid for the user 7 
data with a corresponding C-Plane Rtcid conveying the user data’s beamId, with this section extension showing a 8 
different layer number for each layer.  Only within the layer ID zero Rtcid will the CRS REs be provided with their 9 
beamIDs (one beamId in the section header and the other beamIDs in this section extension). For the non-zero layer 10 
number Rtcids, this section extension will still be provided to guide the precoding operation (provide the layer ID) but 11 
will not include beamIds (extLen = 0x1), and the beamId in the section header should be ignored by the O-RU and 12 
should be set to the default value by the O-DU. 13 
5.4.7.3.1 codebookIndex (precoder codebook used for transmission) 14 
Description: This parameter defines the indices of the precoder codebook that are used for precoding.  It is to be used 15 
in conjunction with the numLayers field. (Invalid for TM1, TM2 and TM3) 16 
Value range: {0000 0000b - 1111 1111b}.  17 
Type: unsigned integer. 18 
Field length: 8 bits. 19 
DefaultValue: 0000 0000b (used for invalid mode) 20 
 21 
5.4.7.3.2 layerID (Layer ID for DL transmission) 22 
Description: This parameter defines the layer ID that are used for DL transmission in TM1 – TM4.  23 
Value range: {0000b-1111b}. 0000b implies layer0, 0001b implies layer1, 0010b implies layer2, 0011b implies layer3. 24 
(for TxD, set to all ones) 25 
Type: unsigned integer. 26 
Field length: 4 bits. 27 
DefaultValue: 1111b (used for TxD mode) 28 
 29 
5.4.7.3.3 txScheme (transmission scheme) 30 
Description: This parameter defines the TM scheme used in this section type.  31 
Value range: {0000b-1111b}  32 
txScheme TM scheme 
0000b  Spatial multiplexing (CDD) 
0001b Spatial multiplexing (no CDD) 
0010b Transmit diversity 
0011b-111b Reserved 
 33 
Type: unsigned integer. 34 
Field length: 4 bits. 35 
 36 
5.4.7.3.4 numLayers (number of layers used for DL transmission) 37 
Description: This parameter defines the number of layers that are used for DL transmission in TM1 – TM6.  38 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      116 
O-RAN.WG4.CUS.0-v07.00 
Value range: {0000b-1111b}. 0000b implies 1 layer, 0001 implies 2 layers, 0010 implies 3 layers, 0011b implies 4 1 
layers, 2 
Type: unsigned integer. 3 
Field length: 4 bits. 4 
 5 
5.4.7.3.5 crsReMask (CRS resource element mask) 6 
Description: This parameter defines the CRS Resource Element (RE) mask within a PRB. Each bit setting in the 7 
crsReMask indicates if the section control is applicable to the RE sent in U-Plane messages (0=not applicable, 8 
1=applicable).  MSB indicates the value for the RE of the lowest frequency in a PRB. 9 
Value range: {0000 0000 0000b-1111 1111 1111b} 10 
Type: unsigned integer (bit mask). 11 
Field length: 12 bits. 12 
 13 
5.4.7.3.6 crsSymNum (CRS symbol number indication) 14 
Description: This parameter defines the CRS symbol number within a PRB. The value of the crsSymNum index 15 
indicates the symbol number to the RE sent in U-Plane messages (0=not applicable, 1=applicable) 16 
Value range: {0000b-1111b}, value indicates symbol number. 17 
0000b – 1101b : use symbol number 0 – 13 respectively; 18 
1110b – 1111b : reserved 19 
Type: unsigned integer. 20 
Field length: 4 bits. 21 
 22 
5.4.7.3.7 crsShift (crsShift used for DL transmission) 23 
Description: This parameter indicates the shift pattern to pick up the right index for CRS positions for N Antennas (see 24 
Figure I-8) 25 
Value range: 0 or 1, implying shift patterns that are layer-dependent according to the table below (see Tables I-1 26 
through I-3 for vShift) 27 
 28 
 1 Layer  2 Layers 4 Layers 
crsShift =0 for 0 ≤ vshift ≤ 5 
 
0 for 0 ≤ vshift ≤ 2 
1 for 3 ≤ vshift ≤ 5 
0 for 0 ≤ vshift ≤ 2 
1 for 3 ≤ vshift ≤ 5 
 29 
Type: binary. 30 
Field length: 1 bit. 31 
 32 
5.4.7.3.8 beamIdAP1 (beam id to be used for antenna port 1) 33 
Description: This parameter defines the beam pattern to be applied to the U-Plane data. beamId = 0 means no 34 
beamforming operation will be performed.  No beamforming operation implies that the RU shall not apply any phase or 35 
amplitude weights to the U-plane data and that the resulting RF signal will be applied to all antenna elements in the 36 
group equally.   37 
Value range: {000 0000 0000 0001b-111 1111 1111 1111b} 38 
Type: unsigned integer. 39 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      117 
O-RAN.WG4.CUS.0-v07.00 
Field length: 15 bits. 1 
Default Value: 000 0000 0000 0000b (no beamforming). 2 
 3 
5.4.7.3.9 beamIdAP2 (beam id to be used for antenna port 2) 4 
Description: This parameter defines the beam pattern to be applied to the U-Plane data. beamId = 0 means no 5 
beamforming operation will be performed.  No beamforming operation implies that the RU shall not apply any phase or 6 
amplitude weights to the U-plane data and that the resulting RF signal will be applied to all antenna elements in the 7 
group equally.  8 
Value range: {000 0000 0000 0001b-111 1111 1111 1111b} 9 
Type: unsigned integer. 10 
Field length: 15 bits. 11 
Default Value: 000 0000 0000 0000b (no beamforming). 12 
 13 
5.4.7.3.10 beamIdAP3 (beam id to be used for antenna port 3) 14 
Description: This parameter defines the beam pattern to be applied to the U-Plane data. beamId = 0 means no 15 
beamforming operation will be performed.  No beamforming operation implies that the RU shall not apply any phase or 16 
amplitude weights to the U-plane data and that the resulting RF signal will be applied to all antenna elements in the 17 
group equally.  18 
Value range: {000 0000 0000 0001b-111 1111 1111 1111b} 19 
Type: unsigned integer. 20 
Field length: 15 bits. 21 
Default Value: 000 0000 0000 0000b (no beamforming). 22 
 23 
5.4.7.4 ExtType=4: Modulation Compression Parameters Extension Type 24 
This section extension applies only to section types 1, 3 and 5. Section extension type 4 enables the O-DU to convey 25 
one set of “csf and modCompScaler values” to the O-RU which is needed for modulation compression described in 26 
Annex A.5. 27 
Table 5-25 shows the section extension format. 28 
Table 5-25: Section Format for Section Extension 4 (modulation compression parameters) 29 
ef extType = 0x04 1 Octet N 
extLen = 0x01 (1 word) 1 N+1 
csf modCompScaler[14:8] 1 N+2 
modCompScaler[7:0] 1 N+3 
 30 
5.4.7.4.1 csf (constellation shift flag) 31 
Description: This binary flag indicates whether to shift the constellation (csf=1) or not (csf=0).  “Shift” means subtract 32 
from (during compression) or add to (during decompression) the I and Q samples the value 2-udIqWidth  where 33 
“udIqWidth” is the number of I and Q bits in the U-Plane representation.  34 
Table 5-26:Constellation shift definition 35 
udIqWidth Shift 
value 
1 
2 
1/2 
1/4 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      118 
O-RAN.WG4.CUS.0-v07.00 
3 
4 
5 
1/8 
1/16 
1/32 
 1 
Value range: {0b-1b} 2 
Type: binary. 3 
Field length: 1 bit. 4 
 5 
5.4.7.4.2 modCompScaler (modulation compression scaler value) 6 
Description: This parameter is the scale factor to apply to the unshifted constellation points during decompression.  It is 7 
a fractional floating-point value having an unsigned but negative 4-bit exponent and an unsigned fractional 11-bit 8 
mantissa. 9 
Value range: { 0 through +(1-2-11 ) }. 10 
Type: unsigned fractional floating-point value. 11 
 12 
"𝑚𝑎𝑛𝑡𝑖𝑠𝑠𝑎"=∑𝑚𝑜𝑑𝐶𝑜𝑚𝑝𝑆𝑐𝑎𝑙𝑒𝑟[𝑘]∙2𝑘−11
10
𝑘=0
 13 
"𝑒𝑥𝑝𝑜𝑛𝑒𝑛𝑡"= ∑ 𝑚𝑜𝑑𝐶𝑜𝑚𝑝𝑆𝑐𝑎𝑙𝑒𝑟[𝑘]∙2𝑘−11
14
𝑘=11
 14 
 15 
“exponent” is the most significant 4 bits of the 15-bit modCompScaler field and “mantissa” is the least-significant 11 16 
bits of the modCompScaler field.  “modCompScaler[k] refers to the kth bit of the modCompScaler field.  Therefore, the 17 
actual value of modCompScaler is:  18 
𝑚𝑜𝑑𝐶𝑜𝑚𝑝𝑆𝑐𝑎𝑙𝑒𝑟=𝑚𝑎𝑛𝑡𝑖𝑠𝑠𝑎∙2−𝑒𝑥𝑝𝑜𝑛𝑒𝑛𝑡 19 
Field length: 15 bits. 20 
 21 
5.4.7.5 ExtType=5: Modulation Compression Additional Parameters Extension Type 22 
This section extension applies only to section types 1, 3 and 5. Section extension #5 enables the O-DU to convey one 23 
(or more) set(s) of “mcScaleReMask, csf and mcScaleOffset values” to the O-RU which is needed for modulation 24 
compression described in Annex A.5. Table 5-27 and Table 5-28 shows the section extension format when one set and 25 
two sets of “mcScaleReMasks, csf and mcScaleOffset values” are conveyed. Please note that section extension type 5 26 
may be used to convey more than 2 sets of “mcScaleReMasks, csf and mcScaleOffset values” in which case the frame 27 
structure is extended in similar fashion, i.e. the zero padding bits are added at the end of the section extension to 28 
maintain 4-byte alignment. 29 
Table 5-27 : Section Format for Section Extension 5 (one scaler value, modulation compression parameters) 30 
ef extType = 0x05 1 Octet N 
extLen = 0x2 (2 words) 1 N+1 
mcScaleReMask[11:4] 1 N+2 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+3 
mcScaleOffset [11:4] 1 N+4 
mcScaleOffset [3:0] zero padding 1 N+5 
zero padding 1 N+6 
zero padding 1 N+7 
 31 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      119 
O-RAN.WG4.CUS.0-v07.00 
Table 5-28 : Section Format for Section Extension 5 (two scaler values, modulation compression parameters) 1 
ef extType = 0x05 1 Octet N 
extLen = 0x03 (3 words) 1 N+1 
mcScaleReMask[11:4] 1 N+2 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+3 
mcScaleOffset [11:4] 1 N+4 
mcScaleOffset [3:0] mcScaleReMask[11:8] 1 N+5 
mcScaleReMask[7:0] 1 N+6 
csf mcScaleOffset [14:8] 1 N+7 
mcScaleOffset [7:0] 1 N+8 
zero padding 1 N+9 
zero padding 1 N+10 
zero padding 1 N+11 
 2 
For a given extLen value, there may be two possible cases for the number of sets of 'mcScaleReMask-csf-3 
mcScaleOffset'. For example, when extLen equals to 4, the number of sets of 'mcScaleReMask-csf-mcScaleOffset' may 4 
be either 3 or 4; i.e. both cases will fit within 16bytes (extLen=4). This happens when extLen minus 2 bytes equals to an 5 
integer multiple of 3.5 bytes (28bits). In such cases, if the last 28 bits (length of one set) of Section Extension 5 6 
parameters are all set to 0, then O-RU shall consider the smaller number of parameter sets. Otherwise, if they are not all 7 
set to 0, O-RU shall consider the larger number of parameter sets. 8 
Table 5-29: Section Format for Section Extension 5 when extLen = 4 (three or four modulation compression 9 
parameters may be present) 10 
ef extType = 0x05 1 Octet N 
extLen = 0x04 (4 words) 1 N+1 
mcScaleReMask[11:4] 1 N+2 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+3 
mcScaleOffset [11:4] 1 N+4 
mcScaleOffset [3:0] mcScaleReMask[11:8] 1 N+5 
mcScaleReMask[7:0] 1 N+6 
csf mcScaleOffset [14:8] 1 N+7 
mcScaleOffset [7:0] 1 N+8 
mcScaleReMask[11:4] 1 N+9 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+10 
mcScaleOffset [11:4] 1 N+11 
mcScaleOffset [3:0] mcScaleReMask[11:8]( or zero padding ) 1 N+12 
mcScaleReMask[7:0] ( or zero padding ) 1 N+13 
csf( or zero 
padding ) 
mcScaleOffset [14:8] ( or zero padding ) 1 N+14 
mcScaleOffset [7:0] ( or zero padding ) 1 N+15 
 11 
5.4.7.5.1 mcScaleReMask  (modulation compression power scale RE mask) 12 
Description: This parameter defines the Resource Element (RE) mask to indicate the position of RE with same scaling 13 
and modulation type within a PRB. Each bit setting in the mcScaleReMask indicates if the mcScaleOffset and csf fields 14 
are applicable to the RE sent in U-Plane messages or not (0=not applicable; 1=applicable).  MSB indicates the value for 15 
the RE of the lowest frequency in a PRB. 16 
Note that different REs in a PRB may be indicated by different invocations of mcScaleReMask within extension field 17 
type 5.  If any RE in a PRB is never pointed to by a mcScaleReMask (but other REs in that PRB are), the “missing” RE 18 
should be considered to represent not populated REs (e.g. no user data to transmit). 19 
There is a relationship between the mcScaleReMask values and the section’s reMask: no bit in any of the 20 
mcScaleReMasks should be set (=1) in a position where the reMask has a zero, and every reMask bit that is set (=1) 21 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      120 
O-RAN.WG4.CUS.0-v07.00 
should have exactly one bit =1 in one of the mcScaleReMasks.  If these rules are violated, the O-RU’s reaction is 1 
undefined.  2 
Value range: {0000 0000 0000b-1111 1111 1111b}. 3 
Type: unsigned integer (bit mask). 4 
Field length: 12 bits. 5 
Default Value: 1111 1111 1111b (all REs in the block applicable). 6 
 7 
5.4.7.5.2 csf (constellation shift flag) 8 
Description: refer to section 5.4.7.4.1 9 
 10 
5.4.7.5.3 mcScaleOffset (scaling value for modulation compression) 11 
Description: This parameter is the scale factor to apply to the unshifted constellation points during decompression.  It is 12 
a fractional floating-point value having an unsigned but negative 4-bit exponent and an unsigned fractional 11-bit 13 
mantissa. 14 
Value range: {0 through +(1-2-11 ) }. 15 
Type: unsigned integer. 16 
"𝑚𝑎𝑛𝑡𝑖𝑠𝑠𝑎"=∑𝑚𝑐𝑆𝑐𝑎𝑙𝑒𝑂𝑓𝑓𝑠𝑒𝑡[𝑘]∙2𝑘−11
10
𝑘=0
 17 
"𝑒𝑥𝑝𝑜𝑛𝑒𝑛𝑡"= ∑ 𝑚𝑐𝑆𝑐𝑎𝑙𝑒𝑂𝑓𝑓𝑠𝑒𝑡[𝑘]∙2𝑘−11
14
𝑘=11
 18 
 19 
“exponent” is the most significant 4 bits of the 15-bit mcScaleOffset field and “mantissa” is the least-significant 11 bits 20 
of the mcScaleOffset field.  “mcScaleOffset[k] refers to the kth bit of the mcScaleOffset field.  Therefore, the actual 21 
value of mcScaleOffset is:  22 
𝑚𝑐𝑆𝑐𝑎𝑙𝑒𝑂𝑓𝑓𝑠𝑒𝑡=𝑚𝑎𝑛𝑡𝑖𝑠𝑠𝑎∙2−𝑒𝑥𝑝𝑜𝑛𝑒𝑛𝑡 23 
Field length: 15 bits. 24 
 25 
5.4.7.6 ExtType=6: Non-contiguous PRB allocation in time and frequency domain 26 
This section extension applies only to Section Types 1, 3 and 5. 27 
This section extension enables allocation of non-contiguous sets of PRBs (Resource Block Groups, or RBGs) in 28 
frequency and time domain. This will reduce significantly the C-Plane overhead when users or channels are allocated 29 
with non-contiguous sets of PRBs in time and frequency. 30 
If this section extension is present in a section description, then the field startSymbolId in the message header and the 31 
fields rb, symInc, and numSymbol in the section description are not used for identification of symbols and PRBs 32 
referred by the section description (the values of these parameters can be used by other section descriptions in the 33 
message; note that sender may set symInc and numSymbol to any allowed value without restriction to values 34 
corresponding to symbols actually referred by the section description with Section Extension =6).  Sender shall set rb to 35 
the value of zero. Sender shall set startSymbolId to the earliest symbol referred by any of section descriptions in the 36 
message, including, but not limited to, section descriptions with Section Extension =6. The earliest symbol referenced 37 
by a section description with Section Extension =6 is the earliest symbol selected by a set bit in the symbolMask. That 38 
means symbolMask’s bit n, such that n < startSymbolId, must be zero. 39 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      121 
O-RAN.WG4.CUS.0-v07.00 
Usage of this section extension does not affect the operation of user plane. It is noted that a data section in the user 1 
plane is not required to contain a contiguous range of PRBs. By invoking the sectionId multiple times in the user plane, 2 
either within a single message or in different messages, sets of non-contiguous PRBs can be handled. 3 
Note that utilization of the non-contiguous PRB allocation section extension does not put any restriction on utilization 4 
of sections with contiguous PRB utilization except for the general rules of utilization of sections e.g. in the context of 5 
one eAxC, a resource element must be referenced by at most one data section description in the control plane. 6 
In case a control plane section is cited multiple times, then all citations shall allocate same set of PRBs and symbols. 7 
Note that when utilizing this section extension together with Section Type 3 where freqOffset parameter is present, then 8 
freqOffset affects the frequency span for the specific range of PRB numbers. 9 
 10 
Table 5-30: Section Format for Section Extension 6 (non-contiguous PRB allocation in time and frequency) 11 
ef extType = 0x06 1 Octet N 
extLen = 0x02 (2 words) 1 N+1 
repetition rbgSize [2:0] rbgMask [27:24] 1 N+2 
rbgMask [23:16] 1 N+3 
rbgMask[15:8] 1 N+4 
rbgMask[7:0] 1 N+5 
priority[1:0] symbolMask[13:8] 1 N+6 
symbolMask[7:0] 1 N+7 
 12 
 13 
5.4.7.6.1 rbgSize (resource block group size) 14 
Description: This parameter indicates the size in number of PRBs of the resource block groups allocated by the bit 15 
mask. The size of the resource block group to be used by the application shall be taken from the mapping table given in 16 
the Value range field in the rbgMask description below. See rbgMask for special handling of exceptional resource block 17 
groups. 18 
Value range: {000b-111b}. 19 
rbgSize Number of PRBs in resource block 
000b  Reserved 
001b 1 
010b 2 
011b 3 
100b 4 
101b 6 
110b 8 
111b 16 
 20 
Type: unsigned integer. 21 
Field length: 3 bits. 22 
Default Value: 001b. 23 
 24 
5.4.7.6.2 rbgMask (resource block group bit mask) 25 
Description: This parameter is a bit mask where each bit indicates whether a corresponding resource block group is 26 
allocated. If bit n in the mask is set, then the resource block group n is allocated where n can take values in range [0, 27 
lastRbgid] where  28 
lastRbgid = ceiling( (numPrbc + (startPrbc mod rbgSize))/ rbgSize ) - 1. 29 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      122 
O-RAN.WG4.CUS.0-v07.00 
The range of PRBs included in a resource block group is given as follows 1 
Resource block group 0 include PRBs with id in the range [startPrbc, startPrbc+f(0)-1]. 2 
Resource block group n include PRBs with id in the range [startPrbc + f(0) + (n-1)*f(n), startPrbc + f(0) + n*f(n)-1] 3 
where 0 < n < lastRbgid. 4 
Resource block group n = lastRbgid include PRBs with id in the range [startPrbc + numPrbc – f(lastRbgid), startPrbc+ 5 
numPrbc -1]. 6 
Where f(n) gives the number of PRBs included in resource block group n is given as follows: 7 
f(0) = rbgSize – (startPrbc mod rbgSize) 8 
f(n) = rbgSize, where 0<n<lastRbgid. 9 
if (startPrbc + numPrbc) mod rbgsize > 0 then  f(lastRbgid) = (startPrbc + numPrbc) mod rbgSize 10 
else  f(lastRbgid) = rbgSize 11 
Only PRBs within the range defined by startPrbc and numPrbc can be allocated i.e., [startPrbc, startPrbc+numPrbc-1]. 12 
In case numPrbc is zero the PRB range is all PRBs as defined by the eAxC and startPrbc shall be set to zero. 13 
Transmitter shall ensure that rbgMask does not have non-zero bits outside the valid range [0, lastRbgid]; if receiver 14 
detects non-zero bits outside the valid range, those shall be ignored. 15 
Transmitter shall ensure that combinations of startPrbc, numPrbc and rbgSize leading to a value of lastRbgid larger than 16 
27 (number of bits available in the rbgMask field - 1) are never used. Such combinations are invalid and if detected by 17 
the receiver the section shall be ignored. 18 
MSB of rbgMask indicates the highest frequency resource block group. 19 
 20 
Value range: {0000 0000 0000 0000 0000 0000 0000b - 1111 1111 1111 1111 1111 1111 1111b}. 21 
Type: unsigned integer (bit mask). 22 
Field length: 28 bits. 23 
Default Value: 1111 1111 1111 1111 1111 1111 1111b (all resource block groups allocated). 24 
 25 
 26 
Figure 5-9 Resource block group definition example. 27 
 28 
5.4.7.6.3 symbolMask (symbol bit mask) 29 
Description: This parameter is a bit mask where each bit indicates whether the rbgMask applies to a given symbol in 30 
the slot.    If bit n is set then the rbgMask is applied to symbol n, where n has range [0..13].  If no bits are set this 31 
implies the rbgMask may be applied to no RBGs in the slot, in other words there are no RE allocations in the slot (or a 32 
different data section contains the RE allocation for the slot).  If the symbolMask values indicate allocations beyond a 33 
slot boundary, such allocations shall be ignored (e.g. when there are fewer than 14 symbols in a slot). 34 
LSB of symbolMask indicates symbol zero (the first symbol to arrive in a slot). 35 
Value range: {00 0000 0000 0000b-11 1111 1111 1111b}. 36 
Type: unsigned integer (bit mask). 37 
Field length: 14 bits. 38 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      123 
O-RAN.WG4.CUS.0-v07.00 
Default Value: 11 1111 1111 1111b (section repeated in 14 symbols). 1 
 2 
5.4.7.6.4 priority 3 
Description: This parameter is used in conjunction with C-Plane and U-Plane coupling via frequency and time with 4 
priorities (see 5.4.1.2.3). If this coupling method is not used (e.g. O-RU or O-DU do not have corresponding capability) 5 
sender shall send value zero. This parameter is used by O-RU to find the section description with the highest priority 6 
among section descriptions referencing the same RE that are present in one C-Plane message. O-RU restricts the scope 7 
of the search to one C-plane message to avoid beamforming configuration errors that would occur if search would span 8 
multiple messages and one of them was lost. If section extension type #6 is absent, then data section description priority 9 
is zero (this corresponds to the default priority). Within one C-plane message a set of priority values is restricted to up 10 
to two priority values including value zero i.e. {0, +1} or {0, -1}. 11 
Value -2 is reserved and shall not be used by sender. 12 
Value range: {-1, 0, +1}. 13 
Type: signed integer, 2’s complement. 14 
Field length: 2 bits. 15 
Default Value: 0 (normal priority). 16 
5.4.7.6.5 repetition (repetition flag) 17 
Description: This parameter is used to indicate repetition of a highest priority data section inside a C-Plane message. 18 
This is an optional field for O-RU i.e., the O-DU shall populate this flag, however, O-RU can choose to process or 19 
ignore this flag. This field is applicable only when extension type 6 and extension type 19 is used with coupling via 20 
frequency and time with priorities (Optimized) for highest priority section descriptions (since they are repeated across 21 
C-Plane messages). 22 
Value range: {0b=no repetition; 1b=repeated highest priority data section in the C-Plane message}. 23 
Type: binary bit. 24 
Field length: 1 bit 25 
 26 
5.4.7.7 ExtType=7: eAxC Mask Section Extension 27 
This section extension is meant to allow a specific C-Plane message to apply not to just a single eAxC value but to 28 
multiple eAxC values.  The intended use case applies to Section Type 0, wherein the intention is to allow blanking 29 
(designated by Section Type 0) to be indicated for multiple eAxC values e.g., all component carriers.   Table 5-31 30 
shows the section extension format. 31 
Table 5-31 : Section Format for Section Extension 7 (eAxC Mask parameter) 32 
ef extType = 0x07 1 Octet N 
extLen = 0x01 (1 word) 1 N+1 
eAxCmask[15:8] 1 N+2 
eAxCmask[7:0] 1 N+3 
 33 
When a C-Plane message with this Section Extension is received by an O-RU, the O-RU should react as if multiple C-34 
Plane messages were received with all of the eAxC values permitted by the mask.  Note that using the mask, it is 35 
possible the O-RU may assume the C-Plane message content applies to eAxC values that are not intended and are not 36 
used (e.g. if two bits of the mask are set to zero to indicate the message applies to all 3 sectors, there will be a non-37 
existent fourth sector that will be implied too).  In this case there will be no U-Plane data specified for the spurious 38 
eAxC value(s) and the O-RU should not consider this as an error. 39 
Support of this Section Extension is optional: if an O-RU reports a capability excluding support of this Section 40 
Extension, then the O-DU must not employ it, and if the O-DU does not support this section extension, the same effect 41 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      124 
O-RAN.WG4.CUS.0-v07.00 
can be obtained using multiple single-eAxC C-Plane messages so no functionality is lost (though the C-Plane will be 1 
less efficient).  2 
5.4.7.7.1 eAxCmask (eAxC Mask) 3 
Description: This binary mask indicates which eAxC values the C-Plane message applies to.  A “0” bit in the mask 4 
means the specified eAxC bit is “don’t care” while a “1” bit in the mask means the specified eAxC bit should be 5 
considered.  An all-zero eAxCmask means “use this message for all eAxC values” while an all-ones eAxCmask means 6 
“use this message for only the designated eAxC value”.  In the former case (“use this message for all eAxC values”), 7 
the actual eAxC value in the C-Plane message header could be any value because the message would apply to all eAxC 8 
values regardless of the actual value in the C-Plane message.  In the latter case (“use this message for only the 9 
designated eAxC value”) this section extension adds no value because that is the normal operation. 10 
The intended use of the mask is to indicate which sub-field of the eAxC the message applies to.  For example, if a single 11 
sector single band of the O-RU will be blanked for all component carriers, the RU-Port-ID and CC-ID sub-field 12 
portions of the eAxCmask would be all zeros (“use this message for all layers/spatial streams and all component 13 
carriers”) while the other subfield portions of the eAxCmask would be all ones (“use this message for the specific band, 14 
sector, and DU_Port_ID values provided in the eAxC”).  In this way a Section Type 0 message could indicate the 15 
blanking of all component-carriers in a band-sector in a single C-Plane message. 16 
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b}. 17 
Type: unsigned integer (bit mask). 18 
Field length: 16 bits. 19 
Default Value: 1111 1111 1111 1111b (all bits of eAxC are considered). 20 
 21 
5.4.7.8 ExtType=8: Regularization factor 22 
This section extension is for regularizationFactor which is used to generate MU beamforming weight for the scheduled 23 
UEs in a slot. regularizationFactor is the noise variance used for MMSE (Minimum Mean Square Error) computation of 24 
generating MU BFW. The intended use case applies to Section Type 5 for sending regularization factor instead of 25 
sending regularization factor over Section Type 6. 26 
Support of this Section Extension is mandatory for O-RUs supporting Section Type 5 in this version of the 27 
specification. If an O-RU reports a capability excluding support of this Section Extension (O-RUs supporting previous 28 
version of specification or O-RUs not supporting Section Type 5), then the O-DU must not employ it, and if the O-RU 29 
reports a capability including support of this section extension then O-DU supporting this version of specification must 30 
employ this section extension instead Section Type 6 to convey regularization factor.  31 
See Annex J for further description of the regularization factor’s use in UL and DL. 32 
The following table shows the format of this section extension. 33 
Table 5-32 : Section Format for Section Extension 8 (Regularization factor parameter) 34 
ef extType = 0x08 1 Octet N 
extLen = 0x01 (1 word) 1 N+1 
regularizationFactor[15:8] 1 N+2 
regularizationFactor[7:0] 1 N+3 
 35 
5.4.7.8.1 regularizationFactor (regularization Factor) 36 
Description: This parameter provides a regularization factor to support MMSE operation when UE is scheduled, so 37 
related to section type 5. 38 
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b} 39 
Type: unsigned integer. 40 
Field length: 16 bits. 41 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      125 
O-RAN.WG4.CUS.0-v07.00 
 1 
5.4.7.9 ExtType=9: Dynamic Spectrum Sharing parameters 2 
This section extension applies to all section types.  3 
The following table shows the format of this section extension. 4 
Table 5-33 : Section Format for Section Extension 9 (DSS  parameter) 5 
ef extType = 0x09 1 Octet N 
extLen = 0x01 (1 word) 1 N+1 
technology[7:0] 1 N+2 
reserved 1 N+3 
 6 
This section extension is needed to support Dynamic Spectrum Sharing (DSS) operation. O-RU should know if the 7 
information transmitted to the eCPRI interface is LTE or NR in real time. If “technology” = 0, it means LTE support. If 8 
“technology” = 1, it means NR support.  O-RU shall consider that the C-plane message received is for NR, if Section 9 
Extension =9 is not present in the C-plane message for a carrier configured as DSS via the M-plane.  If Section 10 
Extension =9 is received in a C-plane message for a carrier configured as LTE or NR (not DSS), the O-RU shall ignore 11 
the Section Extension 9 and may optionally log the error.  Please see chapter 5.3.6 for more details on methods for DSS 12 
support. 13 
 14 
5.4.7.9.1 technology (interface name) 15 
Description: This parameter indicates if the data transmitted through eCPRI interface is LTE or NR in real time. In this 16 
way, O-RU knows the data format transmitted from O-DU and could decode the associated user data.  17 
Value range: {0000 0000b-1111 1111b} : 18 
• 0000 0000b : LTE support 19 
• 0000 0001b : NR support 20 
• 0000 0010b – 1111 1111b : reserved. 21 
Type: unsigned integer. 22 
Field length: 8 bits. 23 
Default Value: 0000 0000b (LTE). 24 
5.4.7.10 ExtType=10: Section description for group configuration of multiple ports 25 
This section extension applies to section types 1, 3 and 5. C-plane section information for the multiple ports (i.e., layers 26 
or Tx/Rx paths) may be the same except beam IDs or UE IDs in most cell scheduling case. When the multiple ports 27 
share the common section information within O-RU, C-plane sections to be sent via the corresponding ports are merged 28 
into a C-plane section via a specified port using this section extension. M-plane pre-configures to group the ports to be 29 
merged and to specify the port to represent them. The beam ID in the section of the representative port can be 30 
considered an index which indicates a set of multiple beam vectors (beam IDs) each of which applies to the 31 
corresponding port (layer or Tx/Rx path). 32 
Table 5-34 : Section Extension =10 for beamGroupType = 00b or 01b 33 
ef extType = 0x0A 1 Octet N 
extLen = 0x01 (1 word) 1 N+1 
beamGroupType numPortc 1 N+2 
reserved 1 N+3 
 34 
Table 5-35 : Section Extension =10 for beamGroupType = 10b  35 
ef extType = 0x0A 1 Octet N 
extLen  1 N+1 
beamGroupType numPortc 1 N+2 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      126 
O-RAN.WG4.CUS.0-v07.00 
reserved 2nd port beamID[14:8] (or ueID[14:8]) 1 N+3 
2nd port beamID[7:0] (or ueID[7:0]) 1 N+4 
reserved 3rd port beamID[14:8] (or ueID[14:8]) 1 N+5 
3rd port beamID[7:0] (or ueID[7:0]) 1 N+6 
reserved … 1 var 
… 1 var 
reserved (numPortc+1)th port beamID[14:8] (or ueID[14:8]) 1 var 
(numPortc+1)th port beamID[7:0] (or ueID[7:0]) 1 var 
filler to ensure 4-byte boundary var var 
 1 
5.4.7.10.1 beamGroupType 2 
Description: This parameter indicates the type of beam grouping. 3 
Value range: {00b - 11b}. 4 
• 00b (common beam): the beamID in the section header is used as a common beam ID for all the ‘numPortc’ ports 5 
which are grouped by M-plane. This type is not used for Section type 5, and extLen = 0x01.  6 
• 01b (beam matrix indication): the consecutive ‘numPortc’ beamIDs subsequent to the beamID in the section heade7 
r apply to the ‘numPortc’ ports. This type is not used for Section type 5, and extLen = 0x01. 8 
• 10b (beam vector listing): the beamIDs listed in the section extension apply to the ‘numPortc’ ports. The section ex9 
tension should include ‘numPortc’ beam IDs or ueIDs. 10 
• 11b : reserved 11 
Type: unsigned integer. 12 
Field length: 2 bits. 13 
Default Value: 00b (common beam). 14 
 15 
5.4.7.10.2 numPortc 16 
Description: This parameter indicates the number of eAxC ports indicated by the section extension. It can cover up to 17 
64 ports. 18 
Value range: {000000b-111111b}. 00 0000b expresses 64 ports. 19 
Type: unsigned integer. 20 
Field length: 6 bits. 21 
Default Value: 000000b. 22 
 23 
5.4.7.10.3 Interaction with other Section Extensions 24 
Section Extension =10 can be used in all situations when same information is present in section headers and in section 25 
extension headers across multiple eAxC IDs.  26 
Table 5-36 : Section Extension =10 Interactions with other Section Extensions 27 
Section  
Extension Title Interaction with existing Section Extensions 
1 Beamforming 
Weights 
SE1 can be used with Section Extension =10 only if the Beamforming Weights transferred 
using Section Extension =1 are the same for all streams (or layers). In general, the BF 
weight vector will be different per data layer (eAxC) and Section Extension =10 cannot be 
used in conjunction. Once the Beamforming Weights are downloaded, then if the O-DU 
uses same BF vector by addressing Beam Id for a number of slots after the BF Weight is 
downloaded, then in that case, O-DU can use Section Extension 10 to combine multiple C-
plane messages to one single C-plane message using the representative eAxC id.    

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      127 
O-RAN.WG4.CUS.0-v07.00 
2 Beamforming 
Attributes 
Section Extension =2 can be used with Section Extension =10 only if the Beamforming 
Attribute transferred using Section Extension =2is same for all streams (or layers), 
otherwise, Section Extension =2 cannot be used with Section Extension =10. If O-DU uses 
beam attributes downloaded using Section Extension =2 later using beam id, then Section 
Extension =10 can be used to combine multiple C-plane messages to one C-plane message. 
3 DL Precoding 
This Section Extension has different format for different layers (first layer has one set of 
parameters and rest of the layers have different set of parameters). So this Section 
Extension =3 cannot be used with the Section Extension =10. There is a possibility of using 
the Section Extension =10 with layers other than first layer (if the codebook index is same 
for other layers) and also combining Section Extension =3 for all layers in future with some 
changes. This is FSS.  
4 Modulation 
Compression  Section Extension =4 can be used with Section Extension =10 (see 5.5.9). 
5 
Modulation 
Compression 
(Additional) 
 Section Extension =5 can be used with Section Extension =10 (see 5.5.9). 
6 Non-contiguous 
PRB 
Section Extension =6 can be used with the Section Extension =10, if the section 
information of non-contiguous PRB allocation has same pattern for each spatial stream or 
data layer (eAxC). 
7 eAxC Mask Section Extension =7 cannot be used with Section Extension =10 because the use of 
Section Extension =10 includes the functionality of this Section Extension =7. 
8 Regularizatoin 
Factor 
Section Extension =8 can be used with Section Extension =10 only if the regularization 
parameter transferred using Section Extension =8 is the same for all streams (or layers), 
otherwise Section Extension =8 cannot be used with Section Extension =10 
9 DSS Parameters 
Section Extension =9 can be used with Section Extension =10 because all the spatial 
streams or data layers (eAxCs) grouped by Section Extension =10 are used for the same 
technology. 
11 
Flexible 
Beamforming 
Weights 
Section Extension =11 can be used with Section Extension =10 only if the Beamforming 
Weights transferred using Section Extension =11are same for all streams (or layers). In 
general, the BF weight vector will be different per data layer (eAxC) and Section Extension 
=11 cannot be used in conjunction. Once the Beamforming Weights are downloaded, then 
if the O-DU uses same BF vector by addressing Beam Id for a number of slots after the BF 
Weights are downloaded, then in that case, the O-DU can use Section Extension =11 to 
combine multiple C-plane messages to one single C-plane message using the representative 
eAxC id.    
14 Null-layer Info 
If this section extension can be used with Section Extension = 10, extLen in this section 
extension can be enlarged as much as the total number of ueIds transmitted by both section 
header and Section Extension = 10, then this section extension indicates the nulling 
information for whole of the respective scheduled layers. 
 1 
 2 
5.4.7.11 ExtType=11: Flexible Beamforming Weights Extension Type 3 
This section applies to the flexible sending of beamforming weights from the O-DU to the O-RU. This enables the O-4 
DU to provide different beamforming weights for different PRBs within one section to facilitate, e.g. zero-forcing 5 
precoding. The O-DU provides the numBundPrb parameter, which informs the O-RU how many PRBs are bundled 6 
together and share the same beamforming weights. This section extension applies only to section types 1 and 3. 7 
 8 
Table 5-37: Extension Type 11 Data Format (when disableBFWs = 0) 9 
ef extType = 0x0B 1 Octet N 
extLen[15:0] 2 Octet N+1 
disableBFWs RAD reserved (6 bits) 1 Octet N+3 
numBundPrb[7:0] 1 Octet N+4 
bfwCompHdr[7:0] 1 Octet N+5 
bfwCompParam (for PRB bundle 0) var 
 
reserved beamId[14:8] (for PRB bundle 0) 1  
beamId[7:0] (for PRB bundle 0) 1  

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      128 
O-RAN.WG4.CUS.0-v07.00 
bfwI (for TRX 0 and PRB bundle 0) var   
bfwQ (for TRX0 and PRB bundle 0) var   
remaining beamforming weights bfwI and bfwQ up to L TRXs and PRB bundle 0 var   
bfwCompParam (for PRB bundle 1) var 
 
reserved beamId[14:8] (for PRB bundle 1) 1  
beamId[7:0] (for PRB bundle 1) 1  
bfwI (for TRX 0 and PRB bundle 1) var   
bfwQ (for TRX0 and PRB bundle 1) var   
remaining beamforming weights bfwI and bfwQ up to L TRXs and PRB bundle 1 var   
…     
bfwCompParam (for last PRB bundle) var 
 
reserved beamId[14:8] (for last PRB bundle) 1  
beamId[7:0] (for last PRB bundle) 1  
bfwI (for TRX 0 and last PRB bundle) var   
bfwQ (for TRX0 and last PRB bundle) var   
remaining beamforming weights bfwI and bfwQ up to L TRXs and last PRB bundle var   
zero pad to 4-byte boundary var   
 1 
5.4.7.11.1 bfwCompHdr (beamforming weight compression header) 2 
Description: refer to section 5.4.7.1.1 3 
Note that this parameter defines the compression method and IQ bit width for the beamforming weights in the specific 4 
section in the C-Plane message. For the block compression methods, the block size is the vector of beamforming 5 
weights for a specific PRB bundle.  6 
5.4.7.11.2 bfwCompParam for PRB bundle x (beamforming weight compression parameter) 7 
Description: refer to section 5.4.7.1.2 8 
Note that this parameter applies to the following vector of beamforming weights for a specific PRB bundle (i.e., bundle 9 
x). 10 
5.4.7.11.3 numBundPrb (Number of bundled PRBs per beamforming weights) 11 
Description: This parameter is the number of bundled PRBs per beamforming weight sets. The number of 12 
beamforming weight sets per TRX in section extension type 11 should be equal to the total number of PRBs selected by 13 
section description in the C-plane message (using startPrbc and numPrbc and other parameters present in other section 14 
extensions present in the section description) divided by numBundPrb. When the division outcome is fractional value, 15 
one additional beamforming weight for each respective TRX is included to cover the orphan PRBs. The value zero is 16 
reserved. 17 
Value range: {all zeros – all ones}. 18 
Type: unsigned integer. 19 
Field length: 8 bits. 20 
5.4.7.11.4 bfwI (beamforming weight in-phase value) 21 
Description: This parameter is the In-phase beamforming weight value. The total number of weights in the section 22 
depends on the number TRX at the RU and the number of bundled PRBs per beamforming weight 23 
Value range: {all zeros – all ones}. 24 
Type: signed integer. 25 
Field length: 1-16 bits. 26 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      129 
O-RAN.WG4.CUS.0-v07.00 
5.4.7.11.5 bfwQ (beamforming weight quadrature value) 1 
Description: This parameter is the Quadrature beamforming weight value. The total number of weights in the section 2 
depends on the number TRX at the RU and the number of bundled PRBs per beamforming weight 3 
Value range: {all zeros – all ones}. 4 
Type: signed integer. 5 
Field length: 1-16 bits. 6 
5.4.7.11.6 disableBFWs (disable beamforming weights) 7 
Description: This parameter is used to indicate if beamforming weights under section extension are disabled or not. 8 
The default is that the beamforming weights exist since this is the main objective of the section extension. However, 9 
these can be disabled by setting this parameter to convey only the beamIds. In this case, all bfwI, bfwQ, and 10 
bfwCompParam fields as well as the bfwCompHdr field don’t exist in the section extension (see Table 5-38 below). 11 
Value range: {0b=beamforming weights under section extension exist; 1b=don’t exist}. 12 
Type: binary bit. 13 
Field length: 1 bit. 14 
Default Value: 0b (beamforming weights under section extension exist) 15 
Table 5-38: Extension Type 11 Data Format (when disableBFWs = 1) 16 
ef extType = 0x0B 1 Octet N 
extLen[15:0] 2 Octet N+1 
disableBFWs RAD reserved (6 bits) 1 Octet N+3 
numBundPrb[7:0] 1 Octet N+4 
reserved beamId[14:8] (for PRB bundle 0) 1  
beamId[7:0] (for PRB bundle 0) 1  
reserved beamId[14:8] (for PRB bundle 1) 1  
beamId[7:0] (for PRB bundle 1) 1  
…     
reserved beamId[14:8] (for last PRB bundle) 1  
beamId[7:0] (for last PRB bundle) 1  
zero pad to 4-byte boundary var   
 17 
 18 
5.4.7.11.7 RAD (Reset After PRB Discontinuity) 19 
Description: This parameter is used when section extension =11 is used in conjunction with section extension allowing 20 
non-contiguous frequency allocation (section extensions =6, 12 and 13). In regular cases, where the section parameters 21 
refer to a continuous set of PRBs, the default value should be used, which is RAD = 1. When section extension allowing 22 
non-contiguous frequency allocation is used with section extension =11, this parameter indicates whether the PRB 23 
bundle boundary is reset after discontinuity in the PRB allocation (RAD = 1), or the PRB bundle boundaries are 24 
mapped to the PRBs regardless of the discontinuity (see examples in Section 5.5.4.1). Note if this extension is used with 25 
section extension =13 the discontinuity shall be interpreted as discontinuity in set of frequency ranges from all hops 26 
combined over time (see examples in 5.5.4.3). 27 
Value range: {0b = No reset; 1b = reset) 28 
Type: binary bit 29 
Field length: 1 bit. 30 
Default Value: 1b (Reset after PRB discontinuity) 31 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      130 
O-RAN.WG4.CUS.0-v07.00 
5.4.7.12 ExtType=12: Non-Contiguous PRB Allocation with Frequency Ranges 1 
This section extension applies only to Section Types 1, 3 and 5. It cannot be used with section extension 6 in the same 2 
section description. 3 
This section extension enables allocation of non-contiguous sets of PRBs (Resource Block Groups, or RBGs) in time 4 
domain and frequency domain. This extension reduces the C-Plane overhead when users or channels are allocated with 5 
non-contiguous sets of PRBs in time or frequency. This extension is more space-efficient than Section Extension 6 if 6 
the allocation is continuous in frequency or extends over a frequency span wider than the range defined by rbgMask 7 
size and rbgMaskSize value. 8 
Table 5-39: Section Format for Section Extension 12 (Non-Contiguous PRB Allocation with Frequency Ranges)  9 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
  
ef extType[6:0] = 0x0C 1 Octet N 
extLen  (variable) 1 N+1 
priority[1:0] symbolMask[13:8] 1 N+2 
symbolMask[7:0] 1 N+3 
offStartPrb(1) 1 variable 
numPrb(1) 1 variable 
offStartPrb(2) 1 variable 
numPrb(2) 1 variable 
…     
offStartPrb(R-2) 1 variable 
numPrb(R-2) 1 variable 
offStartPrb(R-1) 1 variable 
numPrb(R-1) 1 variable 
 10 
This extension consists of a fixed part (fields priority and symbolMask) and a variable size part (pairs of offStartPrb(r) 11 
and numPrb(r) for r = 1 … R-1). Note that variable part may be empty allowing to use priority and symbolMask without 12 
overhead. 13 
If this section extension is present in a section description, then the section description is applied to symbols identified 14 
by symbolMask and one or more frequency ranges calculated from startPrbc and numPrbc from the section description 15 
and offStartPrb(r) and numPrb(r) pairs from this extension. 16 
If this section extension is present in a section description, then the field startSymbolId in the message header and the 17 
fields rb, symInc, and numSymbol in the section description are not used for identification of symbols and PRBs 18 
referred by the section description (the values of these parameters can be used by other section descriptions in the 19 
message; note that sender may set symInc and numSymbol to any allowed value without restriction to values 20 
corresponding to symbols actually referred by the section description with Section Extension =12).  Sender shall set rb 21 
to the value of zero. Sender shall set startSymbolId to the earliest symbol referred by any of section descriptions in the 22 
message, including, but not limited to, section descriptions with Section Extension =12. The earliest symbol referenced 23 
by a section description with Section Extension =12 is the earliest symbol selected by a set bit in the symbolMask. That 24 
means symbolMask’s bit n, such that n < startSymbolId, must be zero. 25 
If this section extension is present in a section description, then the section description is applied to one or more PRB 26 
ranges. Specifically, the description is applied to R spectrum fragments identified by pairs startPrb(r) and numPrb(r) for 27 
r = 0, …, R-1 where startPrb(r) values are calculated by recurrence: 28 
startPrb(0) and numPrb(0) are values of section description’s parameter startPrbc and numPrbc; values of 29 
numPrb(1), numPrb(2), … numPrb(R-1) are from the variable part of section description. 30 
startPrb(r) = startPrb(r-1) + numPrb(r-1) + offStartPrb(r) for r = 1, ..., R-1  31 
The description applies to PRB #p if startPrb(r) ≤ p < startPrb(r) + numPrb(r) for any r = 0, ..., R-1. 32 
Number of frequency ranges R is derived from extLen: R = (extLen – 1) * 2 + 1. Note that empty PRB ranges are 33 
allowed e.g. numPrb(r) = 0 can be used to shift the following PRB range beyond limit of 8-bit offset. Similarly, 34 
offStartPrb(r) = 0 can be used to concatenate two PRB ranges and effectively extend range width beyond the limit of 8-35 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      131 
O-RAN.WG4.CUS.0-v07.00 
bit numPrb(r). If the last pair in the extension are present (due to extension size alignment to multiple of 4 bytes) but not 1 
used, then they shall have offStartPrb(R-1) = 0 and numPrb(R-1) = 0. 2 
Usage of this section extension does not affect the operation of user plane. It is noted that a data section in the user 3 
plane is not required to contain a contiguous range of PRBs. By invoking the sectionId multiple times in the user plane, 4 
either within a single message or in different messages, sets of non-contiguous PRBs can be handled. 5 
Note that utilization of the non-contiguous PRB allocation section extension does not put any restriction on utilization 6 
of sections with contiguous PRB utilization except for the general rules of utilization of sections e.g. in context of one 7 
eAxC a resource element must be referenced by at most one data section description in the control plane. 8 
In case a control plane section is cited multiple times with C-plane and U-plane coupling via sectionId then all citations 9 
shall allocate same set of PRBs and symbols. 10 
Note that when utilizing this section extension together with Section Type 3 where freqOffset parameter is present, then 11 
freqOffset affects the frequency span for the specific range of PRB numbers. 12 
5.4.7.12.1 priority (priority of section description) 13 
Description: This parameter has same format and semantics as priority parameter in section extension type 6 (see 14 
chapter 5.4.7.6.4). 15 
5.4.7.12.2 symbolMask (symbol bit mask) 16 
Description: This parameter has same format and semantics as symbolMask parameter in section extension type 6 (see 17 
chapter 5.4.7.6.3). 18 
5.4.7.12.3 offStartPrb(r) (offset of PRB range start) 19 
Description: This parameter indicates the offset to start of the r-th PRB range for r=1, …, R-1.  20 
Value range: 0 ... 255. 21 
Type: unsigned integer. 22 
Field length: 8 bits. 23 
5.4.7.12.4 numPrb(r) (number of PRBs in PRB range) 24 
Description: This parameter indicates the number of PRBs in the r-th PRB range for r=1, …, R-1. 25 
Value range: 0 ... 255. 26 
Type: unsigned integer. 27 
Field length: 8 bits. 28 
5.4.7.13 ExtType=13: PRB Allocation with Frequency Hopping 29 
This section extension applies only to Section Types 1, 3 and 5. 30 
This section extension allows to describe two or more PRB allocations starting at different symbols and different PRB. 31 
It is intended to be used for allocations with intra-slot frequency hopping. This extension significantly reduces the C-32 
Plane overhead when users or channels are allocated with intra-slot frequency hopping. This extension is more space-33 
efficient than the use of several section descriptions. 34 
Table 5-40: Section Format for Section Extension 13 (PRB Allocation with Frequency Hopping)   35 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
  
ef extType[6:0] = 0x0D 1 Octet N 
extLen  (variable) 1 N+1 
reserved[1:0] nextSymbolId(1)[3:0] nextStartPrbc(1)[9:8] 1 N+2 
nextStartPrbc(1)[7:0] 1 N+3 
…   

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      132 
O-RAN.WG4.CUS.0-v07.00 
reserved[1:0] nextSymbolId(R-2)[3:0] nextStartPrbc(R-2)[9:8] 1 variable 
nextStartPrbc(R-2)[7:0] 1 variable 
reserved[1:0] nextSymbolId(R-1)[3:0] nextStartPrbc(R-1)[9:8] 1 variable 
nextStartPrbc(R-1)[7:0] 1 variable 
 1 
This extension is of variable size and conveys list of pairs nextSymbolId(n) and nextStartPrbc(n) for n = 1,…,R-1. 2 
If this section extension is present in a section description, then the section description and all other section extensions 3 
included in it, are interpreted by O-RU as if startPrbc value was changed at specified symbols given in nextSymbolId(n) 4 
to values of nextStartPrbc(n) provided in the extension. Note that the value of numPrbc from the section description 5 
applies to all frequency hops. 6 
Specifically, the description and extensions are interpreted as if startPrbc value was as in nextStartPrbc(n) for symbols 7 
s, where nextSymbolId(n) ≤ s < nextSymbolId(n+1) for n=1 to R-1 and value of nextSymbolId(R) is a value greater by 8 
1 than number of the last symbol addressed by the description. Note nextSymbolId(R) is guard value and does not have 9 
to identify actual symbol. If the section description includes a section extension that provides symbolMask parameters 10 
(section extension #6, #12 and #19) then  nextSymbolId(R) is derived from symbolMask. Otherwise, nextSymbolId(R) 11 
is derived from startSymbolId from the message header and symInc and numSymbol parameters in the section 12 
description and in section descriptions preceding it in the message. Note that startPrbc from the section description 13 
applies to symbols s0 ≤  s < nextSymbolId(1) where s0 is the first symbol addressed by the section description (s0 is 14 
determined by symbolMask if section extension #6, #12 or #19 is present; otherwise s0 is determined by startSymbolId 15 
from the message header and symInc and numSymbol parameters in the section description and in section descriptions 16 
preceding it in the message). The set of symbols where startPrbc or nextStartPrbc(n) applies may be further restricted by 17 
symbolMask if section extension #6, #12 or #19 is also present. 18 
Number of frequency hops R is derived from extLen: R = extLen * 2. If the last pair in the extension are present (due to 19 
extension size alignment to multiple of 4 bytes) but not used, then they shall have values as in the preceding pair (e.g. if 20 
pair R-1 is not used then nextSymbolId(R-1) and nextStartPrbc(R-1) shall be set to nextSymbolId(R-2) and 21 
nextStartPrbc(R-2) respectively). 22 
5.4.7.13.1 nextSymbolId(n) (offset of PRB range start) 23 
Description: This parameter indicates the symbol at which n-th frequency hop occurs for n=1, …, R-1. The value shall 24 
correspond to one of symbols addressed by the section description. Note that: 25 
• if section extension #6, #12 and #19 are not present in the section description then set of symbols addressed by 26 
the description is determined by startSymbolId from the message header and symInc and numSymbol 27 
parameters in the section description and in section descriptions preceding it in the message 28 
• if section extension #6, #12 or #19 is present in the section description then set of symbols addressed by the 29 
description is determined by symbolMask from section extension #6, #12 or #19.  30 
Sender shall ensure values are ordered in increasing order i.e. nextSymbolId(n+1) ≥ nextSymbolId(n). 31 
Sender shall set nextSymbolId(n) to value of nextSymbolId(n-1) and set nextStartPrbc(n) to value of nextStartPrbc(n-1) 32 
if pair (nextSymbolId(n), nextStartPrbc(n)) is used for padding. 33 
Value range: {0000b-1111b}. 34 
Type: unsigned integer. 35 
Field length: 4 bits. 36 
5.4.7.13.2 nextStartPrbc(n) (number of PRBs in PRB range) 37 
Description: This parameter indicates the value to be used instead of startPrbc for the n-th frequency hop for n=1, …, 38 
R-1.  39 
Sender shall set nextSymbolId(n) to value of nextSymbolId(n-1) and set nextStartPrbc(n) to value of nextStartPrbc(n-1) 40 
if pair (nextSymbolId(n), nextStartPrbc(n)) is used for padding. 41 
Value range: {00 0000 0000b-11 1111 1111b}. 42 
Type: unsigned integer. 43 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      133 
O-RAN.WG4.CUS.0-v07.00 
Field length: 10 bits. 1 
5.4.7.14 ExtType= 14: Nulling-layer Info. for ueId-based beamforming 2 
This section extension applies to section types 5. This enables the O-DU to provide layer-by-layer indication, which 3 
denotes that the corresponding ueId is for nulling-layer indication. 4 
The following table shows the format of this section extension. 5 
Table 5-41: Extension Type 14 6 
ef extType = 0x0E 1 Octet N 
extLen = 0x01 (1 word) 1 N+1 
nullLayerInd 1 N+2 
reserved 1 N+3 
 7 
O-RU generates beamforming weights considering all the UeIds, but once the beamforming weight is generated, O-RU 8 
shall set to zero weights for the layer(s) corresponding to those UeIds for which nullLayerInd is set to 0000 0001b. 9 
5.4.7.14.1 nullLayerInd (null layer indication) 10 
Description: This parameter indicates whether the corresponding layer is nulling-layer or not.  11 
Value range: {0000 0000b - 0000 0001b}. 12 
The following mapping shall be used: 13 
0000 0000b = the corresponding ueId is given for actually scheduled layer, no specific operation based on this field is 14 
performed by O-RU. 15 
0000 0001b = The corresponding ueId is given for making beam-nulling dimension, so this layer shall be nulled. No 16 
user data is transmitted for the layer(s) corresponding to the UeId for which nullLayerInd is set to 0000 0001b, i.e. 17 
beamforming weights corresponding to the layer(s) shall be set to zero. 18 
Type: unsigned integer. 19 
Field length: 8 bits. 20 
5.4.7.15 ExtType= 15: Mixed-numerology Info. for ueId-based beamforming 21 
This section extension applies to section types 5 and 6. When this section extension is applied to section type 6, the 22 
value of FFT type in frameStructure and cpLength can be set as ‘0’. 23 
The following table shows the format of this section extension. 24 
Table 5-42: Extension Type 15 25 
ef extType = 0x0F 1 Octet N 
extLen = 0x02 (2 words) 1 N+1 
frameStructure 1 N+2 
freqOffset 3 N+3 
cpLength 2 N+6 
 26 
5.4.7.15.1 frameSturcture (frame structure) 27 
See section 5.4.4.13 for the description of this parameter. 28 
 29 
5.4.7.15.2 freqOffset (frequency offset) 30 
See section 5.4.5.11 for the description of this parameter. 31 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      134 
O-RAN.WG4.CUS.0-v07.00 
 1 
5.4.7.15.3 cpLength (cyclic prefix length) 2 
See section 5.4.4.14 for the description of this parameter. 3 
5.4.7.16 ExtType=16: Section description for antenna mapping in UE channel 4 
information based UL beamforming 5 
This section extension applies to section type 5. The section extension includes bitmask per Rx endpoint to indicate the 6 
antennas to be pre-combined into the Rx endpoint (=eAxC). It can be used together with Section Extension Type 10. In 7 
this case, it has a list of the bitmasks as many the Rx endpoints as used for the section extension type 10. 8 
Table 5-43: Section Extension Type 16 w/o Section Extension Type 10 9 
ef extType = 0x10 1 Octet N 
extLen = 0x03 (3 words) 1 N+1 
antMask [63:0] 8 N+2 
filler to ensure 4-byte boundary var N+10 
 10 
Table 5-44: Section Extension Type 16 with Section Extension Type 10 11 
ef extType = 0x10 1 Octet N 
extLen [7:0] 1 N+1 
antMask (1st Rx eAxC) [63:0] 8 N+2 
antMask (2nd Rx eAxC) [63:0] 8 N+10 
… … … 
antMask (16th Rx eAxC) [63:0] 8 N+122 
filler to ensure 4-byte boundary var N+130 
 12 
5.4.7.16.1 antMask 13 
Description: This parameter indicates the indices of antennas to be pre-combined per Rx endpoint. 14 
Value range: {0x0000 0000 0000 0000 – 0xFFFF FFFF FFFF FFFF}. 15 
Each bit indicates whether the antenna of the corresponding digit is pre -combined or not. The maximum number of 16 
antennas is 64. 17 
Type: unsigned integer. 18 
Field length: 64 bits. 19 
Default Value: 0x0000000000000000 20 
5.4.7.17 ExtType= 17: Section description for indication of user port group 21 
This section extension applies to section extension 10 for beamGroupType=10b following section type 5 and cannot be 22 
used in standalone manner. This section extension provides the number ueIDs of the users scheduled in preceding 23 
section type and section extension messages. A user may have more than one ueIDs (i.e. more than one channel 24 
information, for e.g. if the UE supports Transmit Antenna Switching feature for SRS transmission; by which O-DU can 25 
obtain different channel information corresponding to each of the transmit antennas). When this section extension is 26 
used, two restrictions apply: First, ueIDs of each user are consecutive by exploiting the three reserved bits of ueID[2:0]. 27 
The three reserved bits mean that the maximum number of ueIDs per user is assumed to be 8. Second, in section 28 
extension 10, ueIDs whose three reserved bits are all zero are configured repeatedly as many times as the number of 29 
layers scheduled for the corresponding user. Therefore, the preceding section type and extension messages implicitly 30 
provide the number of scheduled users(=number of different ueIDs) and number of layers of each user(=number of 31 
same ueIDs). Finally, the number of ueIDs associated with each user is informed via the information provided in this 32 
section extension.  33 
Table 5-45: Section Extension Type 17 34 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      135 
O-RAN.WG4.CUS.0-v07.00 
ef extType = 0x11 1 Octet N 
extLen 1 N+1 
numUeID of 1st user numUeID of 2nd user var N+2 
…   
.. numUeID of last user   
filler to ensure 4-byte boundary   
 1 
5.4.7.17.1 numUeID 2 
Description: This parameter indicates the number of ueIDs per user 3 
Value range: {0001b - 1000b}. {1001b - 1111b} are reserved. 4 
Type: unsigned integer. 5 
Field length: 4 bits. 6 
Default Value: 100b (4 ueIDs per user). 7 
5.4.7.18  ExtType=18: Section description for Uplink Transmission Management 8 
This section extension applies to sending of transmission windows information for management of the transmission of 9 
uplink user data from the O-RU. With the two parameters included in this section extension the O-RU shall transmit the 10 
corresponding user data within that time window. The data shall be sent in normal transmission mode or be uniformly 11 
distributed in time depending on value of toT parameter. 12 
Table 5-46: Section Extension Type 18 13 
ef extType = 0x12 1 Octet N 
extLen 1 N+1 
transmissionWindowOffset[15;8] 1 N+2 
transmissionWindowOffset[7:0] 1 N+3 
Reserved transmissionWindowSize[13:8] 1 N+4 
transmissionWindowSize[7:0] 1 N+5 
Reserved toT 1 N+6 
zero pad to 4-byte boundary 1 N+7 
 14 
5.4.7.18.1 transmissionWindowOffset 15 
Description: This parameter indicates the start of the transmission window as an offset to when the transmission 16 
window would have been without this parameter, i.e. (Ta3_max-Ta3_min). The resolution of the parameter is symbols, 17 
where the length in time of a symbol is either as determined via M-plane (when used with message Type 1 and 5) or 18 
according to information in parameter frameStructure (when used with message Type 3) and assuming normal cyclic 19 
prefix. 20 
If numSymbol in the section header is > 1 then the number of different transmission windows will be equal to 21 
numSymbol. The start of each transmission window follows the same procedure as described above for every symbol. 22 
See section 2.5.2.1 for more detailed information about overlapping transmission windows. 23 
If message is used for an eAxC configured for delay-managed traffic, then transmissionWindowOffset value in 24 
combination with the value of transmissionWindowSize shall not result in calculated buffering load that would exceed 25 
the O-RU buffering capacity. See section 2.5.4 for more details. 26 
If message is used for an eAxC configured for non-delay-managed traffic, then transmissionWindowOffset value can 27 
exceed the O-RU buffering capacity. See section 2.5.4 for more details. 28 
Value range: {0 – 65535}. 29 
Type: unsigned integer. 30 
Field length: 16 bits. 31 
Default Value: 0 32 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      136 
O-RAN.WG4.CUS.0-v07.00 
5.4.7.18.2 transmissionWindowSize 1 
Description: This parameter indicates the size of the transmission window in resolution µs. If window size is set to a 2 
value smaller than (ta3_max – ta3_min) the O-RU will if possible, transmit the requested data reliably during that 3 
window size. If not possible due to for instance lack of transmission capability on link caused by other higher 4 
prioritized traffic, then the O-RU will use a default transmission window size of  (ta3_max – ta3_min). 5 
Maximum window size is 10000 µs = 10 ms. 6 
See section 2.5.2.1 for more detailed information about overlapping transmission windows. 7 
If message is used for an eAxC configured for delay-managed traffic, then transmissionWindowSize value in 8 
combination with the value of transmissionWindowOffset shall not result in calculated buffering load that would exceed 9 
the O-RU buffering capacity. 10 
If message is used for an eAxC configured for non-delay-managed traffic, then transmissionWindowSize which is not 11 
affecting O-RU operation shall be set to 0 (zero). See section 2.5.4 for more details. 12 
Value range: {0x0 – 0x2710} 13 
Type: unsigned integer. 14 
Field length: 14 bits. 15 
Default Value: 0x00. 16 
 17 
5.4.7.18.3 Type of Transmission (toT) 18 
Description: This parameter indicates to the O-RU if the associated user plane data should be sent in normal 19 
transmission mode or be transmitted uniformly in time over the transmission window. The O-RU will indicate via the 20 
M-Plane if it supports the possibility to change the type of transmission. If the O-RU does not support this feature, the 21 
O-RU will ignore this parameter. 22 
See section 2.5.2 for more detailed information about uniformly distribution of data. 23 
The value of Type of Transmission shall be set to the same value for all sections that have Section Extension 18 24 
within one C-Plane message. 25 
Value range: {00b – 11b}. 26 
00b = normal transmission mode, data can be distributed in any way the O-RU is implemented to transmit data 27 
01b = uniformly distributed over the transmission window. 28 
10b = Reserved 29 
11b = Reserved 30 
Type: bits. 31 
Field length: 2 bits. 32 
Default Value: 00b 33 
5.4.7.18.4 Interaction with other Section Extensions 34 
The section extension =18 is used when the UL traffic needs to be managed e.g., avoid peaks in the traffic on shared 35 
links between an O-DU and multiple O-RUs. 36 
The table below lists how section extension 18 is used in combination with other section extensions. 37 
Section 
Extension 
Title Interaction with section 
extension 18 
1 Beamforming weights No special handling needed 
2 Beamforming attributes No special handling needed 
3 
DL Precoding 
configuration parameters 
and indications No special handling needed 
4 Modulation compression 
parameters No special handling needed 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      137 
O-RAN.WG4.CUS.0-v07.00 
Section 
Extension 
Title Interaction with section 
extension 18 
5 
Modulation compression 
additional scaling 
parameters No special handling needed 
6 Non-contiguous PRB 
allocation No special handling needed 
7 
Multiple-eAxC 
designation 
The usage of this section extension has the effect that more than one eAxC 
is targeted with one C-plane message. For UL this means that the same 
transmission time and window size will be used for all targeted eAxCs. 
8 Regularization factor No special handling needed 
9 Dynamic spectrum 
sharing parameters No special handling needed 
10 
Multiple ports grouping The usage of this section extension has the effect that more than one eAxC 
is targeted with one C-plane message. For UL this means that the same 
transmission time and window size will be used for all eAxCs. 
11 Flexible BF weights No special handling needed 
12 
Non-contiguous PRB 
allocation with frequency 
ranges No special handling needed 
13 Frequency hopping No special handling needed 
14 
Null-layer information 
for UE-ID-based 
beamforming No special handling needed 
15 
Mixed-numerology 
information for UE-ID-
based beamforming No special handling needed 
16 
Antenna mapping for 
UW channel 
information-based UL 
beamforming No special handling needed 
17 User port group 
indication 
The usage of section extension 17 is always combined with section 
extension 10, same attention as for number 10 is thus applicable. 
 1 
5.4.7.19 ExtType=19: Section Compact multiple port beamforming information 2 
This section extension applies to section types 1 and 3.  This section extension is required for sending compact 3 
beamforming information for multiple antenna ports (the term ‘port’ used henceforth in context of this section extension 4 
refers to logical antenna port). CSI-RS channel will benefit the most from using this extension, considering large number 5 
of CSI-RS ports and multiple CSI resource set.  6 
This section extension is structured into a common section extension header specifying total number of ports, consolidated 7 
symbol bitmask and beamforming weight compression header applicable for all the ports. This is followed by fi elds 8 
describing per port information. Per port fields in the extension specify the location of port using a separate portReMask 9 
and portSymbolMask. The per port section further contains fields to specify per port beamforming information. When 10 
using this fo r CSI -RS one instance of this extension can be used to specify one CSI -RS resource set . For section 11 
description with this extension, reMask in section header is an aggregate of portReMask for all ports specified in Ext-19. 12 
Also, if section description has Ext-19, the beamId in section header shall be ignored. 13 
First instance of this extension shall be used with ‘repetition=0’ and shall contain beamweights/beamIds for all ports in 14 
the range of startPrb and numPrb. When used with highest priority sections, and  the section is repeated,  this extension 15 
can be sent with ‘repetition=1’, in which case, per port fields are excluded from the extension indicating the associated 16 
beamforming information has already been sent to the O -RU. This extension can be used with a ny coupling method. 17 
Interaction with other extensions is present in Table 5-48. 18 
Table 5-47: Section Extension Type 19 19 
0 (msb) 1 2 3 4 5 6 7 (lsb) # of 
bytes 
 
ef extType = 0x13 1 Octet N 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      138 
O-RAN.WG4.CUS.0-v07.00 
extLen[15:0] 2 N+1 
disableBFWs repetition numPortc[5:0] 1 N+3 
priority symbolMask[13:8] 1 N+4 
symbolMask[7:0] 1 N+5 
bfwCompHdr var  
reserved portReMask[11:8] (for port 1) 1  
portReMask[7:0] (for port 1) 1  
reserved portSymbolMask[13:8] (for port 1) 1  
portSymbolMask[7:0] (for port 1) 1  
reserved beamID[14:8] (for port 1) 1  
beamID[7:0] (for port 1) 1  
bfwCompParam (for port 1) var  
bfwI (for port 1 and TRX 0) var  
bfwQ (for port 1 and TRX 0) var  
remaining beamforming weights bfwI and bfwQ up to L TRXs var  
…   
reserved portReMask[11:8] (for last port) 1  
portReMask[7:0] (for last port) 1  
reserved portSymbolMask[13:8] (for last port) 1  
portSymbolMask[7:0] (for last port) 1  
bfwCompParam (for last port) var  
reserved beamID[14:8] (for last port) 1  
beamID[7:0] (for last port) 1  
bfwI (for last port and TRX 0) var  
bfwQ (for last port and TRX 0) var  
remaining beamforming weights bfwI and bfwQ up to L TRXs var  
Zero pad to 4-byte boundary var  
 1 
5.4.7.19.1  disableBFWs (disable beamforming weights) 2 
Description: refer to section 5.4.7.11.6 Note: This parameter as used in ExtType=11 is used to enable/disable sending 3 
beamforming weights as part of this extension. 4 
 5 
5.4.7.19.2  repetition (repeat port info flag) 6 
Description: This parameter is used to indicate repetition of port beamforming information within a C-Plane message 7 
with Ext-19. 8 
(see chapter 5.4.7.6.5). 9 
Value range: {0b=per port info present in the extension; 1b=per port information not present in the extension}. 10 
Type: binary bit. 11 
Field length: 1 bit 12 
5.4.7.19.3  numPortc  13 
Description: refer to section 5.4.7.10.2 14 
Note: For this extension, parameter indicates the number of logical antenna ports for which associated RE information 15 
and beamforming information is contained in this extension. It can cover up to 64 ports. 16 
 17 
5.4.7.19.4  priority (priority of section description)  18 
Description: This parameter has same format and semantics as priority parameter in section extension type 6 (see 19 
chapter 5.4.7.6.4). 20 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      139 
O-RAN.WG4.CUS.0-v07.00 
 1 
5.4.7.19.5  symbolMask (resource symbol bitmask) 2 
Description: This parameter, similar in functionaility to symbolMask in section 5.4.7.6.3, is a consolidated symbol 3 
bitmask of all the ports described in this extension. This parameter applies to all PRBs specified by startPrbc and 4 
numPrbc in the section header containing this extension. If the symbolMask values indicate allocations beyond a slot 5 
boundary, such allocations shall be ignored (e.g. when there are fewer than 14 symbols in a slot). LSB of symbolMask 6 
indicates symbol zero (the first symbol to arrive in a slot). 7 
This parameter in the common part of this extension along with reMask in section header helps the O -RU in optimized 8 
implementation where looping over per port information in the extension is not required for consolidated port 9 
information(which is useful for puncturing low priority sections). Also, for the case where ‘repetition = 1’ in this 10 
extension, and per port information is n ot present in the extension, ‘ symbolMask’ together with ‘reMask (in section 11 
header)’ is sufficient for carrying consolidated port information. 12 
Value range: {00 0000 0000 0001b-11 1111 1111 1111b}. 13 
Type: unsigned integer (bit mask). 14 
Field length: 14 bits. 15 
5.4.7.19.6  bfwCompHdr 16 
Description: refer to section 5.4.7.1.1 17 
If ‘repetition =1’ or ‘disableBFWs=1’ beamforming weights are not present in the extension, and hence ‘bfwComHdr’ 18 
parameter is also not present in the extension header.  19 
5.4.7.19.7  portReMask (RE bitmask per port) 20 
Description: This parameter defines the port Resource Element (RE) mask within a PRB. Each bit set in the 21 
portReMask indicates the RE associated with the port.  MSB indicates the value for the RE of the lowest frequency in a 22 
PRB. 23 
Value range: {0000 0000 0001b-1111 1111 1111b}. 24 
Type: unsigned integer (bit mask). 25 
Field length: 12 bits. 26 
 27 
5.4.7.19.8  portSymbolMask (symbol bitmask per port) 28 
Description: This bitmask specifies the symbols associated with a specific port. It is a subset of symbolMask specified 29 
in Section 5.4.7.19.5.  30 
Value range: {00 0000 0000 0001b-11 1111 1111 1111b}. 31 
Type: unsigned integer (bit mask). 32 
Field length: 14 bits. 33 
 34 
5.4.7.19.9  bfwCompParam (beamforming weight compression parameter) 35 
Description: refer to section 5.4.7.1.2 7  36 
Note: This parameter provides beamforming compression parameters associated with a port. 37 
 38 
5.4.7.19.10  beamId (beam identifier for a port) 39 
Description: refer to section 5.4.5.9 40 
Note: This parameter provides the beamID associated with a port  41 
 42 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      140 
O-RAN.WG4.CUS.0-v07.00 
5.4.7.19.11  bfwI (beamforming weight in-phase value) 1 
Description: refer to section 5.4.7.1.3 2 
 3 
 4 
5.4.7.19.12  bfwQ (beamforming weight quadrature-phase value) 5 
Description: refer to section 5.4.7.1.4 6 
5.4.7.19.13  Interaction with Other Section Extensions 7 
Table 5-48: Section Extension =19 Interactions with other Section Extensions 8 
Section 
Extension Title Interaction with existing Section Extensions 
1 Beamforming Weights 
Section Extension = 1 shall not be used in the same section as Section Extension 
= 19, as Section Extension =19 provides an alternate way of specifying Beam 
Weights. 
2 Beamforming Attributes Section Extension = 2 shall not be used in the same section as Section Extension 
= 19, as Section Extension = 19 provides an alternate way of specifying beams. 
3 DL Precoding Section Extension = 3 is not compatible with Section Extension = 19 and shall not 
be used together in the same section. 
4 Modulation Compression Can be used with Section Extension = 19. 
5 Modulation Compression 
(Additional) Can be used with Section Extension = 19. 
6 Non-Contiguous PRB Section Extension = 6 shall not be used, as Section Extension =19 provides an 
alternate way of specifying priorities and symbol Masks. 
7 eAxC Mask Can be used with Section Extension = 19. 
8 Regularization factor Not applicable as Section Extension = 19 is not intended to be used with Section 
Type 5. 
9 DSS Parameters Can be used with Section Extension = 19. 
10 Group Configuration for 
multiple ports 
Section Extension =19 can be used with Section Extension =10 only if the 
Beamforming Weights transferred using Section Extension =19 are same for all 
streams (or layers). In general, the BF weight vector will be different per data 
layer (eAxC) and Section Extension =19 cannot be used in conjunction. Once the 
Beamforming Weights are downloaded, then if the O-DU uses same BF vector by 
addressing Beam Id for a number of slots after the BF Weights are downloaded, 
then in that case, the O-DU can use Section Extension =19 to combine multiple 
C-plane messages to one single C-plane message using the representative eAxC 
id. 
11 Flexible Beamforming 
Weights 
Section Extension = 11 could be used with Section Extension = 19, for providing 
per port flexible beamforming weights. Section Extension = 19 shall appear 
before Section Extension = 11. There would be one instance of Section Extension 
=11 per port. Beam IDs specified in Section Extension = 19 shall be ignored and 
disableBFWs in section Extension =19 shall be set to ‘1’ to exclude beamweights 
in Section Extension = 19. 
12 
Non-Contiguous PRB 
Allocation with 
Frequency Ranges 
Section Extension = 12 shall not be used, as Section Extension =19 provides an 
alternate way of specifying priorities and symbol Masks. 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      141 
O-RAN.WG4.CUS.0-v07.00 
13 PRB Allocation with 
Frequency Hopping Can be used with Section Extension = 19. 
14 Nulling-Layer Info Not applicable as Section Extension = 19 is not intended to be used with Section 
Type 5. 
15 
Mixed Numerology Info 
for ueId-based 
beamforming 
Not applicable as Section Extension = 19 is not intended to be used with Section 
Type 5. 
16 
Antenna Information in 
UE Channel Information 
based UL beamforming 
Not applicable as Section Extension = 19 is not intended to be used with Section 
Type 5. 
17 Indication of User Port 
group 
Not applicable as Section Extension = 19 is not intended to be used with Section 
Type 5. 
18 Uplink Transmission 
Management Can be used with Section Extension = 19. 
20 Puncturing Extension Can be used with Section Extension = 19. 
 1 
5.4.7.20 ExtType=20: Puncturing Extension 2 
This extension specifies the Puncturing Pattern to be applied to a section. This extension contains a common header with 3 
the number of puncturing patterns, followed by symbolMask, PRB ranges, puncReMask and optionally RBG mask fields 4 
for each puncturing pattern. 5 
O-RU shall process the fields of the puncturing pattern and remove all the ov erlapping REs from the current section 6 
description. For Coupling via Time and Frequency with Priorities (or optimized), Ext-20 is restricted to be used with only 7 
the lower priority section to avoid any ambiguity in application of puncturing patterns.The number of puncturing patterns 8 
in an Ext-20 and the number of highest priority sections in a c-plane message together should be less than “max-highest-9 
priority-sec-per-cplane-message” limits defined in M-plane. 10 
Table 5-49: Section Extension Type 20 11 
0 (msb) 1 2 3 4 5 6 7(lsb) # of 
bytes 
 
ef extType = 0x14 1 Octet N 
extLen[15:0]   2 N+1 
numPuncPatterns[7:0] 1 N+3 
symbolMask[13:6](1) 1 N+4 
symbolMask[5:0](1) startPuncPrb[9:8] (1) 1 N+5 
startPuncPrb[7:0](1) 1 N+6 
numPuncPrb[7:0](1) 1 N+7 
puncReMask[11:4](1) 1 N+8 
puncReMask[3:0](1) rb(1) reserved(1) rbgIncl(1) 1 N+9 
reserved(1) rbgSize[2:0](1) rbgMask[27:24](1) 0-1 var 
rbgMask[23:16](1) 0-1 var 
rbgMask[15:8](1) 0-1 var 
rbgMask[7:0](1) 0-1 var 
…   
symbolMask[13:6](last) 0-1  
symbolMask[5:0](last) startPuncPrb[9:8](last) 0-1  

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      142 
O-RAN.WG4.CUS.0-v07.00 
startPuncPrb[7:0](last) 0-1  
numPuncPrb[7:0](last) 0-1  
puncReMask[11:4](last) 0-1  
puncReMask[3:0](last) rb(last) reserved(last) rbgIncl(last) 0-1  
reserved(last) rbgSize[2:0](last) rbgMask[27:24](last) 0-1  
rbgMask[23:16](last) 0-1  
rbgMask[15:8](last) 0-1  
rbgMask[7:0](last) 0-1  
Zero pad to 4-byte boundary var  
 1 
5.4.7.20.1 numPuncPatterns (number of puncturing pattern) 2 
Description: This parameter is used to indicate total number of puncturing patterns contained within single instance of 3 
this extension. 4 
Value range: {000000b-111111b}.  5 
Type: unsigned integer. 6 
Field length: 8 bits. 7 
 8 
5.4.7.20.2 symbolMask (puncturing pattern symbol mask) 9 
Description: This parameter (also see section 5.4.7.6.3 and 5.4.7.19.8) is a bitmask where each bit indicates the 10 
symbols associated with the puncturing pattern.  A value of ‘1’ indicates that the symbol shall be considered for 11 
puncturing. A value of ‘0’ indicates the symbol need not be considered for puncturing.  12 
Value range: {00 0000 0000 0001b-11 1111 1111 1111b}. 13 
Type: unsigned integer (bit mask).  14 
Field length: 14 bits.  15 
 16 
5.4.7.20.3 startPuncPrb (starting PRB to which one puncturing pattern applies) 17 
Description: This parameter conveys the first PRB of the puncturing pattern. 18 
Value range: {00 0000 000b-11 1111 1111b}. 19 
Type: unsigned integer. 20 
Field length: 10 bits. 21 
 22 
5.4.7.20.4 numPuncPrb (number of contiguous PRBs to which one puncturing pattern applies) 23 
Description: This parameter conveys the number of PRBs of the puncturing pattern 24 
Value range: {0000 0000b-1111 1111b}. 25 
Type: unsigned integer (bit mask). 26 
Field length: 8 bits. 27 
 28 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      143 
O-RAN.WG4.CUS.0-v07.00 
5.4.7.20.5 puncReMask (puncturing pattern RE mask) 1 
Description: This parameter defines the Resource Element (RE) mask of the puncturing pattern within a PRB. Each bit 2 
in the puncReMask indicates the presence/absence of a puncturing RE within a PRB. MSB  indicates the value for the 3 
RE of the lowest frequency in a PRB. 4 
Value range: {0000 0000 0001b-1111 1111 1111b}. 5 
Type: unsigned integer (bit mask). 6 
Field length: 12 bits. 7 
 8 
5.4.7.20.6 rb (resource block indicator) 9 
Description: refer to section 5.4.5.2 10 
Note: This shall not be applicable if rbgIncl flag is set to ‘1’ in this extension 11 
 12 
5.4.7.20.7 rbgIncl (rbg included flag) 13 
Description: This parameter is used to indicate presence/absence of resource block group for the case of non-14 
contiguous PRB allocation. If this flag is set to ‘0’, 2 fields following this parameter i.e. rbgSize and rbgMask are 15 
absent and vice versa. 16 
Value range: {0b=resource block group included; 1b=resource block group not included}. 17 
Type: binary bit. 18 
Field length: 1 bit 19 
 20 
5.4.7.20.8 rbgSize (rbg size) 21 
Description: refer to section 5.4.7.6.1 22 
 23 
5.4.7.20.9 rbgMask (rbg bitmask) 24 
Description: refer to section 5.4.7.6.2 25 
 26 
5.4.7.20.9 Interaction with Other Extensions 27 
Ext 20 is compatible with all other Extensions.  Ext-20 is used to describe the puncturing information of other channels 28 
and their associated sections  on top of the cu rrent section. Whereas, other extensions are used to describe the 29 
Beamforming and Scheduling information of the current section. 30 
 31 
5.5 C-Plane Optimizations 32 
5.5.1 C-Plane Optimization using Section Extension =6 33 
Section Extension =6 is used for non-contiguous PRB allocation in both time and frequency domains. This is realized 34 
by two bitmasks: symbolMask and rbgMask. The first allows to select an arbitrary subset of symbols within a slot. The 35 
second allows to select arbitrary subset of blocks of subcarriers (each block has 12*rbgSize subcarriers) between 36 
startPrbc and startPrbc+numPrbc. The selected set of RE is cross-section of symbols and subcarriers selected by both 37 
masks. This allows to describe a wide range of non-continuous resource allocations with one section description. 38 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      144 
O-RAN.WG4.CUS.0-v07.00 
In addition, O-RU may support optional feature allowing it to interpret a non-zero value priority carried in this section 1 
extension. This is optimization described in chapter 5.5.5.  2 
5.5.2 C-Plane Optimization using Section Extension =7 3 
Material to come. 4 
5.5.3 C-Plane Optimization using Section Extension =10 5 
In general, the O-DU uses unique eAxC ids to address each layer or spatial stream when sending C-plane and U-plane 6 
messages to the O-RU. In many situations, information contained in C-plane messages for the different spatial streams 7 
is the same or similar. For example, a SU MIMO allocation with 8 layers may have same values for startPrbc, 8 
NumPrbc, reMask, and numSymbol in the section header for all 8 C-plane messages, one message per layer. In this 9 
case, Section Extension =10 can be used along with a ‘representative eAxC’ ID (M-plane configured) to reduce C-plane 10 
overhead of sending multiple messages to the overhead of sending one single C-plane message. This is an optional 11 
feature which be taken advantage of by the O-DU if the O-RU capability indicates that the O-RU supports Section 12 
Extension =10. Based on this capability, the O-RU can be configured with a ‘representative eAxC’ ID representing all 8 13 
eAxC IDs in above example. Once a ‘representative eAxC’ id is configured, the O-DU can send one single C-plane 14 
message addressed to the ‘representative eAxC’ ID along with the Section Extension Type 10 instead of 8 C-plane 15 
messages in above example case. Once the O-RU receives a C-plane message addressed to the ‘representative eAxC’ ID 16 
and with Section Extension Type 10, then the O-RU applies this message to all endpoints pointed to by the 17 
‘representative eAxC’ ID whereby performing same operation just like it had received 8 different C-plane messages. 18 
Figure 5-10 below illustrates the example.    19 
 20 
 21 
Figure 5-10 : Operation of Section Extension =10 22 
 23 
5.5.4 C-Plane Optimization using Section Extension =11 24 
Section Extension =11 referes to flexible beamforming weight transmission.  One way to transfer per-PRB 25 
beamforming weights is using Section Extension =1 and creating one section for each PRB. This introduces high 26 
overhead in the form of section headers and section extensions. The objective of Section Extension =11 is to eliminate 27 
this problem by allowing the inclusion of the beamforming weights for multiple PRBs in a single section. 28 
Example use case include zero-forcing beamforming (or similar methods) by using per-PRB channel information to 29 
calculate per-PRB beamforming weights. Specifically, the O-RU sends UL pilots (SRS) to O-DU, which in return 30 
calculates per-PRB beamforming weights in the O-DU, then transfer them to the O-RU. These weights can be updated 31 
every slot, as an example.  32 
Section Extension =11 gives the flexibility of either sending the sets of beamforming weights along with the section 33 
extension beamIds, or only the section extension beamIds (after, obviously, loading the beamforming weights in a 34 
previous time).  35 
Notes: 36 
1. By default, the section beamID will have no meaning if used with section extension 11 and will be neglected 37 
by the O-RU 38 
 39 
10 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      145 
O-RAN.WG4.CUS.0-v07.00 
5.5.4.1 Interaction between Section Extension =11 and Section Extension =6 1 
Section Extension =6 is used for non-contiguous PRB allocation in both time and frequency domains. The main 2 
parameter in Section Extension =6 that is used to identify the PRB groups is rbgSize. On the other hand, numBundPrb 3 
is used in Section Extension =11 to identify the number of bundled PRBs that share the same beamforming weights 4 
vector for L TRXs. Both section extensions can be used together, however, few rules need to be followed: 5 
First case: RAD = 1 6 
1) In principle, numBundPrb may not be the same as rbgSize. 7 
2) For each contiguous set of PRBs as defined under Section Extension =6 (if used), the O-RU starts counting for 8 
the number of bundled PRBs and applying the sets of beamforming weights to PRB bundles in an increasing 9 
order of PRBs. 10 
a. If the last bundled PRB doesn’t coincide with the last RBG in the contiguous set of PRBs, then the 11 
unassigned PRBs (i.e., PRBs with unassigned beamforming weights) will be considered orphan 12 
PRB(s). 13 
3) Orphan PRBs are allocated the following set of beamforming weights (i.e., set after the last set that was 14 
assigned to a regular PRB bundle) although the number of PRBs is less than a PRB bundle. For any set of 15 
PRBs that are not being assigned using Section Extension =6, no beamforming weight sets are assigned. 16 
4) For the following set of contiguous PRBs allocated in the same symbol after the discontinuity, the O-RU will 17 
apply the following set of beamforming weights (starting from the last set of beamforming weights allocated to 18 
the last PRB bundle in the previous contiguous PRB set). 19 
5) The process continues until all the PRBs defined under Section Extension =6 are assigned beamforming weights. 20 
At this point, all the sets of beamforming weights under Section Extension =1100 should have been assigned.  21 
6) Based on the symbol mask, the O-RU applies the same sets of beamforming weights to the corresponding PRB 22 
bundles similar to the first assigned symbol. 23 
 24 
Example 1: RAD = 1b (see Figure 5-11 below) 25 
symbolMask = 10 0001 0001 0000b 26 
rbgSize = 3 27 
numBundPRB = 2 28 
Total number of L beamforming weights set = 7 29 
 30 
 31 
Figure 5-11 : Example for how Section extension 6 interacts with Section Extension =11: Case RAD = 1 32 
 33 
Second case: RAD = 0 34 
In this case, the set of beamforming weights for a given bundle are applied to the PRBs in increasing order regardless of 35 
the discontinuity in the PRBs allocation in Section Extension =6. If the gap in the PRBs allocation is equal to an integer 36 
number of PRB bundles, then no beamforming weights are sent by the O-DU for the PRBs in those gaps.  37 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      146 
O-RAN.WG4.CUS.0-v07.00 
 1 
Example 2: RAD = 0b (see Figure 5-12 below) 2 
symbolMask = 10 0001 0001 0000b 3 
rbgSize = 3 4 
numBundPRB = 10 5 
Total number of L beamforming weights set = 3 6 
 7 
 8 
Figure 5-12 : Example for how Section Extension =6 interacts with Section Extension =11: Case RAD = 0 9 
5.5.4.2 Interaction between Section Extension =11 and Section Extension =12 10 
Section Extension =12 is used for non-contiguous PRB allocation in both time and frequency domains. Section 11 
Extension =11 can be combined with Section Extension =12 in one section description in the same way as how 12 
Extension =11 may be combined with Section Extension =6. That is, description in chapter 5.5.4.2 applies also to 13 
Section Extension =12. See also the examples below. 14 
Example for RAD = 0 15 
symbolMask = 00 0000 0000 0101b 16 
grey rectangles represent unallocated frequency ranges (a single PRB discontinuity starting at PRB 5) 17 
numBundPRB = 3 18 
Total number of L beamforming weights set = 4 19 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      147 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 5-13 : Example for how Section Extension 12 interacts with Section Extension =11: Case RAD = 0  2 
Example for RAD = 1 3 
symbolMask = 00 0000 0000 0101b 4 
grey rectangles represent unallocated frequency ranges (a single PRB discontinuity starting at PRB 5) 5 
numBundPRB = 3 6 
Total number of L beamforming weights set = 4 7 
 8 
Figure 5-14 :  Example for how Section Extension 12 interacts with Section Extension =11: Case RAD = 1 9 
5
6
7
8
9
14
5
6
7
8
9
14
0
PRB Bund 0
Orphan 
PRB Bund 1
1
2
3
4
10
11 PRB Bund 2
Symbol 0
12
13 PRB Bund 3
numBundPrb 
numBundPrb 
numBundPrb 
numBundPrb 
numBundPrb 
0
PRB Bund 0
Orphan 
PRB Bund 1
1
2
3
4
10
11 PRB Bund 2
Symbol 2
12
13 PRB Bund 3
15 15
0
PRB Bund 0
Orphan 
PRB Bund 1
1
2
3
4
5
6
7
8
9
10
11 PRB Bund 2
Symbol 0
12
13
14 Orphan 
PRB Bund 3
numBundPrb 
numBundPrb 
numBundPrb 
numBundPrb 
0
PRB Bund 0
Orphan 
PRB Bund 1
1
2
3
4
5
6
7
8
9
10
11 PRB Bund 2
Symbol 2
12
13
14 Orphan 
PRB Bund 3
15 15

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      148 
O-RAN.WG4.CUS.0-v07.00 
5.5.4.3 Interaction between Section Extension =11 and Section Extension =13 1 
Section Extension =13 is used for non-contiguous PRB allocation with frequency hopping. Section Extension =11 can 2 
be combined with Section Extension =12 in one section description in the same way as how Extension =11 may be 3 
combined with Section Extension =6. That is, description in chapter 5.5.4.2 applies also to Section Extension =12 with 4 
two modifications: 5 
• beamIds and beamforming weights carried by Section Extension =11 are provided for a combined PRB set that 6 
is result of merging PRB sets of all hops. This rule is general and applies to Section Extension =13 combined 7 
with section extensions allowing non-contiguous PRB allocation (section extensions 6 and 12). 8 
• PRB discontinuities are discontinuities of the combined PRB set. 9 
See examples below. 10 
Example for RAD = 0 11 
startSymbolId=0 (and message includes only one section description) 12 
startPrbc=10, numPrbc=5, numSymbol=3 13 
nextStartSymbolId(0)=1, nextStartPrbc(0) = 0,  14 
nextStartSymbolId(1)=2, nextStartPrbc(1) = 7, 15 
grey rectangles represent unallocated frequency ranges  16 
note the combined set of PRB has one discontinuity starting at PRB 5  17 
numBundPRB = 3 18 
Total number of L beamforming weights set = 5 19 
 20 
Figure 5-15 :  Example for how Section Extension 13 interacts with Section Extension =11: Case RAD = 0 21 
Example for RAD = 1 22 
startSymbolId=0 (and message includes only one section description) 23 
startPrbc=10, numPrbc=5, numSymbol=3 24 
nextStartSymbolId(1)=1, nextStartPrbc(1) = 0,  25 
nextStartSymbolId(2)=2, nextStartPrbc(2) = 7, 26 
gray rectangles represent unallocated frequency ranges  27 
note the combined set of PRB has one discontinuity starting at PRB 5  28 
numBundPRB = 3 29 
Total number of L beamforming weights set = 5 30 
 31 
5
6
7
8
9
14
0
1
2
3
4
10
11
Symbol 0
12
13
numBundPrb 
numBundPrb 
numBundPrb 
numBundPrb 
numBundPrb 
15
5
6
7
8
9
14
0
1
2
3
4
10
11
PRB Bund 3
Symbol 2
12
13
15
5
6
7
8
9
14
0
PRB Bund 0
Orphan 
PRB Bund 1
1
2
3
4
10
11
Symbol 1
12
13
15
PRB Bund 3
PRB Bund 4
PRB Bund 2

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      149 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 5-16 :  Example for how Section Extension 13 interacts with Section Extension =11: Case RAD = 1 2 
  3 
Example for RAD = 0 with a non-contiguous PRB allocation using section extension=12  4 
startPrbc=8, numPrbc=2,  5 
nextStartSymbolId(1)=2, nextStartPrbc(1) = 0,  6 
symbolMask= 00 0000 0000 0101b 7 
offStartPrb(1)=4, numPrb(1)=2 8 
gray rectangles represent unallocated frequency ranges 9 
note the combined set of PRB has two discontinuities starting at PRB 2 and PRB 10 10 
numBundPRB = 3 11 
Total number of L beamforming weights set = 5 12 
5
6
7
8
9
14
0
1
2
3
4
10
11
Symbol 0
12
13
numBundPrb 
numBundPrb 
numBundPrb 
numBundPrb 
numBundPrb 
15
5
6
7
8
9
14
0
1
2
3
4
10
11 Orphan 
PRB Bund 3
Symbol 2
12
13
15
5
6
7
8
9
14
0
PRB Bund 0
Orphan 
PRB Bund 1
1
2
3
4
10
11
Symbol 1
12
13
15
PRB Bund 3
Orphan 
PRB Bund 4
PRB Bund 2

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      150 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 5-17 :  Example for how Section Extension 13 and 12 interact with Section Extension =11: Case RAD = 0 2 
 3 
Example for RAD = 1 with a non-contiguous PRB allocation using section extension=12  4 
startPrbc=8, numPrbc=2,  5 
nextStartSymbolId(1)=2, nextStartPrbc(1) = 0,  6 
symbolMask= 00 0000 0000 0101b 7 
offStartPrb(1)=4, numPrb(1)=2 8 
gray rectangles represent unallocated frequency ranges 9 
note the combined set of PRB has two discontinuities starting at PRB 2 and PRB 10 10 
numBundPRB = 3 11 
Total number of L beamforming weights set = 4 12 
 13 
numBundPrb 
5
6
7
8
9
14
0
1
2
3
4
10
11
Symbol 0
12
13
numBundPrb 
numBundPrb 
numBundPrb 
15
5
6
7
8
9
14
0
1
2
3
4
10
11
PRB Bund 1
Symbol 2
12
13
15
PRB Bund 1
PRB Bund 3
PRB Bund 0
16 16
numBundPrb 
PRB Bund 2
PRB Bund 4

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      151 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 5-18 :  Example for how Section Extension 13 and 12 interact with Section Extension =11: Case RAD = 0 2 
 3 
5.5.5 C-Plane Optimization using Section Extension =12 4 
The section extension =12 is useful for PRB allocation non-contiguous in time and frequency domains. The section 5 
extension =12 conveys priority, symbolMask and a variable size list of frequency ranges. For that is more space 6 
efficient than section extension =6 in scenarios where:  7 
PRB allocation is continuous in frequency domain but non-contiguous in time domain (in this case the list of frequency 8 
ranges can be empty)  9 
PRB allocation consists of few continuous fragments of spectrum that are spread over wide frequency span (in this case 10 
size of rbgMask is the factor limiting application of section extension =6). 11 
This optimization cannot be combined with section extension =6 in one section description. 12 
5.5.6 C-Plane Optimization using Section Extension =13 13 
The section extension =13 is useful for PRB allocation with intra-slot frequency hopping. The section extension =13 14 
conveys a variable size list of pairs of parameters indicating a value to be used in place of startPrbc and a time instant 15 
(symbol number) starting from which the startPrbc shall be substituted.  16 
Size of section extension is smaller than size of section description and for that it is more efficient in scenarios where 17 
intra-slot frequency hopping is used.  18 
The section extension =13 can be combined with other section extensions. In such case interpretation of frequency 19 
parameters conveyed by the section description and all section extensions shall be as if value of startPrbc was modified 20 
at time instances according to parameters in section extension =13. 21 
 22 
 23 
numBundPrb 
5
6
7
8
9
14
0
1
2
3
4
10
11
Symbol 0
12
13
numBundPrb 
numBundPrb 
numBundPrb 15
5
6
7
8
9
14
0
1
2
3
4
10
11
PRB Bund 1
Symbol 2
12
13
15
PRB Bund 1
PRB Bund 3
PRB Bund 0
16 16
PRB Bund 2

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      152 
O-RAN.WG4.CUS.0-v07.00 
5.5.7 Coupling via Frequency and Time with Priorities 1 
This optimization uses the coupling mechanism described in 5.4.1.2.3 and allows the reduction of the number of section 2 
descriptions. The coupling mechanism with priorities allows to unambiguously describe beamforming configuration 3 
even if section descriptions overlap (i.e. refer to the same RE) provided they have different priorities. Message size 4 
reduction is achieved by moving beamforming configuration of selected REs (e.g. REs allocated to reference signals) to 5 
a combined section description with a higher priority. With this other section descriptions of lower priority can be 6 
simplified (e.g. details of RE allocation in PRB conveyed in reMask may be simplified by setting reMask to all ones) 7 
and may be combined. Combining section descriptions requires use of coupling mechanism that does not use sectionId. 8 
Note that “higher priority” and “lower priority” are relative e.g. priority 0 is higher than priority -1. 9 
To enable O-RU to decide beamforming of a RE by processing a single C-plane message (this is property of coupling 10 
by sectionId) O-DU shall ensure that each message that has a section description referring to a RE includes the section 11 
description referring to the RE with highest priority. This may result in duplicating a subset of section description in 12 
more than one message but does not result in beamforming configuration ambiguity. Note that “highest priority” is 13 
relative e.g. if a RE is referenced only by section description with priority -1 then this is the section description with the 14 
highest priority. 15 
The following example is simplified (e.g. symbolMask and reMask have less bits than actual fields in a message) to 16 
demonstrate the optimization mechanism and does not reflect a realistic resource allocation. 17 
Initial set of section descriptions (assuming coupling via sectionId): 18 
# sectionId symbolMask startPrbc numPrbc reMask beamId Note 
1 100 0110110 0 4 111111 100 UE1 
2 101 1001000 0 4 110110 100 UE1 
3 101 1001000 0 4 001000 1 Reference signal 
4 101 1001000 0 4 000001 2 Reference signal 
5 200 0110110 4 4 111111 200 UE2 
6 201 1001000 4 4 110110 200 UE2 
7 201 1001000 4 4 001000 1 Reference signal 
8 201 1001000 4 4 000001 2 Reference signal 
9 300 0110110 8 4 111111 300 UE3 
10 301 1001000 8 4 110110 300 UE3 
11 301 1001000 8 4 001000 1 Reference signal 
12 301 1001000 8 4 000001 2 Reference signal 
13 400 0000001 5 2 111111 3 Special channel 
 19 
Optimized set of section descriptions (sectionId value is fixed and not significant): 20 
# priority symbolMask startPrbc numPrbc reMask beamId Note 
1 +1 1001000 0 12 001000 1 Reference signal 
2 +1 1001000 0 12 000001 2 Reference signal 
3 0 1111110 0 4 111111 100 UE1 
4 0 1111110 4 4 111111 200 UE2 
5 0 1111110 8 4 111111 300 UE3 
6 0 0000001 5 2 111111 3 Special channel 
Note that in the optimized set of section descriptions, section descriptions 3, 4, 5 and 6 span over a continuous set of 21 
symbols and have priority 0 (default). They can be represented without section extension type 6.  22 
If optimized set of section descriptions would not fit in one message, then it could be divided into several message as 23 
presented below. Note the split into message is not realistic in order to demonstrate duplication of highest priority 24 
section descriptions.   25 
Message #1: 26 
# priority symbolMask startPrbc numPrbc reMask beamId Note 
1 +1 1001000 0 12 001000 1 Reference signal 
2 +1 1001000 0 12 000001 2 Reference signal 
3 0 1111110 0 4 111111 100 UE1 
4 0 1111110 4 4 111111 200 UE2 
 27 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      153 
O-RAN.WG4.CUS.0-v07.00 
Message #2: 1 
# priority symbolMask startPrbc numPrbc reMask beamId Note 
1 +1 1001000 0 12 001000 1 Reference signal 
2 +1 1001000 0 12 000001 2 Reference signal 
3 0 1111110 8 4 111111 300 UE3 
In this message section descriptions 1 and 2 are duplicated because they are highest priority section descriptions 2 
referring to REs referred by section descriptions in the message (here section description 3). 3 
 4 
Message #3: 5 
# Priority symbolMask startPrbc numPrbc reMask beamId Note 
1 0 0000001 5 2 111111 3 Special channel 
In this message section description 1 is the section description with highest priority and there is no need to duplicate 6 
section descriptions with priority +1. In other words: for every RE referenced from the message the message contains 7 
the highest priority section description referring to the RE.  8 
 9 
5.5.7.1 Coupling via Frequency and Time with Priorities (Optimized) 10 
This coupling method is an optimization over Coupling via Frequency and Time with Priorities to identify duplication of 11 
highest priority section description. W hen highest priority section descriptions are duplicated, it may cause O -RU to 12 
process the duplicated sections multiple times. Depending on the O -RU implementation, this may lead to erroneo us 13 
behavior and/or increased processing. To identify duplication only when ‘coupling via frequency and time with priorities 14 
optimized’ is enabled , O-DU must set each highest priority section to have unique sectionId (Section 5.4.1.2. 4). This 15 
enables O-RU to identify duplicate highest priority section and take any optimized action.  16 
 17 
Using the same example as ‘coupling via frequency and time with priorities’ optimized set of section descriptions with 18 
sectionId column added (sectionId value is fixed to 4095 for lower priority sections whereas highest priority section will 19 
have unique sectionId values in a defined range): 20 
# sectionId priority symbolMask startPrbc numPrbc reMask beamId Note 
1 0 +1 1001000 0 12 001000 1 Reference signal 
2 1 +1 1001000 0 12 000001 2 Reference signal 
3 4095 0 1111110 0 4 111111 100 UE1 
4 4095 0 1111110 4 4 111111 200 UE2 
5 4095 0 1111110 8 4 111111 300 UE3 
6 4095 0 0000001 5 2 111111 3 Special channel 
 21 
As described in similar table above when section description does not fit in one message, the message is divided across 22 
several message where the highest priority section is repeated. 23 
 24 
Message #1: 25 
# sectionId priority symbolMask startPrbc numPrbc reMask beamId Note 
1 0 +1 1001000 0 12 001000 1 Reference signal 
2 1 +1 1001000 0 12 000001 2 Reference signal 
3 4095 0 1111110 0 4 111111 100 UE1 
4 4095 0 1111110 4 4 111111 200 UE2 
In this message highest priority sections are associated with unique sectionIds to be identified by O-RU when same highest 26 
priority sections are duplicated across C-Plane messages. Sections with priority 0 are still assigned 4095 as the sectionId 27 
since they cannot be duplicated. 28 
 29 
Message #2: 30 
# sectionId priority symbolMask startPrbc numPrbc reMask beamId Note 
1 0 +1 1001000 0 12 001000 1 Reference signal 
2 1 +1 1001000 0 12 000001 2 Reference signal 
3 4095 0 1111110 8 4 111111 300 UE3 
Duplicated section descriptions across Message#1 and Message#2 can now be identified by O-RU using sectionId. 31 
 32 
Message #3: 33 
# sectionID Priority symbolMask startPrbc numPrbc reMask beamId Note 
1 4095 0 0000001 5 2 111111 3 Special channel 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      154 
O-RAN.WG4.CUS.0-v07.00 
 1 
5.5.8 U-Plane Operation Without C-Plane 2 
O-RU may support U-plane operation without C-plane. In general, this function can be used for channels with resource 3 
allocation known (at least approximately, see below) during eAxC activation (e.g. PRACH and SRS). If this function is 4 
enabled via M-Plane for given eAxC then for this eAxC C-plane is not used to provide control information. Instead O-5 
RU receives a static control information (resource allocation details and beamforming configuration are set before 6 
activation) via M-Plane. When array carrier operation is enabled O-RU handles U-Plane operation as configured over 7 
M-Plane. For more details see section 6.2.2. 8 
This function can be used also for channels where only approximate resource allocation is known during activation (e.g. 9 
SRS channel reception is scheduled periodically at known interval even if no UE is present). In this case resource 10 
allocation conveyed via M-plane generally would exceed actual resource allocation e.g. O-RU could be configured to 11 
receive channel related IQ data at times when channel could possibly be allocated without reflecting actual, varying 12 
over time allocations. Such approximations generally cause additional UL U-Plane traffic related to unallocated (at 13 
given time) resource elements; note that allocation DL U-Plane traffic is not expected. 14 
This C-plane optimization method is not compatible with any section extensions since C-Plane messages are not used 15 
for selected eAxC. 16 
5.5.9 Modulation Compression with Section Extension Type 10  17 
Section Extension =10 is used for group configuration of multiple ports. Section Extension =4 and Section Extension =5 18 
are used for modulation compression. Extension type 10 can be used together with extension type 4 or 5. When all 19 
parameter values of Section Extension 4 or 5 is same for all eAxC ids, append one single section type 4 or 5 after 20 
section extension type 10. When parameter values are different for all eAxCs, append extension type 4 or 5 for all 21 
eAxCs in sequence based on eAxC order after extension type 10. 22 
If O-RU receives only one extension type 4 or 5 with extension type 10, O-RU applies same parameters to all eAxC ids. 23 
If O-RU receives equal to the number of the eAxC ids grouped, O-RU applies the extension type 4 or 5 in the order of 24 
how eAxC ids are grouped. Any other number of extension type 4 or 5 is an error condition. O-RU knows how many 25 
extension type 4 or 5 will be present based on numPortc parameter in extension type 10. 26 
Example #1: 4 Layers (numPortc=3), beamGroupType=00b or 01b for extension type 10 and all eAxC ids share same 27 
modulation compression parameters. One single extension5 is appended after Section Extension 10 in this case (Section 28 
Extension 5 with two scaler values, modulation compression parameters is used in this example). 29 
Table 5-46 : Section Extension =10 for beamGroupType = 00b or 01b with one single extension 5 30 
0 (msb) 1 2 3 4 5 6 7(lsb) # of 
bytes 
 
ef extType = 0x0A 1 Octet N 
extLen = 0x01 (1 word) 1 N+1 
beamGroupType numPortc=3 1 N+2 
reserved 1 N+3 
ef extType = 0x05 1 N+4 
extLen = 0x3 (3 words) 1 N+5 
mcScaleReMask[11:4] 1 N+6 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+7 
mcScaleOffset [11:4] 1 N+8 
mcScaleOffset [3:0] mcScaleReMask[11:8] 1 N+9 
mcScaleReMask[7:0] 1 N+10 
csf mcScaleOffset [14:8] 1 N+11 
mcScaleOffset [7:0] 1 N+12 
zero padding 1 N+13 
zero padding 1 N+14 
zero padding 1 N+15 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      155 
O-RAN.WG4.CUS.0-v07.00 
Example #2: 4 Layer (numPortc=3), beamGroupType=00b or 01b for extension type 10 and eAxC ids use different 1 
modulation compression parameters. Four Section Extension5’s are appended after Section Extension 10 in this case 2 
(Section Extension 5 with one scaler value, modulation compression parameters is used in this example).  3 
Table 5-47 : Section Extension =10 for beamGroupType = 00b or 01b with multiple extension 5 4 
0 (msb) 1 2 3 4 5 6 7(lsb) # of 
bytes 
 
ef extType = 0x0A 1 Octet N 
extLen = 0x01 (1 word) 1 N+1 
beamGroupType numPortc=3 1 N+2 
reserved 1 N+3 
ef extType = 0x05 1 N+4 
extLen = 0x2 (2 words) 1 N+5 
mcScaleReMask[11:4] 1 N+6 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+7 
mcScaleOffset [11:4] 1 N+8 
mcScaleOffset [3:0] zero padding 1 N+9 
zero padding 1 N+10 
zero padding 1 N+11 
ef extType = 0x05 1 N+12 
extLen = 0x2 (2 words) 1 N+13 
mcScaleReMask[11:4] 1 N+14 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+15 
mcScaleOffset [11:4] 1 N+16 
mcScaleOffset [3:0] zero padding 1 N+17 
zero padding 1 N+18 
zero padding 1 N+19 
ef extType = 0x05 1 N+20 
extLen = 0x2 (2 words) 1 N+21 
mcScaleReMask[11:4] 1 N+22 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+23 
mcScaleOffset [11:4] 1 N+24 
mcScaleOffset [3:0] zero padding 1 N+25 
zero padding 1 N+26 
zero padding 1 N+27 
ef extType = 0x05 1 N+28 
extLen = 0x2 (2 words) 1 N+29 
mcScaleReMask[11:4] 1 N+30 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+31 
mcScaleOffset [11:4] 1 N+32 
mcScaleOffset [3:0] zero padding 1 N+33 
zero padding 1 N+34 
zero padding 1 N+35 
 5 
 6 
Example #3: 4 Layer (numPortc=3), beamGroupType=10b for extension type 10, and all eAxC ids share same 7 
modulation compression parameters. One single extension5 is appended after Section Extension 10 in this case (Section 8 
Extension 5 with two scaler values, modulation compression parameters in this example). 9 
Table 5-48 : Section Extension =10 for beamGroupType = 10b with one single extension 5 10 
0 (msb) 1 2 3 4 5 6 7(lsb) # of 
bytes 
 
ef extType = 0x0A 1 Octet N 
extLen = 0x03 (3words) 1 N+1 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      156 
O-RAN.WG4.CUS.0-v07.00 
beamGroupType numPortc=3 1 N+2 
reserved 2nd port beamID[14:8] (or ueID[14:8]) 1 N+3 
2nd port beamID[7:0] (or ueID[7:0]) 1 N+4 
reserved 3rd port beamID[14:8] (or ueID[14:8]) 1 N+5 
3rd port beamID[7:0] (or ueID[7:0]) 1 N+6 
reserved 4th port beamID[14:8] (or ueID[14:8]) 1 N+7 
4th port beamID[7:0] (or ueID[7:0]) 1 N+8 
zero padding 1 N+9 
zero padding 1 N+10 
zero padding 1 N+11 
ef extType = 0x05 1 N+12 
extLen = 0x3 (3 words) 1 N+13 
mcScaleReMask[11:4] 1 N+14 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+15 
mcScaleOffset [11:4] 1 N+16 
mcScaleOffset [3:0] mcScaleReMask[11:8] 1 N+17 
mcScaleReMask[7:0] 1 N+18 
csf mcScaleOffset [14:8] 1 N+19 
mcScaleOffset [7:0] 1 N+20 
zero padding 1 N+21 
zero padding 1 N+22 
zero padding 1 N+23 
 1 
Example #4: 4 Layer (numPortc=3), beamGroupType=10b for extension type 10, and eAxC ids use different 2 
modulation compression parameters. Four Section Extension5’s are appended after Section Extension 10 in this case 3 
(Section Extension 5 with one scaler value, modulation compression parameters is used in this example). 4 
Table 5-49: Section Extension =10 for beamGroupType = 10b with multiple extension 5 5 
0 (msb) 1 2 3 4 5 6 7(lsb) # of 
bytes 
 
ef extType = 0x0A 1 Octet N 
extLen = 0x03 (3words) 1 N+1 
beamGroupType numPortc=3 1 N+2 
reserved 2nd port beamID[14:8] (or ueID[14:8]) 1 N+3 
2nd port beamID[7:0] (or ueID[7:0]) 1 N+4 
reserved 3rd port beamID[14:8] (or ueID[14:8]) 1 N+5 
3rd port beamID[7:0] (or ueID[7:0]) 1 N+6 
reserved 4th port beamID[14:8] (or ueID[14:8]) 1 N+7 
4th port beamID[7:0] (or ueID[7:0]) 1 N+8 
zero padding 1 N+9 
zero padding 1 N+10 
zero padding 1 N+11 
ef extType = 0x05 1 N+12 
extLen = 0x2 (2 words) 1 N+13 
mcScaleReMask[11:4] 1 N+14 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+15 
mcScaleOffset [11:4] 1 N+16 
mcScaleOffset [3:0] zero padding 1 N+17 
zero padding 1 N+18 
zero padding 1 N+19 
ef extType = 0x05 1 N+20 
extLen = 0x2 (2 words) 1 N+21 
mcScaleReMask[11:4] 1 N+22 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+23 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      157 
O-RAN.WG4.CUS.0-v07.00 
mcScaleOffset [11:4] 1 N+24 
mcScaleOffset [3:0] zero padding 1 N+25 
zero padding 1 N+26 
zero padding 1 N+27 
ef extType = 0x05 1 N+28 
extLen = 0x2 (2 words) 1 N+29 
mcScaleReMask[11:4] 1 N+30 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+31 
mcScaleOffset [11:4] 1 N+32 
mcScaleOffset [3:0] zero padding 1 N+33 
zero padding 1 N+34 
zero padding 1 N+35 
ef extType = 0x05 1 N+36 
extLen = 0x2 (2 words) 1 N+37 
mcScaleReMask[11:4] 1 N+38 
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+39 
mcScaleOffset [11:4] 1 N+40 
mcScaleOffset [3:0] zero padding 1 N+41 
zero padding 1 N+42 
zero padding 1 N+43 
 1 
5.5.10   Optimization with Ext Type = 19  2 
Benefits of Ext 19 can be explained best with a CSI-RS example. Consider a CSI-RS resource with 32 ports, FD-CDM2. 3 
Each port is associated with a separate beam. Up to 16 ports (belonging to one CDM group) can be sent in a single layer 4 
(eAxC). Currently this requires 16 section invocations. Each section invocation is 8 bytes for a total of 128 bytes. 5 
Assuming 4 CSI-RS resources, this amounts to 64 sections and 512 bytes.  6 
When used with Time and Frequency coupling with prior ities, this will result in 64 highest priority sections. 7 
Fragmentation of C-Plane packets further results in duplicating these highest priority sections in every C-plane message, 8 
adding further to the fronthaul load in addition to O-DU and O-RU processing. 9 
With ExtType=19, as opposed to processing up-to 16 section headers per CSI-RS resource, only one section header needs 10 
be processed by the O-RU. Processing highest priority sections for removing overlapping reMask bits becomes lot more 11 
efficient. Rather than accumulating reMasks and symbolMask across 16 high priority sections, the combined reMask and 12 
symbolMask of the entire CSI -RS resource is provided  in one shot via reMask in Section header & symbolMask in 13 
extension. This makes the O -DU, O-RU processing more efficient, especially when dealing with fragmentation of C -14 
plane packets.  15 
Moreover, when repeating highest priority sections, the port information associated with Ext 19 need not be repeated, 16 
leading to significant Fronthaul savings 17 
5.5.11 Optimizations with ExtType=20 18 
This extension is like Coupling Via Frequency and Time with Priorities (see sections 5.4.1.2.3 and 5.5.7), but more 19 
efficient and more widely applicable.  In that approach, if there is C-plane application layer packet fragmentation, each 20 
C-Plane message must contain the highest priority section descriptions referring to any RE that is referred in a message 21 
(see 5.4.1.2.3 item #3). This may lead to a lot of fronthaul and processing overhead.  22 
 23 
Ext-20 optimizes the method of specifying the overlapping RE information (puncturing information) with reduced 24 
fronthaul and processing overhead. This extension contains only th e puncturing information (specified via Resource 25 
Element masks) of the channels without any beamforming information. It further consolidates the puncturing information 26 
of several channels into a single extension. If there is C -plane application layer packe t fragmentation, b eamforming 27 
information needs to be sent only once and only puncturing information (which is compact) needs to be repeated in every 28 
C-plane message.  29 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      158 
O-RAN.WG4.CUS.0-v07.00 
Like Coupling Via Frequency and Time with priorities, using this extension simplifies the section description (e.g. 1 
details of RE allocation in PRB conveyed in reMask may be simplified by setting reMask to all ones). This can 2 
significantly reduce the number of sections required.  3 
 4 
This extension can be used with all coupling methods as describ ed in sections 5.4.1.2, thereby benefiting all coupling 5 
methods with reduced number of sections. 6 
 7 
5.6 O-RUs per endpoint and per C-Plane message limits 8 
This section is introduced to specify details of O-RU processing limits specified by per endpoint limits and per C-Plane 9 
limits. Whether one or both limits apply to the O-RU is based on the O-RUs processing architecture i.e. if the O-RU is 10 
endpoint processing based or has additional per C-Plane processing prior to endpoint processing. 11 
5.6.1 O-RU per endpoint processing limits 12 
When O-RUs processing granularity is endpoint based i.e. processing resources in O-RU to handle CU-Plane messages 13 
are allocated per endpoint, certain limits may be imposed by the O-RU per endpoint e.g. endpoint-section-capacity, 14 
endpoint-beam-capacity, endpoint-prb-capacity. When such limits are imposed by the O-RU, the O-DU shall comply 15 
with the limits, otherwise the stated O-RU capacity may be compromised. 16 
5.6.2 O-RU C-Plane message limits 17 
For O-RUs with per C-Plane message processing limits in addition to per endpoint processing limits, the O-RU can choose 18 
to advertise its limitations on a per C-Plane message basis. O-DU can choose to indicate that if it adheres to the associated 19 
limitations, otherwise the stated O-RU capacity may be c ompromised. The defined limits are the maximum number of 20 
beams and maximum number of highest priority sections within a C-Plane message. Refer Chapter 12.8 of the M-Plane 21 
Specification [7] for details on usage of this feature for various scenarios. 22 
 23 
  24 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      159 
O-RAN.WG4.CUS.0-v07.00 
Chapter 6 U-plane Protocol 1 
6.1 General 2 
6.1.1 U-plane Transport 3 
Either eCPRI or IEEE 1914.3 is used as an encapsulation mechanism for the user-plane messages. Due to the nature of 4 
these messages (very strict delay constraints), it is assumed that message acknowledgements are not possible. Likewise, 5 
different data flows may be used for the User-Plane and Control-Plane messages.  6 
6.1.2 U-plane Data Compression 7 
U-Plane IQ data, (both DL and UL) including user data, PRACH and control channels may be transmitted in 8 
compressed format. There are several envisioned compression methods including an “uncompressed” format. The 9 
method of compression is variable based on sectionId but is constant for every U-Plane data section referenced in a 10 
single C-Plane message.  Likewise, the I and Q bitwidth of the compressed samples is variable based on sectionId but is 11 
constant for every U-Plane data section referenced in a single C-Plane message.  The block compression methods are 12 
performed on Physical Resource Block (PRB) basis (i.e. 12 x Resource Elements per PRB).  More specific details on 13 
the supported compression methods may be found in Annex A. 14 
A static IQ format and compression method, in which case the M-Plane configures the static IQ format (bitwidth) and 15 
compression method, is also defined.  In this case there are four fewer bytes in the U-Plane section header, at the cost of 16 
less flexibility.  For static IQ data format and compression method, there are actually four sets of data formats and 17 
compression methods: for LTE DL, LTE UL, NR DL and NR UL.  This allows the taking advantage of the static format 18 
while still allowing some compression flexibility e.g. allowing modulation compression on the DL (which only applies 19 
to DL) and some other compression method on the UL. 20 
6.1.3 Digital Power Scaling 21 
6.1.3.1 Definition of IQ Power in dBFS 22 
IQ power level in dBFS (dB full scale) is a logarithmic representation of the power level for an IQ sample carried over 23 
the digital interface. IQ power level in dBFS is proportional to logarithm of I²+Q²: 24 
IQ power level [dBFS] = 10·log10( I²+Q² ) - 10·log10(FS) = 10∙log10 (I2+Q2 ) - 10∙log10(FS0∙2-FS_Offset ) 25 
where  26 
-FS_Offset is an M-Plane parameter (value 0 is used if this parameter is not supported by O-RU or not set by O-DU),  27 
FS0 = max(I²) = max(Q²) = max(I²+Q²) with max over all IQ values that can be represented by  IQ data format in U-28 
plane message. Note that actual IQ values that may occur in a U-plane message are restricted by  29 
𝐼2 +𝑄2 ≤𝐹𝑆=𝐹𝑆0 ∙2−𝐹𝑆_𝑂𝑓𝑓𝑠𝑒𝑡. 30 
 31 
For frequency domain IQ data, 0 dBFS is the maximum power level which can be carried by one subcarrier. The 32 
smallest non-zero IQ power level is defined by the interface resolution.  33 
It is expected that an O-RU will normalize any received DL value to its internal representation of full scale so that a 0 34 
dBFS can be properly handled. 35 
Example 1: 36 
FS_Offset=0 37 
I=min I, Q=0 38 
With 9bit mantissa 2’s complement + 4bit exponent compression:  min I = -256·215 = -223 →  39 
FS0=246, FS=FS0∙2FS_Offset=246  40 
0 dBFS  average(I²+Q²) = 246 41 
Interface resolution  1/246  -138.47dBFs 42 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      160 
O-RAN.WG4.CUS.0-v07.00 
Example 2: 1 
FS_Offset=10 2 
I=min I, Q=0 3 
With 14bit mantissa 2’s complement + 4bit exponent compression:  min I = -213·215 = -228 →  4 
FS0=256, FS=FS0•2-FS_Offset=256-10=246 5 
0 dBFS  average(I²+Q²) = 246 6 
Interface resolution  1/246  -138.47dBFs 7 
 8 
6.1.3.2 Definition of Gain over Fronthaul Interface 9 
The gain of an array defines the relation between the levels of a test signal seen at its input and output, also called 10 
digital power scaling. The gain of an array can be calculated from the gain of one element of the array while assuming 11 
all elements have same gain. Figure 6-1 depicts the gain relations between the digital interface and the RF reference 12 
plane to an assumed lossless antenna (i.e., antenna insertion losses are counted as part of the gain in both DL and UL 13 
direction).  14 
 15 
Figure 6-1 : DL and UL Gain over fronthaul interface 16 
Both DL and UL gains in [dB] are described by the following relations 17 
DL gain [dB] = RF output level [dBm] – IQ input level [dBFS]  18 
UL gain [dB] = IQ output level [dBFS] – RF input level [dBm]  19 
Where: 20 
‘RF output level [dBm]’ and ‘RF input level [dBm]’ are RF signal level in dBm at reference plane to an assumed 21 
lossless antenna when the antenna is integrated inside the O-RU, or at TAB connector if antenna is not integrated inside 22 
the O-RU. The rms output power [dBm] is measured per array element as Total Radiated Power TRP (i.e., excluding 23 
any antenna directivity gain). The rms input power [dBm] is measured per array element after including the antenna 24 
directivity gain. Note that the antenna directivity gain results from the array element directivity + 10·log10(number of 25 
elements). Hence, when evaluating the array element gain, the antenna directivity is reduced to the array element 26 
directivity. 27 
‘IQ input level [dBFS]’ and ‘IQ output level [dBFS]’ are 10·log10(average(I²+Q²)) normalized such that 0dBFS is the 28 
maximum nominal (r.m.s.) power level which can be achieved with a constant IQ signal with arbitrary phase (i.e., for 29 
frequency-domain IQ signal for one sub-carrier, constant over time). 30 
In O-RUs supporting beamforming, the actual DL gain and UL gain of the array element can be impacted by the gain 31 
level of beam weight used and which can change dynamically during operation. Such dependency on the beam 32 
pattern shall be excluded when describing any configurable gain or reported gain (as O-RU capability).  33 
For an exact definition of DL and UL gain, the respective input test signals need to be declared by the O-RU vendor; 34 
this is not in scope of this specification. [For information only: This can be e.g., CW signal at carrier center or test 35 
signals/reference signals defined by 3GPP; for DL gain those being defined to test accuracy of the maximum output 36 
power (3GPP TS36.141 section 6.2→ 38.141) and for UL gain those being defined to test absolute accuracy of 37 
Received Interference Power (3GPP TS 36.133 section 10.1.1 → 38.133)].  In Figure 6-2 the details of DL gain are 38 
described. For every tx-array, O-RU reports (as capability) the maximal configurable DL gain of one element of the 39 
array (alternatively the nominal power per tx-array element mapped to 0dBFS). In addition, the O-DU configures over 40 
the M-Plane the DL gain to be used per tx-array element for a certain carrier configuration. 41 
The values for the max configurable DL gain and configured DL gain assume: 42 
O-RU 
digital input to O-RU: IQ power 
levels are measured in dBFS  

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      161 
O-RAN.WG4.CUS.0-v07.00 
• No power loss/gain due to beamforming weights;  1 
• all available DL power can be allocated to one RE in a single eAxC (if dynamic range optimization is used by 2 
configuring non-zero value in M-plane parameter Reference_Level then single RE can have allocated available DL 3 
power less Reference_Level value; see 6.1.3.3); 4 
 5 
 6 
Figure 6-2 : Details of DL Gain 7 
In Figure 6-3 the details of UL gain are described. For every rx-array, O-RU reports (as capability) an UL 8 
gain_correction_range in dB of one element of the array (applicable to all the elements of the array). The 9 
gain_correction_range is signed, has a max and min value, and a step size. In addition, the O-DU configures over the 10 
M-Plane a gain_correction value to be applied for contribution of signal received by array-element to IQ data in eAxC 11 
(for backward compatibility this is configured as a sum of a common gain correction applicable to all eAxCs of given 12 
array carrier and an individual gain correction of each eAxC). The O-RU can then configure its internal UL gain of the 13 
rx-array element for that carrier (rx-array carrier element) if the IQ compression method is configured as static. In case 14 
the compression method is dynamic, the internal gain of the O-RU will be dynamic and depending on compression 15 
information received in realtime over the C-Plane.  16 
The values for the configured UL gain assume: 17 
• No power loss/gain due to beamforming weights. 18 
 19 
digital input to O-RU 
Input IQ power levels are 
measured in dBFS.  For 
Category B O-RU this can 
be generalized as power 
level of IQ resulting from 
decompression 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      162 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 6-3 :  Details of UL Gain 2 
 3 
6.1.3.2.1 DL Gain Guideline 4 
The DL gain of a TX array carrier element must be provided as part of the O-RU carrier set-up procedure.  The 5 
configured (by the O-DU over the M-Plane) DL gain of a TX array carrier element (i.e. “TX array carrier element’’ 6 
refers to the TX array element serving the respective carrier configured on the respective TX array) is defined by 7 
mapping Reference_Level dBFs (see 6.1.3.3) carried over any subcarrier (of the carrier) on the digital interface to the 8 
maximum RMS power the TX array carrier element is supposed to output at the assumed-lossless antenna connector 9 
port (i.e., including all insertion losses). In single-carrier operation, the configured DL gain applies to the carrier.  In 10 
multiple-carrier operation, the configured DL gain should be lower accommodating the number of multiple carriers and 11 
their bandwidths.  It is the responsibility of the O-DU to scale down the level of the signals at the interface and/or set tx-12 
array-carrier gain values to avoid saturation in the O-RU for single or multiple-carrier configurations. 13 
Configured DL_gain [in dB] ~≤ maximum TX power per array element [in dBm] – Reference_Level [in dBFS], valid 14 
for each individual spatial stream served under this TX array carrier element. 15 
NOTE 1: the maximum configured DL gain of a TX array carrier is equivalent to mapping 0dBFs carried over any 16 
subcarrier (of the carrier) on the digital interface to the maximum RMS power the TX array carrier element is supposed 17 
to output + 10·log10 (the number of array elements) – Reference_Level [in dBFS]. 18 
NOTE 2: for a category A O-RU, the tx-array output rms power is measured over 1 polarization 19 
NOTE 3: for a category B O-RU, the tx-array output rms power shall be measured over all polarizations addressed by 20 
the respective precoding operations 21 
NOTE 4: Configured DL_gain [in dB] = target TX carrier power per array element [in dBm] - Reference_Level [in dB] 22 
      where target TX carrier power per array element ≤ maximum TX power per array element. 23 
 24 
6.1.3.2.2 UL Gain Definition 25 
The UL gain or scaling of an rx-array carrier element (i.e. ”rx-array carrier element’’ refers to the rx-array element 26 
serving the respective eAxC configured on the respective rx-array) is defined by mapping -152dBm at the assumed-27 
lossless antenna port to the smallest power level an IQ sample can carry over the digital interface (i.e., average(I²+Q²) = 28 
1) while considering a configured gain_correction value and the IQ compression properties to be used; configured 29 
gain_correction is sum of RX carrier specific gain_correction and eAxC specific gain _correction. In addition, in order 30 
to avoid saturation over the interface when beamforming is used over the rx-array carrier, the largest power level that 31 
digital output of O-RU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      163 
O-RAN.WG4.CUS.0-v07.00 
can be received at the assumed-lossless antenna port by the rx-array carrier element is equivalent to 0dBFS - 1 
10·log10(number of array elements). The configured gain-correction allows to adjust the level of the smallest & largest 2 
receivable power. 3 
The following principles apply: 4 
1. the UL gain of an rx-eAxC is equal to the UL gain of the rx-array carrier element, and contributions to IQ in 5 
the eAxC from all rx-array elements are considered to have the same gain 6 
2. the minimum and maximum power levels that can be received by the rx-eAxC are scaled by +10·log10(number 7 
of array elements) from the respective values of the rx-array carrier element (i.e. when signal is received with 8 
equal levels from all the elements of the rx array meaning no tapering used and all rx elements have same 9 
design properties). In case an rx-array has only one rx-array element, then the scale factor is unity. The reason 10 
behind this principle is to allow applying tapering (beam ID dependent) to an rx-array without impacting the 11 
quality of the IQ data being transferred over the interface (i.e., in a worst case scenario, the signal is received 12 
from only one rx-array element from the rx-array). 13 
3. assumed-lossless antenna port means antenna losses are considered part of the unit under test. 14 
4. the -152dBm is considered as the smallest level that can be measured by a narrow subcarrier of 1.25kHz (i.e., 15 
CW tone) for a system with 3dB of equivalent noise figure and without being impacted by the interface noise 16 
(i.e. 20dB margin considered). 17 
5. Configured_UL_gain [in dB] = Interface resolution [dBFs] - (-152 dBm) + gain_correction [dB]; valid for each 18 
received individual spatial stream (i.e. configured_UL_gain is configured by O-RU and not by the O-DU). 19 
 20 
The UL gain depends on the digital interface resolution (in dBFS) representing the smallest level that can be used. The 21 
interface resolution depends on the compression scheme which can be static or dynamic.  For this reason, when multiple 22 
compression methods or IQ bitwidths are used for data streams received from an rx-array carrier element, the 23 
configured gain must accommodate all the intended compression methods and IQ bitwidths. 24 
For example, when using block floating point compression, the interface resolution is defined as 25 
Interface resolution [dBFs]=−20×log10(2𝑀𝑎𝑛𝑡𝑖𝑠𝑠𝑎𝑏𝑖𝑡𝑠−1 ×22𝐸𝑥𝑝𝑜𝑛𝑒𝑛𝑡−1) 26 
It is assumed that the gain_correction is 0dB by default, unless a different value is needed due to special circumstances 27 
(details beyond the scope of this specification).  28 
The gain_correction is configured as one value per rx array carrier and does not change once an array carrier is 29 
activated. The O-RU applies a configured value of gain_correction regardless of used compression. 30 
Example with rx-array formed by 10 array elements and gain_correction of 0dB: 31 
9bit mantissa 2’s complement + 4bit exponent → Interface resolution=-138.5dBFS 32 
Default UL gain [dB]=-138.5dBFs + 152dBm +0dB =13.5dB 33 
The UL gain and power scaling are summarized in Table 6-1. 34 
Table 6-1 : Example of UL gain and power scaling for an rx array with 10 elements and for block floating point 35 
compression based on 9-bit mantissa and 4-bit exponent 36 
Interface resolution -138.5dBFS rx-array carrier element  Rx-array carrier with 10 elements 
 UL Gain 13.5dB 13.5dB 
Lowest received power level without 
degradation due to interface 
(excluding losses due to beam 
weights) 
-152dBm → -138.5dBFS -142dBm→ -128.5dBFS 
Largest possible received power 
level 
-23.5dBm → -10dBFS -13.5dBm → 0dBFS 
  37 
6.1.3.3 TX Power Budget Guideline for Category A and Category B O-RUs 38 
This section describes a guideline for handling of power budget in a category A and category B O-RU. In general, care 39 
must be taken to avoid exceeding the maximum rms power rating of a tx-array element. 40 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      164 
O-RAN.WG4.CUS.0-v07.00 
In this section, 𝑚a,k  is the maximum rms power rating (in W) of tx-array element k of a tx-array a with K elements. For 1 
simplicity it is assumed all K elements of the array have the same maximum rms power rating (i.e., for every array a 2 
and every 𝑘 and 𝑘´, 𝑚a,k  = 𝑚a,k´). For an O-RU with tx-array a, the maximum rms power rating of tx-array 3 
element shall be reported as read-only parameter. This will be a common value for all array elements of the tx-4 
array a. 5 
NOTE 1: maximum-power-rating can be reported as form of gain when mapped to 0dBFS. 6 
The maximum rms power rating of array can be derived from 𝑚a,k  by scaling linearly with the number of elements K 7 
(i.e., 𝑚a=K·𝑚a,k)  8 
In addition, let 𝑔𝑐,𝑎,𝑘 be the gain (in dB) configured for tx-array element 𝑘 of tx-array 𝑎 for array carrier 𝑐. It is 9 
considered that the configured gain is same to every element (i.e., for every tx-array carrier 𝑐, every tx-array 𝑎 and 10 
every element 𝑘 and 𝑘´, 𝑔𝑐,𝑎,𝑘 = 𝑔𝑐,𝑎,𝑘´). Hence, the O-DU should configure the O-RU by providing a value for 𝑔𝑐,𝑎,𝑘 11 
in parameter ‘gain’ of tx-array-carrier.  12 
The total gain of array carrier c served on array a can be derived from the configured gain 𝑔𝑐,𝑎,𝑘 as:  13 
𝑔𝑐,𝑎 [dB]= 𝑔𝑐,𝑎,𝑘 [dB]+10·log10(K). 14 
Hence, the power p𝑐,𝑎,𝑘 of array carrier c served on tx-array element k of array a can be derived as  15 
p𝑐,𝑎,k [dBm]= 𝑔𝑐,𝑎,𝑘 [dB]+0dBFS. 16 
As a result, the total power of p𝑐,𝑎 of array carrier c served on tx-array a is derived as  17 
p𝑐,𝑎 [dB]= p𝑐,𝑎,𝑘 [dB]+10·log10(K). 18 
Finally, the total power p𝑎.k used on tx-array element k of tx-array a serving all configured carriers is derived as 19 
𝑝𝑎,𝑘 =10∙log10∑10
𝑝𝑐,𝑎,𝑘
10
𝑐
. 20 
In scenarios where a tx-array element k is shared between multiple tx-arrays, the O-DU shall ensure that the 21 
configured gains 𝑔𝑐,𝑎,𝑘 are constrained by: 22 
∑∑10
𝑔𝑐,𝑎,𝑘+𝑅𝑒𝑓𝑒𝑟𝑒𝑛𝑐𝑒_𝐿𝑒𝑣𝑒𝑙𝑐 
10
𝑐𝑎
≤1000∙𝑚𝑘 23 
where 𝑚𝑘 =min
𝑎
(𝑚𝑎,𝑘) and Reference_Levelc (in dB) is the array-carrier specific IQ normalization level optionally 24 
configured via M-plane per array carrier (the value 0 is used if this parameter is not supported by the O-RU or not 25 
configured by the O-DU). The index a spans over every tx-array a that shares array element k and has array carrier 26 
configured. The summing over c includes every array carrier c that is configured for tx-array a.  27 
NOTE 2: in general m𝑎,𝑘 can be different for different values of tx-array a. However, tx-arrays not used in a given 28 
configuration do not contribute to the above constraint. 29 
For every configured array carrier c over a tx-array a, the O-DU shall ensure that the input power levels of all 30 
resource elements used over all eAxCs x are constrained by:   31 
∑∑10
𝑅𝐸𝑛,𝑥,𝑐,𝑎𝑑𝐵𝐹𝑆
10
𝑛𝑥
≤10
𝑅𝑒𝑓𝑒𝑟𝑒𝑛𝑐𝑒_𝐿𝑒𝑣𝑒𝑙𝑐
10   32 
and 33 
𝑅𝐸𝑛,𝑥,𝑐,𝑎
𝑑𝐵𝐹𝑆 ≤0 34 
where  𝑅𝐸𝑛,𝑥,𝑐,𝑎
𝑑𝐵𝐹𝑆  represents input power level in dBFS of an RE n of an eAxC x of array carrier c configured over tx-35 
array a.  Note 𝑅𝐸𝑛,𝑥,𝑐,𝑎
𝑑𝐵𝐹𝑆 =10∙log10(𝐼𝑛,𝑥,𝑐,𝑎
2 +𝑄𝑛,𝑥,𝑐,𝑎
2)−10∙log10(𝐹𝑆0 ∙2−𝐹𝑆_𝑂𝑓𝑓𝑠𝑒𝑡 ) where 𝐼𝑛,𝑥,𝑐,𝑎 and 𝑄𝑛,𝑥,𝑐,𝑎 are 36 
decompressed IQ sample value components, 𝐹𝑆0 and FS_Offset are defined in chapter 6.1.3.1. The summing over x 37 
includes every eAxC x of array carrier c that is used simultaneously in DL on the tx-array a. The summing over n 38 
includes every RE of the eAxC x that is used simultaneously in DL.  39 
When beamforming is used in O-RU, an additional constraint applies to all the beamforming weights to be used for 40 
beamforming in order to ensure that the tx power per tx-array element after the beamforming has well-defined upper 41 
bound and does not exceed the limit of the maximum rms power rating of the tx-array element. To simplify the notation 42 
and cover all beamforming types, i.e. frequency-domain beamforming and time-domain beamforming, any individual 43 
beamforming weight (a complex number multiplier used by O-RU in beamforming operation) is denoted as w. 44 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      165 
O-RAN.WG4.CUS.0-v07.00 
For any beamforming weight w to be used  by O-RU to perform beamforming operations, the entity controlling 1 
the generation of the weight (i.e., O-DU or O-RU) shall ensure that 2 
|𝒘|𝟐 ≤𝟏. 3 
Note that this constraint is applicable to every beamforming weight, used in frequency or time domain. The constraint is 4 
applicable to every explicit or implied beamforming weight applied by O-RU regardless of the source of the 5 
beamforming weight (e.g. received from O-DU, predefined by O-RU, generated by O-RU from beam attributes or from 6 
channel information, etc.). 7 
6.2 Elementary Procedures 8 
6.2.1 IQ Data Transfer procedure 9 
This procedure (an alternative procedure IQ data transfer is described in section 6.2.2) is used to transfer frequency 10 
domain IQ data samples between the O-DU and O-RU. Data is transmitted symbol by symbol as U-Plane messages. 11 
The data-associated control information is typically sent every slot (or for LTE, TTI) in a different data flow with its 12 
own header and encapsulated payload (C-Plane messages). An overview of the logic for transmission of both the data-13 
associated control information and IQ data is depicted in Figure 6-4. 14 
 15 
LegendApplication Layer
Control Info
IQ Data
Control Info 
for SLOT #n
IQ Data
U-Plane IQ Data for SLOT #n
Control Info
IQ Data IQ Data
U-Plane IQ Data for SLOT #n+1
Control InfoControl Info IQ Data IQ Data IQ Data IQ Data
Transport Layer
C-Plane and U-Plane messages are not 
concatenated but are sent in physically 
separate frames
Control infoC-Plane 
header
IP & Ethernet 
Headers
IQ DataU-Plane 
header
IP & Ethernet 
Headers
for a single flow of data, point of view of sender
Control Info 
for SLOT #n+1
 16 
Figure 6-4 : DL IQ data transfer overview 17 
 18 
The IQ transfer procedure is comprised of two types of messages: 19 
• Message containing scheduling and beamforming commands information (i.e. data-associated control)   20 
• Message containing frequency domain IQ samples 21 
The data-associated control information is bundled in messages within a single data flow (albeit possibly in multiple C-22 
Plane messages). However, control information for UL and DL is sent separately (See Figure 6-5).  As shown in the 23 
figure, the C-Plane messages for a given slot and given symbol(s) exchanged between the O-DU and O-RU are 24 
followed by the U-Plane data for that slot and symbol(s), one symbol at a time. U-plane messages are sent by the O-DU 25 
and O-RU in order of the symbol for which they carry IQ data. C-Plane and DL U-Plane messages are sent by the O-26 
DU in advance (see 2.3 for details) such that they arrive at O-RU within a time window that is early enough to leave the 27 
O-RU time to process them. Figure 6-5 shows the case where O-DU sends DL C-Plane message describing symbols 28 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      166 
O-RAN.WG4.CUS.0-v07.00 
#M, M+1,…, N of slot S between “T1a_max_cp_dl” and “T1a_min_cp_dl” before the start of DL symbol #M (the 1 
earliest symbol described by the message). As shown in the figure, the end of receive time window for DL C-Plane 2 
messages describing symbol #M, M+1, …, N of slot S (where M is the earliest symbol described by each of messages) 3 
is by “Tcp_adv_dl” earlier than the end of receive time window for DL U-Plane messages carrying IQ data for symbol 4 
#M. The O-DU sends and O-RU receives DL U-Plane message as per the transmission window and reception window 5 
specified in section 2.3. Similarly, the O-DU sends UL C-Plane messages describing symbols #M, M+1, …, N of slot S 6 
between “T1a_max_cp_ul” and “T1a_min_cp_ul” before the start of the UL symbol #M (the earliest symbol described 7 
by the message). The end of receive time window for UL C-Plane messages describing symbol #M, M+1, …, N (where 8 
M is the earliest symbol described by each of messages) is by “T2a_min_cp_ul” earlier than the start of UL symbol #M. 9 
The O-RU sends and O-DU receives UL U-Plane message as per the transmission window and reception window 10 
specified in section 2.3. For non-PRACH channels the O-RU sends UL U-Plane message carrying IQ data for symbol 11 
#M between “Ta3_min” and “Ta3_max” after the reception of the earliest air interface sample of UL symbol #M (this 12 
corresponds to start of cyclic prefix). For PRACH channels the O-RU sends UL U-Plane messages carrying IQ data for 13 
a repeatable part of PRACH sequence between “Ta3_min” and “Ta3_max” after the reception of the earliest air 14 
interface sample that is necessary to generate the IQ data in the message (this corresponds to the start of the FFT 15 
sampling window). 16 
Also shown in the figure is the fact that there is a certain period of time between the O-RU’s receipt of C-Plane 17 
messages for a symbol and the need for the O-RU to process U-Plane data for that symbol.  In particular, in the DL 18 
there is a period of time, “Tcp_adv_dl” which provides for some number of microseconds for the O-RU to e.g. update 19 
beamforming weights prior to processing the DL data arriving from the O-DU.  In the UL there is a period of time, 20 
“t2a_min_cp_ul” between the O-RU’s receiving the C-Plane messages governing the processing of UL data and the 21 
receipt of UL signals at the O-RU’s antennas.  These time intervals, when combined with network delays and other 22 
processing latencies, result in the RAN’s HARQ loop to be closed allowing feedback in the air interface processing. 23 
 24 
…
min. time the 
O-RU has to 
prepare to 
process DL 
data from the 
O-DU
O-DU
(@ FH interface)
DL C-Plane and DL U-Plane UL C-Plane and UL U-PlaneO-RU
(@ FH interface)
t2a_min_cp_ul
ta3_min
min. time the O-RU 
has to prepare to 
process UL signals 
at the antenna
time
flow
*) A DL C-plane message describing multiple symbols must arrive at O -RU 
at least Tcp_adv_dl before the end of DL U-plane receive window for 
symbol startSymbolId (the earliest symbol described by the message).
**) A UL C-plane message describing multiple symbols must arrive at O -RU 
at least t2a_min_cp_ul before the earliest air interface UL signal sample of 
symbol startSymbolId (the earliest symbol described by the message) 
arrives at O-RU antenna.
Tcp_adv_dl
the end of DL C-plane receive window for symbol #M
the end of DL U-plane receive window for symbol #M
network
delay
the end of UL C-plane receive window for symbol #M
the earliest air interface UL signal sample for symbol #M arrives at O-RU antenna
O-DU
(@ FH interface)
O-RU
(@ FH interface)
time
flow
network
delay
the start of UL U-plane transmit window for symbol #M
messages arrive at RU before the deadline 
by a margin > inaccuracies of timing params.
messages arrive at RU before the deadline 
by a margin > inaccuracies of timing params.
messages arrive at RU before the deadline 
by a margin > inaccuracies of timing params.
network
delay
the start of UL U-plane transmit window for symbol #M+1
the start of UL U-plane transmit window for symbol #N
the end of DL U-plane receive window for symbol #M+1
the end of DL U-plane receive window for symbol #N
…
 25 
Figure 6-5 : C-Plane and U-Plane message transfer procedure (DL & UL shown) 26 
 27 
Regardless of the level of compression, user-plane data may exceed the maximum packet size (e.g., MTU of 1500 Bytes 28 
for regular not Jumbo frames) even in case of one symbol of granularity. Thus, IQ data for each symbol may require 29 
packetization over multiple packets. 30 
User plane messages are sent as resource blocks (“PRBs”) and the data for each PRB shall start on a byte boundary.  If 31 
due to the IQ bit-width being used the natural end of the data in the PRB does not fall on a byte boundary, then zero bits 32 
shall be appended until a byte boundary is reached. 33 
PRACH data is handled similarly, such that the PRACH REs are packaged into 12-RE blocks analogous with data 34 
PRBs.  Each 12-RE block shall be padded with zero bits to end on a byte boundary.  In cases when there is not an even 35 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      167 
O-RAN.WG4.CUS.0-v07.00 
factor of 12 REs in the PRACH data (e.g. 839 PRACH REs), added zero-value REs shall be added to fill out the block 1 
to 12 REs, and then if needed zero-padding will then be appended to reach a byte boundary. 2 
6.2.2 IQ Data Transfer Procedure Without C-Plane 3 
This is a procedure used to transfer frequency domain IQ data samples between the O-DU and O-RU without C-plane 4 
control. In respect to IQ data transfer this procedure follows the rules described in section 6.2.1 with an exception: data-5 
associated control information for selected eAxCs is not transferred in C-Plane messages but configured via M-Plane. 6 
This method is applicable to channels with predictable scheduling (like PRACH or SRS) which do not require changes 7 
of data-associated control information in real-time.  8 
At present this procedure is applicable to eAxCs assigned to receive a subset of uplink signals and channels – 9 
specifically PRACH and SRS (see Section 6.3.5.3 and Section 6.3.5.4): 10 
1) O-DU provides via M-Plane data-associated control information (this consists of scheduling and beamforming 11 
configuration) to O-RU and activates the eAxC. C-plane messages are not sent for this eAxC. 12 
2) O-RU periodically receives uplink radio signal following the configured schedule and sends U-plane messages 13 
containing frequency domain IQ data (as in Section 6.2.1). Note values of fields in U-plane message headers 14 
and data section headers are derived from parameters configured via M-plane as per rules described in M-plane 15 
specification (see [7]). 16 
For more details on parameters that convey scheduling and beamforming configuration and rules for mapping them to 17 
U-plane messages refer to M-Plane specification (see [7]). 18 
 19 
6.3 Elements for the U-plane Protocol 20 
6.3.1 General 21 
U-Plane messages are encapsulated using a two-layered header approach. The first layer consists of an eCPRI or IEEE 22 
1914.3 common header, including fields used to indicate the message type, while the second layer is an application 23 
layer including necessary fields for control and synchronization.  When the optional “little endian byte order” is chosen 24 
via M-plane, the iSample/qSample fields shall use little endian byte order to transmit the complex numbers. Annex D.1 25 
shows little endian byte order format for various I/Q data length. 26 
6.3.2 DL/UL Data 27 
A common frame format is used for U-Plane messages consisting of a transport layer and an application layer. The 28 
application layer is within the transport payload and consists of a common header for time reference, followed by 29 
information and parameters dependent and specific to the Section Type in use. Data from multiple sections of the same 30 
value can be lined up one after another within the payload. To minimize packet rate over the interface, transmitter 31 
should fill messages with as many subsequent sections as possible. Data from sections of different Section Types can be 32 
mixed within a single U-Plane message for a given eAxC when the section types do not have differences in format and 33 
values of user plane application header or format of user plane section header. NOTE: Previous versions of the 34 
specification mandated separate U-plane messages to be used with different section types, this restriction has been 35 
relaxed. Furthermore, whenever necessary, stuffing bits are to be added at the end of a sections after (possibly 36 
compressed) I and Q sample data to achieve 1-Byte alignment.  Note that within a resource block, unless and sReSMask 37 
is included in the udCompParam field, 12 REs are always sent across the interface.  If some REs are meant to be blank 38 
some data (perhaps zero value) must be sent anyway because the U-Plane data parser is expecting exactly 12 complex 39 
RE values per resource block. 40 
 41 
o Transport Layer – see section 3.1.3 42 
o Application Layer 43 
o Section Type “0” Fields (used for indicating idle or guard periods from O-DU to O-RU): 44 
o No U-plane messages are associated with Section Type “0” 45 
o Section Type “1” Fields (used for most Downlink and Uplink physical radio channels): 46 
o Common Header Fields 47 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      168 
O-RAN.WG4.CUS.0-v07.00 
o dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  1 
o payloadVersion (payload version) field: 3 bits 2 
▪ Value = “1” shall be set (1st protocol version for payload and time reference format)  3 
o filterIndex (filter index) field: 4 bits 4 
o frameId (frame identifier) field: 8 bits 5 
o subframeId (subframe identifier) field: 4 bits 6 
o slotID (slot identifier) field: 6 bits 7 
o symbolId (symbol identifier) field: 6 bits 8 
o Section header fields 9 
o sectionID (section identifier) field: 12 bits 10 
o rb (resource block indicator) field: 1 bit 11 
o symInc (symbol number increment command) field: 1 bit 12 
o startPrbu (starting PRB of user plane section) field: 10 bits 13 
o numPrbu (number of contiguous PRBs per data section) field: 8 bits 14 
o udCompHdr (user data compression header) field, not always present: 8 bits 15 
o reserved (reserved for future use) field, only present with udCompHdr: 1 byte 16 
o udCompLen (PRB field length) field, not always present: 16 bits 17 
 18 
o PRB fields 19 
o udCompParam (user data compression parameter) field: 0, 8 or 16 bits 20 
o iSample (in-phase sample) field: 1-16 bits 21 
o qSample (quadrature sample) field: 1-16 bits 22 
o Section Type “3” Fields (used for PRACH and mixed-numerology channels**): 23 
o Timing header, section header and PRB fields same as for Section Type “1” 24 
o Section Type “5” Fields (used for UE scheduling information): 25 
o Timing header, section header and PRB fields same as for Section Type “1”  26 
o Section Type “6” Fields (used for sending channel information for a specific UE ID): 27 
o No U-plane messages are associated with Section Type “6” 28 
**NOTE: Section Type “1” message can also be used for PRACH channel. When Section Type “1” message is used for 29 
PRACH, the UL U-plane processing should apply same rules as a non-PRACH channel in O-RU. 30 
Table 6-2 : IQ data frame format 31 
Section Type 1,3 : DL/UL IQ data msgs 
0  (msb) 1 2 3 4 5 6 7  (lsb) # of 
bytes 
 
transport header, see section 3.1.3 8 Octet 1 
dataDirection payloadVersion filterIndex 1 Octet 9 
frameId 1 Octet 10 
subframeId slotId 1 Octet 11 
slotId symbolid 1 Octet 12 
sectionId 1 Octet 13 
sectionId rb symInc startPrbu 1 Octet 14 
startPrbu 1 Octet 15 
numPrbu 1 Octet 16 
udCompHdr (not always present) 0/1 Octet 17 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      169 
O-RAN.WG4.CUS.0-v07.00 
reserved (not always present) 0/1 Octet 18 
udCompLen (not always present) 0/2 Octet 17/19 
udCompParam (not always present) 0/1/2 Octet 17/19/21 
iSample (1st RE in the PRB) 1* K= 17/19/20/21/23 
qSample (1st RE in the PRB) 1* K+1* 
…   
iSample (12th RE in the PRB) 1* K+22* 
qSample (12st RE in the PRB) 1* K+23* 
udCompParam (not always present) 0/1/2 K+24* 
iSample (1st RE in the PRB) 1* K+24/25/26* 
qSample (1st RE in the PRB) 1* K+25/26/27* 
…   
iSample (12th RE in the PRB) 1* K+46/47/48* 
qSample (12st RE in the PRB) 1* K+47/48/49* 
… 
  
sectionId 1 Octet M 
sectionId rb symInc startPrbu 1 M+1 
startPrbu 1 M+2 
numPrbu 1 M+3 
udCompHdr (not always present) 0/1 M+4 
reserved (not always present) 0/1 M+5 
udCompLen (not always present) 0/2 M+4/6 
udCompParam (not always present) 0/1/2 M+4/6/8 
iSample (1st RE in the PRB) 1* K=M+4/6/7/8/10 
qSample (1st RE in the PRB) 1* K+1* 
…   
iSample (12th RE in the PRB) 1* K+22* 
qSample (12st RE in the PRB) 1* K+23* 
udCompParam (not always present) 0/1/2 K+24* 
iSample (1st RE in the PRB) 1* K+24/25/26* 
qSample (1st RE in the PRB) 1* K+25/26/27* 
…   
iSample (12th RE in the PRB) 1* K+46/47/48* 
qSample (12st RE in the PRB) 1* K+47/48/49* 
shading: yellow is transport header, pink is radio application header, others are repeated sections 1 
*Octet count given if the iqWidth = 8 but other iqWidth values are possible; the octet count assumes all REs are present 2 
which may not be the case when field sReSMask is present in udCompParam. 3 
 4 
6.3.3 UL/DL Data Coding of Information Elements 5 
See section 3.1.3 for transport header information element details. 6 
6.3.3.1 dataDirection (data direction (gNB Tx/Rx)) 7 
See section (5.4.4.1) 8 
6.3.3.2 payloadVersion (payload version) 9 
See section (5.4.4.2) 10 
6.3.3.3 filterIndex (filter index) 11 
See section (5.4.4.3) 12 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      170 
O-RAN.WG4.CUS.0-v07.00 
6.3.3.4 frameId (frame identifier) 1 
See section (5.4.4.4) 2 
frameId in U-plane message shall be set to the frameId value signaled in the corresponding C-plane message. 3 
6.3.3.5 subframeId (subframe identifier) 4 
See section (5.4.4.5) 5 
subframeId in U-plane message shall be set to the subframeId value signaled in the corresponding C-plane message. 6 
6.3.3.6 slotId (slot identifier) 7 
See section (5.4.4.6) 8 
slotId in U-plane message shall be set to the slotId value signaled in the corresponding C-plane message. 9 
6.3.3.7 symbolId (symbol identifier) 10 
Description: This parameter identifies a symbol number within a slot. When a C-plane message describes a single 11 
symbol (or in case of PRACH, a single PRACH repetition), symbolId in the U-plane message for that symbol (or 12 
PRACH repetition) shall be set to the startSymbolId value signaled in the C-plane message. When a C-plane message 13 
describes multiple symbols (or in case of PRACH, multiple PRACH repetitions), symbolId in the U-plane message for 14 
the first symbol (or PRACH repetition) shall be set to the startSymbolId value signaled in the C-plane message. 15 
symbolId in the U-plane message for the subsequent symbols (or PRACH repetitions) are incremented thereon. 16 
Value range: {00 0000b-11 1111b} 17 
Type: unsigned integer. 18 
Field length: 6 bits. 19 
6.3.3.8 sectionId (section identifier) 20 
See section (5.4.5.1) 21 
6.3.3.9 rb (resource block indicator) 22 
See section (5.4.5.2) 23 
6.3.3.10 symInc (symbol number increment command) 24 
See section (5.4.5.3) 25 
6.3.3.11 startPrbu (startingPRB of user plane section) 26 
Description: This parameter is the starting PRB (lowest frequency) of a user plane data section. Values of rb, startPrbu 27 
and numPrbu must ensure that data sections must never overlap: a single PRB (a block of 12 resource elements 28 
consecutive in frequency) may only exist within one data section for a given eAxC.  For one section description in C-29 
Plane message, there may be multiple U-Plane data sections associated with it and requiring defining from which PRB 30 
the contained IQ data are applicable. NOTE: freqOffset parameter conveyed in the corresponding section description 31 
affects the frequency span for specific range of PRB numbers (formulas in chapter 5.4.5.6 apply with startPrbu 32 
replacing startPrbc). Therefore "must never overlap" must consider the value of freqOffset. 33 
In general U-plane data section shall include only PRBs addressed by the corresponding C-plane section descriptions, 34 
but O-RU must be prepared for possibility of lost C-plane or U-plane message. Depending on method of coupling of C-35 
plane and U-plane more specific rules apply. If coupling of C-plane and U-plane via sectionId value is used then values 36 
of rb, startPrbu and numPrbu must ensure only PRBs addressed by section descriptions with the same sectionId as the 37 
user plane data section are present in the user plane data section. If coupling of C-plane and U-plane via frequency and 38 
time (with or without priorities) is used then values of rb, startPrbu and numPrbu must ensure only PRBs addressed by 39 
section descriptions are present in the user plane data section.  40 
Note that due to fragmentation (an application level fragmentation to meet restriction of message size or a 41 
fragmentation of section in frequency, e.g. as a result of presence of section extension type #6 of #12 in a corresponding 42 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      171 
O-RAN.WG4.CUS.0-v07.00 
section description) there may be multiple user plane data sections per a C-plane section description. Presence of rb = 1 1 
(see 5.4.5.2) in C-plane section description requires presence of rb = 1 in user plane data section and does not require 2 
multiple user plane data sections. 3 
Value range: {00 0000 0000b-11 1111 1111b}. 4 
Type: unsigned integer. 5 
Field length: 10 bits. 6 
 7 
6.3.3.12 numPrbu (number of PRBs per user plane section) 8 
Description: This parameter defines the number of PRBs (blocks of 12 resource elements consecutive in frequency) in 9 
the user plane data section. If the parameter rb (see 6.3.3.9) is zero, then the PRBs in the user plane data section must be 10 
consecutive in the frequency. Otherwise the set of PRBs includes only every other PRB in the frequency. Values of rb, 11 
startPrbu and numPrbu must ensure that data sections must never overlap: a single PRB may only exist within one data 12 
section for a given eAxC.  NOTE: freqOffset parameter conveyed in the corresponding section description affects the 13 
frequency span for specific range of PRB numbers (formulas in chapter 5.4.5.6 apply with startPrbu replacing 14 
startPrbc). Therefore "must never overlap" must consider the value of freqOffset. 15 
In general U-plane data section shall include only PRBs addressed by the corresponding C-plane section descriptions, 16 
but O-RU must be prepared for possibility of lost C-plane or U-plane message. Depending on method of coupling of C-17 
plane and U-plane more specific rules apply. 18 
If coupling of C-plane and U-plane via sectionId value is used then values of rb, startPrbu and numPrbu must ensure 19 
only PRBs addressed by C-plane section descriptions with the same sectionId as the user plane data section are present 20 
in the user plane data section. If coupling of C-plane and U-plane via frequency and time (with or without priorities) is 21 
used then values of rb, startPrbu and numPrbu must ensure only PRBs addressed by C-plane section descriptions are 22 
present in the user plane data section.  23 
Note that due to fragmentation (an application level fragmentation to meet restriction of message size or a 24 
fragmentation of section in frequency, e.g. as a result of presence of section extension type #6 of #12 in a corresponding 25 
section description) there may be multiple user plane data sections per a C-plane section description. Presence of rb = 1 26 
(see 5.4.5.2) in C-plane section description implies presence of rb = 1 in user plane data section and does not require 27 
multiple user plane data sections. 28 
Value range: {0000 0001b-1111 1111b, 0000 0000b = all PRBs in the specified SCS and carrier bandwidth }. 29 
 Value 0000 0000b is reserved for NR cases wherein the total number of PRBs may be more than 255, for other cases 30 
a non-zero value of numPrbc must be used. In this case, the sending node shall set the startPrbu value to zero and the 31 
receiving node shall ignore whatever startPrbu value is received and assume it is zero. 32 
Type: unsigned integer. 33 
Field length: 8 bits. 34 
 35 
6.3.3.13 udCompHdr (user data compression header) 36 
Description: This parameter defines the compression method and IQ bit width for the user data in a data section.  This 37 
means that, in the DL at least, each data section can in principle have a different udCompHdr value. In the UL, the O-38 
RU shall copy the received udCompHdr value in the C-plane message to the udCompHdr field in the UL U-plane 39 
message. This C-Plane instruction provides a single udCompHdr value for all data sections defined in the C-Plane 40 
message.  This field is absent from U-Plane messages when the static IQ format and compression method is configured 41 
via the M-Plane.  In this way a single compression method and IQ bit width is provided (per UL and Dl, per LTE and 42 
NR) without adding more overhead to U-Plane messages.  43 
Value range: {0000 0000b-1111 1111b} 44 
Bit allocations 45 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
udIqWidth udCompMeth 1 Octet 1 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      172 
O-RAN.WG4.CUS.0-v07.00 
 1 
Table 6-3 : udIqWidth definition 2 
udIqWidth Bit width of each I and each Q 
0000-1111b 16 for udIqWidth=0, otherwise equals udIqWidth e.g. udIqWidth = 0000b means I and Q are 
each 16 bits wide; 
e.g. udIQWidth = 0001b means I and Q are each 1 bit wide; 
e.g. udIqWidth = 1111b means I and Q are each 15 bits wide 
 3 
Table 6-4 : udCompMeth definition 4 
udCompMeth compression method udIqWidth meaning 
0000b no compression bitwidth of each uncompressed I and Q value 
0001b block floating point (BFP) bitwidth of each I and Q mantissa value 
0010b block scaling bitwidth of each I and Q scaled value 
0011b -law bitwidth of each compressed I and Q value 
0100b modulation compression bitwidth of each compressed I and Q value 
0101b BFP + selective RE sending bitwidth of each compressed I and Q value 
0110b mod-compr + selective RE sending bitwidth of each compressed I and Q value 
0111b – 1111b reserved for future methods depends on the specific compression method 
 5 
Type: unsigned integer (concatenated bit fields). 6 
Field length: 8 bits. 7 
 8 
6.3.3.14 reserved (reserved for future use) 9 
Description: This parameter provides 1 byte for future definition, should be set to all zeros by the sender and ignored 10 
by the receiver.   This field is only present when udCompHdr is present, and is absent when the static IQ format and 11 
compression method is configured via the M-Plane.   12 
Value range: {0000 0000b-1111 1111b}, but shall be set to all zeros. 13 
Type: unsigned integer. 14 
Field length: 8 bits. 15 
 16 
6.3.3.15 udCompParam (user data compression parameter) 17 
Description: This parameter applies to whatever compression method is used for the PRB (configured statically via M-18 
Plane or specified in udCompHdr of the data section containing the PRB). 19 
Value range: {0000 0000b-1111 1111b}. 20 
Bit allocations 21 
udCompMeth 0 (msb) 1 2 3 4 5 6 7 (lsb) compParam 
size 
0000b = no compression absent 0 octets 
0001b = block fl. Point (BFP) reserved (set to all zeros) exponent (unsigned) 1 octet 
0010b = block scaling  
sblockScaler (unsigned, 1 integer bit, 7 fractional bits) 
1 octet 
0011b = -law compBitWidth compShift 1 octet 
0100b = modulation compr. absent 0 octets 
0101 = BFP + selective RE 
sending 
sReSMask[11:8] exponent (unsigned) 1 octet 
sReSMask[7:0] 1 octet 
0110 = mod-compr + selective 
RE sending 
sReSMask[11:8] reserved 1 octet 
sReSMask[7:0] 1 octet 
0111b – 1111b reserved (set to all zeros) ? octets 
Type: variable. 22 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      173 
O-RAN.WG4.CUS.0-v07.00 
Field length: zero for udCompMeth values 0000b and 0100b, 8 bits for udCompMeth values 0001b, 0010b and 0011b, 1 
16 bits for udCompMeth values 0101b and 0110b; other udCompMeth values may imply other lengths but will always 2 
be an integer number of bytes. 3 
 4 
6.3.3.16 iSample (in-phase sample) 5 
Description: This parameter is the In-phase sample value. When the optional “little endian byte order” is chosen via M-6 
plane, refer to Annex D.1 for detail byte order, otherwise see Annex D for example sample formatting. 7 
Value range: {all zeros – all ones}. 8 
Type: signed integer. 9 
Field length: 1-16 bits. 10 
 11 
6.3.3.17 qSample (quadrature sample) 12 
Description: This parameter is the Quadrature sample value. When the optional “little endian byte order” is chosen via 13 
M-plane, refer to Annex D.1 for detail byte order, otherwise see Annex D for example sample formatting. 14 
Value range: {all zeros – all ones}. 15 
Type: signed integer. 16 
Field length: 1-16 bits. 17 
 18 
6.3.3.18 sReSMask (Selective RE Sending Mask) 19 
Description: This parameter defines the IQ usage mask when using the compression methods block floating point + 20 
Selective RE sending or modulation compression + Selective RE sending. IQ-samples in corresponding PRB that are 21 
included in the U-plane message are indicated with bit-value 1b in the mask. IQ-samples that are not included in U-22 
plane message are indicated with the bit-value 0b. The notation of the IQ-samples 1st, 2nd … is according to the same 23 
order as shown in Table 6-2. The most significant bit in this mask is defined as the bit for the highest frequency RE in 24 
the PRB. 25 
Value range: {rrrr 0000 0000 0000b–rrrr 1111 1111 1111b} 26 
Bit allocations:  27 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
reserved (set to all zeros) 12th 11th 10th 9th 1 Octet 1 
8th 7th 6th 5th 4th 3rd 2nd 1st 1 Octet 2 
 28 
Type: unsigned integer 29 
Field length: 2 bytes 30 
 31 
6.3.3.19 udCompLen (PRB field length) 32 
Description: This parameter specifies the total number of octets including padding in the PRB fields up to the end of 33 
current section.  The maximum supported PRB field length is 216-1, but the actual size may be further limited by the 34 
maximum payload size of the underlying transport network.  This field is only present for the following compression 35 
methods: 36 
udCompMeth 0101b = BFP + selective RE sending 37 
udCompMeth 0110b = Modulation compression + selective RE sending 38 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      174 
O-RAN.WG4.CUS.0-v07.00 
Value range: {0000 0000 0000 0010b - 1111 1111 1111 1111b}, 1 
    {0000 0000 0000 0000b, 0000 0000 0000 0001b} Reserved 2 
Type: unsigned integer. 3 
Field length: 16 bits. 4 
NOTE: if an O-RU declares support of the field then udCompLen MUST be included in the U-Plane message (DL and 5 
UL).  If the O-RU does not declare support of this field then this field MUST NOT be included in the U-Plane message.  6 
This ensures backward-compatibility with v03.00 of this Specification. 7 
 8 
6.3.4 DL Data Precoding 9 
• Section extension ‘3’ is used for C-plane and associated sectionID for U-plane 10 
• O-RU must understand that for this section extension, O-RU should read 12 REs which have CRS reference 11 
signals in that PRB.  12 
• O-RU must understand the crsShift and crsReMask field to map appropriately the CRS REs to each antenna 13 
port 14 
Table 6-5 : DL Data Precoding Example 15 
C-plane example 
DL Precoding configuration parameters and 
indications (Section ext “3”) 
O-RU Outcome 
• Section ext = 3  
• txScheme=’txD’ 
• codeBookIndex= ‘00000000’ (invalid) 
• numLayer = 4 
• layerId  = ‘0000’ (TxD) 
• crsReMask= 001001001001 (Assuming 
MSB..LSB)  
• crsSymNum=0000  
• crsShift=0 
• beamIdAP1 
• beamIdAP2 
• beamIdAP3 
• Based on numLayers, crsShift, crsSymNum and 
crsReMask bit positions, CRS ports are mapped to the 
appropriate RE position and rest are left blank. 
CRS (4 
Layer) 
If crsSymNum  crsReMask Bit 
Position 
(crs_Ant0)  0 {0,6} + vShift  
(crs_Ant1) 0 {3,9} + vShift  
 
 
 16 
6.3.5 Data Transfer for Special Cases 17 
6.3.5.1 Data Message Mapping and Packetization 18 
See Section 6.3.2. 19 
6.3.5.2 Uplink Data Transfer 20 
Uplink IQ data transfer is covered in Section 6.3.2.  In particular, PRACH and other common channels as well as SRS 21 
and other reference signal channels use the same frequency domain IQ data packetization as with user data channels 22 
(PDSCH, PUSCH) following the transfer procedure described in Section 6.2.1. Alternatively, PRACH and SRS related 23 
IQ data may be transferred as described in Section 6.3.5.3 and Section 6.3.5.4. 24 
6.3.5.3 PRACH Data Transfer Without C-Plane 25 
In addition to general uplink data transfer (see 6.3.5.2), PRACH related IQ data may be transferred using the IQ data 26 
transfer procedure without C-plane (see Section 6.2.2). In this case parameters controlling signal reception and sending 27 
U-plane messages are provided via M-plane. Refer to “Static PRACH” in M-Plane specification (see [7]) for description 28 
of M-plane parameters and rules for sending U-plane messages and interpretation of fields in U-plane messages. 29 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      175 
O-RAN.WG4.CUS.0-v07.00 
6.3.5.4 SRS Data Transfer Without C-Plane 1 
In addition to the general uplink data transfer (see 6.3.5.2), SRS related IQ data may be transferred with IQ data transfer 2 
procedure without C-plane (see Section 6.2.2). In this case parameters controlling signal reception and sending U-plane 3 
messages are provided via M-plane. Refer to “Static SRS” in M-Plane specification (see [7]) for description of M-plane 4 
parameters and rules for sending U-plane messages. 5 
  6 
6.4 U-Plane Optimizations 7 
6.4.1 Coupling via Frequency and Time 8 
Coupling between C-Plane section descriptions and U-Plane data sections via frequency and time (for more details see 9 
chapter 5.4.1.2.2) is mode of operation enabled by eAxC via M-plane. It allows to optimize U-Plane message size by 10 
combining data sections that are continuous in frequency and are within the same symbol. Combined data sections share 11 
the same data section header (sectionId, rb, symInc, startPrbu, numPrbu and optionally udCompHdr) resulting in 12 
reduced message size. Value of sectionId is the same for all sections (predefined value) and does not prevent 13 
combining. If udCompHdr is present, then data sections can be combined only if value of udCompHdr is the same.  14 
Details of resource allocation (e.g. discontinuity in frequency, differences in compression) may restrict combining but 15 
resulting U-plane message size is always less or equal the size without combining. 16 
This U-plane optimization method is compatible with all section types and section extension types with an exception for 17 
Section Type 3. With this coupling method, when multiple Section Type 3 messages are sent each with two (or more) 18 
different “freqOffset” values and/or “frameStrcutures”, but same startPrbc and numPrbc, each C-plane messages can be 19 
uniquely identified by  “freqOffset” and/or “frameStructure” fields, however associated U-Plane message with sectionId 20 
as 4095 and with no “freqOffset” or “frameStructure” cannot be uniquely identified. Hence, Section Type 3 shall not be 21 
used in conjunction with Time-Frequency Coupling. Note that frequency discontinuity of beamforming configuration in 22 
C-plane does not imply discontinuity of data sections in U-plane. 23 
Example 1: Let’s assume before combining in symbol s there are two data sections: A and B such that A.udCompHdr = 24 
B.udCompHdr and A.startPrbu < B.startPrbu and A.rb = B.rb = 0. If B.startPrbu = A.startPrbu + A.numPrbu then A and 25 
B can be combined into data section C such that C.rb = 0, C.startPrbu = A.startPrbu, C.numPrbu = A.numPrbu + 26 
B.numPrbu.  27 
Example 2: Let’s assume before combining in symbol s there are two data sections: A and B such that A.udCompHdr = 28 
B.udCompHdr and A.startPrbu < B.startPrbu and A.rb = B.rb = 1. If B.startPrbu = A.startPrbu + 2•A.numPrbu then A 29 
and B can be combined into data section C such that C.rb = 1, C.startPrbu = A.startPrbu, C.numPrbu = A.numPrbu + 30 
B.numPrbu. 31 
Example 3: Let’s assume before combining in symbol s there are two data sections: A and B such that A.udCompHdr = 32 
B.udCompHdr and A.startPrbu < B.startPrbu and A.rb = B.rb = 1. If B.startPrbu = A.startPrbu + 1 and A.numPrbu = 33 
B.numPrbu then A and B can be combined into data section C such that C.rb = 0, C.startPrbu = A.startPrbu, C.numPrbu 34 
= A.numPrbu + B.numPrbu. 35 
Note the above examples are non-exhaustive. 36 
  37 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      176 
O-RAN.WG4.CUS.0-v07.00 
Chapter 7 Counters and KPIs 1 
7.1 Counters 2 
This chapter defines recommended ORAN CU-Plane specific performance counters for the fronthaul interface.  Table 3 
7-1 defines the set of mandatory and optional ORAN performance counters to be implemented within an O-RU or O-4 
DU.  These counters are defined from the perspective of the O-RU’s or O-DU’s Ethernet interfaces. These counters 5 
increment on eCPRI/IEEE1914.3 message-based events. A message is defined as a complete eCPRI, or IEEE1914.3 6 
message including header and payload. Unless otherwise noted in the table, these counters may be implemented to 7 
count events with a granularity of per RU, per Transport Flow, or per eAxC as indicated in the fronthaul M-Plane 8 
specification [7]. Higher granularity counters provide more detailed information and can simplify managing and 9 
troubleshooting the front haul network. 10 
It is recommended that the counters defined in Table 7.1 shall only increment if the message is contained in a valid 11 
(error free) layer 2 or 3 packet. In other words, if the packet has no layer 2 CRC or no layer 3 checksum errors it may be 12 
counted. All counters defined in this specification are assumed to be wrap-around counters. Wrap-around counters are 13 
counters that automatically go from their maximum/final value to zero and continue to operate. These are unsigned 14 
counters. These counters shall provide for any explicit means to return them to their minimum/zero, i.e., reset during 15 
normal operation. Due to their nature, wrap-around counters should be read frequently enough to avoid loss of 16 
information. 17 
Only the transport related counters are listed herein; other O-RU counters may also be relayed across the fronthaul 18 
interface and these are described in Annex B of the M-Plane Specification [7].  19 
 20 
Table 7-1 : O-RU and O-DU Performance Counter Definitions 21 
Counter name Size 
(bits) 
Mandatory 
or Optional1 
Counter Definition 
RX_TOTAL 64b Mandatory The total number of control/user plane eCPRI or 1914.3 messages 
received. This counter is the sum of all valid and errored messages 
received.  (previously ORAN-WG4.CUS.0-v02.00 named this 
Total_msgs_rcvd) 
RX_ON_TIME 64b Mandatory The number of inbound user plane (ecpri type 0) messages that arrived 
within the specified time window. Some “on time” messages may have 
sequence number errors or corruption errors but as long as they arrived 
within specified window time, this counter should include them.  If the 
received message has been transport-fragmented, the full message shall 
be reassembled before checking its arrival window. 
• Implementation of a single global counter is required. 
• Implementation of per transport counters are optional.  
• Implementation of per eAxC counters are optional.  
RX_EARLY 64b Mandatory The number of inbound user plane messages which were detected to 
have arrived before the start of their designated receive window time.  
This counter increments whether the message is subsequently 
processed or dropped. 
• Implementation of a single global counter is required.  
• Implementation of per transport counters are optional.  
• Implementation of per eAxC counters are optional. 
RX_LATE 64b Mandatory The number of inbound user plane messages which were detected to 
have arrived after the end of their designated receive window time.  
This counter increments whether the message is subsequently 
processed or dropped. 
• Implementation of a single global counter is required.  
• Implementation of per transport counters are optional.  
• Implementation of per eAxC counters are optional. 
RX_SEQID_ERR 64b Optional The number of inbound on time user plane messages in which a 
sequence identifier number error is detected. When this counter is 
implemented with an eAxC granularity, separate uplink and downlink 
counters shall be implemented. 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      177 
O-RAN.WG4.CUS.0-v07.00 
Counter name Size 
(bits) 
Mandatory 
or Optional1 
Counter Definition 
This error occurs when the ecpriSeqId field does not increment as 
specified in Section 3.1.3. Both the Sequence ID, and Subsequence ID 
fields must be checked if transport fragmentation is supported 
otherwise only the Sequence ID field may be checked.   
In addition to identifying a sending equipment sequencing error, this 
counter can increment when packets are dropped prior to reception by 
the RU, or when packets reordered by the network exceed the 
receiving device’s capabilities. 
RX_ON_TIME_C 64b Mandatory The number of valid inbound control plane (ecpri type 2) messages 
that arrived within the specified time window. Some “on time” 
messages may have sequence number errors or corruption errors but as 
long as they arrived within specified window time, this counter should 
count them.  
• Implementation of a single global counter is required.  
• Implementation of per eAxC counters are optional. 
• Implementation of per transport counters are optional.  
• Implementation of counters for each combination of eAxC and 
dataDirection fields are optional. 
RX_EARLY_C 64b Mandatory The number of inbound control plane messages which were detected to 
have arrived before the start of their designated receive window time. 
This counter increments whether the message is subsequently 
processed or dropped. 
• Implementation of a single global counter is required.  
• Implementation of per eAxC counters are optional.  
• Implementation of per transport counters are optional.  
• Implementation of counters for each combination of eAxC and 
dataDirection fields are optional. 
RX_LATE_C 64b Mandatory The number of inbound control plane messages which were detected to 
have arrived after the end of their designated receive window time. 
This counter increments whether the message is subsequently 
processed or dropped. 
• Implementation of a single global counter is required.  
• Implementation of per eAxC counters are optional.  
• Implementation of per transport counters are optional.  
• Implementation of counters for each combination of eAxC and 
dataDirection fields are optional. 
RX_SEQID_ERR_
C 
64b Optional The number of inbound on time control messages in which a sequence 
identifier number error is detected. This counter increments under the 
same conditions as the rx_seqid_num_err except for control plane 
messages. 
• Implementation of a global counter is optional. 
• Implementation of eAxC counters is optional. 
• Implementation of per transport counters are optional.  
• Implementation of counters for each combination of eAxC and 
dataDirection fields are optional. 
RX_CORRUPT 64b Optional The number of inbound on time messages with a correct ecpriSeqId 
(no sequence number error) which are dropped by the terminating 
entity due to the message containing one or more eCPRI/1914.3 or 
ORAN protocol errors. This counter’s granularity is limited to per O-
RU or per transport flow implementations. 
 
Protocol errors are defined as when eCPRI/1914.3/ORAN defined 
fields contain invalid values or indicate unsupported capabilities.  
Some examples of this are:  
1. PcId or section Id number which has not been configured. 
2. Unexpected use of C bit,  
3. Unconfigured or Unsupported udCompHdr setting.  

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      178 
O-RAN.WG4.CUS.0-v07.00 
Counter name Size 
(bits) 
Mandatory 
or Optional1 
Counter Definition 
4. Unsupported section extension. 
5. Wrong ecpriVersion and/or payloadVersion information 
6. ecpriMessage field does not contain 0, 2, or 5. 
 
RX_ERR_DROP  Optional The total number of inbound messages which are discarded by the 
receiving O-RAN entity for any reason.   
RX_PKT_DUPL 64b Optional Duplicated packet. This counter is deprecated.  
TX_TOTAL 64b Mandatory The number of valid outbound control/user plane messages.  
TX_TOTAL_C 64b Mandatory The number of valid outbound control plane messages. This counter is 
required on an O-RU  only if O-RU supports LAA/LBT capabilities. 
1 A counter is listed as mandatory if it is considered important enough to be necessary for the O-RU or O-DU to be 1 
compliant to this specification.  A counter is defined as optional if it is of lessor importance and therefore is not 2 
necessary to implement for compliance to this standard.  3 
   4 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      179 
O-RAN.WG4.CUS.0-v07.00 
Chapter 8 Specification Mandatory and Optional Capabilities 1 
8.1 General 2 
This chapter provides details regarding which capabilities within the specification are mandatory and which are 3 
optional.  The list will in general be different for the O-DU versus the O-RU because in many cases, the O-DU will 4 
need to implement multiple options as mandatory to ensure interoperability with O-RUs that have optional capabilities.  5 
For example, the ability to support many compression methods may be mandatory in the O-DU while in O-RUs there 6 
may be only a single mandatory compression method to allow simplicity in O-RU design (while vendors may enhance 7 
their O-RU product offering by implementing some of the optional compression methods). 8 
Table 8-1 : O-RAN-Supported LTE and NR Channels 9 
Physical Channel Support 
LTE DL Channels 
PDSCH, PBCH, PCFICH, PDCCH, ePDCCH, MPDCCH, PHICH, CRS, MBSFN RS, 
UE-RS, DMRS for ePDCCH/MPDCCH, PRS, CSI-RS, PSS, SSS, Discovery RS 
LTE UL Channels PUSCH, PUCCH, DMRS-PUSCH, DMRS-PUCCH, SRS, PRACH (incl. eMTC) 
Narrow band IoT DL Channels NB-DMRS, NB-PDSCH, NB-PBCH, NB-PDCCH, NB-RS, NB-PRS, NB-PSS, NB-SSS 
Narrow band IoT UL Channels NB-PUSCH, NB-PRACH 
NR DL Channels PDSCH, PDCCH, DMRS-PDSCH, PTRS-PDSCH, DMRS-PDCCH, DRMS-PBCH, 
CSI-RS, PSS, SSS, SS Block/PBCH  
NR UL Channels PUSCH, PUCCH, PRACH, DMRS-PUSCH, PTRS-PUSCH, DMRS-PUCCH, SRS 
System Capability Support 
Technologies LTE TDD, FDD (normal and extended CP) 
NR TDD, FDD 
Channel Bandwidth LTE: 1.4, 3, 5, 10, 15, 20 MHz 
NR: up to 400MHz 
Subcarrier Spacing 
LTE: 15kHz, 7.5kHz, 1.25kHz 
LTE PRACH: 1.25kHz, 7.5kHz 
NB-IoT PRACH: 3.75kHz 
NR: 15, 30, 60, 120, 240 kHz 
NR Multi Numerology 
NR PRACH: 1.25, 5, 15, 30, 60, 120 kHz 
LTE Specific Features 
DL Transmission Modes :  TM1 - TM10 
UL Transmission Modes : TM1, TM2 
Carrier Aggregation 
eMBMS 
TTI-Bundling 
Semi-Persistent Scheduling (SPS) 
MIMO (SU/MU-MIMO) 
UE TAS (Tx Antenna Selection) 
FeICIC (ABS) 
CoMP (DL/UL), JT 
Short TTI 
eMTC 
NB-IOT (in band/guard band/standalone) 
License Assisted Access (LAA) 
Sidelink (Proximity Services) 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      180 
O-RAN.WG4.CUS.0-v07.00 
Dynamic TDD (eIMTA) 
Mission Critical PS-LTE Features (MCPTT, ..) 
Positioning (PRS, OTDOA etc) 
V2X 
Distributed Antenna System Support 
CBRS Support 
NR Specific Features 
EN-DC 
SSBlock 
BW Part 
Supplementary UL 
Mini-slot 
LTE-NR Co-existence 
Beamforming 
Analog Beamforming 
Digital Beamforming 
Hybrid Beamforming 
O-RU Support for 64 TRX 
Transport 
L2 : Ethernet 
L3 : IPv4, IPv6 
QoS over Fronthaul 
 1 
Table 8-2 describes the capabilities required of O-DU and O-RU units.  There are three choices: 2 
Mandatory: the unit must support the described capability to be O-RAN compliant. 3 
Conditional Mandatory: the unit must support the described capability to be O-RAN compliant, but the Notes column 4 
described the conditions under which the capability is mandatory. 5 
Optional: the unit may not support the capability and still be O-RAN compliant, but if the unit does support the 6 
described capability it must support it in the way described within the O-RAN specifications. 7 
 8 
Table 8-2 : O-RAN Mandatory and Optional Features 9 
Category Feature of O-DU or O-RU 
O-DU 
Support 
O-RU 
Support Note 
O-RU 
Category 
Support 
Support for CAT-A O-RU (up to 
8 spatial streams) Mandatory NA 
The O-DU may only support fewer 
than 8 spatial streams; that number 
of spatial streams must however be 
supported for CAT-A O-RUs. 
Support for CAT-A O-RU (> 8 
spatial streams) Optional NA   
Support for CAT-B O-RU 
(precoding in O-RU) Mandatory NA   
Beam-
forming Beam Index based Mandatory 
Conditional 
Mandatory 
Condition applies to UE-specific 
BF for any O-RU capable of BF; a 
non-BF radio shall be supplied a 
zero beamId if a C-Plane message 
containing a beamId will be sent at 
all (FFS). 
Real-time BF Weights  
Conditional 
Mandatory 
Conditional 
Mandatory 
Condition for O-DU: Mandatory 
only for O-DUs designed to support 
any kind of BF that involves the 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      181 
O-RAN.WG4.CUS.0-v07.00 
Category Feature of O-DU or O-RU 
O-DU 
Support 
O-RU 
Support Note 
operation of updating BF weights in 
real-time; 
Condition for O-RU: for any O-RU 
internally using BF weights, the 
ability to update the weights in real-
time via C-Plane messages (using 
“Real-time BF Weights”) shall be 
mandatory. 
Real-Time Beamforming Attributes Optional Optional 
This is considered to not internally 
use BF weights. 
Real-Time UE Channel Info Optional Optional 
This is considered to internally use 
BF weights. 
Predefined beam tilt for Beam 
Index based Beamforming Optional Optional  
Antenna Calibration support Optional Optional  
Null-layer Info. for ueId-based 
beamforming using Section 
Extension 14 Optional Optional  
User port group indication for 
beamforming based on UE channel 
(Section Extension = 17) Optional Optional  
 IQ Data Formats    
Bandwidth 
Saving 
- Fixed point (no compression) Mandatory Mandatory 
16-bit mandatory (others 
optional). 
 - Block floating point compression 
Conditional 
Mandatory  
Conditional 
Mandatory  
9, 12 & 14-bit mantissa 
mandatory if this compression 
method is supported (others 
optional). 
Condition: if an O-DU or O-RU 
supports any IQ compression it 
must support this one. 
 - Block scaling compression Optional Optional 
9 & 14-bit scaler mandatory if 
this compression method is 
supported (others optional). 
 - -law compression Optional Optional 
9 & 14-bit width mandatory if 
this compression method is 
supported (others optional). 
 - Modulation compression Optional Optional 
4-bit width mandatory if this 
compression method is supported 
(others optional). 
 - Block floating point compression 
+ selective RE sending Optional Optional 
9, 12 & 14-bit mantissa 
mandatory if this compression 
method is supported (others 
optional). 
 - Modulation compression + 
selective RE sending Optional Optional 
4-bit width mandatory if this 
compression method is supported 
(others optional). 
Presence of udCompLen 
Conditional 
Mandatory Optional 
If the O-RU declares support of 
udCompLen then it must be used, 
otherwise it must be omitted (in DL 
and UL U-Plane messages); this is 
only relevant for block floating 
point with selective RE sending or 
modulation compression, with 
selective RE sending. 
Real-time variable bit-width  Optional Optional 
IQ data format is determined by 
value of udCompHdr. This implies 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      182 
O-RAN.WG4.CUS.0-v07.00 
Category Feature of O-DU or O-RU 
O-DU 
Support 
O-RU 
Support Note 
presence of udCompHdr in U-plane 
messages. 
Real-time variable bit-width per 
Channel (per data section) Optional Optional 
IQ data format is determined by 
value of udCompHdr. This implies 
presence of udCompHdr in U-plane 
messages.  Values of udCompHdr 
can be different in different sections 
in the U-plane messages. 
Static configuration of U-Plane IQ 
format and compression header 
Conditional 
Mandatory  
Conditional 
Mandatory  
IQ data format is determined by M-
plane configuration. This implies 
absence of udCompHdr in U-plane 
messages. 
Mandatory for supported IQ 
formats listed in 7 rows under “IQ 
Data Formats” in this table. 
Beamspace compression Optional Optional 
 This compression algorithm is 
specific to beamforming weights. 
Use of “symInc” flag to allow 
multiple symbols in a C-Plane 
section Optional Optional    
Coupling via sectionId Value Mandatory Mandatory  
Coupling via Frequency and Time 
Conditional 
Mandatory 
Conditional 
Mandatory 
If O-RU or O-DU supports 
“Coupling via Frequency and Time 
with Priorities” it must also support 
this one. 
Coupling via Frequency and Time 
with Priorities Optional Optional 
 
Coupling via Frequency and Time 
with Priorities (Optimized) Optional Optional 
Refer Section 5.4.1.2.4 and Section 
5.5.7.1. 
PRACH data transfer without C-
Plane Optional Optional  
 
SRS data transfer without C-Plane Optional Optional   
Energy 
Savings Transmission blanking Optional Optional   
O-DU – 
O-RU 
Timing 
Defined Transport Method Mandatory Mandatory   
Measured Transport Method 
(eCPRI Msg 5) Optional Optional 
 If O-RU supports Measured 
Transport Method it must support 
both 1-Step and 2-step version of 
T12 measurement and at least one 
of 1-Step or 2-Step version of T34 
measurement. 
If the O-DU supports T34 
measurement it must support both 
1-Step and 2-Step version. 
Refer section 2.3.3.3 for more 
detailed information. 
External Antenna Delay handling 
using Minimal O-DU Impact 
Method Optional Optional 
Using Tda and Tau parameters as 
defined in section 2.6.1. 
 
Synchroni-
zation 
G.8275.1 NA 
Conditional 
Mandatory 
- All O-RUs must support the 
multicast PTP profile of G.8275.1 
except for O-RUs targeting only 
config LLS-C4. 
- O-DU and O-RU end applications 
may optionally use PLFS input 
within G.8275.1. 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      183 
O-RAN.WG4.CUS.0-v07.00 
Category Feature of O-DU or O-RU 
O-DU 
Support 
O-RU 
Support Note 
- in LLS-C1 config, the emission of 
PLFS by O-DU is only mandatory 
if O-RU requires it.  
- in LLS-C2 config, the emission of 
PLFS by O-DU is mandatory. 
- in LLS-C3/C4, the O-DU does not 
transmit synchronization signals to 
the O-RU, so the emission of PLFS 
is optional. 
- in LLS-C2 and LLS-C3 
topologies supporting Shared cell, 
the emission of PLFS is mandatory 
for network elements in the 
Fronthaul synchronization chain 
(FHM or cascaded O-RUs that are 
on the path to other network 
elements in the synchronization 
chain). 
G.8275.2 Optional Optional 
- O-DU (in LLS-C1/C2/C3/C4) or 
O-RU (in LLS-C1/C2/C3) may 
optionally be synchronized from a 
G.8275.2 PTP source. 
- in LLS-C1/C2, O-DU may 
optionally act as G.8275.2 PTP 
master on the fronthaul for the O-
RU. 
Local PRTC Optional Optional 
O-DU (in LLS-C1/C2/C3/C4) or O-
RU (in LLS-C4) may optionally be 
synchronized from a local time 
source, for example GNSS-based. 
    
Transport 
Features 
L2 : Ethernet Mandatory Mandatory   
L3 : IPv4, IPv6 (CUS Plane) Optional Optional   
QoS over Fronthaul Mandatory Mandatory   
Prioritization of different U-Plane 
traffic types Optional Optional   
Support of Jumbo Ethernet frames Optional Optional   
eCPRI Mandatory Mandatory   
support of eCPRI concatenation Optional Optional   
IEEE 1914.3 Optional Optional   
Application layer fragmentation Mandatory Mandatory C-Plane and U-Plane. 
Radio Transport layer 
fragmentation Optional Optional U-Plane (see 3.1.3.1.7). 
Section 
Types / 
extensions 
Section Type 0 Optional Mandatory 
O-RU may ignore message if 
blanking or other Section Type 0 
utility is not supported. 
Section Type 1 Mandatory Mandatory  
Section Type 3 Mandatory 
  
Mandatory  
Section Type 5 Optional Optional 
Specific to Channel-Info 
beamforming. 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      184 
O-RAN.WG4.CUS.0-v07.00 
Category Feature of O-DU or O-RU 
O-DU 
Support 
O-RU 
Support Note 
Section Type 6 Optional Optional 
Specific to Channel-Info 
beamforming. 
Section Type 7 Optional Optional 
Specific to LAA which is an 
optional capability. 
Beamforming weight transfer using 
Section Extension = 1 
Conditional 
Mandatory 
Conditional 
Mandatory 
Condition for O-DU: Mandatory 
only for O-DUs designed to support 
any kind of BF that involves the 
operation of updating BF weights in 
real-time; 
Condition for O-RU: for any O-
RU internally using BF weights, the 
ability to update the weights in real-
time via C-Plane messages (using 
“Real-time BF Weights”) shall be 
mandatory. 
Beamforming attribute transfer 
using Section Extension = 2 Optional Optional 
Attribute-based beamforming is 
optional. 
DL precoding configuration using 
Section Extension = 3 Optional Optional 
While CAT B is mandatory, it is 
possible to precode using 
beamforming so use of this 
extension is optional. 
Modulation compr. Parameters 
using Section Extension =4 Optional Optional 
Modulation compression is 
optional. 
Modulation compr. Parameters 
using Section Extension =5 Optional Optional 
Modulation compression is 
optional. 
Non-contiguous PRB allocation 
using Section Extension = 6 Optional Optional  
Use of non-contiguous PRBs is 
optional. 
eAxC masking using Section 
Extension =7 Optional Optional Use of eAxC masking is optional. 
Provide MMSE parameters using 
Section Extension =8 
Conditional 
Mandatory  
Conditional 
Mandatory  
Specific to Channel-Info 
beamforming; 
O-DU condition: if O-RU and O-
DU both support Channel-Info BF, 
then the O-DU must use Section 
Extension =8 to convey MMSE 
parameters; 
O-RU condition: if the O-RU 
supports Channel-Info BF, then the 
O-RU must accept Section 
Extension =8 MMSE parameters 
from the O-DU.  
Add LTE/NR indicator using 
Section Extension =9 Optional Optional 
DSS using overlapping carriers is 
possible; DSS using this section 
extension is optional. 
Group configuring of multiple ports 
using Section Extension =10 Optional Optional 
Use of multiple port (multiple 
eAxC) grouping is optional. 
Flexible Beamforming Weights 
using Section Extension =11 Optional Optional 
Use of flexible beamforming 
weights section extension is 
optional. 
 
Non-contiguous PRB allocation 
with frequency ranges using 
Section Extension =12 Optional Optional 
 
 
PRB allocation with frequency 
hopping using Section Extension 
=13 Optional Optional 
 
 
Nulling-layer Info. for ueId-based 
beamforming using Section 
Extension = 14 Optional Optional 
 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      185 
O-RAN.WG4.CUS.0-v07.00 
Category Feature of O-DU or O-RU 
O-DU 
Support 
O-RU 
Support Note 
 
Mixed-numerology Info. for ueId-
based beamforming using Section 
Extension =15 Optional Optional 
 
 
Antenna mapping in UE channel 
information based UL beamforming 
using Section Extension = 16 Optional Optional 
Use of antenna mapping in UE 
channel information based UL 
beamforming is optional. 
 
Description for indication of user 
port group using Section Extension 
= 17 Optional Optional 
 
 
Uplink traffic management using 
Section Extension = 18 
Conditional 
Mandatory 
Conditional 
Mandatory 
Mandatory if uplink traffic 
management using C-Plane is 
supported. Not permitted if uplink 
traffic management using C-Plane 
is not supported. 
 
Compact multiple port 
beamforming information using 
Extension = 19 Optional Optional 
See 5.4.7.19 and Sec 5.5.10. 
 Dedicated puncturing Section using 
Extension = 20 Optional Optional 
See 5.4.7.20 and Sec 5.5.11. 
Other 
features 
LAA LBT O-DU Congestion 
Window mgmt 
Conditional 
Mandatory 
Conditional 
Mandatory 
Mandatory only for O-DUs and O-
RUS supporting LAA. 
LAA LBT O-RU Congestion 
Window mgmt Optional Optional  
UL gain correction per eAxC Optional Optional See 6.1.3.2.2. 
DL reference level adjustment Optional Optional See Reference_Level in 6.1.3.3. 
FS adjustment Optional Optional See FS_Offset in 6.1.3. 
Ordered transmission Optional Optional See 2.5.3. 
Uplink traffic management using 
M-Plane Optional Optional See 2.5.4. 
Uplink traffic management using C-
Plane Optional Optional See 2.5.4. 
Uniformly distributed transmission Optional Optional 
See 2.5.2, Requires support of 
uplink traffic management (using 
M-plane or C-plane). 
Independent U-plane transmission 
window control Optional Optional 
See 2.5.4. Requires support of 
uplink traffic management (using 
M-plane or C-plane). 
 C-Plane Message processing O-RU 
limits Optional Optional 
Refer section 5.6.2 CUS-Plane and 
Sec 12.8 M-Plane. 
NOTE: when a capability that is "per endpoint" is cited as MANDATORY in the O-RU, it means at least one endpoint 1 
must support it (a minimum number meaningful for the functionality of the O-RU), not that ALL endpoints must 2 
support it. 3 
Note also that for some Mandatory capabilities, only a subset of the full set of parameter values is really mandatory, this 4 
is marked in the “Note” column.  For some Optional capabilities, there are parameter values that must be supported (if 5 
the optional capability is present) and other parameter values may be supported but are not mandatory for that optional 6 
feature.  These are marked in the Note column. 7 
  8 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      186 
O-RAN.WG4.CUS.0-v07.00 
Chapter 9 S-Plane Protocol 1 
9.1 General 2 
9.1.1 Overview 3 
Time and frequency synchronization can be distributed to the O-DU and O-RU in different manner. However, 4 
synchronization accuracy is mostly impacted by implementation (e.g., timestamping near the interfaces, number of 5 
hops) than by the technology itself. The following synchronization options are available over an Ethernet network: 6 
• Frequency synchronization where clocks are aligned in frequency 7 
• Phase synchronization where clocks are aligned in phase 8 
• Time synchronization where clocks are aligned to a common base time 9 
Together the above parameters define a profile for the network, requiring a set of features and option selections for 10 
bridges and end stations operation. Further, the profile also states the conformance requirements for supporting 11 
equipment and user applications.  12 
This edition of the document considers frequency, phase and time synchronization of all the network elements (O-DUs, 13 
intermediate switches and O-RUs) for TDD and FDD features requiring specific TAE. Frequency-only configurations 14 
(like LTE FDD or 5G FDD) are For Further Study. 15 
This edition of the document considers macro BTS O-DUs and not small cells that have O-DU and O-RU in the same 16 
box and therefore no need for fronthaul link. 17 
9.2 Synchronization Baseline 18 
9.2.1 List of Reference Documents 19 
See section 1.2.1. 20 
 21 
9.2.2 Clock Model and Synchronization Topology 22 
Different O-RAN synchronization topologies are necessary to address different deployment market need.  The 23 
following 4 topology configurations are considered by O-RAN as compliant topologies for supporting the O-RU 24 
synchronization needs.  A configuration label is used for easier reference through this specification: 25 
• Configuration LLS-C1: with this topology, the O-DU is part of the synchronization chain towards the O-RU. 26 
Network timing is distributed from O-DU to O-RU via direct connection between O-DU site and O-RU site 27 
• Configuration LLS-C2: with this topology, the O-DU is part of the synchronization chain towards the O-RU. 28 
Network timing is distributed from O-DU to O-RU between O-DU sites and O-RU sites.  One or more Ethernet 29 
switches are allowed in the fronthaul network.  Interconnection among switches and fabric topology (for example 30 
mesh, ring, tree, spur etc.) are deployment decisions which are out of the scope of this O-RAN specification.  31 
• Configuration LLS-C3: with this topology, the O-DU is not part of the synchronization chain towards the O-RU. 32 
Network timing is distributed from PRTC/T-GM to O-RU typically between central sites (or aggregation sites) and 33 
O-RU sites.  One or more Ethernet switches are allowed in the fronthaul network.  Interconnection among switches 34 
and fabric topology (for example mesh, ring, tree, spur etc.) are deployment decisions which are out of the scope of 35 
this O-RAN specification   36 
• Configuration LLS-C4: This topology concerns the case where the synchronization reference is provided to the O-37 
RU with no involvement of the transport network (typically with a local GNSS receiver). 38 
Note applying to all LLS-C1 to LLS-C4: 39 
• With exception of the O-DU and O-RU, only clock types and classes (PRTC/T-GM, T-BC, T-TC) under G.8271.1 40 
are covered by this document. 41 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      187 
O-RAN.WG4.CUS.0-v07.00 
• How O-DU is synchronized is not in the scope of this classification of the synchronization topologies. O-DU may 1 
be synchronized from either a local or remote PRTC. 2 
9.2.2.1 Topology configuration LLS-C1 and LLS-C2 Synchronization 3 
Configuration LLS-C1 is based on point-to-point connection between O-DU and O-RU using network timing option.  4 
As shown in Figure 9-1 below, it is basically the simplest topology for network timing option, where O-DU directly 5 
synchronizes O-RU. 6 
Configuration LLS-C2 is similar to LLS-C1 with O-DU acting as master to distribute network timing toward O-RU.  7 
One or more Ethernet switches are allowed between the central site (hosting O-DUs) and the remote sites (hosting O-8 
RUs).  The allowed number of switches in the synchronization path is limited by frequency and time error contributions 9 
by all clocks in the chain. 10 
With Full Timing Support, the allowed network noise limit in the budget can be met by a certain number (refer to 11 
Annex H for more details) of Class B or class C T-BC switches as shown in Figure 9-1 below.  Additional T-BC 12 
switches may be allowed if total noise limit can be met.  The synchronization master is located at the O-DU. Further, all 13 
Ethernet switches in the fronthaul function as Telecom Boundary Clocks as specified by ITU-T G.8273.2.  T-TC switch 14 
is also allowed as T-BC replacement with the same expectation based on G.8271.1. 15 
With Partial Timing Support, non-T-BC switches may also be deployed.  Further investigation is required to specify 16 
appropriate frequency and timing budgets and network configuration to ensure 4G and NR TAE requirements as 17 
described in Table 9-3 and 3GPP frequency accuracy requirements can be met. 18 
Interconnection among switches and fabric topology (for example mesh, ring, tree, spur etc.) are deployment decisions 19 
which are out of the scope of this O-RAN spec. 20 
  21 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      188 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 9-1 : Configurations LLS-C1 and LLS-C2 synchronization (see notes below for additional information on 2 
O-DU, O-RU, Switch functionality). 3 
Notes for O-DU: 4 
O-DU acts as PLFS + PTP synchronization master towards the fronthaul interface, but there are different possible sub-5 
configurations based on the O-DU sync source. Two main cases are possible: O-DU is itself the master at the top of the 6 
synchronization chain (e.g., PRTC directly connected to the O-DU) or it gets synchronization from the network. In 7 
particular: 8 
• if O-DU synchronization source is from a local PRTC (typically a GNSS receiver), it may act as a T-GM, or as a 9 
specific PLL with higher jitter and wander filtering capability. 10 
• if O-DU synchronization source is from a remote PRTC through a network (typically PTP, with or without PLFS, 11 
which grandmaster can be located anywhere in the network), O-DU acts as synchronization subordinate toward the 12 
upstream network. Two sub- configurations are possible: 13 
o If the PTP profile used in the upstream network is different (typically ITU-T G.8275.2) from the fronthaul 14 
one (which is typically ITU-T G.8275.1), then the O-DU acts as an InterWorkingFunction clock to bridge 15 
between the profiles, as defined in ITU-T G.8271.2 (but no clock specification exists for such IWF). This 16 
is For Further Study. 17 
remote sitecentral site
T-TSC*PLFS+PTP 
master
O-RUO-DU
PTP/PLFS path
Additional noise 
filtering to meet 
3GPP
Config LLS-C2
Config LLS-C1
local or remote
 PRTC
time source
O-RAN fronthaul
Air interface
T-TSC*
O-RU
O-DU
switch
Additional noise 
filtering to meet 
3GPP
local or remote 
PRTC
time source
O-DU
local or remote 
PRTC
time source
T-TSC*
O-RU Additional noise 
filtering to meet 
3GPP
remote site
central site
PTP/
PLFS 
path
O-DU
local or remote 
PRTC
time source
central site
Figure is for illustrative purpose and 
does not provide deployment guidance 
(for example the number of switches in 
a clock chain and fabric topology).  
1 or more 
switches in a 
fabric topology
PLFS+PTP 
master
PLFS+PTP 
master
PLFS+PTP 
master
(May include FHM if Front Haul 
is supporting Chapter 11)
T-TSC*
O-RU Additional noise 
filtering to meet 
3GPP
shared cell cascaded O-RU 
remote site
O-RU
Additional 
noise filtering 
to meet 3GPP
T-TSC* and 
(T-BC or 
T-TC)PTP/
PLFS 
path

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      189 
O-RAN.WG4.CUS.0-v07.00 
o If the PTP profile used in the upstream network is same as the fronthaul one (typically ITU-T G.8275.1), 1 
then the O-DU may act as a combined PTP Subordinate and Master with higher jitter and wander filtering 2 
capability. NOTE: O-DU acting as a ITU-T G.8273.2 T-BC clock does not provide enough wander 3 
cleaning to guarantee the 15 ppb limit and is therefore outside the scope of LLS-C1/LLS-C2. 4 
When multiple O-DU are directly connected to the central site aggregation switch supporting T-BC in configuration 5 
LLS-C2, only one active Master will be in the clock chain.  One O-DU will serve as active GrandMaster to all O-RUs, 6 
including the ones controlled by other O-DUs over the M-plane.  If Master redundancy is needed, another O-DU shall 7 
serve as backup Master. 8 
Notes for Switches:  9 
• ITU-T “Full Timing Support” Clock: ITU-T G.8273.2 T-BC (or ITU-T G.8273.3 T-TC).  10 
• In the case of FHM or cascaded O-RU used in shared cell topologies described in section 11, this equipment also 11 
behaves as an ITU-T “Full Timing Support” Clock from its subordinate to master port from S-plane point of view. 12 
• Partial timing support using non-T-BC switches may also be allowed. G.8275.2 Telecom Profile is required for 13 
partial timing support. Performance aspects and budgets associated with this mode require further investigation. 14 
 15 
Notes for O-RU: 16 
• As an end application, the O-RU includes an application-specific PTP (T-TSC*) subordinate clock that may be 17 
compliant to G.8273.2 T-TSC. The combination of the T-TSC* and the local RF end application clock needs to 18 
fulfill additional requirements to ensure 3GPP air interface compliance on the RF interface. 19 
T-TSC is per IEEE 802.1CM interface condition Case 1. 20 
• In the case of Shared Cell using cascade mode with direct chaining of the O-RUs, the O-RU also implements either 21 
ITU-T G.8273.2 T-BC or ITU-T G.8273.3 T-TC on the path between the S-Plane subordinate and S-Plane master 22 
ports (as per above Notes for Switches). 23 
If the O-RU is not on the synchronization path to other O-RUs, the O-RU is not required to support T-BC or T-TC 24 
functions. These may be supported by a collocated switch. 25 
• An end application connected to an external T-TSC per IEEE 802.1CM interface condition Case 2.  This case may 26 
be excluded by O-RAN since the O-RU generally does not provide a separate PPS/ToD interface for external T-27 
TSC connection, and there may be some performance concerns about the 1pps distribution interface compared to 28 
PTP over Ethernet.  29 
9.2.2.2 Topology configuration LLS-C3 Synchronization 30 
Configuration LLS-C3 is similar to LLS-C2 except frequency and time distribution is made by the fronthaul network 31 
itself (not by the O-DU).  That means that one or more PRTC/T-GM are implemented in the fronthaul network to 32 
distribute network timing toward O-DU and O-RU.  One or more Ethernet switches are allowed between the central site 33 
(hosting O-DUs) and the remote sites (hosting O-RUs).  The permitted number switches in the synchronization path is 34 
limited by frequency and time error contributions by all clocks in the chain. 35 
With Full Timing Support, all Ethernet switches in the fronthaul function as T-BC as specified by ITU-T G.8273.2.  T-36 
TC switch is also allowed as T-BC replacement with the same expectation based on G.8271.1. 37 
Partial Timing Support using non T-BC switches may also be allowed. G.8275.2 Telecom Profile is required for Partial 38 
Timing Support. Performance aspects and budgets associated with this mode requires further investigation. 39 
Interconnection among switches and fabric topology (for example mesh, ring, tree, spur etc.) are deployment decisions 40 
which are out of the scope of this O-RAN spec. 41 
 42 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      190 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 9-2 : Configuration LLS-C3 synchronization (see notes below for additional information on O-DU, O-RU, 2 
Switch functionality). 3 
 4 
Notes for O-DU:  5 
Unlike LLS-C1 & LLS-C2, O-DU does not act as synchronization master towards the fronthaul interface. It can select 6 
its own synchronization from local or remote PRTC like in LLS-C1/LLS-C2, but can also select the same 7 
synchronization master from the fronthaul as the O-RU and act as an ITU-T G.8273.2 Telecom Time Slave Clock (T-8 
TSC). 9 
One possible LLS-C3 implementation consists in having one of the ITU-T G.8273.2-compatible T-BC of the chain 10 
being the O-DU. 11 
Whether O-DU is or not involved in the synchronization of the O-RU, it shall meet the time error limit for latency 12 
management as specified in section 2.3. 13 
Notes for Switches:  14 
Same as for LLS-C2. 15 
Notes for O-RU:  16 
Same as LLS-C1 & LLS-C2. 17 
 18 
Notes for PRTC/T-GM (as operator choice in deployment): 19 
•  20 
• The PRTC (typically a GNSS receiver) can be embedded either in an external T-GM connected to any T-BC, or an 21 
embedded function inside any T-BC in the network, 22 
• Multiple PRTC/T-GMs can offer redundancy.  ITU-T G.8275.1 BMCA is used to optimize the time distribution 23 
through the clock chain. 24 
T-TSC*
O-RU
O-DU
switch
PTP/PLFS 
path
Additional noise 
filtering to meet 
3GPP
Config LLS-C3
T-TSC
local or remote 
PRTC
time source
O-DU
T-TSC
local or remote 
PRTC
time source
T-TSC*
O-RU Additional noise 
filtering to meet 
3GPP
remote site
central site
PRTC/T-GM
O-RU
Additional 
noise filtering 
to meet 3GPP
T-TSC*
O-RU Additional noise 
filtering to meet 
3GPP
shared cell cascaded O-RU 
remote site
PTP/
PLFS 
path
O-DU
T-TSC
local or remote 
PRTC
time source
Figure is for illustrative purpose and 
does not provide deployment 
guidance (for example the number of 
switches in network)
Network of 
switches
central site
(May include FHM if Front Haul 
is supporting Chapter 11)
O-RAN fronthaul
Air interface
T-TSC* and 
(T-BC or 
T-TC)PTP/
PLFS 
path

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      191 
O-RAN.WG4.CUS.0-v07.00 
9.2.2.3 Topology configuration LLS-C4 Synchronization 1 
O-RAN maintains network timing distribution as the preferred approach within the fronthaul network, however, there 2 
could be some deployment use cases that prevent the fronthaul network (or only a section of the network) from being 3 
upgraded to G.8271.1 compliance and meeting the target performance at the O-RU. To cover these use cases, the O-4 
RAN synchronization strategy shall allow local PRTC (typically GNSS) timing option at the O-RU.   5 
It should be noted that such timing support at O-RU requires extra timing interface or embedded function. Examples of 6 
implementation include: 7 
• a local PRTC that provides time synchronization to the O-RU via a 1PPS/ToD interface 8 
• a local PRTC/T-GM that provides synchronization to the O-RU via a local PTP interface 9 
• a local PRTC embedded in the O-RU 10 
 11 
O-RUO-DU Additional noise 
filtering to meet 
3GPP
Config LLS-C4
O-RAN fronthaul
Air interface
local or remote 
PRTC
time source
local PRTC
time source
Fronthaul
(any allowed 
configuration)
Note : Additional O-RU noise filtering is needed to filter sync source dynamic noise to meet 3GPP 
frequency accuracy requirement and satisfy target |TAE|.
remote sitecentral site NO PTP and PLFS 
support required
 12 
Figure 9-3 : Configuration LLS-C4 synchronization 13 
Notes for O-DU:  14 
Unlike within LLS-C1 & LLS-C2 configurations, O-DU does not act as synchronization master towards the fronthaul 15 
interface. It can select its own synchronization from local or remote PRTC like in LLS-C1/LLS-C2, but can also select 16 
the same synchronization master from the fronthaul. 17 
Although O-DU is not involved in the synchronization of the O-RU, it shall meet the time error limit for latency 18 
management as specified in section 2.3. 19 
9.2.3 Clock Synchronization 20 
The following requirements are provided for clock synchronization: 21 
• For Full Timing Support networks (either upstream O-DU or fronthaul between O-DU and O-RU), PLFS 22 
(typically SyncE) shall be used within the fronthaul network distribution per ITU-T G.8271.1, G.8275.1 and 23 
G.8273.2.  In an LLS-C1 configuration, the O-DU shall drive the PLFS regardless of its own selected time 24 
source. A derogation applies under the operator’s responsibility in the specific case where O-RU does not 25 
make use of PLFS, in which case PLFS emission is optional for the O-DU.  In an LLS-C2 configuration, the 26 
O-DU shall drive the PLFS regardless of its own selected time source.  In an LLS-C3 configuration, the 27 
network shall deliver the PLFS to all switches and O-RUs.  However, an O-DU or O-RU end application is not 28 
required to use a PLFS to achieve clock (frequency) synchronization. They can use PTP alone to achieve both 29 
frequency and phase/time synchronization.  The ITU recommendations listed above refer to any PLFS and not 30 
just SyncE (for example SDH). However only SyncE has been fully studied for the T-BC so far (ITU-T 31 
G.8273.2), and SyncE is the most common implementation as it is in-band over Ethernet. 32 
• For Partial Timing Support networks (either upstream of the O-DU or via the fronthaul between the O-DU and 33 
O-RU), PLFS may optionally be used, as per ITU-T G.8271.2 and G.8275.2 34 
• When used for clock synchronization, SyncE shall comply with the following ITU-T specifications:   35 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      192 
O-RAN.WG4.CUS.0-v07.00 
o Definitions: ITU-T G.8260 1 
o Architecture: ITU-T G.8261 2 
o SSM transport channel and format: ITU-T G.8264 3 
o Clock specifications: ITU-T G.8262 (EEC) for the original, non-enhanced SyncE 4 
o Clock specifications: ITU-T G.8262.1 (eEEC) for the enhanced SyncE 5 
o Functional model and SSM processing: ITU-T G.781 6 
• PLFS implementations other than SyncE are for further study.  7 
All network elements in the fronthaul network need to use the same PLFS method for optimal interoperability 8 
and performance.  9 
• ITU-T G.8271.1 shall be consulted for guidance on balancing the need to meet a target air interface 10 
performance at the O-RU with the maximum number of hops allowed.  The network operator shall plan for 11 
specific fronthaul network deployment based on this guidance. 12 
• The use of eEECs is recommended as they generate less noise (Time error, FFO) in normal operation and 13 
during network rearrangements than EECs, allowing a larger number of hops while meeting a given time error 14 
budget. 15 
 16 
9.2.4 Profiles 17 
9.2.4.1 Physical Layer Frequency Signals (PLFS) 18 
An implementation providing SyncE shall: 19 
• Support ITU-T G.781 Option 1 Quality Level (per section 5.4 Quality Code of ITU-T G.781)  20 
o Support ITU-T G.781 other options, is for further study. ITU-T G.8271.1 analysis has only been done 21 
with a synchronous Ethernet network based on option 1 EECs or eEECs. 22 
• Support ITU-T G.8264 message types, format, transmission and reception (per Table 11.3 of ITU-T G.8264) if 23 
SyncE is used. 24 
o Support of extended SSM TLV (per the 2017 edition of ITU-T G.8264) is optional, and For Further 25 
Study 26 
Alternate PLFS implementations are for further study. 27 
NOTE:  The accepted QL may be limited to PRC or better value for optimal operation, while other values may be used 28 
under at the operator’s discretion considering the holdover capability of the SyncE source and the way the end 29 
applications use SyncE. 30 
9.2.4.2 PTP 31 
9.2.4.2.1 Full Timing Support 32 
Use of  IEEE 1588 or PTP for time/phase synchronization shall be according to its clauses referred by ITU-T G.8275.1 33 
(Full Timing Support). 34 
Notes:  35 
• The T-TSC inside the O-RU and O-DU are considered as T-TSC inside 3GPP end application modules.  Such 36 
T-TSC may not provide a 1PPS measurement interface, and ITU-T G.8273.2 Appendix IV applies: the 37 
combined performance within each module may not behave as a stand-alone T-TSC described in the normative 38 
section of the recommendation. 39 
• PLFS and PTP distribution shall be supported (with a few derogations listed in Table 8-2), either using 40 
congruent or non-congruent topologies, as per ITU-T G.8271.1. 41 
• O-RUs must support L2 (Ethernet) and multicast communication when acting as an ITU-T G.8275.1 PTP 42 
subordinate in a fronthaul network, which is considered “mandatory” in this version of the CUS-Plane 43 
specification. 44 
• O-RUs and O-DUs supporting LLS-C1, LLS-C2, and LLS-C3 shall follow ITU-T G.8275.1 Section 6, 45 
including requirements related to one-step and two-step clock mode. 46 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      193 
O-RAN.WG4.CUS.0-v07.00 
• For configurations LLS-C1 and LLS-C2, the O-DU must support L2 (Ethernet) and multicast communication 1 
when acting as an ITU-T G.8275.1 PTP master in a fronthaul network to synchronize the O-RUs, which is 2 
considered “mandatory” in this version of the CUS-Plane specification. 3 
• For all configurations, O-DU must support L2 (Ethernet) and multicast communication when acting as an ITU-4 
T G.8275.1 subordinate in a fronthaul or other network, which is considered “optional” in this version of the 5 
CUS-Plane specification. 6 
 7 
9.2.4.2.2 Partial Timing Support 8 
Support of Partial Timing Support using ITU-T G.8275.2 Telecom Profile is currently considered as permissible but 9 
requires additional considerations: 10 
• Partial Timing Support allows switches with no T-BC or T-TC, hence there is no guarantee of synchronization 11 
performance based on ITU-T standard specification such as G.8273.2.  As a result, the system operator must 12 
ensure the network components will have adequate performance to meet frequency and phase error budgets to 13 
allow an accurate detection of frequency accuracy and phase for proper network operation.  Such budgets and 14 
implications on performance require further investigation. 15 
• O-RUs may support L3 (UDP/IP) and unicast communication when acting as an ITU-T G.8275.2 PTP 16 
subordinate in a fronthaul network, which is considered “optional” in this version of the CUS-Plane 17 
specification. 18 
• O-RUs and O-DUs supporting LLS-C1, LLS-C2, and LLS-C3 shall follow ITU-T G.8275.2 Section 6, 19 
including requirements related to one-step and two-step clock mode. 20 
• For configurations LLS-C1 and LLS-C2, the O-DU may support L3 (UDP/IP) and unicast communication 21 
when acting as an ITU-T G.8275.2 PTP master in a fronthaul network to synchronize the O-RUs, which is 22 
considered “optional” in this version of the CUS-Plane specification. 23 
• For all configurations, the O-DU may support L3 (udp/ip) and unicast communication when acting as an ITU-24 
T G.8275.2 PTP subordinate, which is considered “optional” in this version of the CUS-Plane specification. 25 
Note finally that Partial Timing Support is not finalized in the ITU, which has considered this timing method only for 26 
relatively coarse timing accuracy (1.5 sec).  Using Partial Timing Support for S-plane fronthaul distribution to the O-27 
RU to satisfy tighter requirements than levels of accuracy 4 and 4A (as per ITU-T G.8271 Table 1) is for further study. 28 
9.2.5 Synchronization Accuracy 29 
The parameters Time Error and other derived metrics are used in the subsequent sections of this document. The 30 
definition of Time Error function, TE(t) is given in section 1.3.1.  For a synchronized clock or timing signal, the Time 31 
Error function is composed of several different error components which contribute to the total, and these individual 32 
components of time error have limits which are specified in subsequent sections.  To clarify the specification tables later 33 
in this section, definitions of these additional time error parameters are provided here. 34 
• Max|TE|: The maximum absolute value of the time error function, TE(t) (i.e. the furthest point away from 35 
zero, either positive or negative). See ITU-T G.8260, clause 3.1.20. 36 
• Constant Time Error, cTE: The mean value of the time error function, TE(t), over a measurement period. 37 
See ITU-T G.8260, clause 3.1.20. 38 
• Dynamic Time Error, dTE(t):  The change in the time error function, TE(t), over a measurement period. See 39 
ITU-T G.8260, clause 3.1.20.  40 
This is divided into high and low frequency components by filtering  41 
o dTEL(t): The dynamic time error after low-pass filtering.  42 
For packet timing signals (e.g. PTP), the measurement filter bandwidth is typically 0.1Hz, and 43 
dTEL(t) is generally further characterized using MTIE or TDEV.  44 
o dTEH(t): The dynamic time error after high-pass filtering.  45 
For packet timing signals (e.g. PTP), the measurement bandwidth is typically 0.1Hz, and dTEH(t) is 46 
generally reported as a peak-to-peak or zero-to-peak value. This document specifies these parameters 47 
using zero-to-peak values. 48 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      194 
O-RAN.WG4.CUS.0-v07.00 
• TEL(t): The slow changes in time error after low-pass filtering.  1 
For packet timing signals (e.g. PTP), the measurement bandwidth is typically 0.1Hz. 2 
o Max|TEL|: The maximum absolute value of the low pass filtered time error function 3 
Further information about the accumulation of time error through a synchronization network can be found in Appendix 4 
IV of G.8271.1. 5 
9.2.5.1 Jitter 6 
Within the O-RAN fronthaul network, all network equipment (NE) supporting SyncE transport across the network shall 7 
comply with input and output jitter requirements specified in ITU-T G.8262 (for EEC) or ITU-T G.8262.1 (for eEEC). 8 
Alternate PLFS implementations are for further study. 9 
9.2.5.2 Wander 10 
Within the O-RAN fronthaul network, all network equipment (NE) supporting SyncE transport across the network shall 11 
comply with input and output wander requirements specified in ITU-T G.8262 (for EEC) or ITU-T G.8262.1 (for 12 
eEEC). 13 
Alternate PLFS implementations are for further study. 14 
9.2.5.3 Air interface frequency error 15 
The O-RAN fronthaul network shall ensure O-RU meeting a +/-50ppb air interface frequency error requirement.  3GPP 16 
TS 36.104 (for LTE macro cells) and TS 38.104 (for 5G macro ceO) specify +/-50ppb as the short-term average error in 17 
1ms duration applicable to both LTE and 5G technologies.  Refer to section 9.3.2 for more detail information. 18 
9.2.5.4 Air interface maximum time error 19 
The O-RAN fronthaul network shall ensure O-RU meeting the following air interface time alignment error (|TAE| 20 
absolute or relative) requirements based on different features in LTE and 5G technologies. For features covered by 21 
3GPP, they are specified in TS 36.104 (for LTE) and TS38.104 (for 5G).   22 
The following figure shows the reference points to define the network time error |TE| vs air interface time alignment 23 
error |TAE| and the concept of relative vs absolute. 24 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      195 
O-RAN.WG4.CUS.0-v07.00 
|TERU| |TERU|
O-RUO-RU
O-RAN Fronthaul Network
|TE|absolute |TE|absolute
|TAE|absolute |TAE|absolute
|TE|relative
|TAE|relative
UNIUNI
AntennaAntenna
O-DU O-RUO-RAN Fronthaul 
Network
UNIUNI
PRTC/ 
T-GM
|TE|network|TE|absolute
O-RUO-RAN Fronthaul 
Network
PRTC
PRTC
 1 
Figure 9-4 : Definition of |TE| and |TAE| and UNI 2 
 3 
 4 
 5 
  6 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      196 
O-RAN.WG4.CUS.0-v07.00 
For LTE features: 1 
Table 9-1 : LTE features with time alignment error requirement at the air interface 2 
LTE Features |TAE| relative or absolute Corresponding Timing Category in 
802.1CM/eCPRI standard 
(Informative) 
TDD Relative |TAE| ≤ 3µs (cell radius < 3km) 
Relative |TAE| ≤ 10us (cell radius > 3km)  
(note 1) 
TS36.133 
Timing Category C 
Dual connectivity Relative |TAE| ≤ 3µs 
(note 1) 
TS36.133 
Timing Category C  
MIMO or Tx Diversity Relative |TAE| ≤ 65ns (note 2, note 4) 
TS36.104 
 
CA (intraband contiguous) Relative |TAE| ≤ 130ns (note 2, note 5) 
TS36.104 
Timing Category A (note 3) 
CA (interband or intraband 
non-contiguous) 
Relative |TAE| ≤ 260ns (note  2) 
TS36.104 
Timing Category B (note 3) 
OTDOA Absolute |TAE| at O-RU antenna << 1.5us, 
~100-200 ns (not defined by 3GPP) 
Not covered since it is not defined 
by 3GPP  
NOTE 1:  For TDD and dual connectivity features, relative |TAE| requirement is applied to any pair of O-RUs within 3 
RAN without any cluster boundary limit.  Hence relative |TAE| spec indirectly leads to a per O-RU requirement of 4 
absolute |TAE| at O-RU antenna = 1.5µs. 5 
NOTE 2:  When these features are supported within 1 O-RU, relative |TAE| is impacted by O-RU internal |TE| only.   6 
NOTE 3: When these features are supported by multiple cooperating O-RUs, relative |TAE| is also impacted by network 7 
relative |TE| where 802.1CM Timing Category is applicable to limit the network error contribution. 8 
NOTE 4: In the current specification, it is assumed that “MIMO or Tx Diversity” is applicable within a single O-RU. 9 
MIMO or Tx Diversity with multiple cooperating O-RUs is for further study. 10 
NOTE 5: Applicable when the aggregated carriers are generated by co-located O-RUs (i.e, where the distance between 11 
the O-RUs does not create significant differential delay between the O-RUs and the UE, when compared with the 12 
timing requirement). 13 
For 5G features: 14 
Table 9-2 : 5G features with time alignment error requirement 15 
  5G Features |TAE| relative or absolute Corresponding Timing Category in 
802.1CM/eCPRI standard 
(Informative) 
TDD Relative |TAE| ≤ 3µs   
(note 1) 
TS38.133 
Timing Category C 
Dual connectivity Relative |TAE| ≤ 3µs 
(note 1) 
TS38.133 
Timing Category C  
MIMO and Tx Diversity Relative |TAE| ≤ 65ns (note 2, note 4) 
TS38.104 [8] 
 
CA (intraband contiguous per 
base station type) 
Relative |TAE| ≤ 130ns (note 2, note 5) 
(FR2 as defined in 3GPP) 
Timing Category A (note 3) 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      197 
O-RAN.WG4.CUS.0-v07.00 
TS38.104 [8] 
CA (intraband contiguous per 
base station type) 
Relative |TAE| ≤ 260ns (note 2, note 5) 
(FR1 as defined in 3GPP) 
TS38.104 [8] 
Timing Category B (note 3) 
CA (interband or intraband 
non-contiguous) 
Relative |TAE| ≤ 3µs (note 2) 
TS-38.104 [8] 
Timing Category C (note 3) 
OTDOA Absolute |TAE| at eRE antenna << 1.5us 
(not defined by 3GPP) 
Not covered since it is not defined 
by 3GPP 
NOTE 1:  For TDD and dual connectivity features, relative |TAE| requirement is applied to any pair of O-RUs within 1 
RAN without any cluster boundary limit.  Hence relative |TAE| spec indirectly leads to a per O-RU requirement of 2 
absolute |TAE| at O-RU antenna = 1.5µs. 3 
NOTE 2: When these features are supported within 1 O-RU, relative |TAE| is impacted by O-RU internal |TE| only.   4 
NOTE 3: When these features are supported by multiple cooperating O-RUs, relative |TAE| is also impacted by network 5 
relative |TE| where 802.1CM Timing Category is applicable to limit the network error contribution. 6 
NOTE 4: In the current specification, it is assumed that “MIMO or Tx Diversity” is applicable within a single O-RU. 7 
MIMO or Tx Diversity with multiple cooperating O-RUs is for further study. 8 
NOTE 5: Applicable when the aggregated carriers are generated by co-located O-RUs (i.e, where the distance between 9 
the O-RUs does not create significant differential delay between the O-RUs and the UE, when compared with the 10 
timing requirement). 11 
9.3 Time and Frequency Synchronization Requirements 12 
9.3.1 Allowed PTP and PLFS clock types and clock classes 13 
A network element (NE) may use the following clock types and classes to support PTP and PLFS, and can be used 14 
among other such NEs to build an O-RAN-compliant fronthaul network meeting end-to-end frequency synchronization 15 
requirements as well as time synchronization requirements at the air interface. 16 
• EEC (per ITU-T G.8262) 17 
• eEEC (per ITU-T G.8262.1) 18 
• PRC (per ITU-T G.811) 19 
• PRTC* (per ITU-T G.8272 and G.8272.1)) 20 
• T-BC (per ITU-T G.8273.2) 21 
• T-TSC (per ITU-T G.8273.2) 22 
• T-TC** (per ITU-T G.8273.3) 23 
*G.8272 specifies 2 types of PRTC: PRTC-A and PRTC-B. The time output of a PRTC-B is more accurate than that of 24 
a PRTC-A. PRTC-B is suitable for locations where it is possible to guarantee optimized environmental conditions (e.g., 25 
controlled temperature variation in indoor deployments). Typical examples are central location and large aggregation 26 
sites. This means that PRTC-B may be challenging and impractical for LLS-C4 deployments (e.g., due to generally 27 
outdoor deployments). G.8272.1 specifies 2 types of ePRTC, ePRTC-A and ePRTC-B. The main difference between 28 
the PRTCs and the ePRTCs is the input from an external autonomous primary reference clock (e.g., cesium clock) 29 
required in case of ePRTCs. This means that ePRTCs are only suitable for deployment in centralized location (therefore 30 
not applicable as a solution for LLS-C4). 31 
**According to ITU-T G.8271.1 and IEEE 802.1CM, T-TC is allowed as T-BC replacement and T-TC/T-BC accuracy 32 
performance is equivalent.  O-RAN allows T-TC as accepted clock type.  However, using T-TC has potential issue with 33 
broadcast storms in a bridging network as stated in G.8271.1 and hence guidance by Appendix I in G.8275.1 should be 34 
followed.  35 
The time error analysis in Annex H only covers T-BC deployments, and not the T-TC one (which is For Further Study)  36 
O-DU and O-RU are considered end points in an O-RAN-compliant fronthaul network. O-DU and O-RU can support 37 
specific PTP clock and specific classes based on O-DU and O-RU synchronization capability options. 38 
Alternate PLFS implementations are for further study. 39 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      198 
O-RAN.WG4.CUS.0-v07.00 
O-DU synchronization capability options:  1 
For configurations LLS-C1 and LLS-C2: PLFS and PTP Master. 2 
• In case of local PRC/PRTC (typically a local GNSS receiver) used as frequency and time source: O-DU acts a 3 
PLFS and PTP master. The performance requirements are specified in section 9.3.2. 4 
• In case of a remote PRC/PRTC used as frequency and time source via a Full Timing Support packet network 5 
(defined by ITU-T G.8271.1): O-DU shall act as an embedded end application with better wander and jitter 6 
filtering capability, as per Appendix IV of ITU-T G.8273.2 (thus acting more like a combined PTP Subordinate 7 
/Master than a T-BC). Note that acting as a true ITU-T G.8273.2 T-BC does not guarantee the frequency 8 
accuracy required in 9.3.2, and is therefore For Further Study. 9 
• In the case of a remote PRC/PRTC used as frequency and time source via a Partial Timing Support packet 10 
network (defined by ITU-T G.8271.2): O-DU may act as an IWF P-F InterWorking Function to drive Full 11 
Timing Support (defined by ITU-T G.8271.1) to the Fronthaul. 12 
 13 
For both Full Timing Support and Partial Timing support, the remote PRC/PRTC used as frequency and time source 14 
can be located anywhere in the network. 15 
For configuration LLS-C3 and LLS-C4:  16 
• O-DU can be synchronized from any possible time source (either local or remote PRC/PRTC-traceable one, like 17 
for LLS-C1 and LLS-C2).   18 
• O-DU does not need to meet the 3GPP frequency and TAE target specification as required in the O-RU.  19 
However, a more relaxed phase alignment between O-DU and O-RU timing should be kept to avoid data buffer 20 
overflow/underflow (impact to delay management topic).  Whether O-DU is or is not involved in the 21 
synchronization of the O-RU, it shall meet the time error limit for latency management as specified in section 22 
2.3. 23 
 24 
O-RU synchronization capability options:  25 
• For configuration LLS-C1, LLS-C2 and LLS-C3 with full timing support: (T-TSC is either embedded or 26 
external, as per ITU-T G.8271.1 and IEEE 802.1 CM).  In the case where O-RU includes a T-TSC, this one is 27 
“embedded in end application” as specified in G.8273.2 Appendix IV and include additional necessary filtering 28 
function to ensure 3GPP air interface compliance.  Under investigation is what is needed for Partial Timing 29 
Support because there is not yet any available ITU recommendation. 30 
• For configuration LLS-C4, O-RU is simply synchronized from the local PRC/PRTC using proprietary timing 31 
interface. 32 
O-RU shall support network timing as mandatory synchronization capability to cover configuration LLS-C1, LLS-33 
C2 and LLS-C3.  Local PRC/PRTC (typically a GNSS receiver) shall be optional synchronization capability to 34 
cover configuration LLS-C4.  35 
9.3.2 Frequency and Time Synchronization Requirements across fronthaul 36 
network elements 37 
9.3.2.1  Configurations LLS-C1 and LLS-C2 38 
Based on IEEE 802.1CM and ITU-T G.8271.1 guidance, the following table summarizes the frequency and time error 39 
budgets across different elements of an O-RAN-compliant fronthaul network.   40 
• O-DU : shall not exceed allocated frequency error budget and time error budget (for chosen air interface target) 41 
• O-RU : shall not exceed allocated frequency error budget and time error budget (for chosen air interface target).  42 
Note that the two O-RU classes described by IEEE 802.1 CM are deployment examples. The requirement shall be 43 
met only for O-RUs compliant with the limits of these classes. 44 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      199 
O-RAN.WG4.CUS.0-v07.00 
• O-RAN fronthaul network: shall not exceed network limit to satisfy both frequency error budget and time error 1 
budget (for chosen air interface target).  Allowed number of switches in a deployment can be derived based on 2 
allowed network limit vs chosen switch specification.  Annex H shows the analysis of number of switches based on 3 
T-BC Class B and C switches.    4 
 5 
The following table covers budget allocation for configuration LLS-C1 and LLS-C2 (Refer to Figure 9-4 for reference 6 
point definition).  Requirements are in BOLD : 7 
 8 
Table 9-3 : Frequency and time error budget allocation (for topology configuration LLS-C1 and LLS-C2) 9 
Frequency error budget allocation 
Timing Reference  O-RAN fronthaul network 
contribution limit 
O-RU Air interface 
target 
O-DU PTP/PLFS 
master class A, with 
|freq error| ≤ 15ppb 
• @ O-DU UNI (see 
NOTES 1, 8, 9) 
total |dTEL+H| ≤ 45ns  
• Between O-DU UNI and O-RU 
UNI 
• For LLS-C2: Allowed number of 
hops (see NOTE 2) 
• For LLS-C1: single hop by 
definition 
O-RU |freq error| ≤ 35ppb  
including both 
• FFO after O-RU filtering of 
dTEL+H @ O-RU UNI  
• O-RU internal additive 
frequency error (see NOTE 3) 
±50ppb per 
3GPP spec 
O-DU PTP/PLFS 
master class B, with 
|freq error| ≤ 5ppb 
• @ O-DU UNI (see 
NOTES 1, 8, 9) 
total |dTEL+H| ≤ 57ns  
• Between O-DU UNI and O-RU 
UNI 
• For LLS-C2: Allowed number of 
hops (see NOTE 2) 
• For LLS-C1: single hop by 
definition 
O-RU |freq error| ≤ 45ppb  
including both 
• FFO after O-RU filtering of 
dTEL+H @ O-RU UNI  
• O-RU internal additive 
frequency error (see NOTE 3) 
±50ppb per 
3GPP spec 
Time error budget allocation 
Timing Reference  O-RAN fronthaul network 
contribution limit 
O-RU 
(All allowed class options are 
shown) (see NOTE 6) 
Air interface 
target 
No relative |TEL| 
contribution by O-DU 
since O-DU is common 
PTP and PLFS master to 
all co-operated O-RU 
(NOTE 1) 
 
Relative |TEL| ≤ 60ns 
• Between 2 O-RUs  UNI  
• per IEEE 802.1CM 
• For LLS-C2: Allowed number of 
hops (see NOTE 4) 
• For LLS-C1: single hop by 
definition  
O-RU |TE| includes as per IEEE 
802.1CM (see NOTE 5): 
• (enhanced O-RU can be used)  
O-RU |TE| ≤ 35ns  
 
Per IEEE 
802.1CM 
Category A 
Relative |TEL| ≤ 100ns  
(using regular O-RU) 
Relative |TEL| ≤ 190ns  
(using enhanced O-RU) 
• Between 2 O-RUs UNI  
• per IEEE 802.1CM 
• For LLS-C2: Allowed number of 
hops (see NOTE 4) 
• For LLS-C1: single hop by 
definition  
O-RU |TE| includes as per IEEE 
802.1CM (see NOTE 5): 
• Either regular O-RU  
O-RU |TE| ≤ 80ns 
• Or enhanced O-RU 
O-RU|TE| ≤ 35ns 
  
 
Per IEEE 
802.1CM 
Category B 
For LLS-C2:  absolute 
|TEL| ≤ 1.325us 
For LLS-C1: absolute 
|TEL| ≤ 1.420us 
• @ O-DU UNI  
Network |TEL| ≤ 95ns  
(using regular O-RU) 
Network |TEL| ≤ 140ns  
(using enhanced O-RU) 
• Between O-DU UNI and O-RU 
UNI 
O-RU |TE| includes as per IEEE 
802.1CM (see NOTE 5 and 7): 
• Either regular O-RU  
O-RU |TE| ≤ 80ns 
• Or enhanced O-RU O-RU  
|TE| ≤ 35ns  
Absolute 
|TAE| at O-RU 
antenna = 
1.5µs derived 
from 3GPP 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      200 
O-RAN.WG4.CUS.0-v07.00 
• includes holdover 
budget 
• see NOTES 8, 9 
• For LLS-C2: Allowed number of 
hops (see NOTE 4) 
• For LLS-C1: single hop by 
definition 
(Same as IEEE 
802.1CM 
Category C) 
 1 
NOTE 1: O-DU implements PTP and PLFS master function in this use case.  2 
Two frequency error limits are defined in this specification, conservative class A with 15ppb, and more advanced class 3 
B with 5 ppb.   4 
Both frequency error limits and |TEL| time error limits are measured on the O-DU UNI after applying a first-order 5 
measurement low-pass filter bandwidth of 0.1Hz to the time samples.  6 
Measurement condition is applicable when O-DU Master Clock is either in locked state or holdover, but excluding rare 7 
and temporary transients: 8 
• Resynchronization to recovered source after holdover. 9 
• Resynchronization to newly selected source after failure of the previous one, in case of redundancy. 10 
It is considered that all master ports of the O-DU are fully synchronized together, and there is no port-to-port time error 11 
(see Annex H). 12 
NOTE 2: dTEL+H = accumulated dynamic time error (dTEL and dTEH) of a T-BC clock chain (excluding O-DU 13 
contribution) based on G.8271.1 Appendix IV calculation method.  Refer to Annex H for detailed analysis for 14 
maximum number of T-BC Class B and C switches. 15 
NOTE 3: The O-RU requirement is not specified in IEEE 802.1CM or ITU-T G.8271.1.  O-RAN only specifies the total 16 
O-RU frequency error budget to allow design flexibility by different solution vendors.  The O-RU solution vendor can 17 
make a tradeoff between FFO (Fractional Frequency Offset after applying O-RU filtering) and internal additive 18 
frequency error as long as the total frequency error budget with network total |dTE| limit is met. Refer to Annex H for 19 
analysis. 20 
NOTE 4: Refer to Annex H for analysis of the number of switches to satisfy the allowed network limit.  For the Time 21 
Error budget (both network and relative time errors) it is considered that the O-RU attenuates the dTEH part of the noise 22 
present at its input, and therefore the budget uses |TEL| using a 0.1 Hz low-pass filter as described in ITU-T G.8271.1. 23 
NOTE 5: The T-TSC are considered T-TSC embedded in end application as specified in G.8273.2 Appendix IV and the 24 
performance may not behave as a standalone T-TSC described in the normative section of the recommendation.   25 
However, to ensure interoperability among O-RAN O-RU vendors, the agreed performance will be based for O-RUs 26 
compliant with the classes defined in eCPRI and 802.1CM recommendation: under eCPRI Transport Network 27 
Requirements Specification [2] and IEEE 802.1CM [11], a regular O-RU with |TE|= 80 ns and an enhanced O-RU with 28 
|TE| = 35 ns.  The O-RU time error accumulates linearly with the other contributors in the network. 29 
NOTE 6: O-RU |TE| is the total budget proposed in IEEE 802.1CM for two examples of O-RU classes.  O-RAN 30 
recommends O-RU internal split as shown in the table based on eCPRI and 802.1CM guidance.  It is also acceptable for 31 
RAN solution vendor to use a different O-RU internal split to meet the same O-RU |TE| total budget. 32 
NOTE 7: O-RAN recommends meeting the specified budget split between O-DU and O-RU |TE| across all categories 33 
based on eCPRI and 802.1CM guidance.  A different budget split than what O-RAN recommends may meet the overall 34 
radio interface requirements, but must be considered under the operator’s responsibility.  Typically, configuration LLS-35 
C1 and LLS-C2 with category C target may allow more flexibility in O-DU |TEL|, network |TEL| and O-RU |TE| budget 36 
split as long as the network limit (network |TEL| for time error and |dTEL+H| for frequency error) is still respected.  For 37 
example, if an operator can guarantee the network |TEL| < 75ns which is below the 95ns limit set in this O-RAN 38 
specification, 20ns (95ns-75ns) can be moved into the O-DU |TEL| and/or O-RU |TE| budget.  Inter-operability can be 39 
guaranteed by the network operator when all participating O-DU and O-RU vendors design to meet the operator-chosen 40 
budget split. 41 
NOTE 8: In case the O-DU is synchronized using a local PRTC (typically a GNSS receiver or local T-GM), the time 42 
error limit at the input of the O-DU is specified as being Reference point A (or B) defined by ITU-T G.8271, ITU-T 43 
G.8271.1 and G.8271.2. The O-DU acting as a T-GM in normal operating mode may meet Time Error limits slightly 44 
larger than what is specified  in ITU-T G.8272, and expected to be significantly lower than 1420 ns or 1325 ns. 45 
NOTE 9: In case the O-DU is synchronized using network distribution (typically PTP and PLFS), the network time 46 
error limit at the input of the O-DU is specified as being Reference point C defined by ITU-T G.8271, ITU-T G.8271.1 47 
for Full Timing Support or ITU-T G.8271.2 for Partial Timing Support.  Similarly to NOTE 4, the relevant limit of the 48 
O-DU is the 0.1 Hz low-pass filtered |TEL|, which implies that the O-DU low-pass filtering bandwidth is lower than 0.1 49 
Hz (per section 9.2.2.1). 50 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      201 
O-RAN.WG4.CUS.0-v07.00 
The synchronization accuracy for the OTDOA feature is not defined by 3GPP. Hence absolute |TAE| at O-RU antenna 1 
and the corresponding network |TEL| are out of scope in O-RAN specification and are not covered in this analysis.  The 2 
two O-RU |TE| classes indicated earlier may be considered also for this use case. In a deployed network, an operator 3 
can choose a target absolute |TAE| and then derive the corresponding network |TEL| and the allowed number of hops 4 
and required types of T-BC(s)/T-TC(s) based on ITU-T G.8271.1 guidance. 5 
With Partial Timing Support, when using non-T-BC switches, network contribution limit requires further investigation. 6 
 7 
9.3.2.2  Configuration LLS-C3 8 
Based on IEEE 802.1CM and ITU-T G.8271.1 guidance, the following table summarizes the frequency and time error 9 
budgets across different elements of an O-RAN-compliant fronthaul network.   10 
• PRTC/T-GM : shall not exceed allocated frequency error budget and time error budget (for chosen air interface 11 
target) 12 
• O-RU : shall not exceed allocated frequency error budget and time error budget (for chosen air interface target).  13 
Note that the two O-RU classes described by IEEE 802.1 CM are deployment examples. The requirement shall be 14 
met only for O-RUs compliant with the limits of these classes. 15 
• O-RAN fronthaul network : shall not exceed network limit to satisfy both frequency error budget and time error 16 
budget (for chosen air interface target).  The network limits for time error, applicable at the input of the O-RU, are 17 
those defined in section 7.3 and 7.5 of G.8271.1 (Network limits at reference point C and for deployment cases 18 
with the PRTC deployed in the access network; only one of these would be applicable depending on the specific 19 
deployment), where the O-RU corresponds to the End Application with integrated PTP clock (Deployment Case 1, 20 
see Figure 7-1 in G.8271.1). The limits in G.8271.1 are expressed in terms of MTIE, max |TEL| and peak-to-peak 21 
dTEH. Applicability of G.8271.1 peak-to-peak dTEH(t) limit is for further study. Further details and references are 22 
provided in Annex H. The requirements provided in this section are aligned with IEEE 802.1CM.   23 
• O-DU output measurement signal (1PPS): there is no such allocated frequency error budget as for LLS-C1/C2. 24 
Only time error must be within ±1500ns limits as specified in section 2.3. O-DU and O-RU can be traceable to a 25 
different PRTCs, as long as they share the same timescale. 26 
In case the O-DU is synchronized using a local PRTC (typically a GNSS receiver or local T-GM), the time error 27 
limit at the input of the O-DU is specified as being Reference point A (or B) defined by ITU-T G.8271.1 and 28 
G.8271.2. 29 
In case the O-DU is synchronized using network distribution (typically PTP and PLFS), the network time error 30 
limit at the input of the O-DU is specified as being Reference point C defined by ITU-T G.8271.1 for Full Timing 31 
Support  or ITU-T G.8271.2 for Partial Timing Support. 32 
• O-DU : shall not exceed allocated time error budget required by latency management as specified in section 2.3. 33 
The following table covers budget allocation for configuration LLS-C3 (Refer to Figure 9-4 for reference point 34 
definition).  Requirements are in BOLD : 35 
 36 
 37 
 38 
Table 9-4 : Frequency and time error budget allocation (for topology configuration LLS-C3) 39 
Frequency error budget allocation 
Timing Reference  O-RAN fronthaul network 
contribution limit 
O-RU Air interface 
target 
PRTC/T-GM |freq 
error|≤ 2ppb 
• @ PRTC/T-GM UNI 
 (see NOTE 1) 
total |dTEL+H| ≤ 63ns (see 
NOTE 4) 
• Between PRTC output and O-
RU UNI 
• Include PRTC/T-GM MTIE 
contribution 
• Allowed number of hops (see 
NOTE 2)  
O-RU |freq error| ≤48ppb  
including both 
• FFO after O-RU filtering of dTEL+H 
@ O-RU UNI 
• O-RU internal additive frequency 
error  
 (see NOTE 3) 
±50ppb per 
3GPP spec 
Time error budget allocation 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      202 
O-RAN.WG4.CUS.0-v07.00 
Timing Reference  O-RAN fronthaul network 
contribution limit 
O-RU 
(All allowed class options are shown) 
(see NOTE 6) 
O-DU (see NOTE 8) 
Air interface 
target 
No relative |TE| 
contribution by PRTC/T-
GM as long as PRTC/T-
GM is common PTP and 
PLFS master to all co-
operating O-RU 
(see NOTE 1) 
Relative |TEL| ≤60ns 
• Between 2 O-RUs UNI  
• per IEEE 802.1CM 
• Allowed number of hops (see 
NOTE 5) 
 
O-RU |TE| includes as per IEEE 
802.1CM: 
(enhanced O-RU can be used) 
• O-RU |TE| ≤ 35ns 
 
Per IEEE 
802.1CM 
Category A 
Relative |TEL| ≤100ns  
(for regular O-RU) 
Relative |TEL| ≤190ns  
(for enhanced O-RU) 
• Between 2 O-RUs UNI  
• per IEEE 802.1CM 
• Allowed number of hops (see 
NOTE 5) 
O-RU |TE| includes as per IEEE 
802.1CM (see NOTE 6): 
• Either regular O-RU |TE| ≤ 80ns 
• Or enhanced O-RU |TE| ≤ 35ns 
 
Per IEEE 
802.1CM 
Category B 
Absolute |TE| ≤ 100ns 
or 40 ns (see NOTE 9) 
• @ PRTC/T-GM UNI  
• PRTC/T-GM spec per 
G.8272 (see NOTE 1) 
• Not including 
holdover budget 
• Network |TEL| ≤ 1100ns at 
the O-RU UNI (see NOTE 7, 
NOTE 10) 
• Short Clock Chain Network 
|TEL| ≤ 100ns at the O-RU 
UNI (see NOTE 10, NOTE 
11) 
• Allowed number of hops (see 
NOTE 5) 
O-RU |TE| includes as per IEEE 
802.1CM (see NOTE 6): 
• Either regular O-RU |TE| ≤ 80ns 
• Or enhanced O-RU |TE| ≤ 35ns 
Absolute 
|TAE| at O-RU 
antenna = 
1.5µs derived 
from 3GPP 
(Same as IEEE 
802.1CM 
Category C) 
Absolute |TE| ≤ 100ns 
or 40 ns (see NOTE 9)   
• @ PRTC/T-GM UNI  
• PRTC/T-GM spec per 
G.8272 (see NOTE 1) 
Not including holdover 
budget 
Network |TE| is out of scope 
• O-DU may get its 
synchronization from either 
local or remote PRTC  
 
O-DU absolute |TAE|  
@ O-DU UNI 
< ±1.5µs (see NOTE 8) 
Absolute 
|TAE| at O-DU 
= 1.5µs  
(Same as IEEE 
802.1CM 
Category C) 
 1 
NOTE 1: PRTC/T-GM follows G.8272 specification for PRTC-A and PRTC-B, or G.8272.1 for ePRTC.  MTIE 2 
specification is considering dynamic error during lock condition and its contribution is covered under dTEL+H in note 2.  3 
However, there is possible semi-static frequency error which is not part of MTIE specification.  Therefore, it is included 4 
here.   5 
Both ITU-T G.8272 and G.8272.1 specify that for the combined PRTC and T-GM function, time error samples are 6 
measured through a moving-average low-pass filter of at least 100 consecutive time error samples. Assuming a message 7 
rate of 16 PTP messages per second as described in G.8275.1, the low-pass filtering bandwidth is 0.05 Hz, which is not 8 
same as a 0.1Hz low-pass-filtered |TEL|.  (The frequency response of a moving average filter is approximately similar to 9 
a first-order linear filter of bandwidth 1/(T), where T is the width of the moving average window). 10 
In case the PRTC/T-GM is a multiple-port device, it is considered that all master ports are fully synchronized together, 11 
and there is no port-to-port time error. 12 
Refer to Annex H for detailed analysis. 13 
NOTE 2: dTEL+H = accumulated dynamic time error (dTEL and dTEH) of a T-BC clock chain, including PRTC/T-GM 14 
contribution, to O-RU UNI (or O-DU UNI) based on G.8271.1 Appendix IV calculation method.  Refer to Annex H for 15 
analysis for maximum number of T-BC Class B and C switches. 16 
NOTE 3: The O-RU requirement is not specified in IEEE 802.1CM or ITU-T G.8271.1.  O-RAN only specifies the total 17 
O-RU frequency error budget to allow design flexibility by different solution vendors.  The O-RU solution vendor can 18 
make a tradeoff between FFO (Fractional Frequency Offset after applying O-RU filtering) and O-RU internal additive 19 
frequency error as long as the total frequency error budget with network total |dTE| limit is met.  Refer to Annex H for 20 
analysis. 21 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      203 
O-RAN.WG4.CUS.0-v07.00 
NOTE 4: The O-RAN fronthaul network contribution limits are stricter and therefore not consistent with peak-to-peak 1 
dTEH(t) limits defined in G.8271.1 for long synchronization chain (see clause 7.3 in G.8271.1). In order to tolerate the 2 
higher G.8271.1 limits (applicable to long network) the O-RU would be required to provide higher filtering capabilities. 3 
This is an option that may be considered but not further described in this specification.  This requirement assumes 4 
shorter clock chains.  5 
NOTE 5: Refer to Annex H for analysis of the number of switches to satisfy the allowed network limit. 6 
 7 
NOTE 6: The T-TSC are considered T-TSC embedded in end application as specified in G.8273.2 Appendix IV and the 8 
performance may not behave as a standalone T-TSC described in the normative section of the recommendation.   9 
However, to ensure interoperability among O-RAN O-RU vendors, the agreed performance will be based for O-RUs 10 
compliant with the classes defined in eCPRI and 802.1CM recommendation: under eCPRI Transport Network 11 
Requirements Specification [2] and IEEE 802.1CM [11], a regular O-RU with |TE|= 80 ns and an enhanced O-RU with 12 
|TE| = 35 ns.  The O-RU time error accumulates linearly with the other contributors in the network. 13 
NOTE 7:  Network |TEL| = 1100 ns is specified by G.8271.1 in section 7.3 for the max |TEL|. An O-RU may consume 14 
only 35 ns (enhanced O-RU) or 80 ns (regular O-RU). max|TEL| ≤ 1 100 ns may leave extra budget that could be 15 
allocated for instance to holdover that could be especially relevant in case of TDD applications. This additional budget 16 
would be added on top of the 35 ns (enhanced O-RU) or 80 ns (regular O-RU). Specification for holdover is for further 17 
study. 18 
NOTE 8: TAE between O-DU and O-RU limit (as specified in section 2.3) translates into absolute |TAE| for both O-DU 19 
and O-RU with half the budget. This is measured at any available O-DU output signal (either 1PPS or O-DU UNI). 20 
NOTE 9: PRTC-B (max|TE| = 40 ns) is assumed in case of short clock chains by G.8271.1. 21 
NOTE 10: the contribution from the network includes the noise generated by the PRTC/T-GM. 22 
NOTE 11: the network limits for short clock chain networks are specified in clause 7.5 of G.8271.1. 23 
The synchronization accuracy for the OTDOA feature is not defined by 3GPP. Hence absolute |TAE| at O-RU antenna 24 
and the corresponding network |TEL| are out of scope in O-RAN specification and therefore not covered in this analysis.  25 
The two O-RU |TE| classes indicated earlier may be considered also for this use case.  In a deployed network, operator 26 
can choose a target absolute |TAE| and then derive the corresponding network |TEL| and the allowed number of hops 27 
and required types of T-BC(s)/T-TC(s) based on ITU-T G.8271.1 guidance. 28 
With Partial Timing Support, when using non-T-BC switches, network contribution limit requires further investigation. 29 
9.3.2.3  Configuration LLS-C4 30 
The following table summarizes the frequency and time error budgets across different elements.   31 
• O-DU output measurement signal (1PPS): there is no such allocated frequency error budget as for LLS-C1/C2. 32 
Only time error must be within ±1500ns limits as specified in section 2.3. 33 
In case the O-DU is synchronized using a local PRTC (typically a GNSS receiver or local T-GM), the time error 34 
limit at the input of the O-DU is specified as being Reference point A (or B) defined by ITU-T G.8271.1 and 35 
G.8271.2. 36 
In case the O-DU is synchronized using network distribution (typically PTP and PLFS), the network time error 37 
limit at the input of the O-DU is specified as being Reference point C defined by ITU-T G.8271.1 for Full Timing 38 
Support  or ITU-T G.8271.2 for Partial Timing Support 39 
• O-RU : shall not exceed allocated frequency error budget and time error budget (for chosen air interface target) 40 
Note that the two O-RU classes described by IEEE 802.1 CM are deployment examples. The requirement shall be 41 
met only for O-RUs compliant with the limits of these classes 42 
The following table covers budget allocation for configuration LLS-C4: 43 
Table 9-5 : Frequency and time error budget allocation (for topology configuration LLS-C4) 44 
Frequency error budget allocation 
Timing Reference in 
network or O-DU  
O-RAN 
fronthaul 
network 
O-RU Air interface target 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      204 
O-RAN.WG4.CUS.0-v07.00 
No dependency 
 
No dependency O-RU |freq error| ≤ 50ppb including both 
• O-RU filtering on local PRTC noise 
• O-RU internal additive frequency error  
 (NOTE 3, 4) 
±50ppb per 3GPP spec 
 
Time error budget allocation 
Timing Reference in 
network or O-DU 
O-RAN 
fronthaul 
network 
O-RU 
(See NOTE 1,2, 3, 4) 
O-DU (see NOTE 5) 
Air interface target 
No dependency No dependency Local time source |TE| ≤ 100ns  (PRTC-
A), ≤ 40ns (PRTC-B) 
O-RU |TE| ≤ 30ns 
IEEE 802.1CM Category 
B 
local time source |TE| ≤ 100ns 
O-RU |TE| ≤ 1.4us including any 
holdover budget 
Absolute |TAE| at O-RU 
antenna = 1.5µs derived 
from 3GPP 
(Same as IEEE 802.1CM 
Category C) 
Absolute |TE| ≤ 
100ns or 40 ns (see 
NOTE 1)   
• @ PRTC/T-GM 
UNI  
• PRTC/T-GM spec 
per G.8272 
Not including 
holdover budget 
Network |TE| is 
out of scope 
• O-DU may 
get its 
synchronization 
from either 
local or remote 
PRTC  
 
O-DU absolute |TAE|  
@ O-DU UNI 
< ±1.5µs (NOTE 5) 
Absolute |TAE| at O-DU 
= 1.5µs  
(Same as IEEE 802.1CM 
Category C) 
NOTE 1: local PRTC (typically GNSS receiver) to O-RU.  Therefore, budget is based on ITU-T G.8272 (PRTC class 1 
A, with max |TE| = 100ns, or PRTC class B, with max |TE| = 40ns) on each GNSS receiver. Because there is no 2 
requirement in ITU-T G.8272 on the relative time error between two neighbor local PRTC (GNSS receivers), it is not 3 
possible to remove any common time error in the budget at the O-RUs side.  4 
NOTE 2: When feature for relative |TAE| is needed, LLS-C4 configuration will include 2x local PRTC-A |TE| = 200ns 5 
total, or 2x local PRTC-B |TE| = 80ns total.  This disadvantage automatically prevents LLS-C4 configuration from 6 
meeting certain demanding relative |TAE| feature (as target by 802.1CM Category A).  Hence, only 802.1CM Category 7 
B/C are shown.  8 
NOTE 3: O-RU |TE| is not governed by eCPRI/802.1CM or ITU-T standard since LLS-C4 configuration is not based on 9 
network timing solution.  O-RU |TE| budget is basically the remaining budget to satisfy target feature |TAE| after 10 
excluding the local PRTC |TE| contribution. O-RU |TE| includes the O-RU clock recovery (i.e. deriving a clean clock 11 
from local time source) error and any O-RU internal error. 12 
NOTE 4: This O-RU option requires extra interface and extra hardware support including local PRTC (typically GNSS 13 
receiver and antenna) and likely a more expensive oscillator for noise filtering. Standard O-RU with network timing 14 
support (target for configuration LLS-C1, LLS-C2 and LLS-C3) cannot offer this option in general.  Specific O-RU 15 
design is needed. 16 
NOTE 5: TAE between O-DU and O-RU limit (as specified in section 2.3) translates into absolute |TAE| for both O-DU 17 
and O-RU with half the budget. This is measured at any available O-DU output signal (either 1PPS or O-DU UNI). 18 
The synchronization accuracy for the OTDOA feature is not defined by 3GPP. Hence absolute |TAE| at O-RU antenna 19 
and the corresponding O-RU|TE| are out of scope in O-RAN specification and is therefore not covered in this analysis.  20 
In a deployed network, operator can choose a target absolute |TAE| and then derive the corresponding O-RU |TE|. 21 
9.4 Node Behavior Guidelines 22 
9.4.1 Configurations LLS-C1 and LLS-C2 23 
This section covers O-RAN topology configurations LLS-C1 and LLS-C2 where the O-DU acts as PLFS and PTP 24 
master. 25 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      205 
O-RAN.WG4.CUS.0-v07.00 
The operation of O-DU and O-RU during holdover and other related states is described in Table 9-6. O-RU holdover 1 
and O-DU holdover are independent events. Likewise, O-RU holdover behavior is optional (not mandatory to be 2 
supported by HW or SW). 3 
In addition to synchronization state, the O-DU also considers estimated synchronization accuracy, because 4 
synchronization state alone does not necessarily reflect synchronization status – a node in the LOCKED  or 5 
HOLDOVER mode may have synchronization accuracy outside of a required limit. 6 
Table 9-6 : Node behavior during Holdover and Out-of-Synch 7 
O-DU State 
 
Synch 
accuracy 
O-RU State M-Plane 
State 
Action 
- - - Disconnected Section 9.4.1.1 
- N/A FREERUN Connected Section 9.4.1.2 
FREERUN  - - Connected Section 9.4.1.3 
LOCKED/ 
HOLDOVER 
In a limit LOCKED/ 
HOLDOVER 
Connected Section 9.4.1.4 
LOCKED/ 
HOLDOVER 
Out of a limit LOCKED/ 
HOLDOVER 
Connected Section 9.4.1.4 
 8 
9.4.1.1 M-Plane disconnected 9 
O-RAN allows hybrid M-plane model with M-plane communication between  10 
• O-RU and O-DU 11 
• O-RU and Service Management and Orchestration (SMO) function 12 
As a result, the following M-plane disconnected events must be considered: 13 
• O-DU detects loss communication to O-RU 14 
• SMO detects loss communication to O-RU 15 
• O-RU detects loss communication to O-DU 16 
• O-RU detects loss communication to SMO 17 
• O-RU detects loss communication to both O-DU and SMO 18 
NOTE: The following behavior is an assumption and expected to be described in M-Plane specification. 19 
O-DU 20 
If the O-DU detects a loss of M-plane communication to an O-RU, the O-DU shall stop sending any IQ data towards 21 
the O-RU. The O-DU shall also send an explicit command to the O-RU to disable RF transmission. 22 
The O-DU shall keep RF transmission on the O-RU off, and shall not turn it on, if M-plane communication to the O-RU 23 
is broken. 24 
Rationale: The requirement for the O-DU to send an explicit command is intended to prevent unsupervised radio 25 
operation, if M-plane communication broken in one direction only, and the fault stays undetected on the O-RU. On the 26 
other hand, if the O-RU detects the fault, it disables RF transmission autonomously (see below), and the O-DU shall 27 
stop IQ transmission accordingly. 28 
O-RU 29 
If the O-RU detects a loss of M-plane communication to the O-DU or both O-DU and SMO, the O-RU stops RF 30 
transmission.  The O-RU shall keep RF transmission off, and shall not turn it on, if M-plane communication to the O-31 
DU or SMO is broken. 32 
If the O-RU detects a loss of M-plane communication to the SMO only, the O-RU action shall continue RF 33 
transmission.  It is expected SMO  can eventually detect a loss of M-plane communication to the O-RU based on some 34 
round-trip sanity check mechanism.  Any SMO action is out of the scope of this specification. 35 
SMO 36 
If the SMO detects a loss of M-plane communication to an O-DU or an O-RU, the SMO action is out of scope of this 37 
specification. 38 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      206 
O-RAN.WG4.CUS.0-v07.00 
 1 
9.4.1.2 O-RU in the FREERUN State 2 
O-DU 3 
If synchronization state on a connected O-RU transits to the FREERUN state, the O-DU shall stop sending C-Plane and 4 
U-Plane related data to the O-RU unless otherwise specified.  When O-RU transits to LOCKED state, O-DU shall 5 
request carriers to be switched to ACTIVE to reenable transmission.  6 
Rationale: The O-DU receives a notification that the O-RU switched to the FREERUN state and, as consequence, all 7 
configured carriers on the O-RU were disabled. The O-DU shall disable carriers to be aligned on the carrier 8 
configuration. After O-RU reestablish synchronization, the O-RU notifies the O-DU that the O-RU switched to the 9 
LOCKED state and then if the O-DU intends to reenable transmission, the O-DU shall set carriers to active.  10 
NOTE: For carrier activation procedure and notifications related to carriers and synchronization state, please refer to the 11 
M-Plane specification [7]. 12 
O-RU 13 
If synchronization state on an O-RU transits to the FREERUN state, the O-RU shall autonomously stop RF 14 
transmission and switch all carriers to INACTIVE state. The O-RU shall send a notification to the O-DU about 15 
synchronization and carriers state change. The O-RU shall re-enable RF transmission only when the O-DU requests it. 16 
Rationale: The O-RU is obliged to stop RF transmission as soon as the accuracy of the signal can no longer be 17 
guaranteed. The O-RU shall send notification to the O-DU about any changes in its states. The O-RU shall not activate 18 
carriers by itself as it is not guaranteed that the O-DU is providing valid U-Plane and C-Plane related data to the O-RU. 19 
9.4.1.3 O-DU in the FREERUN state 20 
O-DU 21 
If an O-DU transits to the FREERUN state, the O-DU shall disable RF transmission on all connected O-RUs, and keep 22 
it turned off until synchronization is reacquired. 23 
NOTE: The O-DU shall support configuration option that allows O-DU to operate outside of the required 24 
synchronization limits, or without any synchronization at all. 25 
O-RU 26 
The O-RU shall only react on a change of Quality Level, received in PLFS SSMs, and Clock Class, received in PTP 27 
Announce messages: 28 
• If the received Quality Level and Clock Class are acceptable the O-RU shall continue using the reference 29 
signal. 30 
• If the received Quality Level or Clock Class becomes unacceptable the O-RU shall stop using the reference 31 
and transit to either the FREERUN state or a HOLDOVER state. 32 
• Otherwise, the O-RU shall rely on O-DU to take care of the changed synchronization state. The O-RU need not 33 
react on the FREERUN state at the O-DU in any distinct way. 34 
 35 
9.4.1.4 Operation in LOCKED/HOLDOVER state 36 
Whether in “LOCKED” or “Holdover” state, it is expected that O-DU monitors the “LOCKED/HOLDOVER” status of 37 
the O-RUs under its management.  38 
O-DU 39 
• In configuration LLS-C1 and LLS-C2: by collecting the O-RUs’ “LOCKED” or “HOLDOVER” state, as well 40 
as the received PLFS and PTP quality status , O-DU in “LOCKED” or “HOLDOVER” state is able to detect 41 
any self-estimated frequency and/or time accuracy degradation by the O-RUs. 42 
NOTE: all O-RUs in the LOCKED state and directly connected to the same master clock (typically the O-DU 43 
in LLS-C1, and the nearest T-BC in LLS-C2) preserve optimal relative time error between them, regardless the 44 
O-DU’s status. As a result, intra-site features may remain enabled using different criteria compared to inter-site 45 
ones. 46 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      207 
O-RAN.WG4.CUS.0-v07.00 
• NOTE: the port-to-port constant and dynamic time errors between two master ports of the same module (either 1 
the O-DU in configuration LLS-C1, and the T-BC ones in LLS-C2) may also contribute to the total error. This 2 
is currently not specified in ITU-T G.826x and ITU-T G.827x recommendations and shall be taken into 3 
account in the upcoming editions. 4 
O-RU 5 
The O-RU shall only react on a change of Quality Level received in PLFS SSMs, and Clock Class received in PTP 6 
Announce messages: 7 
• If received Quality Level and Clock Class are acceptable, the O-RU shall keep on using the reference signal. 8 
• If received Quality Level or Clock Class become unacceptable, the O-RU shall stop using the reference and 9 
transit to either the FREERUN state or a HOLDOVER state. 10 
ITU-T G.8271.1 network limits define the notion of “within holdover specification” (clock class values 7 and 11 
135), and “exceeding the holdover specification” (clock class values 140, 150, 160, 165).  12 
ITU-T G.8271.1 defines this holdover specification as 400ns in the context of category C (as per IEEE 13 
802.1CM). This value is however too high and useless for categories A/B, highlighting that the notion of 14 
“acceptable” is dependent on the category of each feature.  15 
As a consequence, it is mandatory that each O-RU reports to O-DU the received Quality Level and Clock 16 
Class, allowing O-DU to enable and disable accordingly the various RF features. 17 
Besides, the value for the holdover specification may be configurable, thus allowing each network operator to 18 
tune it to its own needs. 19 
9.4.2 Configurations LLS-C3 20 
This section covers O-RAN topology configuration LLS-C3 based on IEEE 802.1CM bridging network.  PRTC/GM is 21 
provided by the fronthaul network.  22 
The operation of the Fronthaul network elements, O-DU and O-RU during holdover and other related states is described 23 
in Table 9-7. O-RU holdover and O-DU holdover are independent events. Likewise, O-RU holdover behavior is 24 
optional (not mandatory to be supported by HW or SW). 25 
More than one PRTC/GM may be considered as a deployment option to improve redundancy. Should a PRTC/GM fail, 26 
then another should be available as a backup time source and the PTP network tree would automatically re-arrange. 27 
Only a short holdover (NOTE: duration needs to be defined from ITU-T G.8271.1) shall be supported inside the various 28 
network elements (as well as O-DU and O-RU) to provide a safe operation during this rearrangement scenario. 29 
NOTE: the O-DU can also be configured to provide backup PLFS+PTP like in LLS-C2.  30 
In addition to synchronization state, the O-DU also considers estimated synchronization accuracy because the 31 
synchronization state alone does not necessarily reflect synchronization status; a node in the LOCKED or HOLDOVER 32 
mode may have synchronization accuracy outside of a required limit. 33 
Table 9-7 : Node behavior during Holdover and Out-of-Sync 34 
Network State Sync 
Accuracy 
O-DU and O-RU 
State 
M-Plane 
State 
Action 
- - - Disconnected Section 9.4.2.1 
- N/A FREERUN Connected Sections 9. 4.2.2  
and 9. 4.2.3 
LOCKED/ 
HOLDOVER 
In limit LOCKED/ 
HOLDOVER 
Connected Section 9. 4.2.4 
LOCKED/ 
HOLDOVER 
Out of limit LOCKED/ 
HOLDOVER 
Connected Section 9. 4.2.4 
 
 35 
9.4.2.1 M-Plane disconnected 36 
This section is same as 9.4.1.1 37 
 38 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      208 
O-RAN.WG4.CUS.0-v07.00 
9.4.2.2 O-RU in the FREERUN State 1 
This section is same as 9.4.1.2 2 
 3 
9.4.2.3 O-DU in the FREERUN state 4 
NOTES:  5 
- if O-DU and O-RU are synchronized from the same fronthaul network and are connected to neighbor nodes in this 6 
network, it is most probable that the event leading to O-RU transiting to the FREERUN state will also lead to the same 7 
transition at the O-DU. 8 
- if O-DU has backup frequency and time source, such as local or remote PRTC, it can become a backup Master like in 9 
configuration LLS-C2.  10 
 11 
O-DU 12 
If an O-DU transits to the FREERUN state, because the synchronizing network delivers unacceptable synchronization 13 
quality, the O-DU shall disable RF transmission on all connected O-RUs, and keep it turned off until synchronization is 14 
reacquired again. 15 
NOTE: The O-DU shall support configuration option that allows O-DU to operate outside of the required 16 
synchronization limits, or without any synchronization at all. 17 
 18 
O-RU 19 
The O-RU is not synchronized from the O-DU. It may have no indication of the O-DU synchronization status, and 20 
therefore shall only rely on O-DU to take care of the changed synchronization state. The O-RU need not react to the 21 
FREERUN state at the O-DU in any distinct way. 22 
 23 
9.4.2.4 Operation in SYNCED/HOLDOVER state 24 
Whether in “LOCKED” or “HOLDOVER” state, it is expected that O-DU monitors the “LOCKED” or “HOLDOVER” 25 
state, as well as the received PLFS and PTP quality status. This is same as configurations LLS-C1 and LLS-C2 26 
described in earlier section. 27 
 28 
9.4.3 Configurations LLS-C4 29 
This section covers O-RAN topology configurations LLS-C4 where the O-RU is synchronized by local PRTC (typically 30 
a GNSS receiver). 31 
The operation of O-DU and O-RU during holdover and other related states is described in  32 
 33 
Table 9-8. O-RU holdover and O-DU holdover are independent events. Likewise, O-RU holdover behavior is optional 34 
(not mandatory to be supported by HW or SW). 35 
In addition to the synchronization state, the O-DU also considers estimated synchronization accuracy because the 36 
synchronization state alone does not necessarily reflect synchronization status; a node in the LOCKED or HOLDOVER 37 
mode may have synchronization accuracy outside of a required limit. 38 
 39 
 40 
Table 9-8 : Node behavior during Holdover and Out-of-Sync 41 
O-DU State 
 
Sync 
Accuracy 
O-RU State M-Plane 
State 
Action 
- - - Disconnected Section 9.4.3.1 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      209 
O-RAN.WG4.CUS.0-v07.00 
- N/A FREERUN Connected Section 9.4.3.2 
FREERUN  - - Connected Section 9.4.3.3 
LOCKED/ 
HOLDOVER 
In limit LOCKED/ 
HOLDOVER 
Connected Section 9.4.3.4 
LOCKED/ 
HOLDOVER 
Out of limit LOCKED/ 
HOLDOVER 
Connected Section 9.4.3.4 
 
 1 
9.4.3.1 M-Plane disconnected 2 
This section is same as 9.4.1.1 3 
 4 
9.4.3.2 O-RU in the FREERUN State 5 
This section is same as 9.4.1.2 6 
 7 
9.4.3.3 O-DU in the FREERUN state 8 
O-DU 9 
If an O-DU transits to the FREERUN state, the O-DU shall disable RF transmission on all connected O-RUs and keep it 10 
turned off until synchronization is reacquired again. 11 
NOTE: The O-DU may support a configuration option that allows O-DU to operate outside of the required 12 
synchronization limits, or without any synchronization at all. 13 
 14 
O-RU 15 
The O-RU is not synchronized from the O-DU. It may have no indication of the O-DU synchronization status, and 16 
therefore shall only rely on O-DU to take care of the changed synchronization state. The O-RU need not react to the 17 
FREERUN state at the O-DU in any distinct way. 18 
 19 
9.4.3.4 Operation in SYNCED/HOLDOVER state 20 
Whether in “LOCKED” or “HOLDOVER” state, it is expected that O-DU monitors the “LOCKED” or “HOLDOVER” 21 
state. This is same as configurations LLS-C1 and LLS-C2 described in earlier section. 22 
 23 
9.5 S-Plane Handling in Multiple Link Scenarios 24 
Behavior of S-Plane in scenarios with multiple links shall be based on the following principles: 25 
O-DU - Grand Master (configurations LLS-C1 & LLS-C2) 26 
There must be an input sync reference signal on at least one link to an O-RU. Likewise, it is not prohibited to have input 27 
reference signal on multiple or all links to a given O-RU. 28 
O-RU (all configurations)– Subordinates 29 
O-RU must be able to adapt at startup to the reception of a sync reference signal on any port from their master. How the 30 
ingress signal is detected (usually SSM for SyncE and Announce for PTP), and how the active port is selected (e.g., via 31 
round-robin, ITU-T G.8275.1 BMCA, etc.) are implementation-specific. 32 
If the input reference is present on multiple links, the O-RU may, but is not required to, implement redundancy for the 33 
input reference signal if only capacity links are present on the module.  34 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      210 
O-RAN.WG4.CUS.0-v07.00 
 1 
9.6 Announce Messages 2 
O-RU shall check the following advertised parameters against a list of acceptable values based on its own design 3 
(assumed to be M-Plane configurable): 4 
• Domain Number: Default: 24 (for Full Timing Support per ITU-T G.8275.1) or 44 (for Partial Timing Support 5 
per ITU-T G.8275.2) 6 
• PTP Acceptable Clock Classes:  7 
o Default: 6, 7 8 
o Operator configurable: 6, 7, 135, 140, 150, 160, 248 9 
 10 
9.7 Elementary Procedures 11 
9.7.1 PTP Time Synchronization procedure 12 
All procedures used to exchange time related information between a time synchronization master and subordinate shall 13 
be compliant to the ITU-T G.8275.1 or G.8275.2 telecom profile, which provides necessary details on utilization of the 14 
IEEE 1588 protocol in telecom applications. 15 
 16 
9.7.2 System Frame Number Calculation from GPS Time 17 
The general framework for System Frame Number (SFN) calculation from GPS (or GNSS) time is based on the 18 
following premises: 19 
• PTP time on the fronthaul interface shall use PTP timescale 20 
• The PTP epoch is 1 January 1970 00:00:00 TAI, which is 31 December 1969 23:59:51.999918 UTC. 21 
• PTP time on the fronthaul interface shall be traceable to a PRTC if a network wide synchronization of O-RUs 22 
at the air interface is required (as in TDD 5G) 23 
• From PTP time, the GPS seconds elapsed since GPS epoch (midnight January 6th, 1980) can be calculated, 24 
since the difference between PTP and GPS epoch is a constant.  The GPS seconds are expressed as a real 25 
number. 26 
• GPS seconds shall be used to calculate the frame number according to: 27 
𝐹𝑟𝑎𝑚𝑒𝑁𝑢𝑚𝑏𝑒𝑟=𝑓𝑙𝑜𝑜𝑟(
𝐺𝑃𝑆𝑠𝑒𝑐𝑜𝑛𝑑𝑠−𝛽∗0.01− 𝛼
1.2288∗109
𝑓𝑟𝑎𝑚𝑒𝑃𝑒𝑟𝑖𝑜𝑑𝑖𝑛𝑆𝑒𝑐𝑜𝑛𝑑𝑠 )𝑚𝑜𝑑(𝑚𝑎𝑥𝐹𝑟𝑎𝑚𝑒𝑁𝑢𝑚𝑏𝑒𝑟+1) 28 
 29 
o number expressed in [seconds] 30 
o framePeriodinSeconds = 0.01 [seconds]; 31 
o maxFrameNumber = 1023 32 
o NOTE:  and  are defined as follows: 33 
Table 9-9   and  parameter exchange 34 
Direction Parameter Range Resolution 
O-DU to O-RU Offset α (NR) of radio 
frame timing (NOTE 1) 
 : 0~1.2288e7  
 * (1/1.2288 ns) : 0.00s~0.01s 
1/1.2288 ns  
 
O-DU to O-RU Offset β (NR) of radio 
frame timing (NOTE 1) 
: -32768~32767  
 * (10ms) : -327680ms~327670ms 
10ms 
NOTE 1: Parameter data types and values for α and β are provided by the O-RAN M-plane spec. Epoch for α and β 
(i.e. SFN=0) is set to 1980.1.6 00:00 (UTC) 
 35 
Figure 9-5 below shows examples when  and  are set to different values.  The frame number at the antenna reference 36 
point is shown in relation to the GPSseconds time.  For simplicity the GPS-time around 10 seconds is shown. 37 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      211 
O-RAN.WG4.CUS.0-v07.00 
 1 
 
 2 
Figure 9-5 :  and  parameter example 3 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      212 
O-RAN.WG4.CUS.0-v07.00 
The UL to DL radio frame timing offset in TDD systems is described in Table 9-10 with default values applicable for 1 
5G NR FR1 and FR2 ranges. NTAoffset is the configurable parameter used to control the timing offset. The absolute time 2 
offset TTAoffset can be calculated as NTAoffset *1/1.96608GHz. 3 
Table 9-10 : Definition of TTAoffset & NTAoffset 4 
Frequency Range Range Resolution Default 
FR1 NTAoffset: 0~65535 
TTAoffset: 0µs~33.3µs 
(NOTE 3) 
0.5ns NTAoffset: 25600 (NOTE 2) 
TTAoffset: 25600*Tc= 13.02µs  
(NOTE 1) 
FR2 NTAoffset: 0~65535 
TTAoffset: 0µs~33.3µs 
(NOTE 3) 
0.5ns NTAoffset: 13792 (NOTE 2) 
TTAoffset: 13792*Tc= 7.015µs 
(NOTE 1) 
NOTE 1: Tc=~0.5ns=1/1.96608GHz  
NOTE 2: based on 3GPP TS38.133 Table 7.1.2-2 
NOTE 3: TTAoffset=0s for FDD systems 
 5 
 6 
 7 
  8 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      213 
O-RAN.WG4.CUS.0-v07.00 
Chapter 10 Beamforming Guidelines 1 
10.1 General 2 
This chapter describes terminologies, rules, properties and uses cases related to beamforming and its functionalities. It is 3 
the baseline to follow by the O-DU, O-RU and modeling in M-plane. 4 
10.2 Hierarchy of Radiation Structure in O-RU 5 
The hierarchy of radiation structure in O-RU is depicted in Figure 10-1 and described below: 6 
 7 
Figure 10-1. Hierarchy of Radiation Structure 8 
• O-RU: each O-RU can have 1 or several Panels 9 
• Panel: each panel can have 1 or several TX-antenna-arrays/RX-antenna-arrays  10 
• TX-antenna-array/RX-antenna-array: 11 
o TX-antenna-array/RX-antenna-array is a logical construct used for data routing; there is a relationship 12 
to physical antennas as defined by the O-RU construction, and eAxC values may be assigned to TX-13 
antenna-arrays/RX-antenna-arrays: 14 
▪ Multiple eAxC values may be assigned to a single TX-antenna-array or RX-antenna-array 15 
▪ An eAxC value may only be assigned to a single TX-antenna-array and RX-antenna-array 16 
o Each TX-antenna-array/RX-antenna-array has only 1 polarization for Category A O-RUs. 17 
o Each TX-antenna-array/Rx-antenna-array may include both polarizations for Category B O-RUs. 18 
▪ O-RUs shall at least provide for RX-antenna-arrays for each polarization 19 
o Each TX-antenna-array/RX-antenna-array terminates 1 or several RU_port_IDs. 20 
o Each TX-antenna-array/RX-antenna-array can have 1 or several array elements (one use case being 21 
antenna technologies wherein a single “array element” can support a high degree of beamforming, 22 
another use case being the need to address a single element in the array). 23 
o Each physical array element may be considered as a member of one or multiple TX-antenna-arrays / 24 
RX-antenna-arrays. 25 
o Amplitude and phase of each array element inside one TX-antenna-array/RX-antenna-array can be 26 
controlled via the weights pointed to by the beam_ID(s) which are received via the terminated 27 
RU_port_ID(s).  Alternatively, the beam_IDs may indicate the “state” of an antenna array not 28 
explicitly comprising separate radiating elements which is also possible within the O-RAN 29 
specification. 30 
O-RU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      214 
O-RAN.WG4.CUS.0-v07.00 
o It is assumed that when executing beamforming, array elements within an array are combined in 1 
phase to form directed energy, therefore the array elements belonging to a TX-antenna-array and RX-2 
antenna-array are calibrated together as a group (although such a calibration operation may be hidden 3 
from the interface (e.g. executed once upon O-RU manufacture). 4 
• Array element: each array element can have 1 or several Radiators (where amplitude and phase relation 5 
between the radiators cannot be changed dynamically during real-time) 6 
• Radiator: radiating element – see IEEE Std 145-1993 (R2004) 7 
10.3 Calibration 8 
Calibration is the functionality of eliminating/minimizing relative amplitude and phase differences over frequency 9 
domain or time delay over the time domain between the array elements belonging to same TX-antenna-array/RX-10 
antenna-array (including effect of front-end analog filters). 11 
Calibration can also be applied between two or many TX-antenna-arrays/RX-antenna-arrays if those TX-antenna-12 
arrays/RX-antenna-arrays belong to the same calibration Group which is part of the O-RU capabilities. 13 
NOTE: Calibration capability between different TX/RX antenna arrays is expected to be conveyed via M-Plane but is 14 
not supported in this version of the specification. When not available, it should be assumed that calibration is not 15 
possible between the TX/RX antenna arrays. 16 
 17 
10.4 beamId Use for Various Beamforming Methods 18 
There are two main domains in which beamforming is executed, frequency-domain and time-domain; it is also possible 19 
to combine both (called “hybrid beamforming”).  Frequency-domain beamforming is done between the RE mapping 20 
and FFT/iFFT processing stages (in UL and DL respectively) so is inherently a digital operation.  Time-domain 21 
beamforming may be executed digitally or in the analog domain. 22 
A characteristic of frequency-domain beamforming when used with OFDM is that different users may use the same 23 
time slot yet use different beams.  In contrast, with time-domain beamforming all the users and signals in a time slot use 24 
the same beam.  Hybrid beamforming allows different users in the same time slot to use different beams (the frequency-25 
domain part) at the same time as all the users using a shared time-domain beam.   An example is the case where the 26 
time-domain beam provides directivity in the elevation plane (so all users use the same elevation beam) while the 27 
frequency-domain beams provide directivity in the azimuth plane (so different users may use different azimuth beams). 28 
When implementing any kind of beamforming, O-RAN supports the following beamforming methods (see also Annex J 29 
for a more mathematical description of the following beamforming methods): 30 
a) Predefined-beam beamforming 31 
b) Weight-based dynamic beamforming (based on real-time-updated weights) 32 
c) Attribute-based dynamic beamforming (based on real-time-updated beam attributes) 33 
d) Channel-information-based beamforming 34 
 35 
When the Channel-information-based beamforming method is used for at least one layer (or spatial stream), then O-DU 36 
shall use same beamforming method for all layers (or spatial streams) of the specific time-frequency resource 37 
element(s). Similarly when the Attribute-based beamforming method is used for at least one layer (or spatial stream), 38 
then O-DU shall use same beamforming method for all layers (or spatial streams) of the specific time-frequency 39 
resource element(s). 40 
 41 
A: Predefined-beam beamforming 42 
In this case, an index called “beamId” indicates the specific beam pre-defined in the O-RU to use.  The beamId could 43 
indicate a frequency-domain beam or a time-domain beam or a combination of both (“hybrid” beam) and the O-DU 44 
needs to know to ensure the beamId is properly applied e.g. the O-DU could not apply different time-domain beams to 45 
the different PRBs in the same OFDM symbol.  The method the O-RU uses to generate the beam is otherwise not 46 
relevant, it could use the application of gain and phase controls on separate antenna elements, or use multiple shaped-47 
energy antennas, or any other technology.  The O-RU is expected to convey to the O-DU via the M-Plane on startup 48 
beam characteristics but the O-DU remains ignorant regarding how the beam is actually created by the O-RU. 49 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      215 
O-RAN.WG4.CUS.0-v07.00 
B: Weight-based dynamic beamforming 1 
Here the O-DU is meant to generate weights that create the beam so the O-DU needs to know the specific antenna 2 
characteristics of the O-RU including how many antenna elements are present in the vertical and horizontal directions 3 
and the antenna element spacing, among other properties.  The weight vector associated with each beam has a beamId 4 
value and the interpretation of this beamId value is addressed in this chapter. 5 
C: Attribute-based dynamic beamforming 6 
Like index-based beamforming, attribute-based beamforming allows the O-DU to tell the O-RU to use a specific 7 
beamId but in this case that beamId is associated with certain beam attributes as described in chapter 5.4.7.2.  How the 8 
O-RU achieves the implementation of the beams is not specified, however again the O-DU needs to know whether the 9 
beam identified by the beamId is generated as a frequency-domain beam or a time-domain beam to ensure the beamId is 10 
properly applied e.g. the O-DU could not apply different time-domain beams to the different PRBs in the same OFDM 11 
symbol. 12 
D: Channel-information-based beamforming 13 
In this case the O-DU provides channel information per UE periodically (generally less often than every slot) and then 14 
on a slot-by-slot basis the O-DU provides scheduling information which the O-RU uses along with the channel 15 
information to calculate the proper beamforming weights for the specific slot with its co-scheduled UEs.  Here there is 16 
no beamId value associated with the beamforming, instead the ueID is provided associated with each data section.  17 
Therefore this sub-chapter regarding beamId usage is not relevant for this beamforming method.  18 
10.4.1 Predefined-beam Beamforming 19 
When implementing index-based beamforming, it is necessary for the O-RU to convey to the O-DU whether the 20 
beamforming type is frequency-domain, time-domain, or a mixture of the two (“hybrid beamforming”).  In the case of 21 
frequency-domain-only or time-domain-only, the beamId is simply an index to the desired beamforming weight vector 22 
or other beamforming method.  In the case of hybrid beamforming, there are present in the O-RU pre-loaded frequency-23 
domain weight vectors and time-domain weight vectors (these are applied separately).  The beamId points to a single 24 
combined frequency-domain and time-domain weight vector.  However, in reality there will be the application of a 25 
frequency-domain beamforming weight vector and the separate application of multiple time-domain beamforming 26 
weight vectors, one per frequency-domain weight value.   27 
For this case the M-Plane must convey from the O-RU to the O-DU upon start-up as part of the O-RU self-description: 28 
• the list of available beamIds and their characteristics, see chapter “10.4.1.1 Beam Characteristics” below. 29 
 30 
Note that there is no requirement that beamIds be in sequential order or that there are no gaps between beamId values.  31 
The only constraint is that the beamId value of zero is reserved so cannot refer to any frequency-domain, time-domain 32 
or hybrid beam. 33 
10.4.1.1 Beam Characteristics 34 
In order to use predefined-beam beamforming in a standardized way, O-RAN considers beamforming to be defined 35 
such that energy (in the DL) or sensitivity (in the UL) is focused into either a “coarse” or “fine” granularity with 36 
possible overlaps.  In this way “broadcast” beams may be used to cover a wider area with less power or sensitivity, 37 
while higher-power or higher-sensitivity beams may be used in e.g. a per-UE fashion.  Figure 10-2 shows an example 38 
of the assumed beam arrangement. 39 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      216 
O-RAN.WG4.CUS.0-v07.00 
 
azimuth +60 -60 
elevation 
1 2 3 4 
5 6 7 8 
9 10 11 12 13 14 15 16 
17 18 19 20 21 22 23 24 
25 26 27 28 29 30 31 32 
33 34 35 36 37 38 39 40 
beamID 
beam group 1 → 
beam group 2 → 
beam group 3 → 
beam group 4 → 
beam group 5 → 
beam group 6 → 
Note: ovals represent beams, numbers in ovals represent beamId 
 1 
Figure 10-2 : Example of updatable-weight frequency-domain plus fixed time-domain beamforming 2 
Figure 10-2 introduces the concept of “beam-group”.  A “beam-group” is the set of beamIds that may be used 3 
simultaneously for some reason.  In Figure 10-2 an assumption can be made that the elevation direction is time-domain 4 
while the azimuth direction is frequency-domain; the frequency-domain beams in the same time-domain group may be 5 
used at the same time but different time-domain groups must be separated in time.   6 
Figure 10-2 also shows the need to describe beam overlap and beam adjacency.  It is necessary, for example, to convey 7 
that beamId=1 is a coarse beam overlapping with fine beamIds={9,10,17,18} and that beamId=18 is a fine beam 8 
overlapping with coarse beamId=1.  It is also necessary to convey that beamId=1 has as neighbors 9 
beamId={2,5,11,19,25,26} and that beamId=18 has as neighbors beamIds={2,5,10,17,19,26}.  Overlapping beams must 10 
not be scheduled together to avoid interference, and neighboring beams should not be scheduled together to avoid 11 
interference where possible. 12 
The specific beam characteristics are therefore as follows, all per beamId: 13 
1) beam-type for the subject beamId enumerated as COARSE-BEAM or FINE-BEAM; 14 
• there is no attempt to quantify “coarse” and fine” in terms of beamwidth, this is just a relative 15 
relationship 16 
2) beam-group-id for the subject beamId as an integer; 17 
3) coarse-fine-beam-relation as a list: if the subject beamId is coarse, this is a list of the associated fine beams, 18 
and if the subject beamId is fine, this is a list of the associated coarse beams; 19 
4) neighbor-beam as a list: a list of all beams that may interfere with the subject beamId 20 
 21 
An O-RU which supports predefined beamforming may also support shifting the coverage area upon M-plane 22 
command, referred to as the ‘predefined-beam-tilt-offset’ feature. The O-RU should convey its capability and associated 23 
parameters for the ‘predefined-beam-tilt-offset’ feature if supported. This feature allows an operator to adjust the 24 
coverage of the O-RU in elevation and/or azimuth angle. Figure 10-3 shows an example of the predefined beam-tilt-25 
offset operation. As a default, a predefined beam has its own steering angle denoted by (elevation angle: “theta”, 26 
azimuth angle: “phi”). If the O-RU controller configures the elevation-tilt-offset-angle as “+A” degrees and azimuth-27 
tilt-offset-angle as “+B” degrees, then the O-RU shall regenerate the beams to change its steering angles to be elevation 28 
angle value: “theta + A”, azimuth angle value: “phi + B”. An M-plane command delivers the elevation and azimuth 29 
predefined beam-tilt-offset angles. To regenerate beams, O-RU may load one of the pre-stored multiple beam weight 30 
vectors corresponding to all supported predefined-beam tilt values or may regenerate beam weights upon receiving the 31 
M-plane command; this is up to the O-RU implementation. 32 
Note, elevation-tilt-offset-angle values smaller than 0 represents an up-shift of the default service area towards the 33 
zenith (i.e., corresponding to a decrease in zenith angle) and values larger than 0 represent a down-shift of the default 34 
service area away from the zenith (i.e., corresponding to an increase in zenith angle). 35 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      217 
O-RAN.WG4.CUS.0-v07.00 
 1 
 2 
Figure 10-3 :  Example of shifting a grid of predefined beams with tilt-offset 3 
 4 
10.4.2 Weight-based dynamic beamforming 5 
Real-time-updated-weight-based beamforming operates the same as index-based beamforming, except that the need for 6 
the O-DU to convey actual beam weights to the O-RU introduces additional complexity. 7 
10.4.2.1 Weight-based dynamic frequency-domain or time-domain beamforming (not 8 
hybrid) 9 
In the case of either frequency-domain or time-domain beamforming wherein the beamforming weights can be updated 10 
in real-time and have a beamId value associated with the weights, the beamId is treated the same: it points to a set of 11 
weights that control the array elements’ gain and phase and the number of weights equals the number of array elements.  12 
In many cases, the magnitude of each complex weight value will equal unity but this is not required; in particular 13 
“tapering” may require less-than-unity weight magnitudes for some array elements.  The weight values prior to any 14 
compression will be fractional hence no I or Q value may exceed positive or negative unity. 15 
 16 
The following list describes the information that the M-Plane must carry from the O-RU to the O-DU upon start-up as 17 
part of the O-RU self-description, the information listed is per array (so per tx-array or per rx-array): 18 
1) Beamforming type, enumerated as “frequency”, “time” or “hybrid” 19 
2) Maximum number of weight-based beamId values supported (could be zero) : “numBeams” 20 
• O-RUs may have memory limitations that mean the number of beams is limited; zero means no weight-21 
based beamforming is supported by this tx-array or rx-array 22 
3) Initial value of weight-based beamId supported: “initBeamId” 23 
• Different ranges of beamId may support weight-based beamforming versus e.g. predefined 24 
beamforming 25 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      218 
O-RAN.WG4.CUS.0-v07.00 
4) Frequency granularity of time-domain beamforming, enumerated as “per component carrier” or “per band”. 1 
• Value is only present for time-domain beamforming 2 
5) Time granularity of time-domain beamforming, enumerated as “per-OFDM-symbol” or “per-slot”. 3 
• Value is only present for time-domain beamforming 4 
 5 
Because the beams are to be generated by the O-DU the O-RU will not know the beam characteristics so they are not 6 
reported.   7 
The actual number of weights K in the frequency-domain or time-domain weight vectors will be clear from the O-RU 8 
antenna model, see the Chapter 10.5 on that topic. 9 
10.4.2.2 Weight-based dynamic hybrid beamforming  10 
Here two sub-cases are considered, wherein for one sub-case both the frequency-domain and time-domain weights may 11 
be updated in real-time, and for the second sub-case the frequency-domain weights may be updated in real-time but the 12 
time-domain beams are fixed. 13 
10.4.2.2.1 Hybrid beamforming with updatable frequency-domain and time-domain weights 14 
For this sub-case the beamforming weight vector is a composite of the frequency-domain weights and the time-domain 15 
weights so can be considered as simply a longer weight vector.  Where a block-based beam weight compression is 16 
employed (block floating point, block scaling or -law compression), the block size is a single beamforming weight 17 
vector (both frequency-domain and time-domain parts).  The actual number of weights in the composite frequency-18 
domain plus time-domain weight vectors (K’ + K) will be clear from the O-RU antenna model, see the Chapter 10.5 on 19 
that topic. 20 
The following list describes the information that the M-Plane must carry from the O-RU to the O-DU upon start-up as 21 
part of the O-RU self-description, the information listed is per array (so per tx-array or per rx-array): 22 
1) Beamforming type, enumerated as “frequency”, “time” or “hybrid” – here will be “hybrid” 23 
2) Maximum number of weight-based beamId values supported (could be zero) : “numBeams” 24 
• O-RUs may have memory limitations that mean the number of beams is limited; zero means no 25 
weight-based beamforming is supported by this tx-array or rx-array 26 
3) Initial value of weight-based beamId supported: “initBeamId” 27 
• Different ranges of beamId may support weight-based beamforming versus e.g. predefined 28 
beamforming 29 
4) Frequency granularity of time-domain beamforming, enumerated as “per component carrier” or “per band”. 30 
5) Time granularity of time-domain beamforming, enumerated as “per-OFDM-symbol” or “per-slot”. 31 
 32 
Note that the number of time-domain beam weights associated with a given beamId is the same as the number of array 33 
elements which is K, but the number of frequency-domain weights is less, being K’.  p’ represents the dimensionality of 34 
the time-domain beamforming operation, so that K = K’ * p’.  The total length of the beamforming weight vector, 35 
including both the K’ frequency-domain weights and the K time-domain weights, is K’ + K = K’ + (K’ * p’) = K’ * 36 
(p’+1).  Figure 10-4 shows an example where K = 16, K’ = 4 and p’ = 4, and the length of the beamforming weight 37 
vector (frequency-domain and time-domain combined) is 20 complex weights. 38 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      219 
O-RAN.WG4.CUS.0-v07.00 
 
θ 1,0 
#3 
#5 
#5 
#3 
0x13 
beam id 
0x25  
frequency-domain 
beamforming 
weights time-domain beamforming weights 
Analog beam shapes 
defined by θ values 
   Analog 
beam         
#3 
1,0 
1,1 
1,2 
1,3 
   Analog 
beam         
#3 
   Analog 
beam         
#5 
   Analog 
beam         
#5 
2,0 
2,1 
2,2 
2,3 
3,0 
3,1 
3,2 
3,3 
4,0 
4,1 
4,2 
4,3 
φ 1,0 φ 1,1 φ 1,2 φ 1,3 
φ 2,0 φ 2,1  φ 2,2 φ 2,3 
θ 1,1 θ 1,2 θ 1,3 θ 2,0 θ 2,1 θ 2,2 θ 2,3 θ 3,0 θ 3,1 θ 3,2 θ 3,3 θ 4,0 θ 4,1 θ 4,2 θ 4,3 
θ 1,0 θ 1,1 θ 1,2 θ 1,3 θ 2,0 θ 2,1 θ 2,2 θ 2,3 θ 3,0 θ 3,1 θ 3,2 θ 3,3 θ 4,0 θ 4,1 θ 4,2 θ 4,3 
When different hybrid beams are used in the same 
symbol, here using beamId values 0x13 and 0x25, the 
time-domain weights must be the same (here 
indicated by θ values) and the number of time-domain 
weights equals the number of array elements K (here, 
16).  The frequency-domain weights may differ (shown 
as two different sets of  values) and there are fewer 
of those, specifically there are K’ (here, 4) frequency-
domain weight values. 
 1 
Figure 10-4 : Example of updatable-weight frequency-domain and time-domain beamforming 2 
 3 
10.4.2.2.2 Hybrid beamforming with updatable frequency-domain weights and fixed time-domain 4 
beams 5 
For this sub-case the beamforming weight vector is a composite of the frequency-domain weights and the time-domain 6 
beam numbers with the frequency-domain weights in the first half of the vector and the time-domain beam numbers in 7 
the second half of the vector.  This vector must not be considered as simply a longer weight vector because the 8 
frequency-domain weights may be compressed but the time-domain beam numbers must not be compressed.  Where a 9 
block-based beam weight compression is employed (block floating point, block scaling or -law compression), the 10 
block size is a single beamforming weight vector but only that half of the weight vector containing the frequency-11 
domain weights.  The remaining half of the vector containing the time-domain beam numbers may not be compressed 12 
and contains the integer time-domain beam numbers. 13 
The actual number of weights in the composite frequency-domain weights plus time-domain beam-number vectors (K’ 14 
and K) will be clear from the O-RU antenna model (see the Chapter 10.5 on that topic) with the number of frequency-15 
domain weights K’ indicating which elements in the vector are subject to compression (the first K’ complex values in 16 
the vector). 17 
The following list describes the information that the M-Plane must carry from the O-RU to the O-DU upon start-up as 18 
part of the O-RU self-description, the information listed is per array (so per tx-array or per rx-array): 19 
1) Beamforming type, enumerated as “frequency”, “time” or “hybrid” – here will be “hybrid” 20 
2) Maximum number of weight-based beamId values supported (could be zero) : “numBeams” 21 
a. O-RUs may have memory limitations that mean the number of beams is limited; zero means no 22 
weight-based beamforming is supported by this tx-array or rx-array 23 
3) Initial value of weight-based beamId supported: “initBeamId” 24 
a. Different ranges of beamId may support weight-based beamforming versus e.g. predefined 25 
beamforming 26 
4) Frequency granularity of time-domain beamforming, enumerated as “per component carrier” or “per band”. 27 
a. Value is only present for time-domain beamforming 28 
5) Time granularity of time-domain beamforming, enumerated as “per-OFDM-symbol” or “per-slot”. 29 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      220 
O-RAN.WG4.CUS.0-v07.00 
a. Value is only present for time-domain beamforming 1 
6) For each of the time-domain beams (the number is known from the O-RU antenna model), beam attributes (see 2 
11.3.1.1) 3 
 4 
Note that the number of time-domain beam numbers associated with a given beamId (K’) will be the same as the 5 
number of frequency-domain beam weights for that beamId; this is because each frequency-domain beamforming 6 
weight is applied to a data stream that is subsequently time-domain beamformed using a specific beam number, so if 7 
there are e.g. K’=4 frequency-domain weights associated with a given beamId there will be four time-domain beam 8 
numbers also associated with that same beamId.  See Figure 10-5 for an example wherein four frequency-domain 9 
weights x,y are applied with four time-domain beamforming numbers (#3 and #5).  Here the number of frequency-10 
domain weights K’ indicated by the antenna model would be “four” so the first four values in each vector would be 11 
complex fractional values and would be compressed, while the second four values would be real integers and not 12 
compressed. 13 
 14 
 
5 
5 
#3 
#5 
#5 
#3 
0x13 
beam id 
0x25  
5 
5 
3 
3 
3 
3 
In Single User MIMO we might need to use 2 
different TD beams for one symbol  (and 
want to use all antenna elements so do not 
want to use zero-value FD weights) and a 
single eAxC → we need multiple TD beams, in 
particular one per ADC/DAC. 
This is generally only useful for category B    
O-RU (precoding within the O-RU) 
frequency-domain 
beamforming weights 
time-domain 
beam # 
Analog beam “shape” 
defined by properties 
   Analog 
beam         
#3 
1,0 
1,1 
1,2 
1,3 
   Analog 
beam         
#3 
   Analog 
beam         
#5 
   Analog 
beam         
#5 
2,0 
2,1 
2,2 
2,3 
3,0 
3,1 
3,2 
3,3 
4,0 
4,1 
4,2 
4,3 
φ 2,0  φ 2,1  φ 2,2  φ 2,3  
φ 1,0  φ 1,1  φ 1,2  φ 1,3  
#3 
#3 
#5 
#5 
 15 
Figure 10-5 : Example of updatable-weight frequency-domain plus fixed time-domain beamforming 16 
10.4.3 Attribute-based dynamic beamforming 17 
Attribute-based dynamic beamforming operates similarly to weight-based dynamic beamforming except that it is 18 
inherently a time-domain beamforming operation (both are “dynamic” meaning the definition of a beam as indicated by 19 
a beamID value may be changed via a C-Plane message).  Also, instead of beamforming weights associated with a 20 
specific beamId being sent from O-DU to O-RU in section extension =1, beam attributes associated with a specific 21 
beamId are sent instead from the O-DU to the O-RU in a different section extension =2.  22 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      221 
O-RAN.WG4.CUS.0-v07.00 
The following list describes the information that the M-Plane must carry from the O-RU to the O-DU upon start-up as 1 
part of the O-RU self-description: 2 
1) Beamforming type, enumerated as “frequency” or “time” (not “hybrid”) 3 
2) Maximum number of beamId values supported (could be zero) : “numBeams” 4 
a. O-RUs may have memory limitations that mean the number of beams is limited; zero means no 5 
weight-based dynamic beamforming is supported by this tx-array or rx-array 6 
3) Initial value of beamId supported: “initBeamId” 7 
a. Different ranges of beamId may support generated beam beamforming versus e.g. predefined 8 
beamforming 9 
4) Valid range of bfAzPt (see chapter 5.4.7.2.2) 10 
5) Valid range of bfZePt (see chapter 5.4.7.2.3) 11 
6) Valid range of bfAz3dd (see chapter 5.4.7.2.4) 12 
7) Valid range of bfZe3dd (see chapter 5.4.7.2.5) 13 
8) Valid range of bfAzSl (see chapter 5.4.7.2.6) 14 
9) Valid range of bfZeSl (see chapter 5.4.7.2.7) 15 
 16 
10.4.4 Channel-information-based beamforming 17 
As stated earlier, beamId is irrelevant and unused in the case of channel-information-based beamforming. 18 
 19 
10.5 O-RU Antenna Model supported by O-RAN 20 
Knowledge of O-RU antenna model is critical for certain types of beamforming. The following model is applicable for 21 
O-RU with one or more antennas, where each antenna has array of elements that are  22 
• uniform (all elements have same properties) and  23 
• organized into rectangular array (with rows and columns) that is planar (flat). 24 
O-RU exposes via M-plane logical model of O-RU consisting of one or more arrays compose of one or more array 25 
elements. Array element represents independently controllable entity including one or more radiating elements and 26 
related RF processing elements (Here, RF processing element is an entity that processes RF signal and is not related to 27 
processing element defined in M-plane). Note RX and TX are in general independently controllable for that in the 28 
model TX and RX arrays are described as separate entities. If O-RU supports beamforming, then beamforming is 29 
realized within each array separately i.e. beamforming weight vector is applicable within one array. One or more arrays 30 
can occupy same physical location e.g. RX array and TX array that use same set of radiators. 31 
Beamforming methods that use dynamic beamforming with beamforming weights conveyed in C-plane message (in 32 
contrast to predefined beams) require the O-DU to know antenna properties. Different beamforming methods require 33 
knowledge of different subsets of antenna properties. 34 
10.5.1 Coordinate Systems 35 
Some of parameters describing model of antenna related to coordinate system that defines three axes and three angles. 36 
There are two coordinate systems defined: 37 
• array coordinate system 38 
• O-RU coordinate system 39 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      222 
O-RAN.WG4.CUS.0-v07.00 
The array coordinate system is presented below: 1 
 2 
Figure 10-6 : Array Coordinate System 3 
The diagram presents view from the front of array-panel (from UE). Arrows indicate increasing values of coordinates. 4 
x points towards broad-side 5 
y increases to right, with antenna-array’s columns 6 
z points towards zenith 7 
φ (phi) is azimuth angle, counter-clockwise rotation around z-axis, 0° points to broad-side, 90° points to y-axis 8 
θ (theta) is zenith angle, counter-clockwise rotation around y-axis, 0° points to zenith, 90° points to horizon 9 
ψ (psi) is angle, counter-clockwise rotation around x-axis, 0° points to horizon, 90° points to zenith 10 
The array coordinate system is centered on centre of the leftmost, bottom element of array. The array coordinate 11 
system is applicable within one array. 12 
The O-RU coordinate system is the selected array coordinate system of an O-RU. The selection is fixed by O-RU 13 
design. The O-RU coordinate system is applicable within one O-RU. 14 
10.5.2 O-RU Antenna Model Parameters  15 
The O-RU antenna model can be described with following parameters: 16 
• K – number of array elements in array (note that K = M*N*P*Q) 17 
• M – number of rows of array elements in array. M>0; value 0 is reserved for future use. 18 
• N – number of columns of array elements in array. N>0; value 0 is reserved for future use. 19 
• P – number of polarizations in array. P>0, value 0 is reserved for future use. 20 
• Q – number of overlapping array elements (array-layers) in array. Each array-layer has M rows, N columns 21 
and P polarizations. Q>0; value 0 is reserved for future use.  See Annex K for more information on array-22 
layers. 23 
• x, y, z – position of centre of the leftmost, bottom element of array in O-RU coordinate system 24 
• φ, θ direction of normal vector perpendicular to array’s surface in O-RU coordinate system (array’s normal 25 
vector corresponds to x axis in array’s coordinate system) 26 
• dy – mean distance between centres of nearby array elements in y direction in array coordinate system 27 
(distance between columns); value 0 is reserved for future use.  28 
• dz – mean distance between centres of nearby array elements in z direction in array coordinate system 29 
(distance between rows); value 0 is reserved for future use. 30 
y
x
z
 
 
Antenna 
array
Array 
element
View assumes observation of the antenna array 
from the front (from UE).
y
x
z
 
Antenna 
array
Array 
element
View assumes observation of the antenna array 
from the front (from UE).

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      223 
O-RAN.WG4.CUS.0-v07.00 
• list of polarizations in array (this list has P elements, each representing p-th polarization); values ordered in 1 
ascending order of angle. Example: cross-polarized array having elements of one of two linear polarizations 2 
can be described by list: (-45°, +45°) indicating that array element with polarization index p=0 has linear 3 
polarization -45°, and array element with polarization index p=1 has linear polarization +45°. 4 
• independent power budget per layer - in case of an array with multiple layers, corresponding elements 5 
(located in same row and column and same polarization) of different layers may have a shared power budget or 6 
have independent power budgets. 7 
For an array supporting hybrid beamforming (see section 10.4.2) there is a need for additional parameters: 8 
• K’ – number of frequency domain beamforming weights φ k’ that can be applied within the array.  9 
0<K’≤K; value 0 is reserved for array not supporting hybrid beamforming. 10 
• h(k) – mapping of array element k to frequency domain beamforming weight φk’ where k’=h(k). 11 
The mapping is represented as a list of lists: for every 0<k’<K’ a list of K/K’ numbers identifying array 12 
elements where frequency domain beamforming weight φk’ is applied. k’=h(k) if number k is in the list 13 
corresponding to k’. 14 
Section 10.5.3 Identification and Ordering of Array Elements describes how numbers are assigned to array 15 
elements. 16 
The model assumes the number of array elements corresponding to frequency domain beamforming weight φk’ is the 17 
same for every k’ (0<k’<K’) and the elements corresponding to beamforming weights form a rectangular shape without 18 
overlapping i.e. every array element is linked with exactly one frequency domain beamforming weight φk’. 19 
In addition, the O-RU antenna model provides parameters describing key capabilities of array elements. The model 20 
assumes the array is uniform and all elements have the same properties. Each single value is applicable to all elements 21 
within the array. 22 
Parameters describing array elements applicable to TX and RX arrays: 23 
• horizonal plane half power (-3 dB) beam width of array element’s radiation pattern 24 
• vertical plane half power (-3 dB) beam width of array element’s radiation pattern 25 
• horizonal plane quarter power (-6 dB) beam width of array element’s radiation pattern 26 
• vertical plane quarter power (-6 dB) beam width of array element’s radiation pattern  27 
Beam widths above are angles (expressed in degrees) between half-power (-3 dB) points or quarter-power (-6 dB) 28 
points respectively of the main lobe with reference to peak radiated power of main lobe. Horizontal and vertical plane 29 
correspond to the xy-plane and xz-plane respectively of the array in the array coordinate system. 30 
The parameter describing array elements specific for TX array: 31 
• ma,k - max rms power rating of array element of the array. Usage of max rms power rating is described in 32 
section 6.1.3.3. 33 
 34 
10.5.3 Identification and Ordering of Array Elements 35 
In many applications there is a need to assign to array element a number k such that 0≤k<K. One example is mapping 36 
position (represented by k, such that 0≤k<K) of beamforming weight in beamforming vector to array element. Other 37 
example is identification of array elements in antenna model.  38 
For purpose of identification and ordering a number k is assigned to each element of array by the function f(m,n,p.q): 39 
𝑓(𝑚,𝑛,𝑝,𝑞)= 𝑞∙𝑃∙𝑀∙𝑁+𝑝∙𝑀∙𝑁+𝑚∙𝑁+𝑛 40 
where: 41 
m - row (bottom to top), 0≤m<M 42 
n - column (left to right, view from the front of array), 0≤n<N 43 
p - polarization index, 0≤p<P; polarization value of polarization index p is ψp 44 
q – array-layer, 0≤q<Q 45 
Note that for a rectangular array, the function f(m,n,p,q) can be inverted allowing to specify a “tuple” (m,n,p,q) of k-th 46 
element. 47 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      224 
O-RAN.WG4.CUS.0-v07.00 
10.5.4 Relations Between Array Elements 1 
Beamforming methods that use dynamic beamforming with beamforming weights conveyed in C-plane messages (in 2 
contrast to predefined beams) require the O-DU to know that specific elements of one array is co-located with elements 3 
of another array e.g. RX array and TX array that use same set of radiators. In addition, one or more TX arrays may 4 
share elements and parts of RF processing paths (e.g. a power amplifier) resulting in a shared power budget described 5 
by a maximum rms power rating. 6 
If element ka of array A and element kb of array B are in same position (same physical row and column) then ka and kb 7 
are co-located. 8 
If element ka of array A and element kb of array B are co-located and share a power budget, then ka and kb are shared. 9 
Relation of co-location is symmetric: ka and kb are co-located if and only if kb and ka are co-located. 10 
Relation of co-location is transitive: if ka and kb are co-located and kb and kc are co-located then ka and kc are co-located. 11 
Relation of sharing implies co-location: if ka and kb are shared then ka and kb are co-located. 12 
O-RU shall report via M-plane relations between array elements. O-RU shall avoid reporting redundant relations that 13 
can be derived from other relations by symmetric and transitive properties and implication of co-location relation by 14 
sharing relation. In addition, the O-RU shall provide a concise representation of the common case of two arrays that 15 
have all elements in relation (e.g. RX array of -45° polarization and corresponding RX array of +45° polarization). 16 
10.5.5 Model Usage 17 
The O-RU antenna model reported by the O-RU consists of RX arrays and TX arrays. RX arrays and TX arrays 18 
represent a capability for transmitting/receiving RF signal related to an eAxC and - if beamforming is supported by O-19 
RU on given array - beamforming capability. In this section examples are presented: red and green bars represent array 20 
elements of different polarizations, grey box represents physical device, white rectangles represent arrays reported by 21 
O-RU. 22 
 23 
Figure 10-7 : Examples of Model Usage – TX as two single-polarization arrays or one cross-polarized array 24 
 25 
As an example Figure 10-7 presents two O-RU designs: an O-RU with two TX arrays each of one polarization and an 26 
O-RU with one TX array of two polarizations (note number and dimension of TX array has an impact on the size of 27 
beamforming vectors). Of course, an O-RU that combines both above designs is possible as presented in Figure 10-8.  28 
physical array
rx-array "-45"
rx-array "+45"
tx-array "-45"
tx-array "+45"
physical array
rx-array "-45"
rx-array "+45"
tx-array "all"

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      225 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 10-8 : Examples of Model Usage – TX as two single-polarization arrays and one cross-polarized array 2 
 3 
Similarly, in RX – if an O-RU does not support the collecting raw SRS by use of beams designed to mute signal from 4 
all elements except one then that O-RU – in addition to full RX array – may expose RX arrays with single elements as 5 
presented in Figure 10-9 6 
 7 
Figure 10-9 : Example of Model Usage – RX with multi-element and multiple single-element arrays 8 
 9 
An O-RU that does not support beamforming can be represented with arrays having one element each. Note that a 10 
category B O-RU could be represented with an array with two elements to accommodate two polarizations while a 11 
category A O-RU would generally be represented with a TX array with only one polarization (P=1). Figure 10-10 12 
presents the two design examples of a non-beamforming O-RU: an O-RU with two TX arrays each of one polarization 13 
and an O-RU with one TX array of two polarizations. Of course, an O-RU that combines both designs is also possible. 14 
physical array
rx-array "-45"
rx-array "+45"
tx-array "-45"
tx-array "+45"
tx-array "all"
physical array
rx-array "-45"
(multiple single-element rx-arrays)

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      226 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 10-10 : Examples of Model Usage – Non-beamforming O-RU with TX as two single-polarization arrays or 2 
one cross-polarized array 3 
 4 
5 
tx-array "+45"
rx-array "-45"
physical array
rx-array "+45"tx-array "-45" rx-array "-45"
physical array
rx-array "+45"tx-array "all"

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      227 
O-RAN.WG4.CUS.0-v07.00 
Chapter 11 Shared Cell Supporting 1 
11.1 General 2 
This chapter specifies support for “Shared Cell”.  “Shared cell” is defined as the operation for the same cell (the cell can 3 
have one or multiple component carrier(s)) by several O-RUs.  4 
There are 2 cases for realizing shared cell shown in Figure 11-1. 5 
- FHM mode: Shared cell is realized by FHM and several O-RUs. In this case, FHM is placed between the O-DU 6 
and multiple O-RUs. FHM is modelled as an O-RU with LLS Fronthaul support (same as normal O-RU) and copy 7 
and combine function (additional to normal O-RU), but without radio transmission/reception capability. For the 8 
copy and combine function, FHM may support selective transmission and reception function. In this version, each 9 
O-RU under one FHM can be used for either operating the same cell ( Single Cell Scenario at Figure11 -1) or 10 
different cells (Multiple Cells Scenario at Figure11-1) by M-Plane configuration.  11 
- Cascade mode: Shared cell is realized by several O-RUs cascaded in chain. In this case, one or more O-RU(s) are 12 
inserted between the O-DU and the O-RU. The O-RUs in the cascaded chain except for the last O-RU shall support 13 
Copy and Combine function. The O-RUs which support the Copy and Combine function are named “Cascade O-14 
RU”. Note that the last O-RU may also support Copy and Combine function although it is not used (i.e. not only 15 
normal O-RU but also Cascade O-RU may work as the last O-RU). In this version, each O-RU in a cascaded chain 16 
is only used for operating the same cell. 17 
 18 
 19 
 20 
Figure 11-1 : Shared Cell Concept 21 
For the cascade mode, the following generic reference to nodes in a cascaded chain is used. (For the FHM mode, the 22 
nodes are directly referred to as O -DU, FHM or O -RU, and the below terminologies are not used  in this CUS -Plane 23 
specification. Please n ote that the terminologies : north -node and south -node are also used for FHM in the M -Plane 24 
specification to maximize commonality for M-Plane modelling.) 25 
north-node:  For a particular O-RU in the chain of cascaded O-RUs, the north-node is the adjacent O-RU which is 26 
located closer to the O-DU. In the case of the O-RU which is adjacent to the O-DU, the north-node is the O-DU. 27 
south-node:  For the O-DU or a particular O-RU in the chain of cascaded O-RUs, the south-node is the adjacent O-28 
RU which is located farther from the O-DU.  29 
 30 
In this chapter, the following notations will be used; 31 
N: the total number of O-RUs connected to a FHM for FHM mode, or the total number of O-RUs in a cascaded 32 
chain (including the last O-RU) for Cascade mode. 33 
M: the total number of different cells realized by the total of N O-RUs connected to a FHM for FHM mode, or the 34 
total number of difference cells realized by the total N O-RUs in a cascaded chain for Cascade mode. M equals 1 for 35 
Same cell scenario for FHM mode. M equals 1 for Cascade mode in this version. 36 
Nm: the total number of O-RUs realizing a particular cell m. Nm equals N (and m=1) for Same cell scenario for FHM 37 
mode. Nm equals N (and m=1) for Cascade mode in this version. 38 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      228 
O-RAN.WG4.CUS.0-v07.00 
n: used to denote a particular O-RU within a set of O-RUs realizing a particular cell.  1 
 2 
11.2 Copy and Combine function  3 
DL Copy function (shown in Figure 11-2):  4 
In downlink case, FHM retrieves eCPRI messages coming from O-DU as payload of Ethernet frames, copies them (the 5 
entire eCPRI message including eCPRI header and eCPRI payload) without any modifications as payload into Ethernet 6 
frames and sends them towards the O -RUs realizing the shared cell. FHM determines these O -RUs from M -Plane 7 
configuration. Note that Figure 11-2 illustrates the Same cell scenario where copy is done for O-RU#1 to O-RU#N. For 8 
the Multiple cells scenario, for a particular cell m, copy will be for O-RU#1 to O-RU#Nm. 9 
In downlink case, Cascade O-RU retrieves eCPRI messages coming from the north-node as payload of Ethernet frames, 10 
copies them (the entire eCPRI message including eCPRI header and eCPRI payload) without any modifications as payload 11 
into Ethernet frames and sends them towards the south-node. 12 
  13 
Figure 11-2 : Downlink flow for Shared Cell 14 
 15 
UL Combine function (shown in Figure 11-3):  16 
FHM combines IQ data corresponding to the same radio resource element from the multiple eCPRI messages for UL U-17 
Plane in the Ethernet frames transmitted from each O-RU, where the general principles are listed below; 18 
- The FHM identifies IQ data corresponding to the same radio resource ele ment from the information elements in 19 
eCPRI transport header, application layer common header and application layer section field which are listed in 20 
Table 11-1. In case that transport layer frag mentation occurs, the FHM will need to re -assemble the fragmented 21 
message first. 22 
- The FHM retrieves compression information (if present), iSample and qSample from those corresponding eCPRI 23 
messages and calculates the combined iSample and qSample by adding iSample and qSample individually, taking 24 
compression information into account as below; 25 
 26 
If U-Plane data compression is used then 27 
Combined iSample = Compress (Sum (Decompress (iSample_#1), ... , Decompress (iSample_#Nm) ) ), 28 
Combined qSample = Compress (Sum (Decompress (qSample_#1), ... , Decompress (qSample_#Nm) ) ), 29 
Else 30 
Combined iSample = Sum (iSample_#1, ... , iSample_#Nm), 31 
Combined qSample = Sum (qSample_#1, ... , qSample_#Nm), 32 
where  33 
iSample_#n is the iSample received from the O-RU#n and 34 
qSample_#n is the qSample received from the O-RU#n. 35 
 36 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      229 
O-RAN.WG4.CUS.0-v07.00 
- If overflow occurs from the combine operation, iSample and/or qSample should be clamped to the closest value 1 
that can be represented in the compression format used for the combined IQ data. 2 
- The compression format for the combined IQ data is the same as that in the IQ data received from the O-RUs.  3 
- In this version of the specification, selective combining of UL signals is not supported. 4 
 5 
After combining, the FHM generates eCPRI header (the ecpriSeqid field generated by the FHM is independent and not a 6 
copy of that received from O -RUs; other fields are just copies of those received from the O -RUs.), adds combined IQ 7 
data as eCPRI message body, constructs Ethernet frames carrying eCPRI messages as payload, and forwards them to the 8 
O-DU.  9 
Note that Figure 11-3 illustrates the Same cell scenario where combine is done for O-RU#1 to O-RU#N. For the Multiple 10 
cells scenario, for a particular cell, combine will be for O-RU#1 to O-RU#Nm. 11 
Cascade O-RU combines IQ data corresponding to the same radio resource element from air and from the eCPRI messages 12 
for UL U-Plane in the Ethernet frames transmitted from the south-node, where the general principles are listed below; 13 
- The Cascade O-RU identifies IQ data corresponding to the same radio resource element from the information 14 
elements in eCPRI transport header, application layer common header and application layer section field which 15 
are listed in Table 11 -1. In case that tran sport layer fragmentation occurs, the Cascade O-RU will need to re -16 
assemble the fragmented message first. 17 
- The Cascade O-RU retrieves compression information (if present), iSample and qSample from those corresponding 18 
eCPRI messages and calculates the combined iSample and qSample by adding iSample and qSample individually, 19 
taking compression information into account as below; 20 
 21 
If U-Plane data compression is used then 22 
Combined iSample = Compress (Sum (Decompress (iSample_from_south-node) and (iSample_from 23 
air))), 24 
Combined qSample = Compress (Sum (Decompress (qSample_from_south-node) and qSample_from 25 
air)), 26 
Else 27 
Combined iSample = Sum (iSample_from_south-node and iSample_from air), 28 
Combined qSample = Sum (qSample_from_south-node and qSample_from air), 29 
where  30 
iSample_ from_south-node is the iSample received from the south-node, 31 
qSample_ from_south-node is the qSample received from the south-node, 32 
iSample_ from_air is the iSample received from the air, and 33 
qSample_ from_air is the qSample received from the air. 34 
 35 
- If overflow occurs from the combine operation, iSample and/or qSample should be clamped to the closest value 36 
that can be represented in the compression format used for the combined IQ data. 37 
- The compression format for the combined IQ data is the same as that in the IQ data received from the south-node. 38 
- In this version of the specification, selective combining of UL signals is not supported. 39 
 40 
After combining, the Cascade O-RU generates eCPRI header (the ecpriSeqid field generated by the Cascade O-RU is 41 
independent and not a copy of that received from the south -node; other fields are just copies of those received from the 42 
south-node.), adds combined IQ data as eCPRI messag e body, constructs Ethernet frames carrying eCPRI messages as 43 
payload, and forwards them to the north-node.  44 
 45 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      230 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 11-3 : Uplink flow for Shared Cell 2 
 3 
Table 11-1 : information elements to be checked when FHM/Cascade O-RU combines UL U-Plane messages 4 
Field Information element 
eCPRI transport header ecpriPcid 
Application layer common header dataDirection, frameId, subframeId, slotId,  symbolid 
Application layer section field rb, symInc, startPrbu, numPrbu 
 5 
11.2.1 Selective transmission and reception using beamId  6 
In order to avoid unnecessary interference and noise enhancement, selective transmission and reception function can be 7 
useful and it can be realized with minimum implementation impact on both O-DU/O-RU by using beamId. 8 
The followings are noted for the selective transmission and reception function using beamId: 9 
- Predefined-beam beamforming is assumed; 10 
- Applicability for cascade mode (cascaded O-RUs or cascaded FHMs) is out of scope in this version due to the lack 11 
of study. 12 
 13 
The concept is to utilize the multiple O-RUs involved in a shared cell collectively as a single beamforming O-RU, and to 14 
realize selective transmission and reception using beamforming operations.  15 
- In normal beamforming operation, a unique SSB and/or CSI-RS are transmitted from each beam so that the O-DU 16 
scheduler can understand which beam should be used based on L1 -RSRP reports from the UE; where each is 17 
further mapped to a unique beamId that the O-DU signals on the fronthaul. 18 
- For shared cell with selective transmission and reception using beamId: 19 
➢ In the simplest form, all O-RUs involved can be non-beamforming O-RUs, and each of them can be regarded 20 
as separate beam of one collective beamforming O -RU. In this case, a unique SSB and/or CSI -RS are 21 
transmitted from each non-beamforming O-RU; where each is further mapped to a unique beamId that the 22 
O-DU signals on the fronthaul. Then the FHM, based on the beamId signalled from the O-DU, would route 23 
the messages to the appropriate non-beamforming O-RU. At this time, the FHM also translates the beamId 24 
so that the O-RU will transmit/receive using the appropriate beam.  This assumes each O-RU handles unique 25 
user data meaning the FHM is not executing any copy/combining operation. 26 
➢ Other forms can be considered. E.g. 27 
 All O -RUs involved can be still be non -beamforming O -RUs, but  multiple O -RUs illuminating 28 
overlapping/neighbouring areas can be made to transmit a common SSB/CSI -RS (and common user 29 
data) and be regarded as a common beam from the O-DU perspective. The FHM, based on the beamId 30 
signalled from the O -DU which corresponds to the common beam, would route the messages to the 31 
appropriate set of multiple O-Rus and would execute a copy/combining operation for this data; 32 
 Multiple beamforming O-RUs can collectively be considered as a single beamforming O -RU. Each 33 
beam of the ind ividual O-RUs may be regarded as a separate beam, or multiple beams illuminating 34 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      231 
O-RAN.WG4.CUS.0-v07.00 
overlapping/neighbouring areas can be made to transmit a common SSB/CSI -RS (and common user 1 
data) and be regarded as a common beam from the O-DU perspective. The FHM, based on the beamId 2 
signalled from the O-DU, would route the messages to the appropriate beamforming O-RU and would 3 
execute a copy/combining operation for this data, and also translate the beamId value so that the O-RU 4 
will transmit/receive using appropriate beams. 5 
NOTE: For the O -RU beams illuminating overlapping/neighbouring areas that are made to transmit a 6 
common SSB/CSI-RS and are regarded as a common beam from the O-DU perspective, coherency between 7 
the beams is not required. 8 
From here on, the beamId used by the O-DU and signalled from the O-DU to FHM is referred to as the global beamId; 9 
and the beamId signalled from the FHM to O-RU and used by the O-RU is referred to as the local beamId. 10 
Related M-plane aspects are described below.  11 
- If O-DU receives the capab ility from FHM via M -Plane which indicates selective transmission and reception 12 
support, O-DU can configure the FHM to use selective transmission and reception function.  13 
- The mapping information between each global beamId, O-RU(s) and their local beamId is configured to the FHM 14 
during the M-Plane start-up procedure. 15 
- It is noted that the inter-beam relationship information such as coarse-fine-beam-relation and neighbour-beams are 16 
reported from each O-RU via M-Plane. Therefore, although O-DU considers the set of O-RUs as one beamforming 17 
O-RU, coarse-fine-beam-relation and neighbour-beams information across different O-RUs will not be available. 18 
 19 
The details of copy combine function with selective transmission and reception function using beamId describted below. 20 
Selective transmission function (shown in Figure 11-4):  21 
In downlink case, FHM retrieves eCPRI messages coming from O-DU as payload of Ethernet frames, reads C/U-plane 22 
message-section field and separates C-Plane message section fields based on beamId and also separates U-Plane message 23 
section header fields/PRB fields based on sectionIds corresponding to ea ch beamId. Then FHM creates new eCPRI  24 
messages by adding common header field on each new C/U-plane message which may includes multiple separated section 25 
fields for C-Plane and section header fields/PRB fields for U-Plane belonging to the same beam.  The FHM sends them 26 
towards appropriate O-RUs according to the mapping table between beamId value and O-RU(s). For C-Plane messages, 27 
FHM needs to overwrite beamId field according to the mapping table between global beamId and local beamId. Note that 28 
Figure 11-4 illustrates the s ame cell scenario where selective transmission  is done for O -RU#1 to O -RU#N. For the 29 
Multiple cells scenario, for a particular cell m, selective transmission will be for O-RU#1 to O-RU#Nm. 30 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      232 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 11-4 : Downlink flow for selective transmission 2 
 3 
Selective reception function (shown in Figure 11-5):  4 
FHM sends C-Plane messages as a same manner of selective transmission, i.e. the FHM sends C-Plane messages to RUs 5 
selectively based on the beamId value in the C-plane message received from O-DU and the mapping table between global 6 
beamId value and O-RU; and overwrites beamId value according to the mapping table between global beamId value and 7 
local beamId value for the O-RU. 8 
Then corresponding O-RU(s) transmits UL U -Plane messages which includes UL signal received by using the beam 9 
indicated by the beamId value in the C-Plane message received from FHM. 10 
FHM combines IQ data according to 11.2. In case UL U-plane message received from different O-RUs do not include IQ 11 
data for the same radio resource element, combined IQ data is equivalent to IQ data received from particular O-RU. 12 
FHM reconstructs eCPRI payload carrying UL U-Plane messages to be sent to the O-DU by concatenating combined IQ 13 
data and corresponding section header field with one UL U-Plane message common header. 14 
After eCPRI payload reconstruction, the FHM generates eCPRI header (the ecpriSeqid field generated by the FHM is 15 
independent and not a copy of that received from O-RUs; other fields are just copies of those received from the O-RUs.), 16 
constructs Ethernet frames carrying eCPRI messages as payload, and forwards them to the O-DU.  17 
Note that Figure 11-5 illustrates the same cell scenario where selective reception is done for O-RU#1 to O-RU#N. For 18 
the Multiple cells scenario, for a particular cell, selective reception will be for O-RU#1 to O-RU#Nm. 19 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      233 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 11-5 : Uplink flow for selective reception 2 
Beam mapping parameters for selective transmission and reception using beamId are summarized in Table 11-2. 3 
 4 
Table 11-2 : Beam mapping parameters for selective transmission and reception using beamId 5 
Parameter Description Note 
global beamId This parameter indicates the beam ID to 
be applied to the U-Plane data on O-DU 
as same as existing beamId. One global 
beamId can be mapped to one or multiple 
local beamId. The mapping information 
between each global beamId, O-RU(s), 
and local beamId is configured to the 
FHM during M-Plane start-up procedure. 
Since FHM and O-RUs are treated as a beamforming 
O-RU, global-beam-id = 0 is prohibited. Value range 
is same as that of existing beamId explained in 
5.4.5.9. 
local beamId This parameter indicates the beam ID to 
be applied to the U-Plane data on O-RU 
as same as existing beamId. In one O-
RU, different beams can not map to one 
global beamId. Local beamId shall be 
unique within O-RU. 
 
 6 
11.3 Delay management for Shared cell 7 
Total fronthaul distance between O-DU and O-RU must be reduced compared to the case when there are no FHM/Cascade 8 
O-RU. This is required in order to keep the same total fronthaul delay between O-DU and O-RU even in the presence of 9 
processing time at FHM/Cascade O-RU, and to ensure UL messages arrive at O-DU within O-DU reception window as 10 
well as DL messages arrive at O-RU within O -RU reception window. Further the transmission/reception timing of 11 
FHM/Cascade O -RU needs to be clarified. So, on top of section  2.3, additional consideration is required for delay 12 
management which involves shared cell.  13 
NOTE: Whether the delay management for shared cell in this section can be used for measured transport method and/or 14 
dynamic timing advance is FFS. 15 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      234 
O-RAN.WG4.CUS.0-v07.00 
11.3.1 DL delay management for Shared cell 1 
 2 
Figure 11-6 : Delay model parameters for FHM mode (2 O-RUs case, i.e. Nm = 2, is illustrated as an example) 3 
 4 
   5 
Figure 11-7 : Delay model parameters for Cascade mode (3 O-RUs case, i.e. N=3, is shown as an example) 6 
 7 
It is assumed that additional delay due to combining in UL case is larger than copying in DL case. Therefore as long as 8 
fronthaul and FHM/Cascade O-RU are configured to satisfy delay management for UL case, nothing additional is needed 9 
for DL delay management with shared cell. I.e., FHM/Cascade O-RU can just perform copying and forwarding as soon 10 
as it receives DL messages from O-DU (FHM mode)/north-node (Cascade mode), and this will ensure that DL messages 11 
are received within O-RU reception window. Although the additional requirement for DL is not needed, if O-DU knows 12 
processing delay for copy which is shorter than T_Comb, it may be beneficial for O -DU t ransmission window 13 
optimization. For this reason, T_Copy is specified as O-RU capability. Note that it would need additional consideration 14 
for FDD cell (DL only band) formed of one DL carrier. 15 
Delay parameter for shared cell for DL is summarized in Table 11-3. 16 
 17 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      235 
O-RAN.WG4.CUS.0-v07.00 
Table 11-3 : Delay parameters for shared cell for DL 1 
Parameter Description Note 
T_Copy Corresponding to the maximum FHM or 
Cascade O-RU processing delay between 
receiving an IQ sample over the fronthaul 
interface from O-DU (FHM mode) or the 
north-node (Cascade mode), coping it 
and transmitting it over the fronthaul 
interface to O-RU (FHM mode) or the 
south-node (Cascade mode). 
In addition to the above, in FHM mode 
with selective transmission, T_Copy also 
includes reconstructing U-Plane message. 
Capability parameter. 
FHM or Cascade O-RU reports the value by M-Plane. 
 2 
 3 
11.3.2 UL delay management for Shared cell 4 
 5 
Figure 11-8 : Delay model parameters for FHM mode (2 O-RUs case, i.e. Nm =2, is illustrated as an example) 6 
 7 
UL delay model parameters for FHM mode are shown in Figure 11-8. Since FHM processing delay for combining UL 8 
U-Plane messages effectively adds to the total fronthaul delay between O-DU and O-RU, total fronthaul distance between 9 
O-DU and O-RU must be reduced compared to the case when there is no FHM in order to keep the same total fronthaul 10 
delay between O-DU and O-RU so as to ensure UL U-Plane messages arrive at O-DU within O-DU reception window. 11 
In other words, configuration of fronthaul including FHM shall meet; 12 
 13 
T_FH1_max + max (T_FH2-1_max, ... , T_FH2-Nm_max) <= T34_max - T_Comb,  14 
where  15 
T_FH1_max is the maximum transport delay between FHM and O-DU, 16 
T_FH2-n_max is the maximum transport delay between O-RU#n and FHM (n = 1, ... , Nm), and 17 
T_Comb is FHM processing delay for combining which depends on FHM capability and is reported via M-Plane. 18 
 19 
To ensure that UL U -Plane messages arrive at O -DU within O -DU reception w indow, the latest time FHM can send 20 
combined UL U-Plane messages towards O-DU is “Ta4_max - T_FH1_max”. Since the value of T_FH1_max depends 21 
on position of FHM, FHM needs to be told about the latest time. This time is defined as Ta3_prime_max and needs to be 22 
configured to FHM via M -Plane. Considering T_Comb, this means that UL U -Plane messages received by 23 
“Ta3_prime_max – T_Comb” are subject to UL U -Plane message combining. In other wo rds, even if FHM does not 24 
receive all UL U-Plane messages from O-RUs by “Ta3_prime_max – T_Comb”, FHM shall combine whatever received 25 
UL U-Plane messages and send it to O -DU by Ta3_prime_max. This time “ Ta3_prime_max (configured) – T_Comb 26 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      236 
O-RAN.WG4.CUS.0-v07.00 
(FHM capability)” is defined as T_Waiting and calculated at FHM. In addition, in order to combine all UL U -Plane 1 
messages from O -RUs, T_Waiting needs to be larger than or equal to “Ta3_max + max (T_FH2-1_max, ... , T_FH2-2 
Nm_max)”. Therefore, configured Ta3_prime_max should meet following condition; 3 
 4 
Ta3_max + max (T_FH2-1_max, ... , T_FH2-Nm_max) + T_Comb <= Ta3_prime_max <= Ta4_max - 5 
T_FH1_max 6 
 7 
 8 
Figure 11-9 : Delay model parameters for cascade mode (3 O-RUs case, i.e. N=3, is shown as an example) 9 
 10 
UL d elay model parameters for Cascade mode are shown in Figure 11-9. In a similar manner with FHM mode, 11 
configuration of fronthaul including Cascade O-RU shall meet; 12 
 13 
∑T_FH𝑖_max ≤ T34_max− ∑T_Comb (for Cascade O-RU#𝑖)
𝑁−1
𝑖=1
𝑁
𝑖=1
 14 
where  15 
T_FHn_max is  16 
the maximum transport delay between O-RU#1 and O-DU (n=1),  17 
the maximum transport delay between O-RU#n and O-RU#n-1 (n=2 … N), 18 
T_Comb is Cascade O-RU processing delay for combining which depends on Cascade O-RU capability and is 19 
reported via M-Plane, and 20 
T34_max is the maximum uplink transport delay between O-DU and the last O-RU (as specified in section 2.3). 21 
 22 
In addition, in a similar manner with FHM mode, Ta3_prime_max configured to each Cascade O-RU shall meet following 23 
condition; 24 
 25 
Ta3_max + ∑ T_FH𝑖_max + ∑T_Comb (for Cascade O-RU#𝑖)
𝑁−1
𝑖=𝑛
𝑁
𝑖=𝑛+1
  ≤ Ta3_prime_max (for Cascade O-RU#𝑛), and 26 
Ta3_prime_max (for Cascade O-RU#𝑛) ≤ Ta4_max− ∑T_FH𝑖_max−{∑T_Comb (for Cascade O-RU#𝑖)
𝑛−1
𝑖=1
, 𝑛≥2
0, 𝑛=1
 
𝑛
𝑖=1
 27 
 28 
Delay parameters for shared cell for UL are summarized in Table 11-4. 29 
 30 
Table 11-4 : Delay parameters for shared cell for UL 31 
Parameter Description Note 
T_Comb Corresponding to the maximum FHM or 
Cascade O-RU processing delay between 
receiving an IQ sample over the 
Capability parameter. 
FHM or Cascade O-RU reports the value by M-Plane. 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      237 
O-RAN.WG4.CUS.0-v07.00 
fronthaul interface from all O-RUs 
(FHM mode) or the south-node (Cascade 
mode), combining them and transmitting 
it over the fronthaul interface to O-DU 
(FHM mode) or the north-node (Cascade 
mode). 
Ta3_prime_max The latest time that FHM or Cascade O-
RU is allowed to send UL U-plane 
message to O-DU (FHM mode) or north-
node (Cascade mode) relative to 
reception timing at O-RU antenna. 
Configuration parameter. 
Value configured to FHM or Cascade O-RU by M-
Plane.  
See above for appropriate setting. 
T_Waiting Time when FHM or Cascade O-RU shall 
wait UL U-Plane message sent by O-RU 
(FHM mode) or south-node (Cascade 
mode). 
Calculated parameter. 
FHM or Cascade O-RU calculates from configured 
Ta3_prime_max and its T_Comb. I.e. this parameter 
is not defined in M-Plane. 
 1 
Regarding O-RU delay profile reporting via M-plane; 2 
- For FHM, only T_comb is applicable. Other parameters (T2a and Ta3 related parameters and Tcp_adv_dl) 3 
are not applicable for FHM since it does not behave as an O-RU 4 
- For Cascade O-RU, T_comb is applicable. Other parameters (T2a and Ta3 related parameters and  5 
Tcp_adv_dl) are also applicable and the values are for the case it behaves as a normal O-RU 6 
11.4 S-plane for Shared cell  7 
The same synchronization framework and requirements specified in Section 9 also apply to the FHM, O-DU and O-RU 8 
for Shared cell, where the FHM (in the FHM mode), and the cascaded O-RU(s) (in the Cascade mode), are typically 9 
regarded as Ethernet switches on the synchronization chain, meeting the requirements specified for T-BC or T-TC 10 
Ethernet clocks in Section 9 from an S-plane point of view. Whenever an O-RU is not on the synchronization path to 11 
other O-RUs, the O-RU is not required to support T-BC or T-TC functions. In any case the existing limits specified in 12 
Section 9 between the S-plane input port and RF port apply to all O-RUs.  13 
Node behavior at O-RU in FREERUN state 14 
- O-DU 15 
If synchronization states on all O-RUs in a shared cell used for operating the same cell transit to the FREERUN or 16 
HOLDOVER state, the O-DU shall stop sending C-Plane and U-Plane related data to these O-RUs. In other words, the 17 
O-DU shall continue sending unless all O-RUs in the shared cell used for operating the same cell transit to the 18 
FREERUN or HOLDOVER state. 19 
- O-RU 20 
If synchronization state on a cascade O-RU transits to the FREERUN state, the cascade O-RU shall autonomously stop 21 
RF transmission, switch all carriers to INACTIVE state and send a notification to the O-DU about synchronization and 22 
carriers state change. The Cascade O-RU shall enable to continue the function for copy and forward to south-node when 23 
the O-RU receives the C-Plane and U-plane related data from the north-node and shall be enable to continue forwarding 24 
without any combining function when the O-RU receives the U-plane related data from the south-node. 25 
If synchronization state on an FHM transits to the FREERUN state, the FHM shall send a notification to the O-DU 26 
about the synchronization. The FHM shall enable to continue function for copy and forward to south-nodes when the O-27 
RU receives the C-Plane and U-plane related data from the north-node and shall be enable to continue the function for 28 
combine and forward to the north-node when the FHM receives the U-plane related data from the south-nodes.  29 
Rationale: The other O-RUs in a shared cell used for operating the same cell as cascade O-RU or FHM might be still 30 
LOCKED synchronization state. The cascade O-RU or FHM shall be able to continue copy and combine functions for 31 
the other O-RUs in chain or star topology which provides valid U-Plane and C-Plane related data from/to the O-RUs. 32 
However, it has to be considered that if one of the O-RUs in the cascaded chain or FHM in FHM mode moves to 33 
FREERUN or HOLDOVER, the clockClass values advertised by this FHM/O-RU towards south-node(s) might impact 34 
the sync plane of all the other RUs which are listening on PRTC clockClass values and might trigger state change on all 35 
O-RUs which eventually might move to FREERUN or HOLDOVER based on the sync state of that particular O-RU. 36 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      238 
O-RAN.WG4.CUS.0-v07.00 
11.5 Cascade-FHM mode 1 
11.5.1 General 2 
Following sections defines one hybrid mode Cascade-FHM. The mode is shown in Figure 11-10. 3 
 4 
Figure 11-10: Cascade-FHM mode 5 
Figure 11-10 shows two typical scenarios in Cascade-FHM mode, one is Same cell scenario, that is O-RU(s) serving 6 
cascaded FHMs belong to Same cell, another is Two cells scenario, that is O-RU(s) serving different FHM belong to 7 
different cell. Other different cell scenarios are also possible.  8 
Cascade-FHM mode is realized by at least two chained FHMs and O-RUs connected to them. Star-like topology where 9 
many FHMs would be connected to one FHM is not in scope. 10 
Limitation: in this version of the specification maximum level of cascaded FHMs is limited to 2, see below note. As 11 
for other usages they can be discussed in future as needed.  12 
NOTE: In current version of specification, the reasons for limited depth of FHM chain are as follows: 1) Noise floor 13 
level may have negative impact when deeper chain is constructed. Such impact is not yet analyzed; 2) Delay 14 
management may be affected by deeper chain and also requires further analysis. 3) Cascade-FHM mode is suitable to be 15 
deployed in Indoor Distribution System, and generally the usage with two cascaded FHMs is typical and sufficient. 16 
The first cascade FHM nearest to O-DU is named FHM#1, the second cascade FHM is named FHM#2. For FHM#1, its 17 
north-node is O-DU and south-nodes are its O-RUs and FHM#2. For FHM#2, its north-node is FHM#1 and south-nodes 18 
are its O-RUs. 19 
11.5.2 Copy and Combine function 20 
DL Copy function and UL Combine function for Cascade-FHM mode are actually same with FHM mode with a little 21 
attention that FHM#1 regards FHM#2 as its one O-RU from aspect of Copy and Combine. Following figures show 22 
downlink and uplink flow for Same cell scenario (Figure 11-11) and Two cells scenario (Figure 11-12). 23 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      239 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 11-11: Cascade-FHM flow for Same cell 2 
 3 
Figure 11-12: Cascade-FHM flow for two cells 4 
11.5.3 Delay management 5 
Delay management for Cascade-FHM mode looks like the combination of FHM mode and Cascade mode while 6 
FHM#2 cannot be treated as one normal O-RU from aspect of delay management since it has own processing delay and 7 
transport delay towards its O-RUs. 8 
Assuming the configuration is two Cascaded FHMs: FHM#1 has one O-RU and FHM#2 has two O-RUs.  9 
1) The DL delay model parameters in Same cell scenario are shown in Figure 11-13. 10 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      240 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 11-13: DL delay model parameters for Cascade-FHM mode 2 
To ensure DL U-Plane messages arrive at O-RU within O-RU reception window the configuration of fronthaul including 3 
two cascaded FHMs shall meet: 4 
 5 
T_FH1_min + min (min (T_FH2_1_min, ... , T_FH2-N_min), T_FH2_min + min (T_FH3_1_min, ... , T_FH3-6 
M_min) + T_Copy) >= T12_min – T_Copy 7 
where  8 
T_FH1_min is the minimum transport delay between FHM#1 and O-DU, 9 
T_FH2_min is the minimum transport delay between FHM#2 and FHM#1, 10 
T_FH2-n_min is the minimum transport delay between O-RU#n and FHM#1 (n = 1, ... , N), 11 
N is the total number of O-RUs realizing a particular cell m under FHM#1, and in this case N=1, 12 
T_FH3-m_min is the minimum transport delay between O-RU#m and FHM#2 (m = 1, ... , M), 13 
M is the total number of O-RUs realizing a particular cell m under FHM#2, and in this case M=2, 14 
T_Copy is FHM processing delay for copying which depends on FHM capability and is reported via M-Plane. 15 
 16 
T_FH1_max + max (max (T_FH2_1_max, ... , T_FH2-N_max), T_FH2_max + max (T_FH3_1_max, ... , T_FH3-17 
M_max) + T_Copy) <= T12_max – T_Copy 18 
where  19 
T_FH1_max is the maximum transport delay between FHM#1 and O-DU, 20 
T_FH2_max is the maximum transport delay between FHM#2 and FHM#1, 21 
T_FH2-n_max is the maximum transport delay between O-RU#n and FHM#1 (n = 1, ... , N), 22 
N is the total number of O-RUs realizing a particular cell m under FHM#1, and in this case N=1, 23 
T_FH3-m_max is the maximum transport delay between O-RU#m and FHM#2 (m = 1, ... , M), 24 
M is the total number of O-RUs realizing a particular cell m under FHM#2, and in this case M=2, 25 
T_Copy is FHM processing delay for copying which depends on FHM capability and is reported via M-Plane. 26 
 27 
2) The UL delay model parameters in Same cell scenario are shown in Figure 11-14. 28 
 29 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      241 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure 11-14: UL delay model parameters for Cascade-FHM mode 2 
To ensure UL U-Plane messages arrive at O-DU within O-DU reception window the configuration of fronthaul including 3 
two cascaded FHMs shall meet: 4 
 5 
T_FH1_min + min (min (T_FH2_1_min, ... , T_FH2-N_min), T_FH2_min + min (T_FH3_1_min, ... , T_FH3-6 
M_min) + T_Comb) >= T34_min – T_Comb 7 
where  8 
T_FH1_min is the minimum transport delay between FHM#1 and O-DU, 9 
T_FH2_min is the minimum transport delay between FHM#2 and FHM#1, 10 
T_FH2-n_min is the minimum transport delay between O-RU#n and FHM#1 (n = 1, ... , N), 11 
N is the total number of O-RUs realizing a particular cell m under FHM#1, and in this case N=1, 12 
T_FH3-m_min is the minimum transport delay between O-RU#m and FHM#2 (m = 1, ... , M), 13 
M is the total number of O-RUs realizing a particular cell m under FHM#2, and in this case M=2, 14 
T_Copy is FHM processing delay for copying which depends on FHM capability and is reported via M-Plane. 15 
 16 
T_FH1_max + max (max (T_FH2-1_max, ... , T_FH2-N_max), T_FH2_max + max (T_FH3-1_max, ... , T_FH3-17 
M_max) + T_Comb ) <= T34_max – T_Comb,  18 
where  19 
T_FH1_max is the maximum transport delay between FHM#1 and O-DU, 20 
T_FH2_max is the maximum transport delay between FHM#2 and FHM#1, 21 
T_FH2-n_max is the maximum transport delay between O-RU#n and FHM#1 (n = 1, ... , N), 22 
N is the total number of O-RUs realizing a particular cell m under FHM#1, and in this case N=1, 23 
T_FH3-m_max is the maximum transport delay between O-RU#m and FHM#2 (m = 1, ... , M), 24 
M is the total number of O-RUs realizing a particular cell m under FHM#2, and in this case M=2, 25 
T_Comb is FHM processing delay for combining which depends on FHM capability and is reported via M-Plane. 26 
 27 
In addition, in order to combine all UL U-Plane messages from O-RUs the configured Ta3_prime_max for two cascaded 28 
FHMs should meet following condition: 29 
 30 
Ta3_max + max (T_FH3-1_max, ... , T_FH3-M_max) + T_Comb <= Ta3_prime_max_FHM#2， 31 
 32 
Ta3_max + max (max (T_FH2-1_max, ... , T_FH2-N_max), T_FH2_max + max (T_FH3-1_max, ... , T_FH3-33 
M_max) + T_Comb) + T_Comb <= Ta3_prime_max#1 <= Ta4_max - T_FH1_max， 34 
where  35 
Ta3_prime_max_FHM#1 is Ta3_prime_max for FHM#1, 36 
Ta3_prime_max_FHM#2 is Ta3_prime_max for FHM#2, 37 
T_FH2-n_max is the maximum transport delay between O-RU#n and FHM#1 (n = 1, ... , N), 38 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      242 
O-RAN.WG4.CUS.0-v07.00 
N is the total number of O-RUs realizing a particular cell m under FHM#1, and in this case N=1, 1 
T_FH3-m_max is the maximum transport delay between O-RU#m and FHM#2 (m = 1, ... , M), 2 
M is the total number of O-RUs realizing a particular cell m under FHM#2, and in this case M=2. 3 
  4 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      243 
O-RAN.WG4.CUS.0-v07.00 
Annex A  Compression Methods 1 
A.1 Block Floating Point Compression 2 
The compressed data representation is as follows. For each PRB, In-phase (I) and Quadrature (Q) samples are converted 3 
into floating point format. Subsequently, the samples are presented as a compressed bit sign and a mantissa (e.g., 9-bit) 4 
and a shared exponent (see Figure A-1). The compression procedure receives 12 subcarriers with 24 uncompressed I 5 
and Q samples. The I and Q samples are subsequently compressed to a bit signed mantissa and unsigned exponent. 6 
Further, the exponent is included for each compression block to be sent per PRB (see Figure A-2). 7 
NOTE: Mantissa bitwidths are specified in the compHdr field of the relevant U-Plane or C-Plane message (range 1-16 8 
bitwidth). However, support on O-RU HW for particular mantissa bitwidths is to be defined on individual basis. That is, 9 
there is no requirement on O-RU HW to support all possible mantissa bitwidths. 10 
 11 
Figure A-1 : Block Floating Point Compression data representation 12 
 13 
 14 
Figure A-2 : Block Floating Point Compression process overview 15 
 16 
A.1.1 Block Floating Point Compression Algorithm 17 
The following pseudo code depicts an example reference implementation of the compression algorithm. 18 
Inputs: 19 
•  fPRB - Original physical resource block (PRB), 12 complex resource elements with “native” word length of 20 
the implementation e.g. 24 bits (UL should use as accurate value as possible from FFT & beamforming) 21 
• iqWidth - Word length after compression (includes sign bit) 22 
Outputs: 23 
• cPRB - Compressed PRB, 12 complex resource elements with word length iqWidth 24 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      244 
O-RAN.WG4.CUS.0-v07.00 
• exponent - Common exponent for compressed PRB 1 
// Find max and min 2 
maxV = max(Re(fPRB), Im(fPRB)), minV = min(Re(fPRB), Im(fPRB)) 3 
// Determine max absolute value 4 
maxValue = max(maxV, |minV|-1)  (msb of negative value can be one higher) 5 
// Calculate exponent 6 
raw_exp = [floor(log2(maxValue) +1)] (msb of maxValue) 7 
// Calculate shift value and limit to positive 8 
exponent = max(raw_exp – iqWidth + 1, 0) 9 
// Determine right shift value 10 
scaler = 2-exponent  11 
For iRe = 1:length(fPRB) 12 
//Scale and round: 13 
Re(cPRB(iRE)) =  Quantize (scaler × Re(fPRB(iRE)))  /* mult. could be bit-shift, Quantize could be or-round */ 14 
Im(cPRB(iRE)) = Quantize (scaler × Im(fPRB(iRE)))  /* mult. could be bit-shift, Quantize could be or-round */ 15 
End 16 
 17 
A.1.2 Block Floating Point Decompression Algorithm 18 
The following pseudo code depicts an example reference implementation of the decompression algorithm. 19 
Inputs: 20 
• cPRB - Compressed PRB, 12 complex resource elements with word length WL 21 
• exponent - Common exponent for compressed PRB 22 
Outputs: 23 
• fPRB - Decompressed physical resource block (PRB), 12 complex resource elements with “native” word 24 
length for further processing. For example, 24 bits or 32 bits 25 
//Determine scaler 26 
scaler = 2exponent  27 
For iRe = 1:length(cPRB) 28 
//Scale 29 
Re(fPRB(iRE)) = scaler × Re(cPRB(iRE))  /* this could be replaced with a bit-shift operation */ 30 
Im(fPRB(iRE)) = scaler × Im(cPRB(iRE))  /* this could be replaced with a bit-shift operation */ 31 
End 32 
 33 
A.2 Block Scaling Compression 34 
A block scaling algorithm is proposed which is similar in concept to the Block Floating Point representation except that 35 
instead of data being represented by mantissa values and exponent shared within the block, data is instead represented 36 
by post-scaled values and a multiplicative scale value shared within the block.  It is proposed in the specification that 37 
the data block size for this function is a single PRB, same as for the proposed Block Floating Point representation.  The 38 
following Figure A-3 shows the algorithm in principle (assuming an 8-bit scaler value). 39 
 40 
 41 
 42 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      245 
O-RAN.WG4.CUS.0-v07.00 
 1 
  2 
 3 
Figure A-3 : Block Scaling Compression Process Diagram 4 
A.2.1 Block Scaling Compression Algorithm 5 
The following pseudo code depicts an example implementation of the compression algorithm. 6 
Inputs: 7 
•  fPRB - Original physical resource block (PRB), 12 complex resource elements with “native” word length of 8 
the implementation e.g. 16-bits I + 16-bits Q is assumed in this definition. 9 
• iqWidth - Word length after compression (includes sign bit) 10 
Outputs: 11 
• cPRB - Compressed PRB, 12 complex resource elements with word length iqWidth 12 
• sblockScaler- Common scaler for compressed PRB 13 
// Find max and min of resource element real and imaginary parts 14 
maxV = max(max(real(fPRB)), max(imag(fPRB))); 15 
minV = min(min(real(fPRB)), min(imag(fPRB))); 16 
 17 
// Determine maximum absolute value, which will be 15-bits 18 
maxValue = max(maxV, abs(minV)-1);    // Negative values offset by 1 to fit 15-bits 19 
 20 
// Map sBlockScaler to 8-bits 21 
sblockScaler = ceil(maxValue/2^8);     // Q1.7, 0->128 represents 0->1.000 22 
 23 
// Calculate inverse of sBlockScaler - this can be implemented as a look-up table 24 
if(sblockScaler==0) 25 
    sBlockScaler = 1;        // Trap divide by zero 26 
end 27 
inverseBlockScaler = 2^7/sblockScaler;    // Scaled 128->1 28 
 29 
// Max output value, used for saturating compressed samples to iqWidth 30 
qs = 2^(iqWidth-1); 31 
 32 
// Scale each RE. Scaling assumes 16-bit uncompressed data width. 33 
for iRe =1:length(fPRB) 34 
    cRe_re = round(inverseBlockScaler * real(fPRB(iRe)) / 2^(16-iqWidth));  // Scale real part 35 
    cRe_re = min(max(cRe_re, -qs), qs-1);                                         // Saturate 36 
    cRe_im = round(inverseBlockScaler * imag(fPRB(iRe)) / 2^(16-iqWidth));  // Scale imaginary part 37 
    cRe_im = min(max(cRe_im, -qs), qs-1);                                        // Saturate 38 
    cPRB(iRe) = complex(cRe_re, cRe_im);                                         // Complex output value 39 
end 40 
A.2.2 Block Scaling Decompression Algorithm 41 
The following pseudo-code depicts an example reference implementation of the block scaling decompression algorithm. 42 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      246 
O-RAN.WG4.CUS.0-v07.00 
Inputs: 1 
• cPRB - Compressed PRB, 12 complex resource elements with word length iqWidth 2 
• blockScaler - Common scaler for compressed PRB 3 
Outputs: 4 
• fPRB - Decompressed physical resource block (PRB), 12 complex resource elements with “native” word 5 
length for further processing. For example 16-bits I + 16-bits Q is assumed in this definition. 6 
// Re-scale each resource element back to 16-bit uncompressed width 7 
for iRe = 1:length(cPRB) 8 
    fRe_re = round(sblockScaler * real(cPRB(iRe)) / 2^(iqWidth-9)); 9 
    fRe_im = round(sblockScaler * imag(cPRB(iRe)) / 2^(iqWidth-9)); 10 
    fPRB(iRe) = complex(fRe_re, fRe_im);                       // Complex output value 11 
end 12 
A.3 -Law Compression 13 
A.3.1 -Law Compression Algorithm 14 
Inputs: 15 
• prbI & prbQ – Original physical resource block (PRB), 12 complex resource elements with a word length of 16 
16-bits I and 16-bits Q. The input bit width is fixed to 16-bits. 17 
• compBitWidth – the length of I bits and the length of Q bits after compression over the entire PRB.  Note that 18 
this means that the -law compression is really considered as a “block” compression with the block size being 19 
one PRB (same as for block floating point and block scaling). 20 
 21 
Outputs: 22 
• compI & compQ – compressed PRB, 12 complex resource elements with word length compBitWidth, 23 
including sign, exponent and mantissa. 24 
• compShift – the shift applied to the entire PRB. 25 
 26 
The O-RAN μ-law compression method combines a simple bit shift operation (for dynamic range) with a nonlinear 27 
piece wise approximation of μ-law compression where for implementation efficiency, μ=8 and the sign & mantissa are 28 
1 and 2-bits respectively. 29 
sign(prbI)
abs(prbI)
abs(prbQ)
sign(prbQ)
absI
asbsQ
max(absI,absQ) LUT
shl(absI,compShift)
compShift
shl(absQ,compShift)
Compand
Compand Sign recover
Sign recover
prbI
prbQ
compI
compQ
compShift
4
16
16
15
15
compBitWidth
compBitWidth
1
1
4
 30 
Figure A-4 : -Law Compression Algorithm 31 
// extract the sign bit and absolute value for the PRB  32 
signI=sign(prbI), signQ=sign(prbQ), absI=abs(prbI ), absQ=abs(prbQ) 33 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      247 
O-RAN.WG4.CUS.0-v07.00 
// Find the maximum in absI and absQ 1 
maxVal=max(absI,absQ) 2 
// Determine compShift, the shift to be applied to the entire PRB 3 
if maxVal>=2^14 then compShift=0 4 
if maxVal<2^14 then compShift=1 5 
if maxVal<2^13 then compShift=2 6 
if maxVal<2^12 then compShift=3 7 
if maxVal<2^11 then compShift=4 8 
if maxVal<2^10 then compShift=5 9 
if maxVal<2^9   then compShift=6 10 
if maxVal<2^8   then compShift=7 11 
 12 
// Apply round and shift left (shl – make greater) 13 
absI = shl(absI,compShift) 14 
absQ= shl(absQ,compShift) 15 
 16 
// compand each sample, absBitWidth=15 17 
if absI(i) >   (2^absBitWidth-1) then absI(i) = (2^absBitWidth-1) // saturate 18 
if absI(i) <= 2^(absBitWidth-2) then  19 
compI(i) = absI(i)/2^(absBitWidth- compBitWidth ) 20 
elseif absI(i) <= 2^(absBitWidth-1) then  21 
compI(i) = absI(i)/2^(absBitWidth- compBitWidth +1) + 2^( compBitWidth -3)  22 
else  23 
compI(i) = absI(i)/2^(absBitWidth- compBitWidth +2) + 2^( compBitWidth -2) 24 
end 25 
if absQ(i) >   (2^absBitWidth-1) then absQ (i) = (2^absBitWidth-1) 26 
if absQ (i) <= 2^(absBitWidth-2) then  27 
compQ(i) = absQ (i)/2^(absBitWidth- compBitWidth ) 28 
elseif absQ (i) <= 2^(absBitWidth-1) then  29 
compQ (i) = absQ (i)/2^(absBitWidth- compBitWidth +1) + 2^( compBitWidth -3)  30 
else  31 
compQ (i) = absQ (i)/2^(absBitWidth- compBitWidth +2) + 2^( compBitWidth -2) 32 
end 33 
// re-apply sign 34 
compI = round(signI .* compI); 35 
compQ = round(signQ .* compQ); 36 
 37 
A.3.2 -Law Decompression Algorithm 38 
Inputs: 39 
• compI & compQ– compressed physical resource block (PRB), 12 complex resource elements with a word 40 
length of compBitWidth bits I and compBitWidth bits Q.  41 
• compShift – the shift applied to the entire PRB. 42 
Outputs: 43 
• decompI & decompQ – the decompressed PRB, 12 complex resource elements with word length fixed to 16-44 
bits I and 16-bits Q, including sign, exponent and mantissa. 45 
 46 
The O-RAN μ-law decompression method is a logical reverse function of the compression method. 47 
// extract the sign bit and absolute value for the PRB  48 
signI=sign(compI), signQ=sign(compQ), absI=abs(compI), absQ=abs(compQ) 49 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      248 
O-RAN.WG4.CUS.0-v07.00 
// decompand each sample, absBitWidth=15 1 
if absI(i) > (2^( compBitWidth -1)-1) then absI (i) = (2^( compBitWidth -1)-1) 2 
if absI (i) <= 2^( compBitWidth -2) then  3 
decompI(i) = absI (i)*2^(absBitWidth- compBitWidth )   4 
elseif absI (i) <= (2^( compBitWidth -2) + 2^( compBitWidth -3)) then  5 
decompI(i) = absI (i)*2^(absBitWidth- compBitWidth +1) - 2^13 6 
else 7 
      decompI(i) = absI (i)*2^(absBitWidth- compBitWidth +2) - 2^15               8 
end 9 
 10 
if absQ(i) > (2^( compBitWidth -1)-1) then  11 
absQ (i) = (2^( compBitWidth -1)-1) 12 
if absQ (i) <= 2^( compBitWidth -2) then 13 
 decompQ(i) = absQ (i)*2^(absBitWidth- compBitWidth ) 14 
elseif absQ (i) <= (2^( compBitWidth -2) + 2^( compBitWidth -3)) then  15 
decompQ(i) = absQ (i)*2^(absBitWidth- compBitWidth +1) - 2^13       16 
else 17 
      decompQ(i) = absQ (i)*2^(absBitWidth- compBitWidth +2) - 2^15                18 
end; 19 
 20 
//Apply sign and shift 21 
decompI = signI * decompI 22 
decompQ = signQ .* decompQ 23 
decompI = decompI/2^compShift 24 
decompQ = decompQ/2^compShift 25 
 26 
A.3.3 -Law udCompParam and IQ data format 27 
PRB fields are populated as follows: 28 
• udCompParam (8 bits) 29 
o compBitWidth, 4 bits, (MSB) 30 
o compShift, 4-bits, (LSB) 31 
• IQ samples, total bits = 12x 2x compBitWidth 32 
o 1st sample I, compBitWidth-bits 33 
o 1st sample Q, compBitWidth-bits 34 
o 2nd sample I, compBitWidth-bits 35 
o 2nd sample Q, compBitWidth-bits 36 
o … 37 
o 12th sample I, compBitWidth-bits 38 
o 12th sample Q, compBitWidth-bits 39 
 40 
A.4 Beamspace Compression and Decompression 41 
This compression algorithm is specific to beamforming weights and is not suitable for user or control IQ data.  Hence 42 
this compression method will only be used as part of the bfwCompMeth in the C-Plane. 43 
A.4.1 Beamspace Compression Algorithm 44 
The following pseudo code depicts an example reference implementation of the compression algorithm. 45 
Inputs: 46 
•  fBV - Original beamforming vector of K complex elements. K is the number of digital antenna ports 47 
supported by the O-RU (see chapter 10.5.2 and Annex J) and is communicated to the DU during startup by the 48 
OAM subsystem. Each element is a complex number with a native bitwidth e.g. 16-bit I, and 16-bit Q. Element 49 
fBV(n) of this vector corresponds to beamforming vector element k = n-1 (see chapter 10.5.3). 50 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      249 
O-RAN.WG4.CUS.0-v07.00 
• iqWidth - Word length of each I and Q value after compression (includes sign bit) 1 
Outputs: 2 
• cBV - Compressed beamforming coefficients 3 
• blockScaler- Common scaler for compressed beamforming coefficients 4 
• activeBeamspaceCoefficientMask – Vector of bits activeBeamspaceCoefficientMask(n) for 1 ≤ n ≤ K. Bit 5 
value activeBeamspaceCoefficientMask(n)=1 indicates presence of beamspace coefficient associated with the 6 
beamforming vector element k ) n-1 (see chapter 10.5.3) in the compressed beamforming vector. The bit 7 
activeBeamspaceCoefficientMask(1) is conveyed in the most significant bit of the first octet of the field 8 
bfwCompParam. 9 
 10 
// Generate DFT basis matrix 11 
for k = 1 to K 12 
 for l = 1 to K 13 
W (k,l) = exp(i*2*pi*k*l/(K))  // W is a K x K complex matrix 14 
 end for 15 
end for 16 
// Transform into beamspace 17 
cBV = W*fBV // multiplication of a KxK complex matrix with a Kx1 complex vector yields another complex vector. 18 
 19 
/* The algorithm is initialized to assume that all Beamspace Coefficients are transmitted across the fronthaul link. */ 20 
for k = 1 to K 21 
 activeBeamspaceCoefficientMask(k) = 1   22 
end for 23 
 24 
/* At this stage some of the beamspace coefficients may be removed from the vector of coefficients to transmit across 25 
the fronthaul. In this example implementation, if the absolute value of a beamspace coefficient is less than ‘threshold’, it 26 
is deemed inactive, i.e. the activeBeamspaceCoefficientMask is ‘0’ at that coefficient index and this index is not sent 27 
across the fronthaul. The decompression algorithm will assume a value of 0 for that coefficient. The value of threshold 28 
can be chosen by the implementer. Other methods to determine active or inactive beamspace coefficients are also 29 
allowed and do not violate the specification. */ 30 
 31 
t = 0 32 
for k = 1 to K 33 
if abs(cBV(k)) < threshold  34 
activeIndex(k) = 0 35 
cBV(k) = null   // remove the element from the vector 36 
else 37 
  activeIndex(k) = 1 38 
  t = t + 1 39 
end if 40 
end for 41 
T = t 42 
// Calculate scaler 43 
maxValue = max(abs(Re(cBV)),abs(Im(cBV))) 44 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      250 
O-RAN.WG4.CUS.0-v07.00 
 1 
blockScaler = maxValue /* scaler can be chosen to be larger than maxValue. */ 2 
For iRe = 1 to T 3 
//Scale and round: 4 
Re(cBV(iRE)) =  Quantize (Inverse(blockScaler) × Re(cBV(iRE)))  /* Quantize could be truncate or round, 5 
Inverse can be implemented via look up table or other methods. */ 6 
Im(cBV(iRE)) = Quantize (Inverse(blockScaler) × Im(fBV(iRE)))  /* Quantize could be truncate or round, 7 
Inverse can be implemented via look up table or other methods. */ 8 
End 9 
 10 
A.4.2 Beamspace Decompression Algorithm 11 
The following pseudo-code depicts an example reference implementation of the block scaling decompression algorithm. 12 
Inputs: 13 
• cBV - Compressed beamforming coefficients 14 
• blockScaler- Common scaler for compressed beamforming coefficients 15 
• activeBeamspaceCoefficientMask – see definition in chapter A.4.2 16 
Outputs: 17 
• fBV – Decompressed beamforming vector of K (see K in chapter 10.5.2) complex elements. Element fBV(n) 18 
of this vector corresponds to beamforming vector element k = n-1 (see chapter 10.5.3) 19 
m = 0 20 
for k = 1 to K 21 
if activeBeamspaceCoefficientMask (k) = 1 22 
//Scale 23 
fBSC(k) = blockScaler × cBV(m)   24 
m = m + 1  25 
else 26 
fBSC(k) = 0 27 
end if 28 
end for 29 
// Generate DFT basis matrix 30 
for k = 1 to K 31 
 for l = 1 to K 32 
W (k,l) = exp(-i*2*pi*k*l/(K))  // W is a K x K complex matrix 33 
 end for 34 
end for 35 
fBV = W * fBSC 36 
 37 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      251 
O-RAN.WG4.CUS.0-v07.00 
A.5 Modulation Compression 1 
Modulation compression is an IQ data compression method that may be applied to DL data only and depends on the 2 
observation that modulated data symbols may be represented by a very limited number of I and Q bits.  For example, a 3 
QPSK modulated symbol has only two potential states of I and two potential states of Q, so such a symbol may be 4 
represented with no loss of information with a single bit of I and a single bit of Q.  Likewise, a 64QAM constellation 5 
point (8x8 constellation) may be represented by at most 3 bits of I and 3 bits of Q.  This allows a dramatic reduction in 6 
DL throughput and approximates that achieved by a 7-3 DL split.  See the two figures below for a description of this 7 
concept (note Figure A-5 and Figure A-6 assume a single modulation type, MCS, is used for the data section). 8 
 9 
 10 
Figure A-5 : Several Constellation types 11 
To represent the constellation points as I and Q values that also overlap allowing multiple constellation sizes to be 12 
represented by a single word-width, the constellations are “shifted” to allow a twos-complement I and Q value to 13 
represent any constellation point.  The figure below shows the same constellations after shifting. 14 
 15 
 16 
Figure A-6 : Shifted Constellation Points 17 
Once the constellations are shifted, the I and Q values may be encoded in a limited number of bits, being the larger 18 
number needed to represent the largest constellation possible in the compression block (the data section).  This means 19 
that if some data in the section use 64QAM and others use QPSK (e.g. a reference RE) all REs would use the largest 20 
needed representation which in this example is 3 bits for I and 3 bits for Q (for 64QAM).  This spoils the compression 21 
efficiency a little bit but because reference REs are a small fraction of the total number of REs, the efficiency 22 
degradation is small (there is further clarification below regarding mixing MCS in a data section).  Note that in general, 23 
every user will have its own data section (and own beamforming index) so users with high-order modulation may need 24 
and use more bits of I and Q while users with lower-order modulation may need and use fewer bits of I and Q. 25 
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
BPSK (normal, /4, /2)
encodes 1 user bit
X       X X X
X       X X X
-3/4    -1/4     1/4     3/4
X       X X X
X       X X X
X                       X
-1/2                    1/2
X                       X
I is represented by 2 bit
Q is represented by 2 bits
(-1/2, 0, and 1/2 are needed)
modulation-compression:
from 32 bits (16I and 16Q)
to 4 bits (2I and 2Q)
I is represented by 1 bit
Q is represented by 1 bit
modulation-compression:
from 32 bits (16I and 16Q)
to 2 bits (1I and 1Q)
I is represented by 2 bits
Q is represented by 2 bits
modulation-compression:
from 32 bits (16I and 16Q)
to 4 bits (2I and 2Q)
I is represented by 3 bits
Q is represented by 3 bits
modulation-compression:
from 32 bits (16I and 16Q)
to 6 bits (3I and 3Q)
QPSK
encodes 2 user bits
16 -QAM
encodes 4 user bits
64-QAM
encodes 6 user bits
X                       X
-1/2                   1/2


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      252 
O-RAN.WG4.CUS.0-v07.00 
Note that some constellations should not be shifted.  For example, BPSK needs I and Q data to take the values -1/2, 1 
zero, and +1/2 (different varieties of BPSK can rotate these as with /4 BPSK and /2 BPSK).  For this reason, BPSK 2 
would use two bits for I and 2 bits for Q; while this seems counterintuitive (BPSK using more bits than QPSK) this is a 3 
small penalty given the rarity of BPSK as a modulation type.  Here, BPSK would not be shifted.  Likewise, PHICH 4 
constellations encode 3 states for each I and Q: -1, zero and 1.  For this constellation the representation would be -½, 0 5 
and ½ with no constellation shift needed.  However, all “QAM” modulations do need a constellation shift (except 6 
possibly in mixed-MCS cases).  The presence of absence of the need for a constellation shift is indicated by the “csf” 7 
field, where for every “one” in the reMask “csf” indicates whether to shift (csf=1) or not (csf=0) the associated RE. 8 
Mixed-MCS cases represent another example when constellations are not shifted.  This can occur when user data REs 9 
(at high MCS) and signaling data REs (at low MCS) are in the same PRB hence in the same data section.  The reMask 10 
discriminates the REs at high MCS from the REs at the lower MCS (and provides different modCompScaler or 11 
mcScaleOffset values for the different-MCS data), but all the REs in the PRB must use the same number of I and Q bit-12 
widths.  In this case only the high-MCS constellation is shifted, the lower-MCS constellation is not shifted because its 13 
data points already overlap with the shifted high-MCS data points.  Figure A-7 shows an example of 16QAM data 14 
overlain with 64QAM data. 15 
 16 
Figure A-7: Multiple-MCS example for Modulation Compression 17 
In the Figure A-7 example, for overlain 16QAM (green) and 64QAM (red), the high-MCS (red) points are shifted by ½ 18 
the high-MCS resolution (here, -1/8) to allow all points to share the same “grid”, as shown in the middle figure wherein 19 
the red and green points overlay.  All I and Q values can be represented by 3 bits each on the fronthaul interface.  20 
The O-DU uses the constellation shift flag (csf) to tell the O-RU which data (red points) to “unshift” by adding 1/8 to 21 
them, thereby restoring the original constellation values.  After that, modCompScaler (or mcScaleOffset) is applied to 22 
set the data to the correct power levels (separate modCompScaler or mcScaleOffset values may be used for the differing 23 
MCS data). 24 
When decompressing, the O-RU must “unshift” the constellation (or perhaps not, depending on “csf”) and also apply a 25 
scale factor for the constellation types represented in the section.  There are expected to be either one or two modulation 26 
types in the section, no more.  The modulation type is inferred from the reMask bits, where each “one” bit indicates the 27 
shift command (“csf”) and scale factor (“modCompScaler” when using extension type 4, and “mcScaleOffset” when 28 
using extension type 5) for the REs in the subject PRB.  The scale factor allows not only for correcting for different 29 
constellation scaling (e.g. for multiplexed channel data in a PRB inclusing QPSK and 16QAM, QPSK involves a 30 
2/sqrt(2) factor while 16QAM involves a 4/sqrt(10) factor), but also allows different channel power scaling which is 31 
permitted as a 3GPP option. 32 
Note that this compression method is essentially lossless, except that the scale factors, being 15 bits, impose a limit on 33 
the accuracy of representation.  15 bits is considered sufficient for all LTE and NR data representations. 34 
When compressing, constellation points are shifted by the shift value defined in Table 5-26 in section 5.4.7.4.1, and the 35 
I and Q values are represented as signed two’s complement fractional notation and included in the U-plane message as 36 
udIqWidth bit vectors where  udIqWidth is dependent on the modulation constellation type and is defined in Table 37 
5-26. 38 
Here is the specific decompression algorithm intended by this approach: 39 
1. Read 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒 as an udIqWidth bit vector in the U-plane message [this is all the IQ data in the data section] 40 
2. Map 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒 [0,2udIqWidth −1] to 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥 [−1,1) assuming that the udIqWidth bits are represented as Q1.( 41 
udIqWidth-1) [this is the normal twos-complement representation of the I and Q samples represented in fractional 42 
notation]. 43 
3X. For each RE in the PRB (using section extension =4): 44 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      253 
O-RAN.WG4.CUS.0-v07.00 
3Xa: fetch the “csf” and “modCompScaler” values for which this RE has a “1” in the reMask 1 
3Xb. If “𝑐𝑠𝑓"== 1 then 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥 = 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥 + 2−udIqWidth [this is “unshifting” the constellation 2 
point]. 3 
3Xc. 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝑆𝑐𝑎𝑙𝑒𝑑 = modCompScaler×𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥×√2  [this scales the constellation point] 4 
3Y. For each RE in the PRB (using section extension =5): 5 
3Ya: fetch the “csf” and “mcScaleOffset” values for which this RE has a “1” in the relevant mcScaleReMask 6 
3Yb. If “𝑐𝑠𝑓"== 1 then 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥 = 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥 + 2−udIqWidth [this is “unshifting” the constellation 7 
point]. 8 
3Yc. 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝑆𝑐𝑎𝑙𝑒𝑑 = mcScaleOffset×𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥×√2 [this scales the constellation point] 9 
After decompression, | iqSampleScaled | must be ≤ 1 and a value of | iqSampleScaled | = 1.0 matches 0 dBFS. 10 
11 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      254 
O-RAN.WG4.CUS.0-v07.00 
A.6 Selective RE sending Compression 1 
The compressed data representation is as follows. For each IQ-samples where both the I- and the Q-value are 0 (zero) 2 
corresponding bit is set to the Selective RE sending bitmask (sReSMask) and that IQ-sample will not be transmitted 3 
over the interface in the U-Plane message. 4 
If the total number of bits for the transmitted IQ-samples is not a multiple of 8 (1 byte) then bit-padding will be 5 
performed after the last part of the last IQ-samples so that byte alignment is achieved. 6 
Figure below shows an example where 9 out of the 12 IQ-samples in a PRB are zero and thus removed from being sent 7 
in the corresponding U-Plane message.  8 
The compression algorithm is performed on the original 12 IQ-samples including any possible zero valued IQ-samples. 9 
I1 Q1
I2 Q2
I3 Q3
I4 Q4
I5 Q5
I6 Q6
I7 Q7
I8 Q8
I9 Q9
I10 Q10
I11 Q11
I12 Q12
Uncompressed bit -width signed
12 Samples
 
I2 Q2
I6 Q6
I10 Q10
3 Samples
Selective RE Se nding M ask
Zero valued IQ samples  removed 
 
I1 Q1
I2 Q2
I3 Q3
I4 Q4
I5 Q5
I6 Q6
I7 Q7
I8 Q8
I9 Q9
I10 Q10
I11 Q11
I12 Q12
Compressed samples
12 Samples
udCompParam
udCompP aram
One of:
• Block Floating Point
• Modulation compression
 10 
  11 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      255 
O-RAN.WG4.CUS.0-v07.00 
Annex B Delay Management Use Cases 1 
Intra-PHY lower layer fronthaul split has characteristic of a stringent bandwidth and tight latency requirement. This 2 
implies use of a special “Fronthaul Service Profile” to be supported by the transport network, and which may differ 3 
depending on the operating environment, topology and target use cases. The general concept and latency boundaries is 4 
based on eCPRI reference points for delay management definitions (See Figure B-1). However, this specification 5 
additionally differentiates between DL (Figure B-2) and UL (Figure B-3) latency boundaries. The parameters and how 6 
these are determined for a pre-defined latency configuration are explained below.  (An actual example of the parameters 7 
for a specific use case are presented in Annex B.1.)  Pre-defined latency is necessary when actual latency measurements 8 
are not provided; both the use of pre-defined latency value and use of a method for measuring actual network latency in 9 
the DL and UL are supported in this specification.   10 
The following assumptions are considered for the delay boundaries definitions: 11 
• Tcp_adv_dl: Smallest time advance to receive Downlink Data C-Plane message before the first IQ data can be 12 
processed 13 
• The fronthaul transmission delay behavior for C-Plane for DL data, C-Plane for UL data, and U-Plane for DL 14 
data is equal. Thus, there is common usage of T12_min and T12_max parameters. 15 
• The transmission window (T1a_max – T1a_min) for C-Plane for DL data, C-Plane for UL data, and U-Plane 16 
for DL data all have the same length. 17 
• The reception window (T2a_max – T2a_min) for C-Plane for DL data, C-Plane for UL data, and U-Plane for 18 
DL data all have the same length. 19 
• T2a_min_cp_ul: Latest availability at O-RU of C-Plane for UL data message before reception of the first IQ 20 
data sample of the respective user’s U-Plane UL data packet is received over the air interface.  21 
 22 
 23 
Figure B-1 : Definition of reference points for delay management (adapted from [2]) 24 
 25 
O-DU O-RU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      256 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure B-2 : Timing relations per symbol IQ in DL direction (U-Plane and C-Plane) 2 
 3 
Figure B-2 is based on the eCPRI delay measurement model on timing relations in DL direction.  More detail is added 4 
to illustrate the following data transfer timing relations:  5 
➢ U-plane DL data : Blue path 6 
➢ C-plane for DL data : Green path 7 
To understand this timing diagram, it is easier to work backward in timeline. 8 
For U-plane DL data flow (use symbol #0 transmission as an example): 9 
• t = 0 : time of transmission (at air interface) of the first sample for symbol #0 (see tDL = 0) 10 
• t = - T2a_min_up :  O-RU has a fixed data processing delay (T2a_min_up).  In order to meet air interface time for 11 
symbol#0 transmission at t = 0, symbol#0 data must be presented on time for the processing unit (yellow block). 12 
o  For symbol#0, start of processing time t = 0 – T2a_min_up = - T2a_min_up 13 
• End of reception window : The latest time that O-RU can accept U-plane DL data for a specific symbol prior to 14 
start of data processing.    If U-plane DL data arrives earlier than this time and is within reception window range, 15 
DL data may wait inside reception window buffer until the start of processing time, hence - the end of reception 16 
window is the same time point as the start of processing time as described immediately above. 17 
o For symbol#0, end of reception window time t = 0 – T2a_min_up = - T2a_min_up. 18 
• Start of reception window : This earliest time that O-RU can accept U-plane DL data for a specific symbol prior to 19 
start of data processing.    If U-plane DL data arrives later than this time and is within reception window range, DL 20 
data will wait inside reception window buffer.   21 
o For symbol#0, start of reception window time t = 0 - T2a_max_up = - T2a_max_up 22 
• O-RU reception window range = T2a_max_up – T2a_min_up 23 
• End of transmission window : The latest time that O-DU can send U-plane DL data for a specific symbol out to 24 
transport interface. 25 
o For symbol#0, end of transmission window time t = 0 – T1a_min_up = - T1a_min_up. 26 
• Start of transmission window : The earliest time that O-DU can send U-plane DL for a specific symbol out to 27 
transport interface.  28 
start of Tx window C-Plane DL end of Tx window C-Plane DL 
Transmission 
Window 
C-Plane DL 
Reception Window C-Plane DL 
C-Plane data 
for symbol #n 
c 
c 
start of Rx window C-Plane DL 
O-
DU 
O-
RU 
tDL=0 
Symbol #n 
Processing 
Symbol #n+1 
Processing 
Symbol #n-2 Symbol #n-1 Symbol #n Symbol #n+1 
  
#n 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      257 
O-RAN.WG4.CUS.0-v07.00 
o For symbol#0, start of transmission window time t = 0 – T1a_max_up = - T1a_max_up. 1 
• O-DU transmission window range = T1a_max_up – T1a_min_up 2 
• DL FH transport delay : T12_min and T12_max is the min and max transport delay.  When FH transport is 3 
behaving properly, it should guarantee each packet transport (carrying C-plane or U-plane DL packet) delay is 4 
within this min and max boundary. Figure B-2 illustrates case where T12_min = 0. 5 
• O-DU transmission window, FH transport delay and O-RU reception window must satisfy the following criteria for 6 
proper behavior: 7 
o Start of reception window can accept a packet sent at start of transmission window AND experienced min 8 
FH transport delay =>  - T2a_max_up < -T1a_max_up + T12_min ---- (eq 1) 9 
o End of reception window can accept a packet sent at end of transmission window AND experienced max 10 
FH transport delay =>  - T2a_min_up > -T1a_min_up + T12_max ---- (eq 2) 11 
o Combining both criteria (-eq1 + eq2), the logical conclusion is as follows: 12 
➢ O-RU reception window range > O-DU transmission window + FH DL transport max-min 13 
➢  (T2a_max_up – T2a_min_up) > (T1a_max_up – T1a_min_up) + (T12_max – T12_min) 14 
In other words, the reception window at O-RU MUST be greater than or equal to the total of the O-DU transmission 15 
variability and the Transport time variability. 16 
 17 
For C-plane to support DL data flow (use symbol #n = 0 transmission as an example): 18 
• Focus on the green path, same principle is applied to relate reception window, transmission window and FH 19 
transport delay. 20 
• the logical conclusion is as follows: 21 
➢ Reception window range > Transmission window + FH DL transport max-min 22 
➢  (T2a_max_cp_dl – T2a_min_cp_dl) > (T1a_max_cp_dl – T1a_min_cp_dl) + (T12_max – T12_min) 23 
 24 
 25 
 26 
Figure B-3 : Timing relations per symbol IQ in UL direction (U-Plane and C-Plane) 27 
Transmission 
Window 
C-Plane UL 
Reception Window 
C-Plane UL 
c 
c 
O-
DU 
O-
RU 
c-plane data 
for symbol #n 
Symbol #n 
Processing 
Symbol #n+1 
Processing 
tUL=0 
Symbol #n-2 Symbol #n-1 Symbol #n Symbol #n+1 
  
#n 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      258 
O-RAN.WG4.CUS.0-v07.00 
Figure B-3 is based on the eCPRI delay measurement model on timing relations in UL direction.  More detail is added 1 
to illustrate the following data transfer timing relations: 2 
➢ U-plane UL data : Blue path 3 
➢ C-plane for UL data : Green path 4 
To understand this timing diagram, it is easier to work forward in timeline for the U-plane UL data and work backward 5 
in timeline for the C-plane to support UL data flow. Note this example is applicable for non-PRACH channel. 6 
For U-plane UL data flow (use symbol #n = 0 reception as an example): 7 
• t = 0 : time of reception (at air interface) of the first sample for symbol #0 (see tUL = 0) 8 
• t = 0 + Ta3_min_up :  O-RU has a fixed data processing delay (Ta3_min_up).  Air interface data is immediately 9 
presented to data processing unit (yellow block). 10 
o  For symbol#0, end of processing = 0 + Ta3_min_up = Ta3_min_up 11 
• Start of transmission window : The earliest time that O-RU can send U-plane UL for a specific symbol out to 12 
transport interface. The earliest time is immediately after data processing. 13 
o For symbol#0, start of transmission window = 0 + Ta3_min_up = Ta3_min_up. 14 
• End of transmission window : The latest time that O-RU can send U-plane UL data for a specific symbol out to 15 
transport interface.   16 
o For symbol#0, end of transmission window = 0 + Ta3_max_up = Ta3_max_up. 17 
• O-RU transmission window range = Ta3_max_up – Ta3_min_up 18 
• Start of Reception window : This earliest time that O-DU can accept U-plane UL data for a specific symbol prior to 19 
start of O-DU data processing.  If U-plane DL data arrives later than this time and is within reception window 20 
range, UL data will wait inside reception window buffer.   21 
o For symbol#0, start of reception window = 0 + Ta4_min = Ta4_min 22 
• End of Reception window : The latest time that O-DU can accept U-plane UL data for a specific symbol prior to 23 
start of O-DU data processing.   24 
o For symbol#0, end of reception window = 0 + Ta4_max = Ta4_max. 25 
• O-DU reception window range = Ta4_max – Ta4_min 26 
• UL FH Transport delay : T34_min and T34_max is the min and max transport delay.  When FH transport is 27 
behaving properly, it should guarantee each packet transport (carrying U-plane UL packet) delay is within this min 28 
and max boundary.  29 
• Transmission window, FH transport delay and reception window must satisfy the following criteria for proper 30 
behavior: 31 
o Start of reception window can accept a packet sent at start of transmission window AND experienced min 32 
FH transport delay =>  Ta4_min < Ta3_min_up + T34_min ---- (eq 1) 33 
o End of reception window can accept a packet sent at end of transmission window AND experienced max 34 
FH transport delay =>  Ta4_max > Ta3_max_up + T34_max ---- (eq 2) 35 
o Combining both criteria (-eq1 + eq2), the logical conclusion is as follows: 36 
➢ O-DU reception window range > O-RU transmission window + FH UL transport max-min 37 
➢  (Ta4_max – Ta4_min) > (Ta3_max_up – Ta3_min_up) + (T34_max – T34_min) 38 
In other words, the reception window at O-DU MUST be greater than or equal to the total of the O-RU transmission 39 
variability and the Transport time variability. 40 
 41 
For C-plane to support UL data flow (use symbol #0 transmission as an example): 42 
• Focus on the green path, same principle to C-plane to support DL data is applied to relate reception window, 43 
transmission window and FH transport delay. 44 
• the logical conclusion is as follows: 45 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      259 
O-RAN.WG4.CUS.0-v07.00 
➢ Reception window range > Transmission window + FH transport min-max difference 1 
➢  (T2a_max_cp_ul – T2a_min_cp_ul) > (T1a_max_cp_ul – T1a_min_cp_ul) + (T12_max – T12_min) 2 
It is useful to consider several different delay management use cases because delay management, in particular the need 3 
to buffer large amounts of data within O-RUs, can have a significant cost and complexity impact on O-RU design.  4 
More specifically, accommodating long network delays (allowing long fiber lengths and/or many switch hops) can 5 
impose a significant buffering requirement on the O-RU while use cases involving short network delays e.g. an in-6 
building application may allow much smaller in-O-RU buffering thereby allowing a lower-cost and lower-power 7 
design.  Additionally, the SCS may affect the transmission windows described above, and thus use cases may be SCS 8 
specific as well.  Note that here it is assumed the DL buffering will be done in the O-RU, otherwise the O-DU would 9 
have to always implement extensive buffering to accommodate any O-RU use case which would increase overall costs. 10 
In the case of using pre-defined network latency values per use case, the following must be pre-defined (for measured-11 
network-latency cases these same values are determined via the measurement process): 12 
T12_min, T12_max, T34_min and T34_max must be determined based on the desired network configuration.  13 
Determination of T12_min and T34_min values must include shortest transmission paths, both fiber and minimum 14 
switching delays.  In addition, longest fibers, switching delays, and PDV introduced due to the variable delay nature of 15 
ethernet must be accounted for in T12_max and T34_max.   16 
T2a_min_up, T2a_min_cp_ul, and Ta3_min must be determined across all O-RU equipment to be used in the system.  17 
The determined values must be greater than or equal to the largest of these values across all supported equipment.  18 
Equipment with lower values need to have additional delay added to align with the determined values. 19 
Similarly, the maximum transmission windows must be determined across all O-DU and O-RU equipment.  As stated 20 
above, the transmission windows for DL UP, DL CP and UL CP are all assumed to be the same at current.  However, 21 
this is the maximum transmission window.  Equipment may use less time for transmission of any symbol. 22 
Additionally, the advance between DL UP/ CP must be determined.  (Tcp_adv_dl) 23 
Once the above parameters are determined, the remaining values may be calculated as shown in the following tables: 24 
Downlink Data Direction 25 
Table B-1 : U-Plane DL delay boundaries 26 
Downlink Method 
T1a_max_up ≤ T12_min + T2a_max_up 
T1a_min_up ≥ T12_max + T2a_min_up 
T2a_max_up ≥ T2a_min_up + (T12_max – T12_min) + O-DU Transmission Window 
T2a_min_up Specified per Use Case 
T12_max Specified per Use Case 
T12_min Specified per Use Case 
O-DU Transmission Window Specified per Use Case 
 27 
Table B-2 : C-Plane DL delay boundaries 28 
Downlink Method 
Tcp_adv_dl Specified per Use Case 
T1a_max_cp_dl ≥T1a_max_up + Tcp_adv_dl 
T1a_min_cp_dl T1a_min_up + Tcp_adv_dl 
T2a_max_cp_dl ≥T2a_max_up + Tcp_adv_dl 
T2a_min_cp_dl T2a_min_up + Tcp_adv_dl 
T12_max Same as U-plane DL 
T12_min Same as U-plane DL 
 29 
Uplink Data Direction (need not be the same as the Downlink values) 30 
Table B-3 : U-Plane Uplink delay boundaries 31 
Uplink Method 
Ta3 max ≤ Ta3_min + O-RU Transmission Window 
Ta3 min Specified per Use Case 
Ta4 max ≥ Ta3_max + T34_max 
Ta4 min ≤ Ta3_min + T34_min 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      260 
O-RAN.WG4.CUS.0-v07.00 
T34 max Specified per Use Case 
T34 min Specified per Use Case 
O-RU Transmission Window Specified per Use Case 
 1 
Table B-4 : C-Plane Uplink delay boundaries 2 
Downlink Method 
T1a_max_cp_ul ≤ T12_min + T2a_max_cp_ul 
T1a_min_cp_ul ≥ T12_max + T2a_min_cp_ul 
T2a_max_cp_ul ≥ T2a_min_cp_ul + (T12_max – T12_min) + O-DU uplink C-Plane 
Transmission Window duration 
T2a_min_cp_ul Specified per Use Case 
T12_max Specified per Use Case 
T12_min Specified per Use Case 
O-DU Transmission Window Specified per Use Case 
 3 
B.1 Latency categories and sub-categories 4 
The O-DU and O-RU are defined to be in “delay categories” and “delay sub-categories” for the purposes of allowing a 5 
matching of O-DU and O-RU units that will operate properly together from the point of view of accommodating a 6 
customer’s network delay.  Network delay comprises the “time-of-flight” of signals through (typically) a fiber-optic 7 
cable (so can be known from the fiber length) added to the signal traversal latency through any switches in the network. 8 
The delay category and delay sub-category values depend in part on the processing latency within the O-DU and O-RU.  9 
It may be expected especially for an O-RU that the processing latency may depend on the specific frequency band and 10 
sub-carrier spacing that is used.  Further, a multi-band radio may experience different processing latencies for its 11 
different bands.  Therefore, it may be expected that an O-RU (and perhaps more rarely an O-DU) will have different 12 
delay category and delay sub-category ratings for different bands. 13 
O-DU categories are defined as A.##[##] (per direction, i.e. O-DU UL and O-DU DL are different categories) 14 
• Prefix(blank/f): The prefix distinguishes the type of O-DU with dynamic/fixed timing advance/retard  15 
• A: Category from [AAAA-N] per table below 16 
• .##[##]: sub-category from [.00 - .1000] per tables below 17 
O-RU categories are defined as X.##[##] (per direction, i.e. O-RU UL and O-RU DL are different categories) 18 
• X: Category from [O-ZZ] per table below 19 
• .##[##]: sub-category from [.00-.1000] per tables below 20 
The following tables are used by equipment vendors to assign categories to their equipment based on design 21 
characteristics.   22 
 23 
  24 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      261 
O-RAN.WG4.CUS.0-v07.00 
Table B-5 : O-DU and O-RU Delay Categories 1 
Category • T1a_max_upO-DU - TxmaxO-DU
• Ta4_max_upO-DU 
[µsec]
AAAA ≥ 30000
AAA 10000 to 29999
AA 3000 to 9999
A 400 to 2999
B 380 to 399
C 360 to 379
D 340 to 359
E 320 to 339
F 300 to 319
G 280 to 299
H 260 to 279
I 240 to 259
J 220 to 239
K 200 to 219
L 180 to 199
M 160 to 179
N 0 to 159
O-DU Category
    
Category • T2a_min_up
   OR
• Ta3_max
[µsec]
O 0 to 50
P 51 to 70
Q 71 to 90
R 91 to 110
S 111 to 130
T 131 to 150
U 151 to 170
V 171 to 190
W 191 to 210
X 211 to 230
Y 231 to 250
Z 251 to 270
ZZ  ≥ 271
O-RU Category  2 
NOTE: Categories are defined to group endpoints with similar delay characteristics for easy evaluation relative to use 3 
cases.  Specifically, categories AA-AAAA and ZZ are defined for non-ideal fronthaul.  The calculated value for O-DU 4 
or O-RU falling anywhere within the range for the category indicates that the endpoint is classified as that category.  It 5 
is NOT required that the endpoint be able to support the full range of the category. 6 
Table B-6 and B-7 are intended for use by network providers to determine the best and worst case T12_max/ T34_max 7 
values that can be supported by a given equipment combination (excluding non-ideal fronthaul).  Alternatively, network 8 
providers may locate the desired T12_max/ T34_max and select from the equipment combinations meeting that criteria.  9 
Common criteria are identified by different colors on diagonals through the tables 10 
 11 
Table B-6 : Latency_min (Minimum supported T12_max/ T34_max in µsec)12 
RU A B C D E F G H I J K L M N
O 350 330 310 290 270 250 230 210 190 170 150 130 110 0
P 330 310 290 270 250 230 210 190 170 150 130 110 90 0
Q 310 290 270 250 230 210 190 170 150 130 110 90 70 0
R 290 270 250 230 210 190 170 150 130 110 90 70 50 0
S 270 250 230 210 190 170 150 130 110 90 70 50 30 0
T 250 230 210 190 170 150 130 110 90 70 50 30 10 0
U 230 210 190 170 150 130 110 90 70 50 30 10 0 0
V 210 190 170 150 130 110 90 70 50 30 10 0 0 0
W 190 170 150 130 110 90 70 50 30 10 0 0 0 0
X 170 150 130 110 90 70 50 30 10 0 0 0 0 0
Y 150 130 110 90 70 50 30 10 0 0 0 0 0 0
Z 130 110 90 70 50 30 10 0 0 0 0 0 0 0
O-DU
 13 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      262 
O-RAN.WG4.CUS.0-v07.00 
 1 
 2 
 3 
Table B-7 : Latency_max (Maximum supported T12_max/ T34_max in µsec) 4 
RU A B C D E F G H I J K L M N
O 3000 399 379 359 339 319 299 279 259 239 219 199 179 159
P 2949 348 328 308 288 268 248 228 208 188 168 148 128 108
Q 2929 328 308 288 268 248 228 208 188 168 148 128 108 88
R 2909 308 288 268 248 228 208 188 168 148 128 108 88 68
S 2889 288 268 248 228 208 188 168 148 128 108 88 68 48
T 2869 268 248 228 208 188 168 148 128 108 88 68 48 28
U 2849 248 228 208 188 168 148 128 108 88 68 48 28 8
V 2829 228 208 188 168 148 128 108 88 68 48 28 8 0
W 2809 208 188 168 148 128 108 88 68 48 28 8 0 0
X 2789 188 168 148 128 108 88 68 48 28 8 0 0 0
Y 2769 168 148 128 108 88 68 48 28 8 0 0 0 0
Z 2749 148 128 108 88 68 48 28 8 0 0 0 0 0
O-DU
 5 
Table B-8 : Use Case Mapping (Based on Latency_min) 6 
Range (KM)
T12max
T34max
(µsec)
50 250 AO - AT BO - BS CO - CR DO - DQ EO - EP FO
45 225 AU BT CS DR EQ FP GO
40 200 AV BU CT DS ER FQ GP HO
35 175 AW BV CU DT ES FR GQ HP IO
30 150 AX - AY BW - BX CV - CW DU - DV ET - EU FS - FT GR - GS HQ - HR IP - IQ JO - JP KO
25 125 AZ BY CX DW EV FU GT HS IR JQ KP LO
20 100 BZ CY DX EW FV GU HT IS JR KQ LP MO
15 75 CZ DY EX FW GV HU IT JS KR LQ MP
10 50 DZ EY - EZ FX - FY GW - GX HV - HW IU - IV JT - JU KS - KT LR - LS MQ - MR
5 25 FZ GY HX IW JV KU LT MS
0 0 GZ HY IX JW KV LU MT
Minimum T12Max Guaranteed for Category Combinations
(Combinations may support larger T12max)
 7 
NOTE: The Use Case Mapping table can be used to determine the O-DU/ O-RU delay category combinations which are 8 
guaranteed to support a given latency use case.  This is defined based on Latency_min for the category.  It may be 9 
possible for equipment from a lower category to support a higher use case, but cannot be guaranteed.  To determine the 10 
exact maximum latency for an O-DU/ O-RU pair, it is necessary to calculate based on the delay parameter values for 11 
the paired equipment. 12 
 13 
Table B-9 : O-DU and O-RU Tx/Rx Window Sub-Categories 14 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      263 
O-RAN.WG4.CUS.0-v07.00 
Sub-
Category
• T2a_max_up - T2a_min_up
• RXmaxO-DU
 [in usec]
.1000 ≥ 10000
.300 3000 to 9999
.100 1000 to 2999
.40 400 to 999
.38 380 to 399
.36 360 to 379
.34 340 to 359
.32 320 to 339
.30 300 to 319
.28 280 to 299
.26 260 to 279
.24 240 to 259
.22 220 to 239
.20 200 to 219
.18 180 to 199
.16 160 to 179
.14 140 to 159
.12 120 to 139
.10 100 to 119
.08 80 to 99
.06 60 to 79
.04 40 to 59
.02 20 to 39
.01 10 to 19
.00 0 to 9
Receive Window Sub-Category
      
Sub-
Category
• TXmaxO-DU
• Ta3_max - Ta3_min
 [in usec]
.20 ≥ 200
.19 190 to 199
.18 180 to 189
.17 170 to 179
.16 160 to 169
.15 150 to 159
.14 140 to 149
.13 130 to 139
.12 120 to 129
.11 110 to 119
.10 100 to 109
.09 90 to 99
.08 80 to 89
.07 70 to 79
.06 60 to 69
.05 50 to 59
.04 40 to 49
.03 30 to 39
.02 20 to 29
.01 10 to 19
.00 0 to 9
Transmit Window Sub-Category  1 
NOTE: Sub-categories are defined to group endpoints with similar delay characteristics for easy evaluation relative to 2 
use cases.  Specifically, sub-categories .100 to .1000 are defined for non-ideal fronthaul.  The calculated value for O-3 
DU or O-RU falling anywhere within the range for the category indicates that the endpoint is classified as that sub-4 
category.  It is NOT required that the endpoint be able to support the full range of the sub-category. 5 
Table B-10 is used by service providers to identify equipment sub-category combinations which meet the desired 6 
network variability (excluding non-ideal fronthaul).  Variability is shown in Km in the table.  This range is based on 5 7 
usec per Km. 8 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      264 
O-RAN.WG4.CUS.0-v07.00 
Table B-10 : Dynamic Range (in Km) for sub-category pairs1 
TxMax .40 .38 .36 .34 .32 .30 .28 .26 .24 .22 .20 .18 .16 .14 .12 .10 .08 .06 .04 .02 .01
.20 40 36 32 28 24 20 16 12 8 4
.19 42 38 34 30 26 22 18 14 10 6 2
.18 44 40 36 32 28 24 20 16 12 8 4
.17 46 42 38 34 30 26 22 18 14 10 6 2
.16 48 44 40 36 32 28 24 20 16 12 8 4
.15 50 46 42 38 34 30 26 22 18 14 10 6 2
.14 52 48 44 40 36 32 28 24 20 16 12 8 4
.13 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.12 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.11 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.10 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.09 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.08 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.07 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.06 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.05 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.04 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.03 74 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.02 76 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.01 78 74 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.00 80 76 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4 2
Receive Window
 2 
B.2 Example Case: Evaluating O-DU / O-RU Combinations 3 
This example illustrates an O-RU and an O-DU, each supporting multiple SCS.  It illustrates how the actual O-DU/ O-4 
RU delay profiles map to categories, and then how the corresponding categories are used to evaluate the resulting 5 
transport network limitations.  The values represented are exemplary only.  The example is provided to illustrate: 6 
• Interoperability across multiple SCS 7 
o O-RU and O-DU will have multiple delay profiles 8 
o Delay profiles are different for uplink and downlink 9 
• applicability service provider use case 10 
 11 
 12 
Table B-11 :  Delay profiles for the example O-RU 13 
 O-RU Parameters 30 kHz  120 kHz  15 kHz 
Downlink 
T2a_min_up,  50 50  205 
T2a_max_up, 250 180  435 
T2a_min_cp_dl, 175 175  330 
T2a_max_cp_dl, 375 205  460 
Tcp_adv_dl 125 125  125 
Category O.20     (250-
50)=200 
O.12  W.22 
Uplink 
Ta3_min,  50 50  70 
Ta3_max 100 70  235 
T2a_min_cp_ul, 125 125  125 
T2a_max_cp_ul 325 255  360 
Category R.05 P.02  Y.16 
 14 
 15 
 16 
Table B-12 :  Delay profiles for the example O-DU. 17 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      265 
O-RAN.WG4.CUS.0-v07.00 
 O-DU Parameters 30 kHz 120 kHz 15 kHz 
Downlink 
T1a_max_upO-DU,  250 180 435 
TXmaxO-DU 40 20 70 
Category K.04 M.02 C.07 
Uplink 
Ta4_maxO-DU,  250 180 395 
RXmaxO-DU 200 130 325 
Category I.20 L.12 B.32 
 1 
This results in 6 different category combinations: 2 
Table B-13 :  Resulting 6 different category combinations 3 
 30 kHz 120 kHz 15 kHz 
Downlink KO MO CW 
Uplink IR LP BY 
 4 
The respective minimum and maximum T12max values are highlighted in the tables below.  Using the 30 kHz as an 5 
example, it can be seen that the range on the transport is limited by the uplink (IR) to between 130 usec and 168 usec.  6 
This means that this combination can be guaranteed to be able to support at least 130 usec of delay, and may be capable 7 
of supporting up to 168 usec of delay.  Using the actual delay values for the combination at 30 kHz, the uplink is limited 8 
to Ta4_max – Ta3_max = 250 – 100 = 150 usec.  (The downlink value is higher, so uplink becomes the limiting factor 9 
for this combination.) 10 
Table B-14 : Delay Category O-DU and O-RU with highlighted valid options for this example, minimum T12max 11 
RU A B C D E F G H I J K L M N
O 350 330 310 290 270 250 230 210 190 170 150 130 110 0
P 330 310 290 270 250 230 210 190 170 150 130 110 90 0
Q 310 290 270 250 230 210 190 170 150 130 110 90 70 0
R 290 270 250 230 210 190 170 150 130 110 90 70 50 0
S 270 250 230 210 190 170 150 130 110 90 70 50 30 0
T 250 230 210 190 170 150 130 110 90 70 50 30 10 0
U 230 210 190 170 150 130 110 90 70 50 30 10 0 0
V 210 190 170 150 130 110 90 70 50 30 10 0 0 0
W 190 170 150 130 110 90 70 50 30 10 0 0 0 0
X 170 150 130 110 90 70 50 30 10 0 0 0 0 0
Y 150 130 110 90 70 50 30 10 0 0 0 0 0 0
Z 130 110 90 70 50 30 10 0 0 0 0 0 0 0
lls-DU
 12 
 13 
 14 
 15 
 16 
 17 
 18 
 19 
 20 
 21 
 22 
 23 
 24 
 25 
 26 
 27 
 28 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      266 
O-RAN.WG4.CUS.0-v07.00 
Table B-15 : Delay Category O-DU and O-RU with highlighted valid options for this example, maximum 1 
T12max 2 
RU A B C D E F G H I J K L M N
O 3000 399 379 359 339 319 299 279 259 239 219 199 179 159
P 2949 348 328 308 288 268 248 228 208 188 168 148 128 108
Q 2929 328 308 288 268 248 228 208 188 168 148 128 108 88
R 2909 308 288 268 248 228 208 188 168 148 128 108 88 68
S 2889 288 268 248 228 208 188 168 148 128 108 88 68 48
T 2869 268 248 228 208 188 168 148 128 108 88 68 48 28
U 2849 248 228 208 188 168 148 128 108 88 68 48 28 8
V 2829 228 208 188 168 148 128 108 88 68 48 28 8 0
W 2809 208 188 168 148 128 108 88 68 48 28 8 0 0
X 2789 188 168 148 128 108 88 68 48 28 8 0 0 0
Y 2769 168 148 128 108 88 68 48 28 8 0 0 0 0
Z 2749 148 128 108 88 68 48 28 8 0 0 0 0 0
lls-DU
 3 
Evaluating the overall combination across all SCS, it can be seen that the maximum possible range for this combination 4 
if all 3 SCS are to be used is 148 usec (limited by the 120 kHz uplink) and the minimum guaranteed range is 110 usec.  5 
(In actuality, the limit is 110 usec for this combination.) 6 
Similarly, there are 6 combinations of sub-categories to evaluate.  (In this case, the sub-category combinations happen 7 
to be the same for 120 kHz uplink and downlink.) In this case the different between T12max and T12min is limited by 8 
the 120 kHz delay profile, with a maximum range of ~20 KM (~100 usec).   9 
Table B-16 : Delay Sub-Category O-DU and O-RU with highlighted (in red) valid options for this example 10 
TxMax .40 .38 .36 .34 .32 .30 .28 .26 .24 .22 .20 .18 .16 .14 .12 .10 .08 .06 .04 .02 .01
.20 40 36 32 28 24 20 16 12 8 4
.19 42 38 34 30 26 22 18 14 10 6 2
.18 44 40 36 32 28 24 20 16 12 8 4
.17 46 42 38 34 30 26 22 18 14 10 6 2
.16 48 44 40 36 32 28 24 20 16 12 8 4
.15 50 46 42 38 34 30 26 22 18 14 10 6 2
.14 52 48 44 40 36 32 28 24 20 16 12 8 4
.13 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.12 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.11 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.10 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.09 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.08 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.07 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.06 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.05 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.04 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.03 74 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.02 76 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.01 78 74 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.00 80 76 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4 2
Receive Window
 11 
Using only the O-DU/ O-RU category/ sub-category combinations, if the corresponding O-DU/ O-RU is to be used 12 
across all 3 SCS, the resulting delay constraints limit the implementation to: 13 
• 110 usec ≤ T12max ≤ 148 usec 14 
• T12min = T12max – 100 usec 15 
The service provider can then use this analysis to determine if the resulting combination suits their target use case. 16 
 17 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      267 
O-RAN.WG4.CUS.0-v07.00 
B.3 Example Case: Non-ideal transport O-DU/O-RU Categories 1 
This example illustrates the usage of the non-ideal transport delay categories and sub-categories included in Table B-5 2 
and Table B-9 respectively. These categories and sub-categories were created to allow for the use of transport networks 3 
which have delay introduced at the MAC layer that is larger than the propagation delay e.g. DOCSIS networks, 4 
E/GPON networks, microwave links, or G.Fast networks. In such systems, delay is decoupled from the transport 5 
network length and therefore better specified in microseconds or milliseconds.  6 
Non-ideal transport is defined by 3GPP in document TR 36.932 per Table B-17.  7 
Table B-17 : Non-Ideal transport categorization from 3GGP TR 36.932 Table 6.1-1 8 
Backhaul Technology Latency (One way) Throughput Priority (1 is the highest) 
Fiber Access 1 10-30ms  10M-10Gbps 1 
Fiber Access 2 5-10ms 100-1000Mbps 2 
Fiber Access 3 2-5ms 50M-10Gbps 1 
DSL Access 15-60ms 10-100 Mbps 1 
Cable  25-35ms 10-100 Mbps 2 
Wireless Backhaul 5-35ms  10Mbps – 100Mbps typical, 
maybe up to Gbps range 
1 
 9 
In Table B-18, example deployment use cases are used to illustrate O-DU/O-RU delay profile mapping. The values, 10 
while meant to representative, are exemplary only. 11 
 12 
Table B-18 : Non-Ideal fronthaul O-DU/O-RU Delay Profiles by link type 13 
T12 (DL) T34 (UL) T12 (DL) T34 (UL) T12 (DL) T34 (UL) T12 (DL) T34 (UL)
Latency (RTT) < 1 ms < 29 ms < 10 ms <10 ms < 500 µs < 2.5 ms < 2 ms < 2 ms
Jitter/PDV < 320 µs < 9 ms < 2.5 ms <2.5 ms < 1 ms <1 ms < 1 ms < 1 ms
T1a_max_up_O-DU 1,500 µs - 12,500 µs - 750 µs - 2,250 µs -
TXmax_O-DU 50 µs - 100 µs - 50 µs - 50 µs -
Ta4_max_O-DU - 29,500 µs - 12,500 µs - 2,750 µs - 2,250 µs
Rx_max_O-DU - 9,500 µs - 3,250 µs - 1,250 µs - 1,250 µs
Category A.05 AAA.300 AAA.10 AAA.300 A.05 A.100 A.05 A.100
T2a_min_up 100 µs - 50 µs - 50 µs - 70 µs -
T2a_max_up 500 µs - 2,650 µs - 1,100 µs - 1,200 µs -
Ta3_min - 50 µs - 50 µs - 100 µs - 70 µs
Ta3_max - 150 µs - 200 µs - 200 µs - 200 µs
Category R.40 T.10 O.100 W.15 O.40 W.10 P.100 W.13
O-RU
DOCSIS Microwave PON G.Fast
O-DU
 14 
 15 
The use of non-ideal transport links for fronthaul traffic comes with system performance tradeoffs. See Appendix L for 16 
further discussion of these considerations.  17 
 18 
  19 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      268 
O-RAN.WG4.CUS.0-v07.00 
Annex C  M-Plane Impacts 1 
The CUS-Plane makes certain demands on the M-Plane as listed below (list not exhaustive): 2 
1. Generic static O-RU configuration: there are many parameters e.g. frequency band, number of antennas, 3 
power level, etc. that will need to be gathered from the O-RU and configured by the O-DU.  These are 4 
expected to be much the same as is currently experienced with existing radio modules. 5 
2. O-RU management: this includes status monitoring, KPI measurements (PM counters), alarm collection and 6 
software download.  This is expected to be handled much the same as with existing radio modules. 7 
3. Compression: command to use static method (compression and IQ bit width) or use dynamic method using 8 
udCompHdr. 9 
4. Rtcid: M-Plane provides the bit-widths for the four defined fields (must sum to 16 bits total). 10 
5. Synch state: it is expected the O-RU will report its sync state to the EMS via the M-Plane. 11 
6. Synch: it is expected the EMS via the M-Plane will convey to the O-RU the clock quality being received (or 12 
does this come directly from the GM?) 13 
7. BeamId format: to accommodate hybrid BF, and maybe even for other cases, the O-RU must convey via M-14 
Plane characteristics of the O-RU so that the O-DU can “know” how to generate BF weights.   15 
8. PRB raster and offset-setting: The M-Plane needs to convey the minimum PRB raster (based on the 16 
minimum SCS, for LTE generally 15 kHz) to allow PRB counting across multiple SCS values (to support 17 
mixed-numerology channels).  In addition, the M-Plane must convey the offset to the zeroth PRB. 18 
9. Beam-weights / beam attributes: It is intended that the M-Plane can download beam weights or beam 19 
attributes to an O-RU when weight updating does not need to be real-time.  The number of weights or types of 20 
attributes applicable to the O-RU is meant to be conveyed from the O-RU to the O-DU at start-up via M-plane 21 
messaging.  22 
10. Power-Efficiency: the M-Plane will very likely include commands to enable O-RU power-saving techniques 23 
which may be vendor-dependent. 24 
11. Delay-Management and Transport Priority: for each eAxC (Pcid), whether the UL data is delay-managed 25 
or not, and what the transport priority should be. 26 
 27 
 28 
  29 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      269 
O-RAN.WG4.CUS.0-v07.00 
Annex D IQ Sample and Exponent Packetization for 1 
Different Bitwidths 2 
Bit-ordering and packetization for I and Q samples and compression parameters follows patterns that repeat after every 3 
transmission of 12 resource elements. At this point, the pattern repeats starting from the udCompParam information 4 
element, and is followed by the I and Q samples for the next 12 resource elements. 5 
The cells in the following Tables indicate the bit ordering for the following IEs 6 
o udCompParam (assumed to be one byte in the tables) 7 
o I samples denoted by Ibtwidth-1…I0 8 
o Q samples denoted by Qbitwidth-1…Q0 9 
 10 
 11 
Table D-1. IQ data samples bit-ordering (6-bit IQ bitwidth example) 12 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I5 I4 I3 I2 I1 I0 Q5 Q4 1 N+1 
Q3 Q2 Q1 Q0 …    1 N+2 
…          
   … I5 I4 I3 I2 1 N+17 
I1 I0 Q5 Q4 Q3 Q2 Q1 Q0 1 N+18 
udCompParam 1 Octet M 
I5 I4 I3 I2 I1 I0 Q5 Q4 1 M+1 
Q3 Q2 Q1 Q0 …    1 M+2 
…          
   … I5 I4 I3 I2 1 M+17 
I1 I0 Q5 Q4 Q3 Q2 Q1 Q0 1 M+18 
…          
 13 
Table D-2. IQ data samples bit-ordering (7-bit IQ bitwidth example) 14 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I6 I5 I4 I3 I2 I1 I0 Q6 1 N+1 
Q5 Q4 Q3 Q2 Q1 Q0 …  1 N+2 
…          
 … I6 I5 I4 I3 I2 I1 1 N+20 
I0 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+21 
udCompParam 1 Octet M 
I6 I5 I4 I3 I2 I1 I0 Q6 1 M+1 
Q5 Q4 Q3 Q2 Q1 Q0 …  1 M+2 
…          
 … I6 I5 I4 I3 I2 I1 1 M+20 
I0 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+21 
…          
 15 
Table D-3. IQ data samples bit-ordering (8-bit IQ bitwidth example) 16 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I7 I6 I5 I4 I3 I2 I1 I0 1 N+1 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+2 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      270 
O-RAN.WG4.CUS.0-v07.00 
…          
I7 I6 I5 I4 I3 I2 I1 I0 1 N+23 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+24 
udCompParam 1 Octet M 
I7 I6 I5 I4 I3 I2 I1 I0 1 M+1 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+2 
…          
I7 I6 I5 I4 I3 I2 I1 I0 1 M+23 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+24 
…          
 1 
 2 
Table D-4. IQ data samples bit-ordering (9-bit IQ bitwidth example) 3 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I8 I7 I6 I5 I4 I3 I2 I1 1 N+1 
I0 Q8 Q7 Q6 Q5 Q4 Q3 Q2 1 N+2 
Q1 Q0 …      1 N+3 
…          
     … I8 I7 1 N+25 
I6 I5 I4 I3 I2 I1 I0 Q8 1 N+26 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+27 
udCompParam 1 Octet M 
I8 I7 I6 I5 I4 I3 I2 I1 1 M+1 
I0 Q8 Q7 Q6 Q5 Q4 Q3 Q2 1 M+2 
Q1 Q0 …      1  
…          
     … I8 I7 1 M+25 
I6 I5 I4 I3 I2 I1 I0 Q8 1 M+26 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+27 
…          
 4 
Table D-5. IQ data samples bit-ordering (10-bit IQ bitwidth example) 5 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I9 I8 I7 I6 I5 I4 I3 I2 1 N+1 
I1 I0 Q9 Q8 Q7 Q6 Q5 Q4 1 N+2 
Q3 Q2 Q1 Q0 …    1 N+3 
…          
   … I9 I8 I7 I6 1 N+28 
I5 I4 I3 I2 I1 I0 Q9 Q8 1 N+29 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+30 
udCompParam 1 Octet M 
I9 I8 I7 I6 I5 I4 I3 I2 1 M+1 
I1 I0 Q9 Q8 Q7 Q6 Q5 Q4 1 M+2 
Q3 Q2 Q1 Q0 …    1 M+3 
…          
   … I9 I8 I7 I6 1 M+28 
I5 I4 I3 I2 I1 I0 Q9 Q8 1 M+29 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+30 
…          

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      271 
O-RAN.WG4.CUS.0-v07.00 
 1 
Table D-6. IQ data samples bit-ordering (11-bit IQ bitwidth example) 2 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I10 I9 I8 I7 I6 I5 I4 I3 1 N+1 
I2 I1 I0 Q10 Q9 Q8 Q7 Q6 1 N+2 
Q5 Q4 Q3 Q2 Q1 Q0 …  1 N+3 
…          
 … I10 I9 I8 I7 I6 I5 1 N+31 
I4 I3 I2 I1 I0 Q10 Q9 Q8 1 N+32 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+33 
udCompParam 1 Octet M 
I10 I9 I8 I7 I6 I5 I4 I3 1 M+1 
I2 I1 I0 Q10 Q9 Q8 Q7 Q6 1 M+2 
Q5 Q4 Q3 Q2 Q1 Q0 …  1 M+3 
…          
 … I10 I9 I8 I7 I6 I5 1 M+31 
I4 I3 I2 I1 I0 Q10 Q9 Q8 1 M+32 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+33 
…          
 3 
Table D-7. IQ data samples bit-ordering (12-bit IQ bitwidth example) 4 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I11 I10 I9 I8 I7 I6 I5 I4 1 N+1 
I3 I2 I1 I0 Q11 Q10 Q9 Q8 1 N+2 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+3 
…          
I11 I10 I9 I8 I7 I6 I5 I4 1 N+34 
I3 I2 I1 I0 Q11 Q10 Q9 Q8 1 N+35 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+36 
udCompParam 1 Octet M 
I11 I10 I9 I8 I7 I6 I5 I4 1 M+1 
I3 I2 I1 I0 Q11 Q10 Q9 Q8 1 M+2 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+3 
…          
I11 I10 I9 I8 I7 I6 I5 I4 1 M+34 
I3 I2 I1 I0 Q11 Q10 Q9 Q8 1 M+35 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+36 
…          
 5 
Table D-8. IQ data samples bit-ordering (13-bit IQ bitwidth example) 6 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I12 I11 I10 I9 I8 I7 I6 I5 1 N+1 
I4 I3 I2 I1 I0 Q12 Q11 Q10 1 N+2 
Q9 Q8 Q7 Q6 Q5 Q4 Q3 Q2 1 N+3 
Q1 Q0 …      1 N+4 
…          
     … I12 I11 1 N+36 
I10 I9 I8 I7 I6 I5 I4 I3 1 N+37 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      272 
O-RAN.WG4.CUS.0-v07.00 
I2 I1 I0 Q12 Q11 Q10 Q9 Q8 1 N+38 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+39 
udCompParam 1 Octet M 
I12 I11 I10 I9 I8 I7 I6 I5 1 M+1 
I4 I3 I2 I1 I0 Q12 Q11 Q10 1 M+2 
Q9 Q8 Q7 Q6 Q5 Q4 Q3 Q2 1 M+3 
Q1 Q0 …      1 M+4 
…          
     … I12 I11 1 M+36 
I10 I9 I8 I7 I6 I5 I4 I3 1 M+37 
I2 I1 I0 Q12 Q11 Q10 Q9 Q8 1 M+38 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+39 
…          
 1 
Table D-9. IQ data samples bit-ordering (14-bit IQ bitwidth example) 2 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I13 I12 I11 I10 I9 I8 I7 I6 1 N+1 
I5 I4 I3 I2 I1 I0 Q13 Q12 1 N+2 
Q11 Q10 Q9 Q8 Q7 Q6 Q5 Q4 1 N+3 
Q3 Q2 Q1 Q0 …    1 N+4 
…          
…    I13 I12 I11 I10 1 N+39 
I9 I8 I7 I6 I5 I4 I3 I2 1 N+40 
I1 I0 Q13 Q12 Q11 Q10 Q9 Q8 1 N+41 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+42 
udCompParam 1 Octet M 
I13 I12 I11 I10 I9 I8 I7 I6 1 M+1 
I5 I4 I3 I2 I1 I0 Q13 Q12 1 M+2 
Q11 Q10 Q9 Q8 Q7 Q6 Q5 Q4 1 M+3 
Q3 Q2 Q1 Q0 …    1 M+4 
…          
…    I13 I12 I11 I10 1 M+39 
I9 I8 I7 I6 I5 I4 I3 I2 1 M+40 
I1 I0 Q13 Q12 Q11 Q10 Q9 Q8 1 M+41 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+42 
…          
 3 
Table D-10. IQ data samples bit-ordering (15-bit IQ bitwidth example) 4 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I14 I13 I12 I11 I10 I9 I8 I7 1 N+1 
I6 I5 I4 I3 I2 I1 I0 Q14 1 N+2 
Q13 Q12 Q11 Q10 Q9 Q8 Q7 Q6 1 N+3 
Q5 Q4 Q3 Q2 Q1 Q0 …  1 N+4 
…          
…  I14 I13 I12 I11 I10 I9 1 N+42 
I8 I7 I6 I5 I4 I3 I2 I1 1 N+43 
I0 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 N+44 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+45 
udCompParam 1 Octet M 
I14 I13 I12 I11 I10 I9 I8 I7 1 M+1 
I6 I5 I4 I3 I2 I1 I0 Q14 1 M+2 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      273 
O-RAN.WG4.CUS.0-v07.00 
Q13 Q12 Q11 Q10 Q9 Q8 Q7 Q6 1 M+3 
Q5 Q4 Q3 Q2 Q1 Q0 …  1 M+4 
…          
…  I14 I13 I12 I11 I10 I9 1 M+42 
I8 I7 I6 I5 I4 I3 I2 I1 1 M+43 
I0 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 M+44 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+45 
…          
 1 
Table D-11. IQ data samples bit-ordering (16-bit IQ bitwidth example) 2 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
udCompParam 1 Octet N 
I15 I14 I13 I12 I11 I10 I9 I8 1 N+1 
I7 I6 I5 I4 I3 I2 I1 I0 1 N+2 
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 N+3 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+4 
…          
I15 I14 I13 I12 I11 I10 I9 I8 1 N+45 
I7 I6 I5 I4 I3 I2 I1 I0 1 N+46 
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 N+47 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+48 
udCompParam 1 Octet M 
I15 I14 I13 I12 I11 I10 I9 I8 1 M+1 
I7 I6 I5 I4 I3 I2 I1 I0 1 M+2 
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 M+3 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+4 
…          
I15 I14 I13 I12 I11 I10 I9 I8 1 M+45 
I7 I6 I5 I4 I3 I2 I1 I0 1 M+46 
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 M+47 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+48 
…          
 3 
Annex D.1 IQ Sample for Little Endian Byte Order 4 
When the optional “little endian byte order” format is used, the complex IQ data order is changed relative to that shown 5 
in Annex D. The Q data will be sent before I data, while within IQ data, the low byte is sent before high byte. All other 6 
conventions are observed same as (Annex D) big endian format. The complex data fields which are applied to the “little 7 
endian byte order” are identified in related sections. The usage of “little endian byte ordering” can be negotiated 8 
between the O-DU and O-RU via the M-Plane.  9 
The cells in the following Tables indicate the bit ordering for the following IEs 10 
o I samples denoted by Ibtwidth-1…I0 11 
o Q samples denoted by Qbitwidth-1…Q0 12 
 13 
Table D-12. Bit order of IQ data samples in little endian mode (6-bit IQ bit width example) 14 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q5 Q4 Q3 Q2 Q1 Q0 I5 I4 1 N+1 
I3 I2 I1 I0 …    1 N+2 
…          
   … Q5 Q4 Q3 Q2 1 N+17 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      274 
O-RAN.WG4.CUS.0-v07.00 
Q1 Q0 I5 I4 I3 I2 I1 I0 1 N+18 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q5 Q4 Q3 Q2 Q1 Q0 I5 I4 1 M+1 
I3 I2 I1 I0 …    1 M+2 
…          
   … Q5 Q4 Q3 Q2 1 M+17 
Q1 Q0 I5 I4 I3 I2 I1 I0 1 M+18 
…          
 1 
Table D1-13. Bit order of IQ data samples in little endian mode (7-bit IQ bitwidth example) 2 
 3 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q6 Q5 Q4 Q3 Q2 Q1 Q0 I6 1 N+1 
I5 I4 I3 I2 I1 I0 …  1 N+2 
…          
 … Q6 Q5 Q4 Q3 Q2 Q1 1 N+20 
Q0 I6 I5 I4 I3 I2 I1 I0 1 N+21 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q6 Q5 Q4 Q3 Q2 Q1 Q0 I6 1 M+1 
I5 I4 I3 I2 I1 I0 …  1 M+2 
…          
 … Q6 Q5 Q4 Q3 Q2 Q1 1 M+20 
Q0 I6 I5 I4 I3 I2 I1 I0 1 M+21 
…          
 4 
Table D-14. Bit order of IQ data samples in little endian mode (8-bit IQ bit width example) 5 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+1 
I7 I6 I5 I4 I3 I2 I1 I0 1 N+2 
…          
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+23 
I7 I6 I5 I4 I3 I2 I1 I0 1 N+24 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+1 
I7 I6 I5 I4 I3 I2 I1 I0 1 M+2 
…          
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+23 
I7 I6 I5 I4 I3 I2 I1 I0 1 M+24 
…          
 6 
Table D1-15. Bit order of IQ data samples in little endian mode (9-bit IQ bitwidth example) 7 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+1 
Q8 I7 I6 I5 I4 I3 I2 I1 1 N+2 
I0 I8 …      1 N+3 
…          

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      275 
O-RAN.WG4.CUS.0-v07.00 
     … Q7 Q6 1 N+25 
Q5 Q4 Q3 Q2 Q1 Q0 Q8 I7 1 N+26 
I6 I5 I4 I3 I2 I1 I0 I8 1 N+27 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+1 
Q8 I7 I6 I5 I4 I3 I2 I1 1 M+2 
I0 I8 …      1  
…          
     … Q7 Q6 1 M+25 
Q5 Q4 Q3 Q2 Q1 Q0 Q8 I7 1 M+26 
I6 I5 I4 I3 I2 I1 I0 I8 1 M+27 
…          
 1 
Table D1-16. Bit order of IQ data samples in little endian mode (10-bit IQ bitwidth example) 2 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+1 
Q9 Q8 I7 I6 I5 I4 I3 I2 1 N+2 
I1 I0 I9 I8 …    1 N+3 
…          
   … Q7 Q6 Q5 Q4 1 N+28 
Q3 Q2 Q1 Q0 Q9 Q8 I7 I6 1 N+29 
I5 I4 I3 I2 I1 I0 I9 I8 1 N+30 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+1 
Q9 Q8 I7 I6 I5 I4 I3 I2 1 M+2 
I1 I0 I9 I8 …    1 M+3 
…          
   … Q7 Q6 Q5 Q4 1 M+28 
Q3 Q2 Q1 Q0 Q9 Q8 I7 I6 1 M+29 
I5 I4 I3 I2 I1 I0 I9 I8 1 M+30 
…          
 3 
Table D1-17. Bit order of IQ data samples in little endian mode (11-bit IQ bitwidth example) 4 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+1 
Q10 Q9 Q8 I7 I6 I5 I4 I3 1 N+2 
I2 I1 I0 I10 I9 I8 …  1 N+3 
…          
 … Q7 Q6 Q5 Q4 Q3 Q2 1 N+31 
Q1 Q0 Q10 Q9 Q8 I7 I6 I5 1 N+32 
I4 I3 I2 I1 I0 I10 I9 I8 1 N+33 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+1 
Q10 Q9 Q8 I7 I6 I5 I4 I3 1 M+2 
I2 I1 I0 I10 I9 I8 …  1 M+3 
…          
 … Q7 Q6 Q5 Q4 Q3 Q2 1 M+31 
Q1 Q0 Q10 Q9 Q8 I7 I6 I5 1 M+32 
I4 I3 I2 I1 I0 I10 I9 I8 1 M+33 
…          
 5 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      276 
O-RAN.WG4.CUS.0-v07.00 
Table D1-18. Bit order of IQ data samples in little endian mode (12-bit IQ bitwidth example) 1 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+1 
Q11 Q10 Q9 Q8 I7 I6 I5 I4 1 N+2 
I3 I2 I1 I0 I11 I10 I9 I8 1 N+3 
…          
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+34 
Q11 Q10 Q9 Q8 I7 I6 I5 I4 1 N+35 
I3 I2 I1 I0 I11 I10 I9 I8 1 N+36 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+1 
Q11 Q10 Q9 Q8 I7 I6 I5 I4 1 M+2 
I3 I2 I1 I0 I11 I10 I9 I8 1 M+3 
…          
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+34 
Q11 Q10 Q9 Q8 I7 I6 I5 I4 1 M+35 
I3 I2 I1 I0 I11 I10 I9 I8 1 M+36 
…          
 2 
Table D1-19. Bit order of IQ data samples in little endian mode (13-bit bitwidth mantissa example) 3 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+1 
Q12 Q11 Q10 Q9 Q8 I7 I6 I5 1 N+2 
I4 I3 I2 I1 I0 I12 I11 I10 1 N+3 
I9 I8 …      1 N+4 
…          
     … Q7 Q6 1 N+36 
Q5 Q4 Q3 Q2 Q1 Q0 Q12 Q11 1 N+37 
Q10 Q9 Q8 I7 I6 I5 I4 I3 1 N+38 
I2 I1 I0 I12 I11 I10 I9 I8 1 N+39 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+1 
Q12 Q11 Q10 Q9 Q8 I7 I6 I5 1 M+2 
I4 I3 I2 I1 I0 I12 I11 I10 1 M+3 
I9 I8 …      1 M+4 
…          
     … Q7 Q6 1 M+36 
Q5 Q4 Q3 Q2 Q1 Q0 Q12 Q11 1 M+37 
Q10 Q9 Q8 I7 I6 I5 I4 I3 1 M+38 
I2 I1 I0 I12 I11 I10 I9 I8 1 M+39 
…          
 4 
Table D1-20. Bit order of IQ data samples in little endian mode (14-bit IQ bitwidth example) 5 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+1 
Q13 Q12 Q11 Q10 Q9 Q8 I7 I6 1 N+2 
I5 I4 I3 I2 I1 I0 I13 I12 1 N+3 
I11 I10 I9 I8 …    1 N+4 
…          

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      277 
O-RAN.WG4.CUS.0-v07.00 
…    Q7 Q6 Q5 Q4 1 N+39 
Q3 Q2 Q1 Q0 Q13 Q12 Q11 Q10 1 N+40 
Q9 Q8 I7 I6 I5 I4 I3 I2 1 N+41 
I1 I0 I13 I12 I11 I10 I9 I8 1 N+42 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+1 
Q13 Q12 Q11 Q10 Q9 Q8 I7 I6 1 M+2 
I5 I4 I3 I2 I1 I0 I13 I12 1 M+3 
I11 I10 I9 I8 …    1 M+4 
…          
…    Q7 Q6 Q5 Q4 1 M+39 
Q3 Q2 Q1 Q0 Q13 Q12 Q11 Q10 1 M+40 
Q9 Q8 I7 I6 I5 I4 I3 I2 1 M+41 
I1 I0 I13 I12 I11 I10 I9 I8 1 M+42 
…          
 1 
Table D1-21. Bit order of IQ data samples in little endian mode (15-bit IQ bitwidth example) 2 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+1 
Q14 Q13 Q12 Q11 Q10 Q9 Q8 I7 1 N+2 
I6 I5 I4 I3 I2 I1 I0 I14 1 N+3 
I13 I12 I11 I10 I9 I8 …  1 N+4 
…          
…  Q7 Q6 Q5 Q4 Q3 Q2 1 N+42 
Q1 Q0 Q14 Q13 Q12 Q11 Q10 Q9 1 N+43 
Q8 I7 I6 I5 I4 I3 I2 I1 1 N+44 
I0 I14 I13 I12 I11 I10 I9 I8 1 N+45 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+1 
Q14 Q13 Q12 Q11 Q10 Q9 Q8 I7 1 M+2 
I6 I5 I4 I3 I2 I1 I0 I14 1 M+3 
I13 I12 I11 I10 I9 I8 …  1 M+4 
…          
…  Q7 Q6 Q5 Q4 Q3 Q2 1 M+42 
Q1 Q0 Q14 Q13 Q12 Q11 Q10 Q9 1 M+43 
Q8 I7 I6 I5 I4 I3 I2 I1 1 M+44 
I0 I14 I13 I12 I11 I10 I9 I8 1 M+45 
…          
 3 
 4 
Table D-22. Bit order of IQ data samples in little endian mode (16-bit IQ bit width example) 5 
0 (msb) 1 2 3 4 5 6 7 (lsb) Number 
of Octets 
 
…          
  Octet N 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+1 
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 N+2 
I7 I6 I5 I4 I3 I2 I1 I0 1 N+3 
I15 I14 I13 I12 I11 I10 I9 I8 1 N+4 
…          
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+45 
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 N+46 
I7 I6 I5 I4 I3 I2 I1 I0 1 N+47 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      278 
O-RAN.WG4.CUS.0-v07.00 
I15 I14 I13 I12 I11 I10 I9 I8 1 N+48 
0 0 0 0 E3 E2 E1 E0 1 Octet M 
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+1 
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 M+2 
I7 I6 I5 I4 I3 I2 I1 I0 1 M+3 
I15 I14 I13 I12 I11 I10 I9 I8 1 M+4 
…          
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+45 
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 M+46 
I7 I6 I5 I4 I3 I2 I1 I0 1 M+47 
I15 I14 I13 I12 I11 I10 I9 I8 1 M+48 
…          
 1 
  2 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      279 
O-RAN.WG4.CUS.0-v07.00 
Annex E  OFDM Phase Compensation 1 
Consider the time interval 𝑡𝑠𝑡𝑎𝑟𝑡,𝑙
𝜇 ≤𝑡<𝑡𝑠𝑡𝑎𝑟𝑡,𝑙
𝜇 +(𝑁𝑢
𝜇 +𝑁𝐶𝑃,𝑙
𝜇 )𝑇𝑐  as defined in clause 5.3.1 of [4], which corresponds 2 
to the transmission of the 𝑙th OFDM symbol, with baseband waveform 𝑠𝑙
(𝑝,𝜇)(𝑡). 3 
Suppose that the transmitter performs up-conversion of the signal 𝑠𝑙
(𝑝,𝜇)(𝑡) to RF centre frequency 𝑓0, and the receiver 4 
performs down-conversion from RF centre frequency 𝑓1. Unlike LTE, it is possible that the transmitter and receiver 5 
have different centre frequencies, 𝑓0 ≠𝑓1, which motivates the introduction of OFDM phase compensation in NR.  6 
Ignoring channel distortions and noise for simplicity, the baseband signal at the receiver in the same time interval can 7 
be written 8 
𝑠𝑙
(𝑝,𝜇)(𝑡)∙𝑒𝑗2𝜋(𝑓0−𝑓1)𝑡 = 𝑠𝑙
(𝑝,𝜇)(𝑡)∙𝑒𝑗𝜃𝑙 ∙𝑒𝑗2𝜋(𝑓0−𝑓1)(𝑡−𝑡𝐶𝑃,𝑙
𝜇 ) 9 
where  𝑙 =2𝜋(𝑓0 −𝑓1)𝑡𝐶𝑃,𝑙
𝜇  and 𝑡𝐶𝑃,𝑙
𝜇 =𝑡𝑠𝑡𝑎𝑟𝑡,𝑙
𝜇 +𝑁𝐶𝑃,𝑙
𝜇 𝑇𝑐  is the time at the end of the cyclic prefix of OFDM symbol 𝑙. 10 
We can see from the equation above that each OFDM symbol is subjected to a phase shift  𝑙, which can result in large 11 
phase changes between successive OFDM symbols. This may cause problems for receiver processes such as channel 12 
estimation and frequency error tracking, which expect the channel to vary smoothly between symbols.  13 
The solution adopted by 3GPP in RAN WG1 meeting AH#18-01 [5][6] is to apply a phase pre-compensation term 14 
𝑒−𝑗2𝜋𝑓0𝑡𝐶𝑃,𝑙
𝜇
  at the transmitter and a phase post-compensation term 𝑒𝑗2𝜋𝑓1𝑡𝐶𝑃,𝑙
𝜇
 at the receiver. These two terms together 15 
provide the required correction 𝑒−𝑗𝜃𝑙. The phase pre-compensation requirement for the transmitter is captured in clause 16 
5.4 of [1]. Note that the phase compensation depends only on the starting time of each OFDM symbol, and is common 17 
for all OFDM symbols transmitted using a given numerology 𝜇, regardless of which NR physical channels they belong 18 
to, except for PRACH.  19 
 20 
  21 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      280 
O-RAN.WG4.CUS.0-v07.00 
Annex F Beamforming Attributes Frame of Reference 1 
The beamforming attributes involving pointing angle (bfAzPt and bfZePt) are defined following 3GPP 38.901, section 2 
7.1. Two coordinate systems are defined, the Global Coordinate System (GCS) and local coordinate system (LCS). The 3 
GCS applies across multiple BS and UT locations, while the LCS applies to a single array antenna. The GCS is defined 4 
as shown below in Figure F-1.  In the GCS, 𝝓 refers to the azimuth angle and 𝜽 refers to the zenith angle. 5 
The LCS is defined by a 3-parameter rotation of the GCS. The rotation with parameters 𝜶,𝜷,𝜸 is shown in Figure F-2 6 
(left). Note that the rotation parameters are defined as follows: 7 
• 𝛼 is defined as the bearing angle (sector pointing angle) 8 
• 𝛽 is defined as the downtilt angle 9 
• 𝛾 is defined as the slant angle 10 
A two-dimensional array antenna is defined such that the 𝑥′-axis is broadside to the array antenna. If an antenna 11 
architecture such as in 3GPP 38.901 section 7.3 is used, the horizontal direction is defined as 𝑦′ and the vertical 12 
direction is defined as 𝑧′. 13 
All parameters which relate to “peak” refer to the principal beam pointing in a particular direction. For a given beam 14 
configuration, the peak direction is the angle corresponding to maximum gain. Thus, bfAzPt specifies the pointing angle 15 
of maximum gain. 16 
The pointing parameter bfAzPt is defined as 𝜙′. The pointing parameter bfZePt is defined as  ′. The angles are shown 17 
in Figure F-2 (right). 18 
The beamwidth parameters bfAz3dd and bfZe3dd are defined as the as the angular widths at which the beam falls to 3 19 
dB below the peak beam gain on both sides of the peak direction, in azimuth and zenith, respectively. 20 
The sidelobe parameters bfAzSl and bfZeSl are defined as the suppression level of the highest sidelobe relative to the 21 
peak gain in the azimuth and zenith principal planes, respectively. 22 
 23 
 
nˆ
ˆ
ˆ

z
x
y

  24 
Figure F-1 : Global Coordinate System Definition 25 
 26 
 27 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      281 
O-RAN.WG4.CUS.0-v07.00 
  1 
Figure F-2 : Orienting the LCS (blue) with respect to the GCS (gray) by a sequence of 3 rotations (left); 2 
Definition of spherical coordinates and unit vectors in both the GCS and LCS (right) 3 
 4 
  5 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      282 
O-RAN.WG4.CUS.0-v07.00 
Annex G  LAA Algorithms and Examples: 1 
 2 
 3 
Figure G-1 : PDSCH Transmission Algorithm O-DU flowchart 4 
 5 
where ⌈𝑎⌉: is the ceiling of number “a” to the nearest x, where x is 1 ms for normal SF and 0.5 ms for partially-filled 6 
SF. 7 
 8 
 9 
O-DU 
O-DU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      283 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure G-2 : PDSCH Transmission Algorithm O-RU flowchart 2 
 3 
DRS Transmission Procedure 4 
O-DU flowchart 5 
The O-DU flowchart covers both cases, where the O-RU does 25 us sensing or LBT CAT 4 6 
O-RU start 
O-RU end 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      284 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure G-3 : DRS Transmission Procedure O-DU flowchart 2 
 3 
 4 
Figure G-4 : DRS Transmission Procedure O-RU flowchart – 25 s sensing 5 
 6 
 7 
O-DU 
O-DU 
O-RU end 
O-RU start 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      285 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure G-5 : DRS Transmission Procedure O-RU flowchart – LBT Cat 4 2 
 3 
  4 
O-RU end 
O-RU start 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      286 
O-RAN.WG4.CUS.0-v07.00 
Annex H  S-Plane detailed frequency and phase error 1 
budget analysis, and future ITU-T clock types and classes 2 
reference 3 
 4 
H.1 Reference documents 5 
Section 1.2 and 1.2.1 lists the standards which are referenced within this annex.  6 
 7 
H.2 Frequency and time error budget analysis 8 
This section provides the informative analysis to support budget allocation in Section 9.3.2 for a Full Timing Support 9 
network (as per ITU-T G.8271.1 for the limits, ITU-T.G.8273.2 for the clock definition).  The analysis serves 2 10 
purposes: 11 
Considering T-BC Class B and C switches (as per ITU-T G. 8273.2) in a ITU-T G.8271.1 compliant network, the 12 
number of allowed switches to satisfy the allocated network limit is computed in detail as an example.  13 
NOTE: the following configurations are outside the scope of this annex, and are therefore For Further Study: 14 
• ITU-T G.8271.1 compliant networks using class D T-BCs. 15 
• ITU-T G.8271.1 compliant networks using T-TCs instead of T-BCs. 16 
• Non-ITU-T G.8271.1-compliant networks, such as ITU-T G.8271.2 ones. 17 
• O-RU using SyncE/eSyncE. In the example below, only PTP is considered as synchronization source for O-18 
RU. 19 
Each network element in the fronthaul clock chain generates time error (including constant cTE and dynamic dTEH, 20 
dTEL), which will accumulate through the entire clock chain and be present at the O-RU UNI, as described in ITU-T 21 
G.8271.1 Appendix IV. This Annex consider the accumulation of centered, symmetrical noise. In particular, 22 
accumulated dynamic time error will cause O-RU subordinate clock FFO (fractional frequency error) after clock 23 
recovery and filtering.  Given O-RU must meet the 3GPP air interface frequency accuracy target (±50ppb), O-RU 24 
filtering is needed to filter the accumulated dynamic time error and reduce the frequency error down to an acceptable 25 
level.  The allowed network limit (i.e. dynamic time error), reasonable O-RU filter bandwidth and acceptable frequency 26 
error after filtering are the result of a compromise exercise as shown in the following analysis.   27 
The value of the O-RU filtering bandwidth is a key compromise, combined with the local oscillator thermal sensitivity: 28 
- The higher filtering bandwidth, the faster frequency correction of the local oscillator thermal sensitivity and 29 
therefore the lower temporary accumulated time error under thermal variations, but the poorer efficiency in 30 
low pass filtering the dynamic noise seen on the UNI 31 
- The lower filtering bandwidth, the better efficiency in low pass filtering the dynamic noise seen on the UNI, 32 
but the poorer frequency correction of the local oscillator thermal sensitivity and therefore the higher 33 
temporary accumulated time error under thermal variations. 34 
 35 
Frequency error budget for Network limit (LLS-C1 and LLS-C2) :  36 
Based on the above compromise explanation, a practical expectation of O-RU filtering max BW is set to 75mHz to start 37 
the analysis. 38 
Table H-1 : O-DU Frequency Error Budget 39 
O-DU class A B 
• Consider O-DU PTP/SyncE master frequency error budget = …………….. 
(refer to note 1 in section 9.3.2.1) 
±15 ppb ±5 ppb 
• Consider O-RU total frequency error budget based on O-DU frequency error budget 
taken away from the 3GPP air interface (±50ppb) budget = ………… 
 
 ±35ppb 
 
 ±45ppb 
• Further split the O-RU total frequency error budget as follows as an example of O-
RU design: 
 
 
 
 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      287 
O-RAN.WG4.CUS.0-v07.00 
o FFO (O-RU subordinate clock) 
=……………………………………………… 
o FFO (O-RU internal additive frequency noise) = ……………………… 
±21ppb 
±14ppb. 
±27ppb 
±18ppb 
• With FFO (O-RU subordinate clock) value and filter BW = 75mHz, based on ITU-T 
SG15 Q13 C1730, Geneva, 5 – 16 December 2011: 
FFO (in ppb) = ±2*π * |dTEL+H|(in ns)*filter BW(in Hz) 
 FFO (O-RU subordinate clock) = 2π * |dTEL+H| * filter BW 
 |dTEL+H| = FFO (O-RU subordinate clock)/( 2π * filter BW) = 
…………………… 
which is the max allowed network noise limit (between O-DU UNI and O-RU 
UNI) guaranteeing FFO at the output of the O-RU filter with 75mHz BW.   
Note that after this network noise limit is agreed in O-RAN spec, it is up to O-RU 
vendor implementation to select filter BW (not necessarily 75mHz) to trade off the 
internal budget split between FFO (O-RU subordinate clock) and FFO (O-RU 
internal additive frequency noise) as long as the O-RU total frequency error budget 
(±35ppb or ±43ppb) is still met. 
 
 
 
 
±45ns 
 
 
 
 
±57ns 
• Based on G.8271.1 Appendix IV guidance to calculate accumulated error: 
 Total dynamic noise = RMSsum (dTEL+H) 
 |dTEL+H| = RMSsum (|dTEL+H| of all nodes excluding O-RU’s T-TSC) 
 
Consider the model of clock chain of n T-BC clocks (between O-DU UNI to RU UNI) 
ITU-T G.8273.2 (class B) switch:  |dTEL| = 20ns,  |dTEH| = 35ns 
 | dTEL+H | limit =  sqrt [n*202 + 35²] ns = ……………………………………… 
 
 n = (|dTEL+H|² - 35²)/20², ………………………………………………………… 
the maximum number of class B T-BCs in each chain (excluding O-DU) 
 
Consider the model of clock chain of n T-BC clocks (between O-DU UNI to RU UNI) 
ITU-T G.8273.2 (class C) switch:  :  |dTEL| = 5ns,  |dTEH| = 10ns (Note 1) 
 | dTEL+H | limit =  sqrt [n*52 + 10²] ns = ……………………………………… 
 
 n = (|dTEL+H|² - 10²)/5², ………………………………………………………… 
the maximum number of class C T-BCs in each chain (excluding O-DU) 
Note 1: This |dTEH| limit is not yet specified by ITU-T G.8273.2 and is therefore an 
estimation. 
 
 
 
 
 
 
±45ns 
 
2 
 
 
 
 
±45ns 
 
>>10 
 
 
 
 
 
 
±57ns 
 
5 
 
 
 
 
±57ns 
 
>>10 
 1 
Time error budget for network limit (LLS-C1 and LLS-C2) :  2 
Using existing class B T-BCs, and considering no time error contribution by the fiber asymmetry nor from two master 3 
ports of the same T-BC, then: 4 
Following G.8271.1 Appendix IV guidance to calculate accumulated error with the following clock chain models: 5 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      288 
O-RAN.WG4.CUS.0-v07.00 
Common 
PTP/SyncE 
master
(lls-DU or  
T-BC)
O-RU1
Path 1: Total |TE|
UNI
n T-BC switches
O-RU2
Path 2: Total |TE|
n T-BC switches
Relative |TE|
UNI
Relative |TE| ≤ 2x Total |TE|
lls-DU 
PTP/
SyncE 
master
 
O-RU1
Total |TE|
UNI
n T-BC switches
network |TE| UNI
network |TE| = Total |TE|
Notes:
- this picture does not show the port-to-port relative TE between two Master ports of the common master.
lls-DU is considered as having no such port-to-port relative time error.
However, T-BCs as specified by ITU-T G.8273.2 does not specify it, and it may be more prudent to consider 
the common T-BC inside the « n » chain.
- this picture does not show the relative TE caused by asymmetry on the links
Therefore some margin shall be considered in the TE budget to take them into account
Notes:
- this picture does not show the relative TE caused by asymmetry on the links
Therefore some margin shall be considered in the TE budget to take it into account
 1 
Figure H-1 : clock chain model for analysis 2 
 3 
As per ITU-T G.8271.1 Appendix IV: 4 
Total |TE| = sum (|cTE| of n nodes) + RSS sum (|dTEL| of n nodes and |dTEH| of last node) 5 
= n*|cTE| + sqrt (n*|dTEL|2 + |dTEH|2) 6 
However, the O-RU’s time error budget (cTE, |dTEL|2 + |dTEH|2) has already been taken into account in the budget (see 7 
tables below), so only the T-BCs in the network are included in “n” and their contribution is limited to cTE and dTEL.  8 
As a result, the above general formula can be further simplified for the chain of n T-BCs excluding the O-RU’s T-TSC: 9 
Total |TEL| = n*|cTE| + sqrt (n*|dTEL|2), 10 
Where a node is based on T-BC Class B switch with the following noise generation specification: 11 
Constant time error = |cTE| = 20ns for class B, 10ns for class C 12 
Low-band dynamic error = |dTEL| = 20ns for class B, 5ns for class C (considering centered noise) 13 
 14 
 15 
 16 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      289 
O-RAN.WG4.CUS.0-v07.00 
Table H-2 : O-RU Time Error Budget 1 
For O-RU type= 
and limit =  
 to meet category  
(notes 1, 2) 
Enhanced 
60ns 
Cat A 
 
Regular 
100ns 
Cat B 
Enhanced 
190ns 
Cat B 
Regular 
95ns 
Cat C 
Enhanced 
140ns 
Cat C 
n*|cTE|  + sqrt (n*|dTEL| ²) < limit per branch  30ns 50ns 
 
95ns 
 
95ns 140ns 
maximum n value, number of class B T-BCs on 
each branch from common network element (either 
O-DU or T-BC) to O-RU: 
0 1 2 2  4 
Remaining relative TE margin to be assigned to 
fiber asymmetry and relative TE between two ports 
of the common network element 
60ns 20ns 53ns 12ns 20ns 
maximum n value, number of class C T-BCs on 
each branch from common network element (either 
O-DU or T-BC) to O-RU: 
1  3  7  7  11  
Remaining relative TE margin to be assigned to 
fiber asymmetry and relative TE between two ports 
of the common network element 
15ns 12ns 12ns 12ns 14ns 
 2 
Note 1:  3 
Proposed maximum n values are conservative and leave at least 10ns margin for fiber asymmetry or relative TEL 4 
between two ports of the branching clock. It is therefore recommended to limit the number of fronthaul clocks to 5 
this value, although an additional one may still allow meeting the expected limits. 6 
 7 
Note 2:  8 
- for IEEE802.1CM cat A and cat B, the limit corresponds to a relative TEL between two O-RU input ports (the end 9 
of two branches), and therefore the limit per branch is half. 10 
- for IEEE802.1CM cat A and cat B, the limit corresponds to a relative TEL between the O-DU output and any O-11 
RU input ports, and therefore the limit per branch is the same value. 12 
 13 
 14 
Frequency error budget for Network limit (LLS-C3) :  15 
• Based on the above compromise explanation, a practical expectation of O-RU filtering max BW is set to 75mHz to 16 
start the analysis 17 
• Based on G.8272, PRTC/T-GM MTIE (during lock) specification can be used to describe PRTC/T-GM dynamic 18 
noise generation: 19 
Table H-3 : Wander Generation (MTIE) for PRTC-A 20 
MTIE limit (us) Observation interval (s) 
0.275 x 10-3 τ + 0.025 0.1 < τ ≤ 273 
0.10 τ > 273 
 21 
Table H-4 : Wander Generation (MTIE) for PRTC-B 22 
MTIE limit (us) Observation interval (s) 
0.275 x 10-3 τ + 0.025 0.1 < τ ≤ 54.5 
0.04 τ > 54.5 
 23 
  Given O-RU filtering max BW = 75mHz, it corresponds to observation interval τ = 1/(π*75mHz) = 4.2s.   24 
From the above table, MTIE limit (with τ = 4.2s) = 26.2ns pk-pk for both PRTC-A and PRTC-B. 25 
From this MTIE number, the value of dTEL is computed as 13.1ns. 26 
 Besides MTIE, which can be treated as dynamic noise during lock condition, there is additional consideration 27 
of PRTC/T-GM during holdover condition. Potential semi-static frequency drift could happen during holdover, 28 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      290 
O-RAN.WG4.CUS.0-v07.00 
±2ppb is reserved based on ITU-T G.8271.1 Appendix V PRTC failure scenario (b) which permits 400ns 1 
holdover limit for short period of 5 minutes. 2 
Table H-5 : Network (LLS-C3) Frequency Error Budget 3 
PRTC class A 
Consider PRTC PTP/SyncE master frequency error budget =……………………………………… 
(refer to note 1 in section 9.3.2.2) 
±2 ppb 
Consider O-RU total frequency error budget based on O-DU frequency error budget taken away 
from the 3GPP air interface (±50ppb) budget = 
…………………………………………………………. 
 
 ±48ppb 
 
• Further split the O-RU total frequency error budget as follows as an example of O-RU design: 
o FFO (O-RU subordinate clock) 
=…………………………………………………………… 
o FFO (O-RU internal additive frequency noise) = …………………………………… 
 
±30ppb 
±18ppb 
 
• With FFO (O-RU subordinate clock) value and filter BW = 75mHz, based on ITU-T SG15 Q13 
C1730, Geneva, 5 – 16 December 2011: 
FFO (in ppb) = ±2*π * |dTEL+H|(in ns)*filter BW(in Hz) 
 FFO (O-RU subordinate clock) = 2π * |dTEL+H| * filter BW 
 |dTEL+H| = FFO (O-RU subordinate clock)/( 2π * filter BW) = 
………………………………… 
which is the max allowed network noise limit (between O-DU UNI and O-RU UNI) 
guaranteeing FFO at the output of the O-RU filter with 75mHz BW.   
Note that after this network noise limit is agreed in O-RAN spec, it is up to O-RU vendor 
implementation to select filter BW (not necessarily 75mHz) to trade off the internal budget split 
between FFO (O-RU subordinate clock) and FFO (O-RU internal additive frequency noise) as long 
as the O-RU total frequency error budget (±35ppb or ±45ppb) is still met. 
 
 
 
 
 
 
±63ns 
• Based on G.8271.1 Appendix IV guidance to calculate accumulated error: 
 Total dynamic noise = RMSsum (dTEL+H) 
 |dTEL+H| = RMSsum (|dTEL+H| of all nodes including PRTC/T-GM but not O-RU’s T-TSC) 
• Consider the model of clock chain of either class A or B PRTC/T-GM and n T-BC switches 
(between PRTC input to O-RU UNI) and using G.8272 MTIE specification for the PRTC and 
G.8273.2 dTEL+H specification for the T-BC. 
 PRTC/T-GM dynamic noise  = MTIE/2 based on max 75mHz O-RU filter BW 
assumption: ………………………………………………………………………………. 
 T-BC Class B switch dynamic noise = |dTEL| = 20ns, |dTEH| = 35ns 
 |dTEL+H| = sqrt(132 + n*202 +35²) ns= ……………………………………………………… 
 Maximum n= ( |dTEL+H|² - 35² - 13²) / 20² = 
………………………………………………… 
the maximum number of class B T-BCs in each chain (after PRTC) 
 T-BC Class C switch dynamic noise = |dTEL| = 5ns, |dTEH| = 10ns 
 |dTEL+H| = sqrt(13² + n*5² +10²) ns= ……………………………………………………… 
 Maximum n= ( |dTEL+H|² - 10² - 13²) / 5² = ……………………………………………… 
the maximum number of class C T-BCs in each chain (after PRTC) 
 
 
 
 
 
 
 
 
13ns 
 
63ns 
 
6 
 
 
63ns 
>>10 
 4 
 5 
Time error budget for network limit (LLS-C3): 6 
G.8271.1 Appendix V (Example of design options) and Appendix XII (Examples of design options for fronthaul and 7 
clusters of base stations) provide guidelines on the number of switches that can be deployed in case of LLS-C3 for the 8 
different target requirements. 9 
Appendix V is focusing on the absolute Time Error Requirement (Category C), while Appendix XII addresses also 10 
relative time error requirements applicable in fronthaul (Category A and B). 11 
 12 
H.3 Summary of allowed number of switches: 13 
The maximum allowed number of switches shall be determined based on the smallest allowed number constraint by  14 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      291 
O-RAN.WG4.CUS.0-v07.00 
• Frequency error budget 1 
• Operator-chosen most constraint time error budget category 2 
• The class of network elements (note that the O-RU classes are examples proposed by IEEE802.1 CM) 3 
 4 
Table H-6 : Network Frequency Error Budget 5 
Frequency Error 
Network limit 
LLS-C1 and 
LLS-C2, 
class A O-DU 
LLS-C1 and 
LLS-C2, 
class B O-DU 
LLS-C3 Comment 
Absolute Frequency error 
budget between time source 
and O-RU 
2 
(class B T-BC) 
>>10  
(class C T-BC) 
5 
(class B T-BC) 
>>10  
(class C T-BC) 
Note 3 Any branch must not exceed 
this number of T-BCs from 
O-DU or PRTC/T-GM to 
meet 50ppb frequency 
accuracy at the air interface. 
 6 
Table H-7 : Network Time Error Budget 7 
Time Error Network limit LLS-C1 and 
LLS-C2, 
class A O-DU 
LLS-C1 and 
LLS-C2, 
class B O-DU 
LLS-C3 Comment 
Cat A Relative Time error 
budget (with enhanced O-
RUs) between O-RUs 
0 
(class B T-BC) 
1 
 (class C T-BC) 
0 
(class B T-BC) 
1  
(class C T-BC) 
Note 3 
Note 4 
Any branch must not 
exceed this number of T-
BCs from common T-BC to 
meet target relative time 
error limit at the air 
interface. 
Value 0 means that only lls-
C1 is supported 
Cat B Relative Time error 
budget (with regular O-
RUs) between O-RUs 
1 
(class B T-BC) 
3  
(class C T-BC) 
1 
(class B T-BC) 
3  
(class C O-RU) 
Note 3 
Cat B Relative Time error 
budget (with enhanced O-
RUs) between O-RUs 
2 
(class B T-BC) 
7  
(class C T-BC) 
2 
(class B T-BC) 
7  
(class C T-BC) 
Note 3 
Cat C Absolute Time error 
budget (with regular O-
RUs) between time source 
and O-RU 
2 
(class B T-BC) 
7  
(class C T-BC) 
2 
(class B T-BC) 
11  
(class C T-BC) 
Note 3 Any branch must not 
exceed this number of T-
BCs from O-DU or 
PRTC/T-GM to meet 
1500ns absolute time error 
limit at the air interface. 
 
Note 1. 
Cat C Absolute Time error 
budget (with enhanced O-
RUs) between time source 
and O-RU 
4 
(class B T-BC) 
(further limit to 
2 due to freq. 
limit) 
7  
(class C T-BC) 
4 
(class B T-BC) 
11  
(class C T-BC) 
Note 3 
 8 
Note 1 : Only applicable to lls-C1 and lls-C2: As indicated in table 9-3, the maximum Time Error at the output of the O-9 
DU is 1420 ns for lls-C1 and 1325 ns for lls-C2. This limit considers that the input of the O-DU stays within the limits 10 
at Reference point C defined by ITU-T G.8271.1 or ITU-T G.8271.2 . 11 
Note 2 : The analysis on the number of switches (for time error budget) is meant to rough estimate and excludes both 12 
fiber asymmetry factor and relative TE between two ports of the common network element.  It is operator’s 13 
responsibility to control these two parameters.  The analysis for each time error budget (specific category) has some 14 
left-over margin that could be used to cover them. If the left-over margin is not enough, the alternative is to reduce the 15 
allowed number of switches.  16 
Note 3: network design guidelines for configuration LLS-C3 are provided in ITU-T G.8271.1 Appendix V (addressing 17 
IEEE802.1CM synchronization Category C) and Appendix XII (addressing IEEE802.1CM synchronization Category A 18 
and B) of G.8271.1. The guidelines in Appendix V includes also indication on allowed number of switches between the 19 
PRTC/T-GM and the O-RU. The guidelines in Appendix XII include also indication on allowed number of switches 20 
between a clock that is common for the cooperating O-RUs, and these O-RUs. 21 
As an example:  22 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      292 
O-RAN.WG4.CUS.0-v07.00 
- in order to meet the Cat B requirements with a regular O-RU, the number of T-BC class C switches, after the 1 
common switch (itself a class C T-BC), should be 3 or less, while there is no room for additional switches with T-2 
BC class B clocks after the common switch (itself a class B T-BC).  3 
- In order to meet the Cat B requirements with an enhanced O-RU, the number of T-BC class C switches should be 6 4 
or less after the common switch (itself a class C T-BC), and the number of T-BC class B switches after the common 5 
switch (itself a class B T-BC), should be 2 or less.  6 
The minor differences between the maximum number of switches supported in LLS-C2 and LLS-C3 are due to different 7 
characteristics of the common clock (as indicated in Figure H-1, in LLS-C2, the O-DU has no relative time error 8 
between ports specified, while in LLS-C3, the G.8273.2 T-BC takes this into account). 9 
G.8271.1 also presents the case of an alternative deployment with a short clock chain that has a maximum of 4 Class C 10 
T-BC, or 1 Class B T-BC  between the PRTC/T-GM and the O-RU (see reference network model in Figure II.6 of 11 
G.8271.1 with a PRTC-B/T-GM directly connected to the common T-BC).  For this case the regular O-RU was 12 
considered as it represents the worst-case scenario. This deployment, in addition to meeting IEEE802.1CM 13 
synchronization Category C, is also suitable to support IEEE802.1CM synchronization Category B.  14 
Note 4: Cat A requirements concerns co-located O-RUs. It is assumed that the cooperating O-RUs are connected to the 15 
same switch (therefore there is no switch after the common T-BC).  16 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      293 
O-RAN.WG4.CUS.0-v07.00 
Annex I Precoding and Examples: 1 
Case 1 Tx Diversity 1-CRS Port Ant0, 1 PRB:  2 
 3 
At the O-DU 4 
• For single Tx case, 
)1(),...,0( (q)
symb
)()( −Mdd qq M_q_sym modulation bits belonging to PDSCH ANT0 are 5 
packed into a PRB. All CRS REs for ANT0 are packed into a PRB for transmission and are unpacked at the O-6 
RU. 7 
At the O-RU  8 
• At the O-RU, for single antenna port single Tx a single layer is used and mapping is defined as 9 
)()( )0()0( idix =
 10 
• O-RU needs to map CRS REs into antenna ports using crsReMask, crssymbolNumber and crsShift. Follow 11 
case 5  12 
                                                   13 
At O-DU(                                                    ). After antenna Mapping at O-RU
AN
TE
NN
A
M
AP
P
I
NG
P
R
E
C
OD
I
NG
L
A
Y
E
R
M
A
P
P
I
N
G
O-RU
ModBits
R0 RS Ant0
PDSCH Ant0
PDCCH
Blank
)1(),...,0( (q)
symb
)()( −Mdd qq
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R0 R0
8
7
6 R0 R0
5
4
3 R0 R0
2
1
0 R0 R0
TxD 1 CRS Port ANT, 1 PRB
Subframe 0
Slot 0 Slot 1
PRB 0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R0 R0
8
7
6 R0 R0
5
4
3 R0 R0
2
1
0 R0 R0
TxD Ant0
Subframe 0
Slot 0 Slot 1
PRB 0
 14 
Figure I-1 : Single Tx 1-CRS Port Ant0, 1 PRB 15 
 16 
Case 2 Tx Diversity 2-CRS Port Ant0, Ant1, and 1 PRB:     17 
Case 2.1 At the O-DU 18 
• For TxD case, 
)1(),...,0( (q)
symb
)()( −Mdd qq M_q_sym modulation bits belonging to PDSCH are packed 19 
into a PRB. All CRS REs for ANT0 and ANT1 are packed into the same PRB for transmission and 20 
are unpacked at the O-RU. 21 
Case 2.2 At the O-RU  22 
• At the O-RU, for two antenna port TxD 2 layers are used and mapping is defined as 
)12()(
)2()(
)0()1(
)0()0(
+=
=
idix
idix  23 
• For TxD, information for 2 layers are packed into a PRB for transmission and are unpacked at the O-RU. At 24 
the O-RU, after layer mapping and, precoding, CRS REs for 2 antenna ports are mapped to the appropriate RE 25 
positions and rest are left blank (gray-shaded REs) as illustrated below. Follow Case 5. 26 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      294 
O-RAN.WG4.CUS.0-v07.00 
 1 
A
N
TE
N
N
A
M
AP
P
I
N
G
P
R
E
C
OD
I
NG
L
A
Y
E
R
M
A
P
P
I
N
G
At O-DU(                                                    ).
 O-RU After antenna Mapping at O-RU
ModBits
R0 RS Ant0
R1 RS Ant1
PDSCH Ant0
PDSCH Ant1
PDCCH
Blank
)1(),...,0( (q)
symb
)()( −Mdd qq
0 1 2 3 4 5 6 7 8 9 10 11 12 13 0 1 2 3 4 5 6 7 8 9 10 11 12 13
11 11
10 10
9 R0 R0 9 R1 R1
8 8
7 7
6 R0 R0 6 R1 R1
5 5
4 4
3 R0 R0 3 R1 R1
2 2
1 1
0 R0 R0 0 R1 R1
PRB 0
Subframe 0
Slot 0
TxD Ant1TxD Ant0
Subframe 0
Slot 0 Slot 1 Slot 1
PRB 0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R1 R0 R1 R0
8
7
6 R0 R1 R0 R1
5
4
3 R1 R0 R1 R0
2
1
0 R0 R1 R0 R1
TxD 2 CRS Port ANTs, 1 PRB
Subframe 0
Slot 0 Slot 1
PRB 0
 2 
Figure I-2 : Tx Diversity 2-CRS Port Ant0, Ant1, and 1 PRB 3 
 4 
 5 
Case 3 Tx Diversity 4-CRS Port Ant0,1,2,3 and 1 PRB: 6 
 7 
Figure I-3 : Case 3 Layer Mapping 8 
Case 3.1 At the O-DU 9 
• For TxD case, 
)1(),...,0( (q)
symb
)()( −Mdd qq M_q_sym modulation bits belongs to PDSCH are packed to into a 10 
PRB. All CRS RE’s for ANT0, ANT1, ANT2 and ANT3 are packed into that same PRB for transmission and 11 
are unpacked at the O-RU. 12 
Case 3.2 At the O-RU  13 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      295 
O-RAN.WG4.CUS.0-v07.00 
• At the O-RU, for two antenna port TxD 4 layers are used and mapping is defined as 
)34()(
)24()(
)14()(
)4()(
)0()3(
)0()2(
)0()1(
)0()0(
+=
+=
+=
=
idix
idix
idix
idix  1 
• For TxD, user data RE’s for 4 layers are packed into a PRB for transmission and are unpacked at the O-RU. At 2 
the O-RU, after layer mapping and precoding, CRS REs for 4 antenna ports are mapped to the appropriate RE 3 
position and rest are left blank as illustrated below. 4 
A
N
TE
N
N
A
M
AP
P
I
N
G
P
R
E
C
OD
I
NG
L
A
Y
E
R
M
A
P
P
I
N
G
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R1 R3 R0 R1 R2 R0
8
7
6 R0 R2 R1 R0 R3 R1
5
4
3 R1 R3 R0 R1 R2 R0
2
1
0 R0 R2 R1 R0 R3 R1
TxD 4 CRS Port ANTs, 1 PRB
Subframe 0
Slot 0 Slot 1
PRB 0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R0 R0
8
7
6 R0 R0
5
4
3 R0 R0
2
1
0 R0 R0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R1 R1
8
7
6 R1 R1
5
4
3 R1 R1
2
1
0 R1 R1
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R2
8
7
6 R2
5
4
3 R2
2
1
0 R2
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R3
8
7
6 R3
5
4
3 R3
2
1
0 R3
TxD Ant3
Subframe 0
Slot 0 Slot 1
PRB 0
TxD Ant0
Subframe 0
Slot 0 Slot 1
PRB 0
TxD Ant1
Subframe 0
Slot 0 Slot 1
PRB 0
TxD Ant2
Subframe 0
Slot 0 Slot 1
PRB 0
After antenna Mapping at O-RU
O-RUAt O-DU(                                                    ).
ModBits
R0 RS Ant0
R1 RS Ant1
R2 RS Ant2
R3 RS Ant3
PDSCH Ant0
PDSCH Ant1
PDSCH Ant2
PDSCH Ant3
PDCCH
Blank
)1(),...,0( (q)
symb
)()( −Mdd qq
 5 
Figure I-4 : Tx Diversity 4-CRS Port Ant0,1,2, 3, and 1 PRB 6 
 7 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      296 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure I-5 : TxD – 4 CRS Ports 2 
                              3 
 4 
Case 4 TM3/TM4 3 Layers, 4 Antenna ports: 5 
 One symbol from each of layers is linearly mapped to each antenna port. 6 
 7 
Figure I-6 : Case 4 Layer Mapping 8 
For TM3/TM4, REs belonging to all the antenna ports are mapped to the zeroth layer at the O-DU. The O-RU should 9 
consider layer zero’s CRS REs for CRS mapping for all the antenna ports using reMask bit field; CRS RE positions in 10 
the non-zero layers can be ignored as illustrated below (gray-shared REs in the O-DU represent CRS RE positions that 11 
are not populated by the O-DU. 12 
)23()(
)13()(
)3()(
)0()2(
)0()1(
)0()0(
+=
+=
=
idix
idix
idix
3)0(
symb
layer
symb MM =
 13 
 14 
O-DU 
O-RU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      297 
O-RAN.WG4.CUS.0-v07.00 
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R1 R3 R0 R1 R2 R0
8
7
6 R0 R2 R1 R0 R3 R1
5
4
3 R1 R3 R0 R1 R2 R0
2
1
0 R0 R2 R1 R0 R3 R1
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9
8
7
6
5
4
3
2
1
0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9
8
7
6
5
4
3
2
1
0
TM3/4 Layer 1, 4 ANTs, (x2(0),x2(1),,,x2(i))
Subframe 0
Slot 0 Slot 1
PRB 0
Subframe 0
Slot 0 Slot 1
PRB 0
Subframe 0
Slot 0 Slot 1
PRB 0
TM3/4 Layer 1, 4 ANTs, (x0(0),x0(1),,,x0(i))
TM3/4 Layer 1, 4 ANTs, (x1(0),x1(1),,,x1(i))
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R0 R0
8
7
6 R0 R0
5
4
3 R0 R0
2
1
0 R0 R0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R1 R1
8
7
6 R1 R1
5
4
3 R1 R1
2
1
0 R1 R1
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R2
8
7
6 R2
5
4
3 R2
2
1
0 R2
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R3
8
7
6 R3
5
4
3 R3
2
1
0 R3
TM3/4  Ant3
Subframe 0
Slot 0 Slot 1
PRB 0
TM3/4  Ant2
Subframe 0
Slot 0 Slot 1
PRB 0
TM3/4  Ant1
Subframe 0
Slot 0 Slot 1
PRB 0
TM3/4  Ant0
Subframe 0
Slot 0 Slot 1
PRB 0
Layer0(x0_0,x0_1,..x0_i)
Layer1(x1_0,x1_1,..x1_i)
Layer2(x2_0,x2_1,..x2_i)
R0 RS Ant0
R1 RS Ant1
R2 RS Ant2
R3 RS Ant3
PDSCH Ant0
PDSCH Ant1
PDSCH Ant2
PDSCH Ant3
PDCCH
Blank
A
N
T
E
N
N
A
M
A
P
P
I
N
G
P
R
E
C
O
D
I
N
G  
 1 
Figure I-7 : TM3/TM4, 3 Layers 4 Antenna Ports 2 
 3 
 4 
 5 
 6 
 7 
 8 
 9 
 10 
 11 
 12 
 13 
 14 
 15 
 16 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      298 
O-RAN.WG4.CUS.0-v07.00 
 1 
 2 
 3 
Figure I-8 : TM3 rank 2/4 CRS Ports 4 
CRS location assignment: reMask Bit position for Layer0, 2 and 4 for all 5 
possible vShift cases 6 
NOTE: CRS shift pattern for antenna port 0 when 3 ≤ vshift ≤ 5 is same as 0 ≤ vshift ≤ 3 for antenna port 1 resulting in 7 
only three possible vshift for a 2-antenna port case and this holds good for 4-antenna port case as well.  Hence the 8 
crsReMask is differentiated with the crsShift field. If the O-RU identifies crsShift as 1, then shift in CRS belongs to 9 
each antenna have to read properly. 10 
 11 
Table I-1 : CRS Location Assignment For layer1 12 
 Layer1 
   crsSymNum 0 and 7  crsSymNum 4 and 11 
vshift crsShift crsReMask PosInd in Bit Ant 0 crsReMask PosInd in Bit Ant 0 
0 0 0000 0100 0001 0,6 0010 0000 1000  3,9 
1 0 0000 1000 0010  1,7 0100 0001 0000 4,10 
2 0 0001 0000 0100 2,8 0100 0010 0000 5,11         
3 0 0010 0000 1000 3,9 0000 0100 0001 6,0         
4 0 0100 0001 0000 4,10 0000 1000 0010 7,1         
5 0 1000 0010 0000 5,11 0001 0000 0100 8,2          
crsReMask is not repeated for all for vShift combinations, hence crsShift is always indicated as 0. 13 
 14 
 15 
 16 
O-DU 
O-RU 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      299 
O-RAN.WG4.CUS.0-v07.00 
 1 
Table I-2 : CRS Location Assignment For layer2 2 
 Layer2 
 
  crsSymNum 0 and 7  crsSymNum 4 and 11 
vshift crsShift crsReMask 
PosInd in 
Bit Ant 0 
PosInd in 
Bit Ant 1 crsReMask 
PosInd in 
Bit Ant 0 
PosInd in 
Bit Ant 1 
0 0 0010 0100 1001 0,6 3,9 0010 0100 1001 3,9 0,6 
1 0 0100 1001 0010 1,7 4,10 0100 1001 0010 4,10 1,7 
2 0 1001 0010 0100 2,8 5,11         1001 0010 0100 5,11         2,8 
3 1 0010 0100 1001 3,9 6,0         0010 0100 1001 6,0         3,9 
4 1 0100 1001 0010 4,10 7,1         0100 1001 0010 7,1         4,10 
5 1 1001 0010 0100 5,11 8,2          1001 0010 0100 8,2          5,11 
crsReMask for vShift 0 is same as for vShift 3 case but RE locations are different for Ant 0 and 1. Hence indicating 1 3 
for 3,4,5 vShift cases, thereby O-RU must pick the positions as interpreted in above table. 4 
 5 
 6 
Table I-3 : CRS Location Assignment For layer4 7 
 Layer4 
   crsSymNum 0 and 7  crsSymNum 4 and 11 
vshift crsShift crsReMask 
PosInd in 
Bit Ant 0 
PosInd in 
Bit Ant 1 crsReMask 
PosInd in 
Bit Ant 0 
PosInd in 
Bit Ant 1 
0 0 0010 0100 1001 0,6 3,9 0010 0100 1001 3,9 0,6 
1 0 0100 1001 0010 1,7 4,10 0100 1001 0010 4,10 1,7 
2 0 1001 0010 0100 2,8 5,11         1001 0010 0100 5,11         2,8 
3 1 0010 0100 1001 3,9 6,0         0010 0100 1001 6,0         3,9 
4 1 0100 1001 0010 4,10 7,1         0100 1001 0010 7,1         4,10 
5 1 1001 0010 0100 5,11 8,2          1001 0010 0100 8,2          5,11 
 8 
 Layer4 
   crsSymNum 1  crsSymNum 8 
vshift crsShift crsReMask 
PosInd in 
Bit Ant 2 
PosInd in 
Bit Ant 3 crsReMask 
PosInd in 
Bit Ant 3 
PosInd in 
Bit Ant2 
0 0 0010 0100 1001 0,6 3,9 0010 0100 1001 0,6 3,9 
1 0 0100 1001 0010 1,7 4,10 0100 1001 0010 1,7 4,10 
2 0 1001 0010 0100 2,8 5,11         1001 0010 0100 2,8 5,11         
3 1 0010 0100 1001 3,9 6,0         0010 0100 1001 3,9 6,0         
4 1 0100 1001 0010 4,10 7,1         0100 1001 0010 4,10 7,1         
5 1 1001 0010 0100 5,11 8,2          1001 0010 0100 5,11 8,2          
crsReMask for vShift 0 is same as for vShift 3 case but RE locations are different for Ant 0 and 1. Hence indicating 1 9 
for 3,4,5 vShift cases, thereby O-RU must pick the positions as interpreted in above table. 10 
 11 
Pseudo code to determine the CRS belongs to ANT port-N 12 
• Determine vShift = N_CELL_ID % 6 13 
• Below pseudo code for Num Layer = 4 14 
Switch(crsSymNum) 15 
{ 16 
Case 0 || case 7: 17 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      300 
O-RAN.WG4.CUS.0-v07.00 
                        if( vShift  == 0 ) 1 
{ 2 
    if (bitSet_0 && bitSet_6)  3 
  { 4 
         mapIQ of 0 and 6 to Ant0 //rest blank  5 
   } 6 
   if (bitSet_3 && bitSet_9)  7 
   { 8 
         mapIQ of 0 and 6 to Ant1 //rest blank  9 
   } 10 
} 11 
            Break; 12 
Case 1: 13 
if( vShift  == 0 ) 14 
{ 15 
   if (bitSet_0 && bitSet_6)  16 
  { 17 
       mapIQ of 0 and 6 to Ant2  18 
  } 19 
  if (bitSet_3 && bitSet_9)  20 
  { 21 
       mapIQ of 3 and 9 to Ant3  22 
  } 23 
} 24 
     Break; 25 
Case 4 || case 11: 26 
if( vShift  == 0 ) 27 
{ 28 
   if (bitSet_0 && bitSet_6)  29 
  { 30 
       mapIQ of 0 and 6 to Ant1  31 
  } 32 
  if (bitSet_3 && bitSet_9)  33 
  { 34 
       mapIQ of 0 and 6 to Ant0  35 
  } 36 
} 37 
Break; 38 
Case 8: 39 
if( vShift  == 0 ) 40 
{ 41 
   if (bitSet_0 && bitSet_6)  42 
  { 43 
       mapIQ of 0 and 6 to Ant3  44 
  } 45 
  if (bitSet_3 && bitSet_9)  46 
  { 47 
       mapIQ of 3 and 9 to Ant2 48 
  } 49 
} 50 
Break; 51 
} 52 
 53 
  54 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      301 
O-RAN.WG4.CUS.0-v07.00 
Annex J Beamforming Methods Description: 1 
Beams are RF energy directed in specific angular directions in space.  Beamforming can generate energy lobes 2 
(maxima, or “peaks”) &/or energy nulls (minima, or “valleys”) in the spatial dimension.  They can be formed using 3 
various methods in the analog domain, the digital domain, or a combination thereof.  Beams and beamforming can 4 
further be used to re-utilize temporo-spectral (Time-Frequency) resources to achieve Spatial Multiplexing.   5 
O-RAN has four distinct methods supported at the O-RU for beamforming. 6 
 7 
1. Predefined-Beam Beamforming.  8 
In this method, beam indices (“beamId” values) are conveyed from the O-DU to the O-RU to indicate which beam to 9 
apply to the DL or UL data.  The beams are expected to be pre-defined within the O-RU and the method of 10 
beamforming is not specified. However, the O-DU still needs to know whether the beamforming is frequency-domain, 11 
time-domain or “hybrid” so the beamId values can be correctly applied e.g. to not apply different time-domain beamIds 12 
to subcarriers in the same OFDM symbol. 13 
 14 
2. Weight-based Dynamic Beamforming.  15 
In this method, beamforming weights are transmitted across the interface using C-Plane messages.  16 
For frequency-domain beamforming the operation may be considered as follows: 17 
Let X = [x0 x1 …x𝑃]  represent the frequency domain IQ data in one data section, where P is the number of PRBs in 18 
the data section and x is a PRB, 𝑥∈ ℂ𝐿∗1  , L is the number of streams.  19 
Let W = [w0 w1 …w𝐾]   represent the beamforming weights associated with the tx-array, where w is a beamforming 20 
weight, w ∈ ℂ𝐾∗𝐿  , K is the number of array elements. 21 
The output after beamforming Y = [y0 y1 …y𝑃]  is given by 22 
y=w.x 23 
where y is a beamforming output for the PRB x ,  y∈ ℂ𝐾∗1   24 
The equation above refers to DL beamforming but the same principle is applied for UL as well.  25 
 26 
For time-domain beamforming the operation is the similar: 27 
Here, however, instead of being applied per data section the beamforming is applied for the entire OFDM symbol. 28 
Let X = [x0 x1 …x𝑃]  represent the frequency domain IQ data in one OFDM symbol, where P is the number of PRBs 29 
in the OFDM symbol and x is a PRB, 𝑥∈ ℂ𝐿∗1  , L is the number of streams.  30 
Let W = [w0 w1 …w𝑃]   represent the beamforming weights associated with one tx-array, where w is a beamforming 31 
weight, w ∈ ℂ𝐾∗𝐿  , K is the number of array elements. 32 
The output after beamforming Y = [y0 y1 …y𝑃]  is given by 33 
y=w.x 34 
where y is a beamforming output for the PRB x ,  y∈ ℂ𝐾∗1   35 
The equation above refers to DL beamforming but the same principle is applied for UL as well.  36 
 37 
For hybrid beamforming the operation involves the multiplication by frequency-domain weights and time-38 
domain weights. 39 
There are K number of time-domain weights (the is the same as the number of array elements) and K’ number of 40 
frequency-domain weights (K’ is less than K, see chapter 10.5).  The K’ frequency-domain weights are applied for the 41 
PRBs in a data section, and the K time-domain weights are applied for all the PRBs in the entire OFDM symbol. 42 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      302 
O-RAN.WG4.CUS.0-v07.00 
Let X = [x0 x1 …x𝑃]  represent the frequency domain IQ data in one OFDM symbol, where P is the number of PRBs 1 
in the OFDM symbol and x is a PRB, 𝑥∈ ℂ𝐿∗1  , L is the number of streams.  2 
 3 
Let W = [w0 w1 …w𝑃]   represent the beamforming weights in one OFDM symbol, where w is a time-domain 4 
beamforming weight, w ∈ ℂ𝐾∗𝐿  , K is the total number of array elements. 5 
Let W′ = [w′
0 w′
1 …w′
𝑃′, w′
0 w′
1 …w′
𝑃′ …w′0 w′1 …w′𝑃′ ]   represent the beamforming weights in one data 6 
section, where w′ is a frequency-domain beamforming weight, w′ ∈ ℂ𝐾′∗𝐿  . 7 
Note that 𝐾=𝐾′ ∗𝑝′   so the W’ vector represents K / K’ repetitions of the K’ frequency-domain weights., 8 
 9 
The output after beamforming Y = [y0 y1 …y𝑃]  is given by 10 
y=(w∗w′).x 11 
where y is a beamforming output for the PRB x ,  y∈ ℂ𝑀∗1   12 
The equation above refers to DL beamforming but the same principle is applied for UL as well.  13 
 14 
3. Attribute-Based Dynamic Beamforming.  15 
In this method, beamforming attributes and/or their indices (if already known to the O-RU) are transmitted across the 16 
interface.  17 
Whereas a beam index provides a pointer to a beamforming vector already known to the O-RU, and beamforming 18 
weights specify an important method for how to form the beam, beamforming attributes specify the what, an inherently 19 
compact characterization of the desired beam pattern itself, to be formed directionally in space.  20 
These beamforming attributes include:  21 
• bfAzPt: the azimuth beamforming pointing angle in degrees 22 
• bfZePt: the zenith beamforming pointing angle in degrees 23 
• bfAz3dd: the azimuth beamforming 3dB down beam width in degrees 24 
• bfZe3dd: the zenith beamforming 3dB down beam width in degrees 25 
• bfAzSl: the azimuth beamforming sidelobe suppression value in dB 26 
• bfZeSl: the zenith beamforming sidelobe suppression value in dB 27 
 28 
Multiple methods of forming the beam per the Beam Attributes are possible and are left as O-RU implementation 29 
choices.  Some potential schemes are: Beamforming phased array weights (Analog or Digital), Holographic 30 
Beamforming, Butler Matrices, Lenses, and other known and emerging techniques.  These schemes may also be 31 
hybridized with method #4 “Channel-Information-Based beamforming”. 32 
 33 
4. Channel-Information-Based Beamforming.  34 
In this method, beamforming weights are calculated at the O-RU based on the channel estimates that are transmitted 35 
across the interface.  36 
For UL: 37 
Assuming K users who are jointly scheduled for MU-MIMO in UL, a beamforming matrix W = [w1,...,wM] ∈ ℂ𝐾𝑥𝑀   is 38 
applied to the frequency domain IQ data for K users.  39 
Let H ≜ [ℎ1...,ℎ𝐾]  ∈ ℂM𝑀𝑥𝐾 be the UL channel estimates for the K users.  40 
Multiple methods to calculate the beamforming weights for UL are possible and are left as the O-RU implementation 41 
choices. Some potential schemes are: 42 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      303 
O-RAN.WG4.CUS.0-v07.00 
Zero-forcing : 𝑊 =  (𝐻𝐻  𝐻)−1 𝐻𝐻   1 
Regularized zero-forcing/ MMSE:  𝑊 =  (𝐻𝐻  𝐻 +𝜉𝐼𝐾)−1 𝐻𝐻   ,    2 
ξ is the regularization parameter. 3 
Note that the C-Plane Section Extension =8 allows configuration of regularization factor per user in UL. 4 
  5 
For DL: 6 
Assuming K layers which are jointly scheduled for MU-MIMO in DL, a beamforming matrix W = [w1, ..., wK] ∈ ℂ𝑀𝑥𝐾  7 
is applied to the frequency domain IQ data for K layers.  8 
Let Let Heff ≜ [heff,1
𝑇 ,...,heff,K
𝑇 ]
𝑇
 ∈ ℂKxM be the DL channel estimates for the K selected layers among L users each 9 
transmitting multiple-layer data where  heff,k ∈ ℂ1xM. 10 
.  11 
Multiple methods to calculate the beamforming weights for DL are possible and are left as the O-RU implementation 12 
choices. Some potential schemes are: 13 
Zero-forcing: 𝑊= 
1
√ΨHeff
𝐻 (HeffHeff 𝐻)−1 14 
Regularized zero-forcing/ MMSE:  𝑊= 
1
√ΨHeff
𝐻 (HeffHeff
𝐻 +ξIK)
−1
,   15 
ξ is the regularization parameter, and the normalization parameter Ψ can be chosen to satisfy the total power constraint 16 
{WWH} ≤ M. 17 
Note that the C-Plane Section Extension =8 allows configuration of regularization factor per user in DL.  18 
 19 
Assuming L users’ channel matrices each transmitting multiple layers’ data considering transmit antenna switching 20 
(TAS), so Heff can be selected by using a proper sub-spacing function 𝑓(∙) among L user’s channel matrices H𝑖 where 21 
𝑖=1,…,L ∈ ℂN𝑖xM and N𝑖 is the number of antennas of i-th user. Define K𝑖 as the number of selected layers for i-th 22 
user, and then K=∑ K𝑖
L
𝑖=1  and Heff =[Heff,K1
𝑇 ...,Heff,KL
𝑇 ]
𝑇
where Heff,K𝑖 =𝑓(H𝑖)  ∈ ℂK𝑖xM and K𝑖 ≤N𝑖.  23 
  24 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      304 
O-RAN.WG4.CUS.0-v07.00 
Annex K: Layers of Array Elements 1 
Figure K-0-1 shows an example of a rectangular array with 12 rows and 4 columns of array elements. There are four 2 
data converters (not shown in the figure). Each data converter connects to all the 48 array elements (also known as the 3 
full-connection model in 3GPP). The array element contains 4 gain and phase control elements each connecting to one 4 
of the data converters. The gain and phase control element is used to apply time domain (TD) beamforming weights. 5 
This type of connection creates four overlapping arrays (“array-layers”) by reusing the same array elements. On the 6 
transmit side each DAC can correspond to one layer, which is then connected to one of the overlapping Tx arrays. 7 
Hence the structure of the tx-array so constructed can support 4 layers. The 48 elements corresponding to layer q = 0…3 8 
receive the same input from DAC q and this input can be beamformed with a 48 element TD beamforming vector 9 
( 𝑞,0, 𝑞,47)and a Frequency Domain (FD) beamforming weight  𝑞 corresponding to layer 𝑞. Each array element hence 10 
can receive 4 equivalent beamforming weights  0 0,0𝑡𝑜 3 3,0  corresponding to 4 layers. 11 
 12 
K.1 Use Case A 13 
Use case A is to send eAxC via 48 elements. In this case, the eAxC is beamformed in frequency domain (FD) by   0and 14 
48 complex weights corresponding to time domain (TD) using( 0,0, 0,47) see Figure K-0-2. In this case, the O-RU has 15 
4 simple tx-arrays with 48 elements each.  16 
 17 
 18 
      19 
 20 
 21 
 22 
 23 
 24 
 25 
 26 
Figure K-0-1 
Figure K-0-2 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      305 
O-RAN.WG4.CUS.0-v07.00 
One should note in the above case that the 48 array elements each have one power amplifier which is shared across the 1 
four tx-arrays, conveyed over the M-plane as the array elements being “shared” according to section 10.5.4 2 
K.2 Use Case B 3 
In this use case, one eAxC signal is sent over all the 4x48 elements. This can be accomplished by using 4 digital 4 
weights in FD and 4x48 TD weights (Figure K-0-3). In this case, O-RU has one tx-array with 4x48 elements. 5 
  6 
 7 
 8 
 9 
 10 
 11 
 12 
 13 
 14 
One should note in the above case that the 48 array elements each have one power amplifier which is shared across the 15 
four array-layers q=0..3, conveyed over the M-plane as independent-power-budget being false according to section 16 
10.5.2 17 
 18 
  19 
Figure K-0-3 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      306 
O-RAN.WG4.CUS.0-v07.00 
Annex L: Considerations when operating in non-ideal 1 
transport environments 2 
The Intra-PHY lower layer fronthaul split has been optimized for operation using transport systems that are able to 3 
support tight latency and bandwidth requirements. However, this does not preclude operation of the lower layer split in 4 
environments where the transport systems are not able to meet tight latency and bandwidth requirements. This appendix 5 
is informative and describes those additional capabilities that may be included in an O-DU and/or O-RU to assist when 6 
operating in such circumstances.  7 
Many of the following discussion points and examples assume an FDD cell configuration. FDD examples are used here 8 
as the timing aspects are easier to conceptualize. The same principles and approaches apply to TDD cells.  9 
L.1  Deployment Scenarios and Performance Considerations 10 
L.1.1  Low Impact 11 
There is a class of low mobility deployment scenarios characterized by slow fading, which provide a relatively stable 12 
radio channel at small time scales. When combined with low UE density, these scenarios see low (or no) performance 13 
impact from non-ideal fronthaul vRAN deployments.  14 
Example deployment use cases include indoor femto cells, fixed wireless access, and outdoor pico cells in non-dense 15 
urban settings.   16 
In such scenarios the benefit from HARQ is negligible, thus the performance impact of disabling HARQ 17 
retransmissions or using predictive HARQ is negligible. Further, the impact of a diminished UE attach ramp rate is 18 
negligible as well because UE ramp rate is not a performance design attribute for such deployments.  19 
L.1.2 Medium Impact 20 
There is a second class of low mobility deployment scenarios where again, radio channels are predominately slow 21 
fading, but where UE density may be higher. In these scenarios, the UE attach ramp rate may be a performance attribute 22 
of higher importance and thus a larger impact from non-ideal fronthaul may be expected.  23 
Example deployment use cases include venue deployments (e.g. stadiums or arenas), shopping malls, or airport 24 
terminals. 25 
In such scenarios inter-cell interference may become significant and the benefit from HARQ may be greater and thus a 26 
noticeable degradation of system throughput would be observed when using non-ideal fronthaul. In addition, delays in 27 
NAS attach may become noticeable to users depending on the user behavior given the increased UE density.  28 
L.1.3 High Impact 29 
There also exists a class of deployments which are characterized by high mobility and/or fast fading. In these scenarios 30 
the performance impacts of using non-ideal fronthaul may be significant.  31 
Example deployment use cases include freeway coverage macro cells, dense urban macro or small cells, or rural large 32 
ISD macros.  33 
In these scenarios, HARQ often provides a benefit and thus prediction algorithms will likely result in a noticeable 34 
performance impact. In addition, the impact of delayed CSI feedback will further reduce system efficiency. Similarly, 35 
depending on the UE behavior (i.e. traffic movement) UE attach ramp rate may be a metric of higher importance.  36 
L.2 HARQ 37 
Long latency fronthaul links may break traditional Hybrid ARQ timelines. The following sections discuss the timelines 38 
in detail and cover techniques which can be used to minimize the impact of the timeline being broken.  39 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      307 
O-RAN.WG4.CUS.0-v07.00 
L.2.1 Synchronous HARQ 1 
Since FDD LTE offers 8 HARQ processes for each UE, one UE can be scheduled for PDSCH traffic in up to 8 different 2 
subframes simply by associating a different HARQ process to each subframe. Hence, the most demanding scenario in 3 
terms of processing timeline is given by a “full -buffer” UE continuously scheduled in consecutive subframes, whic h 4 
results in 8 subframes (i.e., 8 ms) of timeline budget for each HARQ process. Since the standard mandates that each 5 
ACK/NACK HARQ response is sent in uplink 4 subframes after the relevant downlink transmission, effectively only 4 6 
ms of timeline budget are left for eNB-side operations. 7 
 8 
The eNB is typically expected to complete all tasks within the 4 -ms timeline budget, with many eNB implementations 9 
taking more than than 3 ms in the worst load conditions. It is this argument that has generated the common p erception 10 
according to which all sources of “extra” latency cannot exceed 0.5-1.0 ms, see Figure L-1.  11 
 12 
 13 
Figure L-1 : Synchronous Up-link HARQ Processing Budget 14 
In the strictest interpretation of this argument, the sub -ms upper bound includes occasional, short-term spikes, which 15 
effectively rules out virtual implementations of LTE L1 on commodity operative systems (OSs) and forces adoption of 16 
real-time OSs. Even in the broader interpretation, this argument rules out disruptive deployments such as split -7 17 
architectures over high-latency fronthaul.  18 
 19 
The following analysis challenges these often-cited assumptions, showing that, while they make sense for many legacy 20 
deployments, different scenarios exist in which forcing tight latency constraints is unnecessar y and may be 21 
counterproductive to the exploration of innovative low-cost deployment scenarios. 22 
 23 
L.2.1.1 HARQ Interleaving 24 
One option often mentioned in the context of latency-resistant LTE implementations is “HARQ (process) interleaving”, 25 
which in essence requires waiting for the ACK/NACK response to be available before reusing a certain HARQ process. 26 
This concept was first introduced in [REF: https://www.bell-labs.com/our-research/publications/200870/]. 27 
 28 
Using this approach, the tolerated latency for O-DU processing time plus round trip frounthaul delay can be increased to 29 
3 + n8 milli-seconds, where n is number of autonoms HARQ responses sent with the New Data Indication (NDI) not 30 
toggled, ensuring that the UE re-transmits the data until it can be successfully ACK’s/NACK’d by the O-DU. 31 
 32 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      308 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure L-2: Interleaved HARQ Operation 2 
In the worst case in terms of timeline budget -- that of a single, full-buffer UE -- this option is very inefficient, resulting 3 
in only 8 every (8+n) subframes being used when the overall latency exceeds the 8-ms budget by n ms. For example, 8 4 
ms of extra latency would lead to about 50% of the subframes being unused. Hence, while possibly appealing in 5 
deployments with latency typically below the desired limit except for a few occasional spikes, this option is certainly 6 
not viable for deployments in which high latency is the norm, such as split-7 architectures over high-latency fronthaul. 7 
L.2.1.2 Predictive HARQ 8 
Another option consists of, effectively, turning off HARQ, relying on upper layers for retransmissions (e.g. , RLC-AM, 9 
or transport/application layer for RLC-TM and RLC-UM). In this technique, the eNB schedules each user as it would if 10 
it had received a timely ACK response for each PDSCH tr ansmission, which results in no subframe left unnecessarily 11 
unused.  12 
 13 
When the late HARQ response is actually received, two cases are possible. In one case, when the response is ACK, 14 
nothing else needs to be done since “prediction of ACK” was correct -- the eNB did everything correctly, without wasting 15 
time waiting for the actual response.  16 
 17 
 18 
Figure L-3: DL Predictive HARQ Operation 19 
 20 
In the other case, when the response is NACK and the prediction was wrong, nothing else needs to be done, since this 21 
event is equivalent to an ACK-for-NACK decoding error, hence equivalent to an event that is typically caused by radio 22 
problems (e.g., fading, interference) against which LTE already has built-in robustness.  23 
 24 
This simple technique performs well when NACK events a re rare, most notably in peak -rate conditions, when NACK 25 
events are essentially absent even at maximum MCS. With proper tuning of the link adaptation parameters (e.g., lower 26 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      309 
O-RAN.WG4.CUS.0-v07.00 
target block error rate), it is possible to achieve full -buffer throughput performance within 10-15% of what an optimal, 1 
low-latency eNB can achieve in any given static/pedestrian radio conditions.  2 
 3 
It is evident that, for these low-mobility scenarios, ruling out high-latency deployments is unnecessary: Many use cases 4 
exist in which a 10-15% throughput degradation does not justify more expensive infrastructures. 5 
 6 
More advanced algorithms may be required for optimization of scenarios in which full -buffer throughput is not the key 7 
metric (e.g., RRC messages not protected by RLC -AM). For example, “prediction of NACK” may be be used until an 8 
ACK response is actually received for a certain critical message.  9 
 10 
While discussions of advanced techniques are beyond the scope of this section -- and the scope of fronthaul protocol 11 
specifications -- it is critical to remark that innovative eNB vendors have the opportunity to unlock new use cases, using 12 
the longer latency O-DU and O-RU categories. 13 
 14 
L.2.2 Asynchronous HARQ Considerations 15 
In the LTE down-link and in both 5G down-link and up-link, HARQ has been defined to be asynchronous. This means 16 
that a separate HARQ process identifier is included in the HARQ messages, thus avoiding the processing time 17 
limitations associated with synchronous up-link LTE operation. 18 
L.3 RACH Considerations 19 
The LTE attach procedure starts with UEs performing a preamble transmission on the random access channel to 20 
identifying itself to the network. This call flow is usually described as “message 1” through  “message 4” as: 21 
1. RACH preamble from UE 22 
2. Random Access Response (RAR) from MAC 23 
3. PUSCH message from UE containing CCCH or MAC signaling 24 
4. Contention resolution Identity MAC CE for contention-based RACH procedure 25 
 26 
Following are the timers used in RACH procedure (specified as per 3GPP TS 36.331) apart from the PRACH 27 
configuration. 28 
       ra-ResponseWindowSize              ENUMERATED { 29 
                                            sf2, sf3, sf4, sf5, sf6, sf7,sf8, sf10}, 30 
       mac-ContentionResolutionTimer      ENUMERATED { 31 
                                            sf8, sf16, sf24, sf32, sf40, sf48, sf56, sf64} 32 
 33 
PRACH configuration allows the RACH occasions for UEs to be available in every UL subframe to every 20 UL 34 
subframes. 35 
Even if the above timers are set to maximum value, timers would pose an issue with RACH handling for long latency 36 
fronthaul transport links. In particular, the ra-ResponseWindowSize timer maximum value is 10ms (with timer starting 37 
3 subframes after RACH transmission) from RACH preamble transmission occasion. During this time the vRAN 38 
system needs to handle the steps including  39 
1. Complete L1 processing of RACH detection,  40 
2. Sending decoded RACH message to MAC (including fronthaul transport latency) 41 
3. MAC processing to allocate DL (msg2, RAR) and UL (msg3 grant) resources  42 
4. Relaying of messages back to L1 (including fronthaul transport latency) 43 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      310 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure L-4: Traditional RACH Timing Diagram 2 
Therefore, in this process, there will be a 2-way delay (first in UL for RACH reception at MAC and second for sending 3 
RAR from MAC to L1) apart from the L1/MAC processing time. Without adjust to accommodate long latency 4 
fronthaul, this would lead to RACH procedure failure and UE will reattempt the RACH again (and would lead to same 5 
problem again) leading to UE not able to access the network. 6 
With high fronthaul latency, alternative options are required to handle the RACH procedure. Two such options are 7 
discussed below.  8 
L.3.1 Non-Ideal Fronthaul RACH Designs 9 
When designing the RACH process for non-ideal, long latency fronthaul the following points are considered: 10 
1. The method should work assuming existing 3GPP specification 11 
2. There should not be any impact to UE and 3GPP compliant UE should work with the method 12 
3. Currently PRACH Format-0 is considered in RACH analysis to consider FH latency requirements. Support of 13 
different Preamble formats need to be considered in future versions 14 
4. Current section considers the msg2 handling to meet the FH latency requirements 15 
5. Contention Based RACH procedure is considered in current document. Contention Free RACH procedure 16 
needs to be considered in future versions 17 
6. BI (Backoff indicator) not considered 18 
7. HARQ timings for Msg3 and msg4 HARQ are considered in other section of draft document. 19 
8. FDD Duplexing mode is considered 20 
L.3.1.1 Option-1: Semi-persistent Resource allocation 21 
Option 1 presents a semi-persistent allocation of resources that allows the O-DU to make RACH decisions without 22 
waiting for the reception of a RACH preamble. In this alternative, MAC allocates three types of resource for RAR 23 
messages: 24 
1. PDCCH resources for RAR 25 
a. RA-RNTI (0 – 9) being fixed and one-to-one mapping for RACH occasions in FDD mode 26 
b. Common search space resources for PDCCH carrying RAR (corresponding RA-RNTI) 27 
c. Based on configured RACH configuration (RACH occasions), MAC reserves the PDCCH resources 28 
corresponding to RAR message in all required TTIs (For example, n+3rd TTI from every RACH 29 
preamble occasion).  30 
d. The reservation of resources will be done at MAC regardless of the RACH triggered by UE 31 
e. DCI Format 1A 32 
2. PDSCH resources for RAR 33 
a. Configured number of RACH to be entertained by MAC in one subframe 34 
b. Based on “Number of RACH” to be processed, MAC estimates the size of RAR PDU 35 
RACH 
transmission by 
UE 
 RAR message 
expected by UE 
sf 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      311 
O-RAN.WG4.CUS.0-v07.00 
c. MAC reserves the PDSCH resources in all required TTIs similar to PDCCH 1 
d. Layer-1 updates the TC-RNTI (A pool of TC-RNTI available with L1 for CBR RACH) in RAR along 2 
with RAP-ID (Preamble ID) and TA value in RAR message (decoding of MAC PDU sent by MAC) 3 
e. Layer-1 maintains the TC-RNTI pool 4 
3. PUSCH resources for Msg3 5 
a. Based on “Number of RACH” to be processed in a subframe, MAC reserves the PUSCH resources 6 
4. All the above information (reserved by MAC) to L1 at cell configuration time. MAC will directly receive the 7 
PUSCH (Rx_PUSCH.Indication) with TCRNTI (and corresponding subframe number) and TA value applied 8 
in RAR 9 
5. Considering maximum value of contention resolution timer, MAC will then normally schedule msg4. 10 
6. After successful msg4 procedure, MAC will start using C-RNTI 11 
7. In case of contention failure or UE release, MAC will inform Layer-1 to free the TC-RNTI 12 
 13 
Disadvantage: This would waste PDCCH/PDSCH/PUSCH resources if there is no RACH procedure triggered. In 14 
addition hard coding of the timing advance is an acceptable approach for small cell deployments, but in macro cells this 15 
will not work.  16 
L.3.1.2 Option-2: RACH retransmission estimation 17 
The following description addresses the flow driving message 2 scheduling in a basic configuration -- different, more 18 
complex flows exist. 19 
For simplicity, the description refers to an FDD LTE deployment with RACH configured with the greatest possible 20 
values for the maximum number of preamble retransmissions (50), the preamble periodicity (20 subframes) and the 21 
RAR window size (10 subframes). 22 
- The O-DU stack detects that a RACH preamble was transmitted at UL subframe t. 23 
- If the scheduling in advance (which is a function of the fronthaul latency) is such that the relevant message 2 24 
can be transmitted over the air at DL subframe t+12 or earlier, the "regular" flow is possible. In particular, a 25 
message 2 with content corresponding to the preamble detected in UL subframe t is transmitted by DL 26 
subframe t+12. 27 
- Else, the relevant message 2 cannot be delivered within the valid RAR window, in which case the terminal that 28 
transmitted a preamble at UL subframe t is mandated to transmit another preamble at UL subframe t+20, for 29 
which the valid RAR window ends at DL subframe t+32. In this case, O-DU skips the scheduling of the 30 
message 2 corresponding to the preamble transmitted at UL subframe t (since it would not be received within 31 
the valid RAR window) and directly schedules for DL subframe t+32 the message 2 corresponding to the 32 
preamble transmitted at UL subframe t+20, even before receiving and processing the samples for said UL 33 
subframe. 34 
Note that the flow described above assumes that the "effective fronthaul round-trip delay" is lower than 32 ms, that is, 35 
assumes that it is possible for O-DU to process the samples relative to UL subframe t and to compute the relevant 36 
response, and for the O-RU(s) to transmit said response at DL subframe t+32. 37 
A simple extension of this flow makes it viable to complete the RACH procedure in the presence of an "effective 38 
fronthaul round-trip delay" as high as 52 ms, or even 72 ms, but deployments over such high-latency fronthauls are not 39 
recommended.  40 
Some details are omitted in the description above to maintain the flow presentation as simple as possible. In practice, 41 
the latency-resistant RACH procedure is made slightly more complex by the fact that the terminal choses the preamble 42 
ID randomly at each retransmission, and that the content of message 2 has to include the preamble ID of the last 43 
transmission. 44 
In the example above, at the time of scheduling message 2 for DL subframe t+32 (which refers to the preamble 45 
transmitted in UL subframe t+20), O-DU doesn't know what preamble ID to include in that message, since it has not 46 
processed yet the samples relative to said preamble transmission. The simplest method to this is to populate message 2 47 
with the last seen preamble.  48 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      312 
O-RAN.WG4.CUS.0-v07.00 
 1 
Figure L-5: Long Latency RAR “Collision” Operation 2 
By limiting the number of available preambles, the likelihood two subsequent UE RACH attempts using the same 3 
preamble can increased sufficiently to ensure successful RACH in a timely manner.  4 
L.4 Other Latency Related Considerations 5 
Supporting high latency requires careful system design to ensure seamless device connectivity while maintaining 6 
spectrum efficiency. In this section, we highlight other system aspects that are impacted by high fronthaul latency.  7 
Some of the issues can be resolved with upper layer protocols while some may not be relevant for certain deployment 8 
use cases. Proposed solutions for these issues are for future study to see if they require any additional information to be 9 
transmitted over the fronthaul interface. 10 
 11 
• Link adaptation and scheduling 12 
o Link adaptation is implemented at layer 2, where the eNB adapts in real-time the UEs’ MCS based on 13 
the CQI. Scheduling (e.g., proportional fair scheduling) depends heavily on the channel quality between 14 
the eNB and the UE. Although this depends on the channel model, it has to be done on a relatively short 15 
time-scale. Link adaptation and scheduling have to be conservative for non-ideal fronthaul with split 7 16 
since the channel can change significantly in the time period. This may reduce the benefit of frequency 17 
selective scheduling and high mobility support since it takes longer for the scheduler to respond to the 18 
channel variations under fading conditions. However, this may not be an issue for low mobility 19 
scenarios in a small cell environment.  20 
• UL power control 21 
o Another challenging issue for non-ideal fronthaul is UL power control. This also becomes challenging 22 
under high mobility and large latencies since it takes longer time to feedback this information to the 23 
scheduler to adjust the UE transmit power. However, for use cases with limited mobility, this may not 24 
be an issue. 25 
• Beamforming and MU-MIMO 26 
o Beamforming is becoming an important use case for interference mitigation and for multi-user MIMO 27 
support for LTE and  NR for macros. This requires close interaction with the scheduler in order to 28 
suppress interference and pair u sers. If there is significant latency on the fronthaul, the beamforming 29 
and multi-user MIMO support becomes challenging under non-ideal conditions. This can be explored 30 
further. However, there are use cases with 2TRX/4TRX radios where beamforming support i s not 31 
critical.   32 
• COMP and advanced receiver support  33 
o One of the main advantages of split 7 is centralized processing for features such as UL COM P and 34 
advanced receivers since signals from multiple base -stations can be combined and processed jointly. 35 
However, under split 7 non-ideal fronthaul, these gains are not straightforward to attain in general since 36 
the latencies on the different links can have significant variations. Hence, innovation is needed to help 37 
achieve these gains. However, there can be mecha nisms to exploit these gains via other means (e.g. 38 
solutions developed for inter -site COMP which can accommodate more latency). This is also not a 39 
requirement for all use cases.    40 
• UE attach latency 41 
“Broken” Timeline for Random Access Response


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      313 
O-RAN.WG4.CUS.0-v07.00 
o The UE attach process involves 5 steps of message exchang es between the eNB and the UE. While 1 
there are messages also dependent on the core network and RRC latency, most of these messages are 2 
handled by the MAC/PHY layers and this has an impact on UE attach time, specially under large 3 
latencies. Again, this may not be relevant for low mobility use cases such as small cells.  4 
 5 
To summarize, there are several other factors to consider for high latency support. However, such factors need not be 6 
relevant for all use cases and can be explored further in future versions. 7 
L.5 Bandwidth Limitation Considerations 8 
In addition to accommodating extra latency in the fronthaul transport link, implementations may also support variable 9 
bandwidth as another aspect of non-ideal fronthaul transport. At a high level, two bandwidth related scenarios can exist; 10 
peak rate may be limited, or bandwidth resources may be shared and thus fluctuate over time. In either case, fronthaul 11 
implementations can be designed to handle these conditions.  12 
To support limited or variable bandwidth transport links, the O-DU will need to produce estimates of the uplink and 13 
downlink available bandwidth at periodic intervals e.g. on a per slot or per TTI interval. The O-DU can then use these 14 
bandwidth estimates to inform the scheduling decisions.  15 
In particular a bandwidth estimation function can simply return available bandwidth values in terms of bits per second 16 
in the next time interval. Alternatively, available bandwidth could also be expressed as a function of the following 17 
parameters including but not limited to: 18 
• Real-time IQ sample variable-bit-width 19 
• IQ Compression 20 
• Variable bit width per channel 21 
• MCS / Constellation of data 22 
• Beam count / compression 23 
• Beam forming related signaling overhead 24 
• C-Plane signaling overhead (reMask, symInc support, etc) 25 
• Number of PRBs scheduled 26 
 27 
An example API implementation may take as inputs some or all o the above parameters and return simply numPrbu 28 
available in the next interval. 29 
The design goal in such implementations is to keep the cell up and active but limit the air interface user plane 30 
bandwidth to match the available fronthaul resources. Fronthaul data associated with air interface broadcast and 31 
control/reference signaling occupies a small fraction of the bandwidth needed to achieve full cell throughput. An 32 
example implementation of a fronthaul aware scheduler could prioritize broadcast and control signaling, allocating 33 
PDSCH and PUSCH resources only after fronthaul bandwidth resources for all broadcast and control signaling has been 34 
removed from the available bandwidth estimate.  35 
The exact fronthaul aware scheduling algorithm used is out of scope for this specification.  36 
  37 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      314 
O-RAN.WG4.CUS.0-v07.00 
Annex M: Use Case of Selective Transmission and 1 
Reception 2 
In order to clarify how to transmit/receive signal when selective transmission and reception is u sed, some concrete 3 
examples of selective transmission and reception with beamId are illustrated in this section. 4 
1. Selective transmission and reception with non beamforming O-RUs and 1-to-1 mapping of global beamId 5 
and local beamId 6 
2. Selective transmission and  reception with beamforming O -RUs and 1 -to-N mapping of global beamId 7 
and local beamId 8 
M.1 Selective transmission and reception with non beamforming O-9 
RUs and 1-to-1 mapping of global beamId and local beamId 10 
In this section, it is assumed that the total nu mber of beams is seven. Figure M-1 shows comparison of C/U -plane 11 
processing and RF signal transmission/reception procedure between normal beamforming O -RU case with seven beam 12 
and selective transmission and reception with seven non beamforming O-RUs case. 13 
 14 
 15 
Figure M-1 : C/U-plane processing and RF signal transmission/reception procedure comparison (non BF O-RU 16 
case) 17 
 18 
First of all, the mapping table between global beamId/O-RU/local beamId is configured via M -Plane during start -up 19 
procedure. Table M-1 shows the mapping table for this example scenario. The mapping table is assumed to be created by 20 
operator based on what an operator would like to operate. 21 
Table M-1 : Global beamId/O-RU/local beamId mapping table 22 
Global beamId O-RU Local beamId 
Beam ID #1 O-RU #1 Beam ID #0 
Beam ID #2 O-RU #2 Beam ID #0 
Beam ID #3 O-RU #3 Beam ID #0 
Beam ID #4 O-RU #4 Beam ID #0 
Beam ID #5 O-RU #5 Beam ID #0 
Beam ID #6 O-RU #6 Beam ID #0 
Beam ID #7 O-RU #7 Beam ID #0 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      315 
O-RAN.WG4.CUS.0-v07.00 
 1 
When SSB is transmitted, O-DU sends C-Plane message with beamId corresponds to a transmitting SSB before U-Plane 2 
transmission. FHM reads C-Plane header and routes it to corresponding O-RU(s). After that, U-Plane packet is routed in 3 
same manner and then O-RU transmits SSB. When the UE receives SSB, UE can obtain each SSB ID by decoding 4 
PBCH included in the SSB. If UE is before attaching, UE will transmit PRACH preamble on the PRACH preamble 5 
occasion correspondig to the best SSB ID. Since PRACH occasion is linked to SSB ID and SSB ID is linked to global 6 
beamId one by one, O-DU knows which beam shall be used to receive PRACH preamble on each PRACH occasion. 7 
Therefore, O-DU can sned C-Plane packet with appropriate beamId to receive PRACH preamble on each PRACH 8 
occasion. The C-Plane packet is routed to O-RU(s) by FHM and then the O-RU(s) try to receive PRACH preamble and 9 
sends U-Plane packet to FHM. After UE attaching, other shared channel and reference signal are transmitted/received as 10 
same manner. 11 
M.2 Selective transmission and reception with beamforming O-RUs 12 
and 1-to-N mapping of global beamId and local beamId 13 
In this section, it is assumed that the total number of beams is seven. Figure M-2 shows comparison of C/U -plane 14 
processing and RF signal transmission/reception procedure between normal beamforming O -RU case with seven beam 15 
and selective transmission and reception with two beamforming O-RUs case. In this case, each beamforming O-RU for 16 
selective transmission and recepti on has 4 beams. Local beamId #4 of O -RU #1 and local beamId #1 of O -RU #2 are 17 
mapped to the same global beamId #4. 18 
 19 
 20 
Figure M-2 : C/U-plane processing and RF signal transmission/reception procedure comparison (BF O-RU case) 21 
 22 
First of all, the mapping table between global beamId/O-RU/local beamId is configured via M -Plane during start -up 23 
procedure. Table M-2 shows the mapping table for this example scenario. The mapping table is assumed to be created by 24 
operator based on what an operator would like to operate. 25 
Table M-2 : Global beamId/O-RU/local beamId mapping table 26 
Global beamId O-RU Local beamId 
Beam ID #1 O-RU #1 Beam ID #1 
Beam ID #2 O-RU #1 Beam ID #2 
Beam ID #3 O-RU #1 Beam ID #3 
Beam ID #4 O-RU #1 Beam ID #4 
O-RU #2 Beam ID #1 
Beam ID #5 O-RU #2 Beam ID #2 
Beam ID #6 O-RU #2 Beam ID #3 
Beam ID #7 O-RU #2 Beam ID #4 


 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      316 
O-RAN.WG4.CUS.0-v07.00 
 1 
As shown in Table M-2, local beamId #4 of O -RU #1 and local beamId #1 of O -RU #2 are mapped to the same global 2 
beamId #4. This means O-RU #1 and O-RU #2 partially construct shared cell area which is coverd by beam ID #4 of O-3 
RU #1 and beam ID #1 of O -RU #2. Therefore copy and combine function is applied for the signal transmit to/receive 4 
from this area. The detailed procedure of fronthaul interface and physical layer for transmitting SSB, receiving PRACH 5 
preamble, and for transmitting/receiving other shared channel are same as described in Section M.1.  6 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      317 
O-RAN.WG4.CUS.0-v07.00 
Annex ZZZ : O-RAN Adopter License Agreement 1 
BY DOWNLOADING, USING OR OTHERWISE ACCESSING ANY O-RAN SPECIFICATION, ADOPTER 2 
AGREES TO THE TERMS OF THIS AGREEMENT. 3 
This O-RAN Adopter License Agreement (the “Agreement”) is made by and between the O-RAN Alliance and the 4 
entity that downloads, uses or otherwise accesses any O-RAN Specification, including its Affiliates (the “Adopter”). 5 
This is a license agreement for entities who wish to adopt any O-RAN Specification. 6 
Section 1: DEFINITIONS 7 
1.1 “Affiliate” means an entity that directly or indirectly controls, is controlled by, or is under common control with 8 
another entity, so long as such control exists. For the purpose of this Section, “Control” means beneficial ownership of 9 
fifty (50%) percent or more of the voting stock or equity in an entity. 10 
1.2 “Compliant Implementation” means any system, device, method or operation (whether implemented in hardware, 11 
software or combinations thereof) that fully conforms to a Final Specification. 12 
1.3 “Adopter(s)” means all entities, who are not Members, Contributors or Academic Contributors, including their 13 
Affiliates, who wish to download, use or otherwise access O-RAN Specifications. 14 
1.4 “Minor Update” means an update or revision to an O-RAN Specification published by O-RAN Alliance that does 15 
not add any significant new features or functionality and remains interoperable with the prior version of an O-RAN 16 
Specification. The term “O-RAN Specifications” includes Minor Updates. 17 
1.5 “Necessary Claims” means those claims of all present and future patents and patent applications, other than design 18 
patents and design registrations, throughout the world, which (i) are owned or otherwise licensable by a Member, 19 
Contributor or Academic Contributor during the term of its Member, Contributor or Academic Contributorship; (ii) 20 
such Member, Contributor or Academic Contributor has the right to grant a license without the payment of 21 
consideration to a third party; and (iii) are necessarily infringed by a Compliant Implementation (without considering 22 
any Contributions not included in the Final Specification). A claim is necessarily infringed only when it is not possible 23 
on technical (but not commercial) grounds, taking into account normal technical practice and the state of the art 24 
generally available at the date any Final Specification was published by the O-RAN Alliance or the date the patent 25 
claim first came into existence, whichever last occurred, to make, sell, lease, otherwise dispose of, repair, use or operate 26 
a Compliant Implementation without infringing that claim. For the avoidance of doubt in exceptional cases where a 27 
Final Specification can only be implemented by technical solutions, all of which infringe patent claims, all such patent 28 
claims shall be considered Necessary Claims. 29 
1.6 “Defensive Suspension” means for the purposes of any license grant pursuant to Section 3, Member, Contributor, 30 
Academic Contributor, Adopter, or any of their Affiliates, may have the discretion to include in their license a term 31 
allowing the licensor to suspend the license against a licensee who brings a patent infringement suit against the 32 
licensing Member, Contributor, Academic Contributor, Adopter, or any of their Affiliates. 33 
Section 2: COPYRIGHT LICENSE 34 
2.1 Subject to the terms and conditions of this Agreement, O-RAN Alliance hereby grants to Adopter a nonexclusive, 35 
nontransferable, irrevocable, non-sublicensable, worldwide copyright license to obtain, use and modify O-RAN 36 
Specifications, but not to further distribute such O-RAN Specification in any modified or unmodified way, solely in 37 
furtherance of implementations of an ORAN 38 
Specification. 39 
2.2 Adopter shall not use O-RAN Specifications except as expressly set forth in this Agreement or in a separate written 40 
agreement with O-RAN Alliance. 41 
Section 3: FRAND LICENSE 42 
3.1 Members, Contributors and Academic Contributors and their Affiliates are prepared to grant based on a separate 43 
Patent License Agreement to each Adopter under Fair Reasonable And Non- Discriminatory (FRAND) terms and 44 
conditions with or without compensation (royalties) a nonexclusive, non-transferable, irrevocable (but subject to 45 
Defensive Suspension), non-sublicensable, worldwide patent license under their Necessary Claims to make, have made, 46 
use, import, offer to sell, lease, sell and otherwise distribute Compliant Implementations; provided, however, that such 47 
license shall not extend: (a) to any part or function of a product in which a Compliant Implementation is incorporated 48 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      318 
O-RAN.WG4.CUS.0-v07.00 
that is not itself part of the Compliant Implementation; or (b) to any Adopter if that Adopter is not making a reciprocal 1 
grant to Members, Contributors and Academic Contributors, as set forth in Section 3.3. For the avoidance of doubt, the 2 
foregoing licensing commitment includes the distribution by the Adopter’s distributors and the use by the Adopter’s 3 
customers of such licensed Compliant Implementations. 4 
3.2 Notwithstanding the above, if any Member, Contributor or Academic Contributor, Adopter or their Affiliates has 5 
reserved the right to charge a FRAND royalty or other fee for its license of Necessary Claims to Adopter, then Adopter 6 
is entitled to charge a FRAND royalty or other fee to such Member, Contributor or Academic Contributor, Adopter and 7 
its Affiliates for its license of Necessary Claims to its licensees. 8 
3.3 Adopter, on behalf of itself and its Affiliates, shall be prepared to grant based on a separate Patent License 9 
Agreement to each Members, Contributors, Academic Contributors, Adopters and their Affiliates under Fair 10 
Reasonable And Non-Discriminatory (FRAND) terms and conditions with or without compensation (royalties) a 11 
nonexclusive, non-transferable, irrevocable (but subject to Defensive Suspension), non-sublicensable, worldwide patent 12 
license under their Necessary Claims to make, have made, use, import, offer to sell, lease, sell and otherwise distribute 13 
Compliant Implementations; provided, however, that such license will not extend: (a) to any part or function of a 14 
product in which a Compliant Implementation is incorporated that is not itself part of the Compliant Implementation; or 15 
(b) to any Members, Contributors, Academic Contributors, Adopters and their Affiliates that is not making a reciprocal 16 
grant to Adopter, as set forth in Section 3.1. For the avoidance of doubt, the foregoing licensing commitment includes 17 
the distribution by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ distributors 18 
and the use by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ customers of such 19 
licensed Compliant Implementations. 20 
Section 4: TERM AND TERMINATION 21 
4.1 This Agreement shall remain in force, unless early terminated according to this Section 4. 22 
4.2 O-RAN Alliance on behalf of its Members, Contributors and Academic Contributors may terminate this Agreement 23 
if Adopter materially breaches this Agreement and does not cure or is not capable of curing such breach within thirty 24 
(30) days after being given notice specifying the breach. 25 
4.3 Sections 1, 3, 5 - 11 of this Agreement shall survive any termination of this Agreement. Under surviving Section 3, 26 
after termination of this Agreement, Adopter will continue to grant licenses (a) to entities who become Adopters after 27 
the date of termination; and (b) for future versions of ORAN Specifications that are backwards compatible with the 28 
version that was current as of the date of termination. 29 
Section 5: CONFIDENTIALITY 30 
Adopter will use the same care and discretion to avoid disclosure, publication, and dissemination of O-RAN 31 
Specifications to third parties, as Adopter employs with its own confidential information, but no less than reasonable 32 
care. Any disclosure by Adopter to its Affiliates, contractors and consultants should be subject to an obligation of 33 
confidentiality at least as restrictive as those contained in this Section. The foregoing obligation shall not apply to any 34 
information which is: (1) rightfully known by Adopter without any limitation on use or disclosure prior to disclosure; 35 
(2) publicly available through no fault of Adopter; (3) rightfully received without a duty of confidentiality; (4) disclosed 36 
by O-RAN Alliance or a Member, Contributor or Academic Contributor to a third party without a duty of 37 
confidentiality on such third party; (5) independently developed by Adopter; (6) disclosed pursuant to the order of a 38 
court or other authorized governmental body, or as required by law, provided that Adopter provides reasonable prior 39 
written notice to O-RAN Alliance, and cooperates with O-RAN Alliance and/or the applicable Member, Contributor or 40 
Academic Contributor to have the opportunity to oppose any such order; or (7) disclosed by Adopter with O-RAN 41 
Alliance’s prior written approval. 42 
Section 6: INDEMNIFICATION 43 
Adopter shall indemnify, defend, and hold harmless the O-RAN Alliance, its Members, Contributors or Academic 44 
Contributors, and their employees, and agents and their respective successors, heirs and assigns (the “Indemnitees”), 45 
against any liability, damage, loss, or expense (including reasonable attorneys’ fees and expenses) incurred by or 46 
imposed upon any of the Indemnitees in connection with any claims, suits, investigations, actions, demands or 47 
judgments arising out of Adopter’s use of the licensed O-RAN Specifications or Adopter’s commercialization of 48 
products that comply with O-RAN Specifications. 49 

 
________________________________________________________________________________________________ 
Copyright © 2021 by the O-RAN ALLIANCE e.V. 
Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ.      319 
O-RAN.WG4.CUS.0-v07.00 
Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY 1 
EXCEPT FOR BREACH OF CONFIDENTIALITY, ADOPTER’S BREACH OF SECTION 3, AND ADOPTER’S 2 
INDEMNIFICATION OBLIGATIONS, IN NO EVENT SHALL ANY PARTY BE LIABLE TO ANY OTHER 3 
PARTY OR THIRD PARTY FOR ANY INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL 4 
DAMAGES RESULTING FROM ITS PERFORMANCE OR NON-PERFORMANCE UNDER THIS AGREEMENT, 5 
IN EACH CASE WHETHER UNDER CONTRACT, TORT, WARRANTY, OR OTHERWISE, AND WHETHER OR 6 
NOT SUCH PARTY HAD ADVANCE NOTICE OF THE POSSIBILITY OF SUCH DAMAGES. O-RAN 7 
SPECIFICATIONS ARE PROVIDED “AS IS” WITH NO WARRANTIES OR CONDITIONS WHATSOEVER, 8 
WHETHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE. THE O-RAN ALLIANCE AND THE 9 
MEMBERS, CONTRIBUTORS OR ACADEMIC CONTRIBUTORS EXPRESSLY DISCLAIM ANY WARRANTY 10 
OR CONDITION OF MERCHANTABILITY, SECURITY, SATISFACTORY QUALITY, NONINFRINGEMENT, 11 
FITNESS FOR ANY PARTICULAR PURPOSE, ERROR-FREE OPERATION, OR ANY WARRANTY OR 12 
CONDITION FOR O-RAN SPECIFICATIONS. 13 
Section 8: ASSIGNMENT 14 
Adopter may not assign the Agreement or any of its rights or obligations under this Agreement or make any grants or 15 
other sublicenses to this Agreement, except as expressly authorized hereunder, without having first received the prior, 16 
written consent of the O-RAN Alliance, which consent may be withheld in O-RAN Alliance’s sole discretion. O-RAN 17 
Alliance may freely assign this Agreement. 18 
Section 9: THIRD-PARTY BENEFICIARY RIGHTS 19 
Adopter acknowledges and agrees that Members, Contributors and Academic Contributors (including future Members, 20 
Contributors and Academic Contributors) are entitled to rights as a third-party beneficiary under this Agreement, 21 
including as licensees under Section 3. 22 
Section 10: BINDING ON AFFILIATES 23 
Execution of this Agreement by Adopter in its capacity as a legal entity or association constitutes that legal entity’s or 24 
association’s agreement that its Affiliates are likewise bound to the obligations that are applicable to Adopter hereunder 25 
and are also entitled to the benefits of the rights of Adopter hereunder. 26 
Section 11: GENERAL 27 
This Agreement is governed by the laws of Germany without regard to its conflict or choice of law provisions.  28 
This Agreement constitutes the entire agreement between the parties as to its express subject matter and expressly 29 
supersedes and replaces any prior or contemporaneous agreements between the parties, whether written or oral, relating 30 
to the subject matter of this Agreement.  31 
Adopter, on behalf of itself and its Affiliates, agrees to comply at all times with all applicable laws, rules and 32 
regulations with respect to its and its Affiliates’ performance under this Agreement, including without limitation, export 33 
control and antitrust laws. Without limiting the generality of the foregoing, Adopter acknowledges that this Agreement 34 
prohibits any communication that would violate the antitrust laws. 35 
By execution hereof, no form of any partnership, joint venture or other special relationship is created between Adopter, 36 
or O-RAN Alliance or its Members, Contributors or Academic Contributors. Except as expressly set forth in this 37 
Agreement, no party is authorized to make any commitment on behalf of Adopter, or O-RAN Alliance or its Members, 38 
Contributors or Academic Contributors. 39 
In the event that any provision of this Agreement conflicts with governing law or if any provision is held to be null, 40 
void or otherwise ineffective or invalid by a court of competent jurisdiction, (i) such provisions will be deemed stricken 41 
from the contract, and (ii) the remaining terms, provisions, covenants and restrictions of this Agreement will remain in 42 
full force and effect. 43 
Any failure by a party or third party beneficiary to insist upon or enforce performance by another party of any of the 44 
provisions of this Agreement or to exercise any rights or remedies under this Agreement or otherwise by law shall not 45 
be construed as a waiver or relinquishment to any extent of the other parties’ or third party beneficiary’s right to assert 46 
or rely upon any such provision, right or remedy in that or any other instance; rather the same shall be and remain in full 47 
force and effect. 48 