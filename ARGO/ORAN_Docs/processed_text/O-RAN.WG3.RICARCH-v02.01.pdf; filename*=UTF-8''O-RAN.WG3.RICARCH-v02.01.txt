O-RAN.WG3.RICARCH-v02.01
Technical Specification
O-RAN Working Group 3
Near-Real-time RAN Intelligent Controller
Near-RT RIC Architecture
This is a re-published version of the attached final specification.
For this re-published version, the prior versions of the IPR Policy will apply, except that the
previous requirement for Adopters (as defined in the earlier IPR Policy) to agree to an O-RAN
Adopter License Agreement to access and use Final Specifications shall no longer apply or be
required for these Final Specifications after 1st July 2022.
The copying or incorporation into any other work of part or all of the material available in this
specification in any form without the prior written permission of O-RAN ALLIANCE e.V.  is
prohibited, save that you may print or download extracts of the material on this site for your
personal use, or copy the material on this site for the purpose of sending to individual third parties
for their information provided that you acknowledge O-RAN ALLIANCE as the source of the
material and that you inform the third party that these conditions apply to them and that they must
comply with them.
Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
1
 O-RAN.WG3.RICARCH-v02.01
Technical Specification
O-RAN Working Group 3
Near-Real-time RAN Intelligent Controller
Near-RT RIC Architecture

Prepared by the O-RAN ALLIANCE e.V. Copyright © 2021 by the O-RAN ALLIANCE e.V.
By using, accessing or downloading any part of this O-RAN specification document, including by copying, saving, distributing, displaying or
preparing derivatives of, you agree to be and are bound to the terms of the O-RAN Adopter License Agreement contained in the Annex ZZZ of this
specification. All other rights reserved.

O-RAN ALLIANCE e.V.
Buschkauler Weg 27, 53347 Alfter, Germany
Register of Associations, Bonn VR 11238
VAT ID DE321720189
1

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
2
Revision History   1
Date Revision Author Description
2020.02.17 01.00.00 WG3 Arch TG Version number changed to 01.00.00 for WG3
approval
2020.11.25 01.01.00 WG3 Arch TG Version 1.1 for Board approval after 2021 copyright
update proposed by TSC
2021.03.05 02.00.05 CMCC, Nokia,
CICT, Lenovo,
AsiaInfo, Intel
Addition of API enablement function, and Stage-2
definitions for part of the Near-RT RIC APIs.
2021.03.06 02.00 CMCC Incremented version for WG3 vote
2021.03.14 02.00 CMCC,
Reliance Jio,
Intel
Editorial updates received before TSC vote
2021.03.16 02.00 CMCC, Intel Removal of UML code, and editorial updates during
TSC vote
2021.05.27 02.01.01 CMCC, Nokia Clean version with UML code
2021.06.15 02.01.02 CMCC,
Facebook,
ONF, AT&T,
VMware, Intel
Corporation,
Nokia,
Samsung,
Amdocs,
CommScope
Incorporated CRs:
FB.AO-2021.04.23-O-RAN-CR-1001-SDL
Subscribe Push-v01.docx
INT.AO-2021.05.04-WG3-CR-0004-RICARCH-
AIMLsupport_v2.docx
2021.10.12 02.01.03 CMCC,
VMWare,
Facebook,
AT&T, ONF,
AsiaInfo, Nokia
Incorporated CRs:
VMW.AO-2021.06.14-WG3-CR-0001-
E2NodeInfoProcedures-v04.docx
NOK-2021.08.27-WG3-CR-0003-RICARCH-
Database+SDL-v02.docx
Editorial fixes (left alignment, figure number
corrections, heading formats, typos, etc).
2021.11.08 02.01.04 CMCC, Intel
Corporation,
Nokia,
Facebook,
VMWare,
AT&T,
Samsung, CICT

Incorporated CRs:
CMCC-2021.10.14-WG3-CR-Editorial
improvement on the tabular description of the RIC
API procedure-v02.docx
CMCC-2021.10.14-WG3-CR-Clean-up of xApp
LCM aspects-v01.docx
INT.AO-2021.10.19-WG3-CR-0007-RICARCH-
RICsubs_delete-v3.docx
NOK-2021.09.29-WG3-CR-0004-RICARCH-
Adding Fault Management Procedures_v03.docx
NOK-2021.09.30-WG3-CR-0004-RICARCH-A1
services update-v06.docx
NOK.AO-2021.10.28-WG3-CR-0006-RICARCH-
RICAPIs-v05.docx
SAM-CICT-2021.10.11-WG3-CR-0001-
RICARCH_xApp_repository_function-v04.docx
  2
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
3
Contents   1
Revision History ................................................................................................................................................. 2 2
Foreword............................................................................................................................................................. 6 3
1 Scope ........................................................................................................................................................ 6 4
2 References ................................................................................................................................................ 6 5
3 Definitions and Abbreviations ................................................................................................................. 7 6
3.1 Definitions ......................................................................................................................................................... 7  7
3.2 Abbreviations ..................................................................................................................................................... 8  8
4 General Principles .................................................................................................................................... 9 9
5 Near-RT RIC Architecture ....................................................................................................................... 9 10
5.1 Requirements ..................................................................................................................................................... 9  11
5.1.1 Platform Requirements ................................................................................................................................. 9  12
5.1.2 xApp Requirements .................................................................................................................................... 10 13
5.1.3 Near-RT RIC API Requirements ............................................................................................................... 10 14
5.2 Overall Architecture Description ..................................................................................................................... 11 15
6 Near-RT RIC Functions Description ...................................................................................................... 11 16
6.1 General ............................................................................................................................................................. 11 17
6.2 Platform Functions ........................................................................................................................................... 12 18
6.2.1 Database and SDL ...................................................................................................................................... 12 19
6.2.1.1 UE-NIB ................................................................................................................................................ 12 20
6.2.1.2 R-NIB ................................................................................................................................................... 13 21
6.2.1.3 SDL ...................................................................................................................................................... 13 22
6.2.2 xApp Subscription Management ................................................................................................................ 13 23
6.2.3 Conflict Mitigation ..................................................................................................................................... 13 24
6.2.4 Messaging Infrastructure ............................................................................................................................ 14 25
6.2.5 Security ...................................................................................................................................................... 15 26
6.2.6 Management Services ................................................................................................................................ 15 27
6.2.6.1 Void ...................................................................................................................................................... 15 28
6.2.6.2 OAM Management of Near-RT RIC .................................................................................................... 15 29
6.2.7 Interface Termination ................................................................................................................................. 15 30
6.2.7.1 E2 Termination ..................................................................................................................................... 15 31
6.2.7.2 A1 Termination .................................................................................................................................... 16 32
6.2.7.3 O1 Termination .................................................................................................................................... 16 33
6.2.8 API Enablement ......................................................................................................................................... 16 34
6.2.9 AI/ML Support ........................................................................................................................................... 17 35
6.2.9.1 Data Pipeline ........................................................................................................................................ 17 36
6.2.9.2 Training ................................................................................................................................................ 17 37
6.2.10 xApp Repository Function ......................................................................................................................... 17 38
6.3 xApps ............................................................................................................................................................... 17 39
7 Near-RT RIC APIs ................................................................................................................................. 18 40
7.1 Overall Description .......................................................................................................................................... 18 41
7.1.1 Introduction ................................................................................................................................................ 18 42
7.1.2 Near-RT RIC API approaches .................................................................................................................... 19 43
7.1.3 Network API approach ............................................................................................................................... 21 44
7.1.4 SDK approach ............................................................................................................................................ 22 45
7.1.5 Near-RT RIC API support options ............................................................................................................. 22 46
7.2 A1 related APIs ................................................................................................................................................ 25 47
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
4
7.3 E2 related APIs ................................................................................................................................................ 26 1
7.4 Management APIs ........................................................................................................................................... 26 2
7.5 Void .................................................................................................................................................................  27 3
7.6 SDL APIs ......................................................................................................................................................... 27 4
7.7 Enablement APIs ............................................................................................................................................. 27 5
8 External Interfaces of Near-RT RIC ...................................................................................................... 27 6
8.1 E2 Interface ...................................................................................................................................................... 27 7
8.2 A1 Interface ..................................................................................................................................................... 28 8
8.3 O1 Interface ..................................................................................................................................................... 28 9
9 Near-RT RIC API Procedures ................................................................................................................ 28 10
9.1 Disclaimer ........................................................................................................................................................ 28 11
9.2 A1 related API Procedures .............................................................................................................................. 28 12
9.2.1 Introduction ................................................................................................................................................ 28 13
9.2.2 A1 Policy procedures .................................................................................................................................  29 14
9.2.2.1 A1 Policy Setup procedure ................................................................................................................... 29 15
9.2.2.2 A1 Policy Update procedure ................................................................................................................. 32 16
9.2.2.3 A1 Policy Delete procedure .................................................................................................................. 34 17
9.2.2.4 A1 Policy Query procedure .................................................................................................................. 36 18
9.2.2.5 A1 Policy Status Update procedure ...................................................................................................... 40 19
9.2.3 A1 Enrichment Information (EI) procedures ............................................................................................. 42 20
9.2.3.1 A1 EI Query procedure ......................................................................................................................... 42 21
9.3 E2 Related API Procedures .............................................................................................................................. 44 22
9.3.1 Introduction ................................................................................................................................................ 44 23
9.3.2 RIC functional procedures ......................................................................................................................... 45 24
9.3.2.1 E2 Subscription API procedure ............................................................................................................ 45 25
9.3.2.2 E2 Subscription Delete API Procedure .................................................................................................  52 26
9.3.2.3 E2 Indication API Procedure ................................................................................................................ 61 27
9.3.2.4 E2 Control API Procedure .................................................................................................................... 62 28
9.3.3 E2 Guidance API related procedures ......................................................................................................... 65 29
9.3.3.1 E2 Guidance request/response API procedure ...................................................................................... 65 30
9.3.3.2 E2 Guidance modification API procedure: xApp Subscription Management initiated  ........................ 67 31
9.3.3.3 E2 Guidance modification API procedure: message monitoring initiated ............................................ 69 32
9.3.3.4 E2 Guidance modification API procedure: Conflict Mitigation initiated ............................................. 71 33
9.4 Management API Procedures .......................................................................................................................... 73 34
9.4.1 xApp Registration procedure...................................................................................................................... 73 35
9.4.2 xApp Deregistration procedure .................................................................................................................. 75 36
9.4.3 xApp Configuration procedure ................................................................................................................... 75 37
9.5 SDL API Procedures ........................................................................................................................................ 76 38
9.5.1 SDL Client Registration procedure ............................................................................................................ 76 39
9.5.2 SDL Client Deregistration procedure ......................................................................................................... 77 40
9.5.3 Fetch Data procedure .................................................................................................................................  78 41
9.5.4 Subscribe/Notify procedure ........................................................................................................................ 79 42
9.5.5 Store Data procedure .................................................................................................................................. 80 43
9.5.6 Modify Data procedure .............................................................................................................................. 81 44
9.5.7 Subscribe/Push procedure .......................................................................................................................... 82 45
9.5.8 Use cases of SDL API ................................................................................................................................ 83 46
9.5.8.1 Subscribe/Notify for E2NodeInfo and E2NodeList .............................................................................. 83 47
9.5.8.2 Subscribe/Push for E2NodeInfo and E2NodeList ................................................................................ 85 48
9.6 API Enablement Procedures ............................................................................................................................ 86 49
9.6.1 Near-RT RIC API Discovery procedure .................................................................................................... 86 50
9.6.2 Procedures related to API Event Subscription and Notification.................................................................  88 51
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
5
9.6.2.1 Procedure for Event Subscription ......................................................................................................... 88 1
9.6.2.2 Procedure for Event Subscription Delete.............................................................................................. 89 2
9.6.2.3 Procedure for Event Notification .......................................................................................................... 90 3
Annex ZZZ: O-RAN Adopter License Agreement .......................................................................................... 92 4
Section 1: DEFINITIONS ................................................................................................................................................ 92 5
Section 2: COPYRIGHT LICENSE .................................................................................................................................  92 6
Section 3: FRAND LICENSE .......................................................................................................................................... 93 7
Section 4: TERM AND TERMINATION ........................................................................................................................ 93 8
Section 5: CONFIDENTIALITY ..................................................................................................................................... 93 9
Section 6: INDEMNIFICATION ..................................................................................................................................... 94 10
Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY .................................................................................... 94 11
Section 8: ASSIGNMENT ............................................................................................................................................... 94 12
Section 9: THIRD-PARTY BENEFICIARY RIGHTS .................................................................................................... 94 13
Section 10: BINDING ON AFFILIATES ........................................................................................................................ 94 14
Section 11: GENERAL ..................................................................................................................................................... 94 15
  16
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
6
Foreword 1
This Technical Specification has been produced by the O-RAN ALLIANCE. 2
The contents of the present document are subject to continuing work within O -RAN and may change following formal 3
O-RAN approval. Should the O-RAN Alliance modify the contents of the present document, it will be re-released by O-4
RAN with an identifying change of release date and an increase in version number  as follows: 5
Release xx.yy.zz 6
where: 7
xx the first digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, 8
etc. (the initial approved document will have xx=01). 9
yy the second digit is incremented when editorial only changes have been incorporated in the document.  10
zz the third digit included only in working versions of the document indicating incremental changes during the 11
editing process. 12
1 Scope 13
The present document specifies the overall Near-RT-RIC (Near-real-time RAN Intelligent Controller) architecture and 14
functionalities, including interaction between hosted applications and common functions in the Near-RT RIC platform. 15
 16
2 References 17
The following documents contain provisions which, through reference in this text, constitute provisions of the present 18
document. 19
- References are either specific (identified by date of publication, edition number, version number, etc.) or 20
non-specific. 21
- For a specific reference, subsequent revisions do not apply. 22
- For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including 23
a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same 24
Release as the present document. 25
[1] 3GPP TR 21.905: "Vocabulary for 3GPP Specifications". 26
[2] O- RAN-WG3.E2GAP, “O-RAN Working Group 3, Near-Real-time RAN Intelligent Controller, E2 General 27
Aspects and Principles”. 28
[3] O- RAN-WG3.E2AP, “O-RAN Working Group 3, Near-Real-time RAN Intelligent Controller, E2 29
Application Protocol (E2AP)”. 30
[4] O- RAN-WG10.OAM Architecture, “O-RAN Operations and Maintenance Architecture”. 31
[5] O- RAN-WG10.O1-Interface, “O-RAN Operations and Maintenance Interface Specification”. 32
[6] 3GPP TS 33.401: “3GPP System Architecture Evolution (SAE); Security architecture”.  33
[7] 3GPP TS 33.501: “Security architecture and procedures for 5G System”. 34
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
7
[8] O- RAN-WG2.A1.GA&P, “O-RAN Working Group 2, A1 interface: General Aspects and Principles”. 1
[9] O- RAN-WG2.A1AP, “O-RAN Working Group 2, A1 Interface: Application Protocol”. 2
[10] O- RAN-WG1.O-RAN Architecture, “O-RAN Working Group 1, O-RAN Architecture Description”. 3
[11] 3GPP TS 36.401: "Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Architecture 4
Description". 5
[12] 3GPP TS 38.300: “NR; NR and NG-RAN Overall Description; Stage 2”. 6
[13] 3GPP TS 37.324: “Evolved Universal Terrestrial Radio Access (E-UTRA) and NR; Service Data Adaptation 7
Protocol (SDAP) specification”. 8
[14] 3GPP TS 38.331: “NR; Radio Resource Control (RRC); Protocol specification”. 9
[15] 3GPP TS 38.323: “NR; Packet Data Convergence Protocol (PDCP) specification”. 10
[16] 3GPP TS 38.322: “NR; Radio Link Control (RLC) protocol specification”. 11
[17] 3GPP TS 38.321: “NR; Medium Access Control (MAC) protocol specification”. 12
[18] 3GPP TS 38.201: “NR; Physical layer; General description”. 13
[19] O- RAN-WG2.O-RAN Architecture, “O-RAN Working Group 2, AI/ML Workflow description and 14
Requirements”. 15
[20]  O- RAN.WG6.ORCH-USE-CASES, " Orchestration Use Cases and Requirements for O-RAN Virtualized 16
RAN". 17
3 Definitions and Abbreviations 18
3.1 Definitions 19
For the purposes of the present document, the terms and definitions given in TR 21.905 [1] and the following apply.   20
A term defined in the present document takes precedence over the definition of the same term, if any, in TR  21.905 [1]. 21
Near-RT RIC: O-RAN Near-Real-Time RAN Intelligent Controller: A logical function that enables near -real-time 22
control and optimization of RAN elements and resources via fine-grained data collection and actions over E2 interface. 23
Non-RT RIC: O-RAN Non-Real-Time RAN Intelligent Controller: A logical function within SMO that drives the 24
content carried across the A1 interface. It is comprised of the Non-RT RIC Framework and the Non-RT RIC 25
Applications. Please refer to [8] for more information. 26
O-CU-CP: O-RAN Central Unit – Control Plane: a logical node hosting RRC [14] and the control plane part of PDCP 27
protocol [15]. 28
O-CU-UP: O-RAN Central Unit – User Plane: a logical node hosting the user plane part of PDCP protocol [15] and 29
SDAP protocol [13]. 30
O-DU: O-RAN Distributed Unit: a logical node hosting RLC [16]/MAC [17]/High-PHY [18] layers based on a lower 31
layer functional split. 32
O-RU: O-RAN Radio Unit: a logical node hosting Low-PHY layer and RF processing based on a lower layer functional 33
split.  This is similar to 3GPP’s “TRP” or “RRH” but more specific in including the Low -PHY layer (FFT/iFFT, 34
PRACH extraction).   35
O-eNB: An eNB [10] or ng-eNB [11] that supports E2 interface. 36
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
8
O1: An interface between SMO and O-RAN managed elements, for operation and management, by which FCAPS 1
management, PNF (Physical Network Function) Software management, File management shall be achieved.  2
SMO: A Service Management and Orchestration system as described in [4]. 3
A1: An interface between Non-RT RIC and Near-RT RIC to enable policy-driven guidance of Near-RT RIC 4
applications/functions, and support AI/ML workflow. Please refer to [8] for more information. 5
E2: An interface connecting Near-RT RIC and one or more O-CU-CPs, one or more O-CU-UPs, or one or more O-6
DUs. 7
E2 Node: A logical node terminating E2 interface. In this version of the specification, O -RAN nodes terminating E2 8
interface are: 9
- for NR access: O-CU-CP, O-CU-UP, O-DU or any combination as defined in [4];  10
- for E-UTRA access: O-eNB. 11
xApp: An application designed to run on Near-RT RIC. It may consist of one or more microservices and at the point of 12
on-boarding it identifies which data it consumes and which data it provides. It is independent of Near-RT RIC and may 13
be provided by any third party. The E2 interface enables a direct association between xApp and RAN functionalities.   14
O-Cloud: O-Cloud is a cloud computing platform comprising a collection of physical infrastructure nodes that meet O -15
RAN requirements to host the relevant O-RAN functions (such as Near-RT RIC, O-CU-CP, O-CU-UP, and O-DU), the 16
supporting software components (such as Operating System, Virtual Machine Monitor, Container Runtime, etc.) and the 17
appropriate management and orchestration functions. 18
3.2 Abbreviations 19
For the purposes of the present document, the following abbreviations apply.  20
API Application Programming Interface 21
FM Fault Management 22
LCM Life-Cycle Management 23
ML Machine Learning 24
Non-RT RIC Non-real-time RAN Intelligent Controller: 25
Near-RT RIC Near-real-time RAN Intelligent Controller 26
O-CU-CP O-RAN Central Unit – Control Plane 27
O-CU-UP O-RAN Central Unit – User Plane 28
O-DU O-RAN Distributed Unit   29
O-RU O-RAN Radio Unit  30
PM Performance Management 31
R-NIB  Radio-Network Information Base 32
SCTP  Stream Control Transmission Protocol 33
SDL  Shared Data Layer 34
SMO Service Management and Orchestration 35
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
9
UE-NIB  UE-Network Information Base 1
4 General Principles 2
The architecture described herein follows the architecture principles specified in [2], and the following principle(s): 3
- The Near-RT RIC architecture and internal interfaces shall be open to support 3rd party xApps.  4
5 Near-RT RIC Architecture 5
5.1 Requirements 6
The architecture described herein fulfills the Near-RT RIC requirements specified in [2] and the following 7
requirement(s): 8
- Near-RT RIC shall consist of multiple xApps and a set of platform functions that are commonly used to support 9
the specific functions hosted by xApps. 10
5.1.1 Platform Requirements 11
- Near-RT RIC shall provide a database that stores an up-to-date RAN information, history of time-varying 12
network state, as well as configurations related to E2 Nodes, Cells, Bearers, Flows, UEs, etc., and the mapping 13
between them. This information shall be provided as a service to any xApp that requests it; 14
- Near-RT RIC shall provide AI/ML tools that support for data pipelining, training, and performance monitoring; 15
- Near-RT RIC shall provide a messaging infrastructure; 16
- Near-RT RIC shall provide logging, tracing and metrics collected from Near-RT RIC platform and xApps 17
toward SMO; 18
- Near-RT RIC shall provide security functions; 19
- Near-RT RIC shall support resolution of potential conflicts or overlaps of controls from xApps toward an E2 20
node; 21
- Near-RT RIC shall communicate with xApp(s) via Near-RT RIC APIs; 22
- Near-RT RIC shall register the Near-RT RIC APIs it produces; 23
- Near-RT RIC shall be capable of discovering the Near-RT RIC APIs it consumes; 24
- Near-RT RIC shall provide means to resolve compatibility clashes between xApps and the Near-RT RIC 25
services they access; 26
- Near-RT RIC shall support subscription merging from multiple xApps to avoid unnecessary network load; 27
- Near-RT RIC shall provide an O1 interface; 28
- Near-RT RIC shall be able to route A1 policy management messages to the registered xApps based on A1 policy 29
type and operator policies; 30
- Near-RT RIC shall control access of A1-EI types for xApps based on operator policies. 31
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
10
5.1.2 xApp Requirements 1
- xApp may enhance the RRM capabilities of Near-RT RIC; 2
- xApp may be associated with zero, one or more E2SMs; 3
- xApp shall use Near-RT RIC APIs to make use of the Information Elements (IEs) of E2SMs that are associated 4
with it; 5
- xApp that is associated with a given E2SM shall be able to interface with any E2 Node that supports that E2SM 6
without any intermediary xApp; 7
- xApp shall be able to receive event-triggered information on RAN information and time-varying network state.  8
- xApp shall provide collected logging, tracing and metrics information to Near-RT RIC; 9
- xApp shall provide a descriptor that includes the following basic information of the xApp: 10
- Configuration: It includes a data dictionary for configuration data, i.e., meta data such as a YANG definition 11
or a list of configuration parameters and their semantics. It may also include an initial configuration of xApp; 12
- Control: It includes the types of data that an xApp consumes and generates, in order to perform control 13
capabilities (e.g., xApp URL, parameters, input/output type); 14
- Metrics: It includes a list of metrics (e.g., metric name, type, unit and semantics) provided by the xApp.  15
- The xApp descriptor shall also provide the necessary data to enable management and orchestration  of the xApp, 16
aligned with [4]; 17
- xApps shall communicate with Near-RT RIC platform via Near-RT RIC APIs; 18
- xApp shall register the Near-RT RIC APIs it produces;  19
- xApp shall be capable of discovering the Near-RT RIC APIs they consume. 20
5.1.3 Near-RT RIC API Requirements 21
- Near-RT RIC shall provide APIs enabling the hosting of 3rd party xApps and xApps from the Near -RT RIC 22
platform vendor; 23
- Near-RT RIC APIs shall not adversely impact low-latency and high throughput operations of Near-RT RIC. 24
Specifically, the Near-RT RIC APIs shall support the Near-RT RIC control loop of execution time from 10 25
milliseconds to 1 second; 26
- Near-RT RIC shall provide APIs decoupled from specific implementation solutions, including a Shared Data 27
Layer (SDL) that works as an overlay for underlying databases and enables simplified data access ; 28
- Near-RT RIC shall provide an API repository/registry for the services provided by the Near-RT RIC platform 29
and/or xApps; 30
- Near-RT RIC shall provide means for xApps to discover the published APIs based on the xApps’ needs; 31
- Near-RT RIC shall provide means to restrict xApps from discovering some published APIs based on configured 32
policies; 33
- Near-RT RIC shall provide APIs enabling all xApps to directly use the information elements of E2SMs with 34
which they are associated; 35
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
11
- Near-RT RIC shall provide APIs aiming to simplify the development of xApps and enable rapid innovation; 1
- Near-RT RIC shall provide Near-RT RIC APIs supporting xApp development in multiple programming 2
languages (e.g. C, C++, Python, Go); 3
- Near-RT RIC APIs shall support xApp subscription management based on operators’ policies. An xApp may be 4
restricted to interface with only a subset of E2 Nodes by such policies. Near- RT RIC shall be responsible for 5
routing messages between this xApp and the subset of E2 Nodes. 6
NOTE: Communication between xApps is FFS.  7
 8
5.2 Overall Architecture Description 9
The overall O-RAN architecture specified in [10] describes the location and interfaces of Near-RT RIC, as well as 10
possible deployment options. 11
The RRM functional allocation between Near-RT RIC and E2 Node is described in [2]. 12
 13
6 Near-RT RIC Functions Description 14
6.1 General 15
Near-RT RIC hosts the following functions: 16
- Database, and related SDL (Shared Data Layer) services, which allows reading and writing of RAN/UE 17
information and other information required to support specific use cases; 18
- xApp subscription management, which merges subscriptions from different xApps and provides unified data 19
distribution to xApps; 20
- Conflict mitigation, which resolves potentially overlapping or conflicting requests from multiple xApps ; 21
- Messaging infrastructure, which enables message interaction amongst Near -RT RIC internal functions; 22
- Security, which provides the security scheme for xApps; 23
- Management services: 24
- Fault management, configuration management, and performance management as a service producer to SMO ; 25
- Logging, tracing and metrics collection, which capture, monitor and collect the status of Near -RT RIC 26
internals and can be transferred to external system for further evaluation. 27
- Interface Termination: 28
- E2 termination, which terminates E2 interface from an E2 Node; 29
- A1 termination, which terminates A1 interface from Non-RT RIC;  30
- O1 termination, which terminates O1 interface from SMO. 31
- Functions hosted by xApps, which allow services to be executed at Near- RT RIC and outcomes to be sent to E2 32
Nodes via E2 interface; 33
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
12
- API Enablement function supporting capabilities related to Near-RT RIC API operations (API 1
repository/registry, authentication, discovery, generic event subscription, etc. ); 2
- AI/ML support: 3
- Data pipelining, Training, and Performance monitoring for xApps. 4
- xApp Repository Function: 5
- Selection of xApps for A1 message routing based on A1 policy types and operator policies ; 6
- Access control of A1-EI types for xApps based on operator policies. 7
NOTE: The LCM of xApp is performed by SMO and O-Cloud as specified in [4] and [20]. 8
This is summarized in the figure below. 9
 10
Figure 6.1-1: Near-RT RIC Internal Architecture 11
 12
6.2 Platform Functions 13
6.2.1 Database and SDL 14
6.2.1.1 UE-NIB  15
The Near-RT RIC and some xApps may generate or access UE related information to be stored in the UE-NIB 16
database: 17

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
13
- UE-NIB maintains a list of UEs and associated data; 1
- UE-NIB maintains tracking and correlation of the UE identities associated with the connected E2 N odes. 2
6.2.1.2 R-NIB 3
The Near-RT RIC and some xApps may generate or access network related information to be stored in the R-NIB 4
database: 5
- The R-NIB stores the configurations and near real-time information relating to connected E2 Nodes and the 6
mappings between them. 7
6.2.1.3 SDL 8
The SDL (Shared Data Layer) is used by xApps to subscribe to database notification services and to read, write and 9
modify information stored on the database. UE-NIB, R-NIB and other use case specific information may be exposed 10
using the SDL services. 11
6.2.2 xApp Subscription Management 12
- xApp subscription management manages subscriptions from xApps to E2 Nodes ; 13
- xApp subscription management enforces authorization of policies controlling xApp access to messages ; 14
- xApp subscription management enables merging of identical subscriptions from different xApps into a single 15
subscription toward an E2 Node. 16
6.2.3 Conflict Mitigation 17
In the context of Near-RT RIC, Conflict Mitigation is about addressing conflicting interactions between different 18
xApps. An application will typically change one or more parameters with the objective of optimizing a specific metric. 19
Conflict Mitigation is necessary because xApps objectives may be chosen/configured such that they result in conflicting 20
actions.   21
The control target of the radio resource management can be a cell, a UE or a bearer, etc. The control contents of the 22
radio resource management can cover access control, bearer control, handover control, QoS control, resource 23
assignment and so on. The control time span indicates the valid control duration which is expected by the control 24
request. The conflicts of control can be illustrated as below. 25
1) Direct Conflicts: The conflicts can be observed directly by Conflict Mitigation. Some cases are described as 26
below:  27
- Two or more xApps request different settings for the very same configuration of one or more parameters of a 28
Control Target. Conflict mitigation processes the requests and decides on a resolution. 29
- The new request from an xApp may conflict with the running configuration resulting from a previous request 30
of another or the same xApp. 31
- The total requested resources from different xApps may exceed the limitation of the RAN system, e.g. the 32
sum of resources required by the two different xApps may be far beyond the resource limitation of the RAN 33
system.  34
2) Indirect Conflicts: The conflicts cannot be observed directly, nevertheless, some dependence among the 35
parameters and resources that the xApps target can be observed. Conflict Mitigation may anticipate the possible 36
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
14
conflicts and take actions to mitigate them. For instance, different xApps target different configuration 1
parameters to optimize the same metric according to the respective objective. Even though this will not result in 2
conflicting parameter settings, it may have uncontrollable or inadvertent system impacts. One example of such 3
indirect conflicts can occur when the changes required by one xApp create a system impact which is equivalent 4
to a parameter change targeted by another xApp. E.g., antenna tilts and m easurement offsets are different control 5
points, but they both impact the handover boundary. 6
3) Implicit Conflicts: The conflicts cannot be observed directly, even the dependence between xApps are not 7
obvious. For instance, different xApps may optimize different metrics and (re-)configure different parameters. 8
Nonetheless, optimizing one metric may have implicit, unwanted, and maybe adversary side effects on one of the 9
metrics optimized by another xApp. E.g., protecting throughput metrics for GBR users may degrade non -GBR 10
metrics or even cell throughput. 11
For mitigating these conflicts, different approaches exist: 12
1) Direct conflicts typically can be mitigated by pre-action coordination, i.e., the xApps or a Conflict Mitigation 13
component needs to make the final determination on whether any specific change is made, or in which order the 14
changes are applied. 15
2) Indirect conflicts can be resolved by post-action verification. Here, the actions are executed and the effects on 16
the target metric are observed. Based on the observations, the system has to decide on potential corrections, e.g., 17
rolling back one of the xApp actions. 18
3) Implicit conflicts are the most difficult to mitigate since these dependencies are difficult or impossible to observe 19
and therefore hard to model in any mitigation scheme. In some cases, it may be possible to design around such 20
conflicts by ensuring that use cases (xApps) target different parameters, thus falling back to approach 2), but 21
preferably, a generic approach to managing such conflicts is established. 22
The individual xApp goals are defined by A1 policies, but it is also important to define utility metrics that incorporate 23
the relative importance of each of the metrics targeted by the xApps as well as the importance of the optimization (use 24
case). A Conflict Mitigation function may also use ML approaches, e.g., Reinforcement Learning, to a-priori assess, for 25
each proposed change, the likely probability of degrading a metric versus the potential improvement.  26
6.2.4 Messaging Infrastructure 27
Messaging infrastructure provides low-latency message delivery service between Near-RT RIC internal endpoints.  28
- It supports registration/discovery/deletion of endpoints:  29
- Registration: Endpoints register themselves to the messaging infrastructure; 30
- Discovery: Endpoints are discovered by the messaging infrastructure initially and registered to the messaging 31
infrastructure; 32
- Deletion: Endpoints are deleted once they are not used anymore. 33
- It provides the following APIs: 34
- An API for sending messages to the messaging infrastructure; 35
- An API for receiving messages from the messaging infrastructure. 36
- It supports multiple messaging modes, e.g. point-to-point mode (e.g. message exchange among endpoints), 37
publish/subscribe mode (e.g. real-time data dispatching from E2 termination to multiple subscriber xApps) ; 38
- It provides message routing, namely according to the message routing information, messages can be dispatched 39
to different endpoints; 40
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
15
- It supports message robustness to avoid data loss during a messaging infrastructure outage/rest art or to release 1
resources from the messaging infrastructure once a message is outdated. 2
6.2.5 Security 3
The security function given in this section only applies to Near-RT RIC. One of the targets is to prevent malicious 4
xApps from abusing radio network information (e.g. exporting to unauthorized external systems) and/or control 5
capabilities over RAN functions. The security requirements for the 3GPP LTE eNB is defined in [6] and for the 5G NR 6
gNB in [7].  7
NOTE: The description of security functions is not included in the release. 8
6.2.6 Management Services 9
6.2.6.1 Void 10
6.2.6.2 OAM Management of Near-RT RIC 11
OAM management consists of fault, configuration, accounting, performance , file, security and other management plane 12
services. OAM management follows O1 related management aspects defined in [4]. 13
To support OAM management services, Near-RT RIC provides the following capabilities: 14
- Fault Management: The Near-RT RIC provides Near-RT RIC platform Fault Supervision MnS over the O1 15
interface as defined in [4]; 16
- Configuration management: The Near-RT RIC provides Near-RT RIC platform Provisioning MnS over the O1 17
interface as defined in [4]; 18
- Logging: logging is to capture information needed to operate, troubleshoot and report on the performance  of the 19
Near-RT RIC platform and its constituent components. Log records may be viewed and consumed directly by 20
users and systems, indexed and loaded into a data storage, and used to compute metrics and generate reports. 21
Near-RT RIC components log events according to a common logging format. Different logs can be generated 22
(e.g., audit log, metrics log, error log and debug log).  23
- Tracing: tracing mechanisms are needed to monitor the transactions or a workflow. An example subscription 24
workflow can be broken into two traces namely, a subscription request trace followed by a response trace. 25
Individual traces can be analysed to understand timing latencies as the workflow traverses a particular Near -RT 26
RIC component.  27
- Metrics collection: metrics for performance and fault management specific to each xApp logic and other internal 28
functions are collected and published for authorized consumer (e.g., SMO). A metrics collection mechanism is 29
needed to collect and report metrics.  30
6.2.7 Interface Termination 31
6.2.7.1 E2 Termination 32
- E2 Termination terminates SCTP connection from each E2 Node; 33
- E2 Termination routes messages from xApps through the SCTP connection to an  E2 Node; 34
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
16
- E2 Termination decodes the payload of an incoming ASN.1 message enough to determine mes sage type; 1
- E2 Termination handles incoming E2 messages related to E2 connectivity;  2
- E2 Termination receives and respond to the E2 Setup Request from an E2 Node;  3
- E2 Termination notifies xApps of the list of RAN functions supported by an E2 Node based on in formation 4
derived from the E2 Setup and RIC Service Update procedures [3];  5
- E2 Termination notifies the newly connected E2 Node of the list of accepted functions.  6
6.2.7.2 A1 Termination 7
A1 Termination provides a generic API by means of which Near-RT RIC can receive and send messages via A1 8
interface [8]. These include, e.g., A1 policies and enrichment information received from Non -RT RIC, or A1 policy 9
feedback sent towards Non-RT RIC. 10
6.2.7.3 O1 Termination 11
An implementation of O1 Termination at Near-RT RIC depends on the deployment options described in [4], i.e. when 12
Near-RT RIC is modelled as a stand-alone Managed Element.  13
O1 Termination communicates with SMO via O1 interface and exposes O1 -related management services [5] from Near-14
RT RIC. For the O1 management services (MnS) shown below, Near-RT RIC is the MnS producer and SMO is the MnS 15
consumer:  16
- O1 Termination exposes provisioning management services from Near -RT RIC to O1 provisioning management 17
service consumer; 18
- O1 Termination supports translation of O1 management services to Near-RT RIC internal APIs; 19
- O1 Termination exposes FM services to report faults and events from Near -RT RIC to O1 FM service consumer; 20
- O1 Termination exposes PM services to report bulk and real-time PM data from Near-RT RIC to O1 PM service 21
consumer; 22
- O1 Termination exposes file management services to download ML files, software files, etc. and upload 23
log/trace files to/from file MnS consumer; 24
- O1 Termination exposes communication surveillance services to O1 communication surveillance service 25
consumer.  26
6.2.8 API Enablement 27
In the context of Near-RT RIC, the Near-RT RIC APIs can be categorized based on the interaction with the Near-RT 28
RIC platform and can be related to E2-related services, A1-related services, Management services, and Database 29
services.  30
API Enablement provides support for registration, discovery and consumption of Near-RT RIC APIs within the Near-31
RT RIC scope. In particular, the API enablement services include: 32
- Repository / Registry services for the Near-RT RIC APIs; 33
- Services that allow discovery of the registered Near-RT RIC APIs; 34
- Services to authenticate xApps for use of the Near-RT RIC APIs; 35
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
17
- Services that enable generic subscription and event notification; 1
- Means to avoid compatibility clashes between xApps and the services they access. 2
The API enablement services can be accessed by the xApps via one or more enablement APIs.   3
NOTE: The provided enablement APIs may need to consider the level of trust related to the xApp (e.g. 3rd party xApp, 4
RIC-owned xApp, etc.). 5
6.2.9 AI/ML Support 6
6.2.9.1 Data Pipeline 7
The AI/ML data pipeline in Near-RT RIC offers data ingestion and preparation for applications (xApps).   8
The input to the AI/ML data pipeline may include E2 node data collected over E2 interface, enrichment information 9
over A1 interface, information from applications, and data retrieved from the Near -RT RIC database through the 10
messaging infrastructure. 11
The output of the AI/ML data pipeline may be provided to the AI/ML training capability in Near-RT RIC. 12
6.2.9.2 Training 13
The AI/ML training in Near-RT RIC offers training of applications (xApps) within Near-RT RIC [19]. The AI/ML 14
training provides generic and use case-independent capabilities to AI/ML-based applications that may be useful to 15
multiple use cases.  16
6.2.10 xApp Repository Function 17
- xApp Repository Function performs selection of xApps for A1 message routing based on policy type and 18
operator policies; 19
- xApp Repository Function provides the policy types supported in Near-RT RIC to the A1 termination function. 20
The supported policy types are based on policy types supported by the registered xApps and operator policies ; 21
- xApp Repository Function enforces xApp access control to requested A1-EI type based on operator policies.  22
 23
6.3 xApps 24
The xApps collaborate with the Near-RT RIC platform functions to support various specialized use cases.  25
Upon registration to the Near-RT RIC platform, an xApp informs the Near-RT RIC platform of its OAM and control 26
information to enable relevant functionalities.  27
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
18
7 Near-RT RIC APIs 1
7.1 Overall Description 2
7.1.1 Introduction 3
The Near-RT RIC APIs are a collection of well-defined interfaces providing Near-RT RIC platform services. These 4
APIs need to explicitly define the possible types of information flows and data models. The Near-RT RIC APIs are 5
essential to host 3rd party xApps in an inter-operable way on different Near-RT RIC platforms. 6
Near-RT RIC provides the following Near-RT RIC APIs for xApps as shown in Figure 7.1-1:  7
- A1 related APIs: APIs allowing to access A1 related functionality; 8
- E2 related APIs: APIs allowing to access E2 related functionality and associated xApp Subscription 9
Management and Conflict Mitigation functionality; 10
- Management APIs: APIs allowing to access management related functionality. They are used for services such 11
as O1 Termination and management services (logging, tracing, metrics collection, etc.);  12
- SDL APIs: APIs allowing to access Shared Data Layer related functionality; 13
- Enablement APIs: APIs between xApps and API enablement functionality. 14
xApp #n
O1 Termination / Management Service
E2 Termination / Conflict Mitigation / xApp Subscription
Management
Framework for Transactions on APIs
Near-RT RIC
xApps
E2 Related APIs
SDL APIs
A1 Related APIs
Management
 APIs
Shared Data Layer
xApp #2
xApp #1
……
API Enablement
Enablement
APIs A1 Termination
  15
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
19
Figure 7.1-1: Overview of Near-RT RIC APIs  1
7.1.2 Near-RT RIC API approaches 2
Near-RT RIC APIs may be implemented using two approaches: 3
- Network API approach: Each relevant Near-RT RIC endpoint exposes a network endpoint and specifies a 4
particular data encoding protocol and a network transport protocol that should be used to communicate with it. A 5
different network API may be specified for each RIC API reflecting a trade- off between different service 6
requirements. 7
- SDK approach: The Near-RT RIC vendor provides an SDK (software development kit). This SDK is a software 8
library which handles all connection management and exposes a simple API for the xApp to interact with the 9
Near-RT RIC. The interface between the SDK library embedded in the xApp and the Near -RT RIC Platform 10
may be either vendor proprietary or aligned to the specified Network API. 11
Both approaches use similar methodologies of interaction with Near-RT RIC as defined in sections 7.2-7.7 and chapter 12
9. Furthermore, the detailed messages and IEs for each RIC API that the xApp will use largely stay the same in the two 13
approaches.  14
These two approaches are presented in figure 7.1.2-1 for the Network API approach and figure 7.1.2-2 for the SDK 15
approach.   16
Both approaches assume that the Near-RT RIC platform provides appropriate support services. These services, labelled 17
“Network API support” and “SDK support” respectively in figures 7.1.2- 1 and 7.1.2-2, may be integrated into other 18
platform services (i.e. A1 Termination may provide the support services for A1 related RIC APIs) or implemented as 19
independent services. 20
 21
@startuml 22
card Near-RT-RIC { 23
 24
node xApp2 as "xApp" 25
node xApp1 as "xApp" 26
 27
frame Platform { 28
    agent Netsup as "Network API support"  29
    node Serv1 30
    node Serv2 31
    node Serv3 32
} 33
} 34
 35
xApp1 –- Netsup : “Network APIs” 36
xApp2 -– Netsup : “Network APIs” 37
Netsup -- Serv1 38
Netsup -- Serv2 39
Netsup -- Serv3 40
@enduml 41
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
20
 1
Figure 7.1.2-1: Near-RT RIC platform supporting RIC APIs using Network API approach 2
@startuml 3
card Near-RT-RIC { 4
 5
frame xApp2 { 6
    collections Logic2 as "Business Logic " 7
    agent SDK2 as "SDK library" 8
} 9
frame xApp1 { 10
    collections Logic1 as "Business Logic " 11
    agent SDK1 as "SDK library" 12
} 13
 14
frame Platform { 15
    agent SDKsup as "SDK support"  16
    node Serv1 17
    node Serv2 18
    node Serv3 19
} 20
} 21
Logic1 -- SDK1 : SDK APIs  22
Logic2 -- SDK2 : SDK APIs 23
SDK1 -- SDKsup : "Not specified" 24
SDK2 -- SDKsup : "Not specified" 25
SDKsup -- Serv1 26
SDKsup -- Serv2 27
SDKsup -- Serv3 28
@enduml 29

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
21
 1
Figure 7.1.2-2: Near-RT RIC platform supporting RIC APIs using SDK approach  2
7.1.3 Network API approach 3
A Network API is defined in terms of a protocol stack including the definition: 4
- An application layer protocol used to carry a set of messages which normally contain multiple Information 5
Elements (IEs); 6
- A data encoding protocol (ASN.1, Protobuf, JSON, etc.); 7
- A network transport protocol (SCTP, HTTPS, gRPC, etc.); 8
- Associated security and encryption methods. 9
For the Network API approach for Near-RT RIC APIs it is expected that each case listed in section 7.1.1 may require a 10
unique protocol stack definition which offers an optimal solution balancing the trade -offs between service requirements, 11
Near-RT RIC platform complexity and xApp implementation overheads.  12
Furthermore, each Network API will require a unique Near-RT RIC platform endpoint that the xApp will need to 13
discover using a combination of configuration and use of the Enablement API s (see section 7.7). 14
Open O-RAN specified Network APIs for each case listed in section 7.1.1 are defined in terms of the corresponding 15
protocol stack. 16

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
22
7.1.4 SDK approach 1
An SDK (Software development Kit) is defined as a set of software tools/libraries provided by platform vendors which 2
helps developers in building applications on the platform. An SDK simplifies application  development by:  3
- Providing simple APIs to trigger commonly used functionality; 4
- Handling routine management tasks “under the hood”; 5
- Providing tools for debugging, building, testing applications. 6
For the SDK approach for Near-RT RIC APIs, it is expected that a given Near-RT RIC vendor offers an SDK library 7
that provides a language specific implementation of each case listed in section 7.1.1. This provides a common interface 8
to interact with all the Near-RT RIC endpoints as well as other xApps. 9
The Near-RT RIC SDK library functionality would include:  10
- Discovery of relevant endpoints for and connection to Near-RT RIC platform services and other xApps. 11
- Handles all connection management of the xApp with all relevant Near-RT RIC platform endpoints as well as 12
other xApps. This includes: 13
- Authentication; 14
- Registration; 15
- Encryption/Decryption (if required); 16
- Failovers if any endpoint crashes. 17
- Presents a simple API as function definitions for sending/receiving messages; 18
- Provides tools for xApp debugging, building and testing. 19
These services would be provided by the SDK library and so would not be exposed to the business logic within an 20
xApp. 21
Open O-RAN specified SDK APIs for each case listed in section 7.1.1 would need to be defined for each supported 22
programming language. 23
The actual protocol stack implemented by the SDK library and used to communicate with the SDK support service in 24
the Near-RT RIC platform may be either based on the Network APIs or left not specified and so may be vendor 25
proprietary.  26
7.1.5 Near-RT RIC API support options 27
The two approaches to Near-RT RIC APIs are not necessarily mutually exclusive.   28
For example, an xApp designed to support the Network API approach may be implemented using either an internal 29
SDK library that provides the Network API interface or a direct implementation the Network API interface.  Both of 30
these cases are presented in figure 7.1.5-1. 31
@startuml 32
card Near-RT-RIC { 33
 34
frame xApp2 { 35
    collections Logic2 as "Business Logic " 36
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
23
    agent IF2 as "Network API client" 1
} 2
frame xApp1 { 3
    collections Logic1 as "Business Logic " 4
    agent SDK1 as "SDK library \nincluding Network API client" 5
} 6
frame Platform { 7
    agent Netsup as "Network API support"  8
    node Serv1 9
    node Serv2 10
    node Serv3 11
} 12
} 13
Logic1 -- SDK1 : SDK APIs  14
Logic2 -- IF2 #line.dashed 15
SDK1 -- Netsup : "Network APIs" 16
IF2 -– Netsup : "Network APIs" 17
Netsup -- Serv1 18
Netsup -- Serv2 19
Netsup -- Serv3 20
@enduml 21
 22

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
24
Figure 7.1.5-1: Near-RT RIC platform supporting RIC APIs using Network API approach with optional use of 1
SDK APIs 2
Likewise, a Near-RT RIC Platform may be designed to support both the Network API approach and the SDK approach 3
and so xApps implemented using either approach may access platform services. Both of these cases are presented in 4
figure 7.1.5-2. 5
@startuml 6
card Near-RT-RIC { 7
 8
frame xApp2 { 9
    collections Logic2 as "Business Logic " 10
    agent SDK2 as "SDK library" 11
} 12
frame xApp1 { 13
    collections Logic1 as "Business Logic " 14
    agent SDK1 as "SDK library \nincluding Network API client" 15
} 16
 17
frame Platform { 18
    agent Netsup as "Network API support"  19
    agent SDKsup as "SDK support"  20
    node Serv1 21
    node Serv2 22
    node Serv3 23
} 24
} 25
Logic1 -- SDK1 : SDK APIs  26
Logic2 -- SDK2 : SDK APIs 27
SDK1 -- Netsup : “Network APIs” 28
SDK2 –- SDKsup : "Not specified" 29
Netsup -- Serv1 30
Netsup -- Serv2 31
Netsup -- Serv3 32
SDKsup -- Serv1 33
SDKsup -- Serv2 34
SDKsup -- Serv3 35
@enduml 36
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
25
 1
Figure 7.1.5-2: Near-RT RIC platform supporting both Network API and SDK approaches 2
7.2 A1 related APIs 3
The xApps in Near-RT RIC provide value added services based on the policies or enrichment information or both which 4
are transferred through A1 interface by Non -RT RIC. A1 related APIs allow access to A1 related functionality, which 5
includes:  6
Policy Enforcement API: used for policy enforcement request/response. 7
- A1 Policy Setup (Request, Result); 8
- A1 Policy Update (Request, Result); 9
- A1 Policy Delete (Request, Result); 10
- A1 Policy Query (Request, Result); 11
- A1 Policy Status (Status, Ack). 12
Enrichment Information API: used for enrichment information transfer/response . 13
- A1 EI Query (Request, Result); 14

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
26
- A1 EI Job Setup (Request, Result); 1
- A1 EI Job Update (Request, Result); 2
- A1 EI Job Delete (Request, Result); 3
- A1 EI Job Status Query (Request, Result); 4
- A1 EI Job Status Notify (Status, Ack); 5
- A1 EI Job Result Delivery (Result, Ack). 6
7.3 E2 related APIs 7
The xApps in Near-RT RIC provide value added services using RIC functional mechanisms and related procedures via 8
E2 interface towards E2 Nodes. The E2 related APIs allow access to E2 related functionality and the associated xApp 9
Subscription Management and Conflict Mitigation functionality, which includes: 10
- E2 Subscription (Request, Reject/Success/Failure); 11
- E2 Subscription Delete (Request, Reject/Success/Failure, Required, Decline, Notify ); 12
- E2 Indication; 13
- E2 Control (Request, Reject/Success/Failure); 14
- E2 Guidance (Request, Response, Modification). 15
NOTE 1: Support for E2 messages related to E2 interface Support functions (E2 SETUP, RIC Service Update, etc.) is 16
FFS. 17
NOTE 2: Addition Conflict Mitigation related messages are FFS (i.e. for "analysis results"). 18
 19
7.4 Management APIs 20
The Management APIs include the following APIs, including the xApp’s ML Model related APIs and the FCAPS 21
related APIs.  22
The xApp’s ML Model related APIs include: 23
- ML Model Deployment Request; 24
- ML Model Update Request; 25
- ML Model Uninstall Request; 26
The FCAPS related APIs include:  27
- xApp Registration API: It supports an xApp to register to the Near-RT RIC platform after the xApp is deployed; 28
- xApp Deregistration API: It supports an xApp to deregister from the Near-RT RIC platform before the xApp is 29
terminated; 30
- Configuration API: It transfers configurations from SMO to an xApp;  31
- PM API: It supports an xApp to provide PM related data to the O1 PM Consumer;  32
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
27
- FM API: It supports an xApp to provide faults and events information to the O1 FM Consumer. 1
NOTE: Trace related API is FFS. 2
7.5 Void 3
Void 4
7.6 SDL APIs 5
The SDL API provides a simple yet flexible way to store and retrieve data while hiding details such as type and location 6
of database, management operations of database layer such as high availability, scaling, load- balancing. The SDL API 7
allows access to the following Shared Data Layer functionality: 8
- SDL Client Registration: allows xApps to request the SDL for permissions to access the database; 9
- SDL Client Deregistration: allows xApps to request the SDL to deregister; 10
- Fetch Data: allows xApps to fetch data from the database; 11
- Subscribe: allows xApps to subscribe to notifications or pushes related to updates of data; 12
- Notify: notifies xApps about updates of information in the database. When an update occurs, the SDL will send 13
notifications to those xApps that are subscribed to receive them; 14
- Push: When a subscribed update occurs in the database, the SDL will, in a single message, send push data and 15
information about the update to those xApps that subscribed to receive them; 16
- Store Data: allows xApps to store data in the database; 17
- Modify Data: allows xApps to modify or delete data from the database. 18
7.7 Enablement APIs 19
The Enablement APIs support exchange of API enablement related information between xApps and the API enablement 20
functionality.  21
The API enablement information includes: 22
- API Registration: enabling the API producer to register the APIs it produces; 23
NOTE: An investigation of services for which the API producer is the xApp is FFS. 24
- API Discovery: enabling discovery of the Near-RT RIC APIs by xApps; 25
- API-related Event Subscription: enabling subscription/un-subscription to API-related events and event 26
notifications. 27
8 External Interfaces of Near-RT RIC 28
8.1 E2 Interface  29
O-RAN-WG3.E2GAP [2] specifies E2 interface general aspects and principles. 30
O-RAN-WG3.E2AP [3] specifies E2 interface application protocols. 31
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
28
8.2 A1 Interface 1
O-RAN-WG2.A1.GA&P [8] specifies A1 interface general aspects and principles. 2
O-RAN-WG2.A1AP [9] specifies A1 interface application protocols. 3
8.3 O1 Interface 4
An implementation of O1 interface at Near-RT RIC depends on the deployment options described in [4], i.e. when 5
Near-RT RIC is modelled as a stand-alone Managed Element.  6
O-RAN-WG1.O1-Interface [5] specifies O1 interface related aspects. 7
9 Near-RT RIC API Procedures 8
9.1 Disclaimer 9
Procedures described in this section assume the Near-RT RIC platform contains the functions listed in section 6.2. 10
Termination points within the platform functions are for information and may vary depending on implementation. 11
9.2 A1 related API Procedures 12
9.2.1 Introduction 13
The following procedures are described in this section: 14
1) Policy Management Service.   15
In this case the A1 Service Producer role (A1AP [9] section 3.1) resides in the Near-RT RIC. 16
a) Non-RT RIC (A1 Service Consumer) originated procedures: 17
- Create Single Policy procedure (A1AP [9] section 3.2.2.2.2) using A1 Related API: A1 Policy Setup (request, 18
result); 19
- Query Single Policy procedure (A1AP [9] section 3.2.2.3.2) using A1 Related API: A1 Policy Query (request, 20
result); 21
- Query All Policy Identifiers procedure (A1AP [9] section 3.2.2.3.5) using A1 Related API: A1 Policy Query 22
(request, result); 23
- Query Policy Status procedure (A1AP [9] section 3.2.2.3.6) using A1 Related API: A1 Policy Query (request, 24
result); 25
- Update Single Policy procedure (A1AP [9] section 3.2.2.4.2) using A1 Related API: A1 Policy Update 26
(request, result); 27
- Delete Single Policy procedure (A1AP [9] section 3.2.2.5.2) using A1 Related API: A1 Policy Delete (request, 28
result); 29
- Query All Policy Type Identifiers procedure (A1AP [9] section 3.2.2.7.2) using A1 Related API: A1 Policy 30
Query (request, result); 31
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
29
- Query Single Policy Type procedure (A1AP [9] section 3.2.2.7.3) using A1 Related API: A1 Policy Query 1
(request, result). 2
b) Near-RT RIC (A1 Service Producer) originated procedures: 3
- Policy Status Update procedure (A1AP [9] section 3.2.2.6.2) using A1 Related API: A1 Policy Status (status, 4
ack). 5
2) A1AP Enrichment Information (EI) Service 6
In this case the A1 Service Producer role (A1AP [9] section 3.1) resides in the Non-RT RIC. 7
a) Near-RT RIC (A1 Service Consumer) originated procedures: 8
- Query EI Type Identifiers procedure (A1AP [9] section 3.3.2.2.2) using A1 Related API: A1 EI Query  9
(request, result); 10
- Query EI Type procedure (A1AP [9] section 3.3.2.2.3) using A1 Related API: A1 EI Query ( request, result); 11
- Query EI Job Identifiers procedure (A1AP [9] section 3.3.3.2.2) using A1 Related API: A1 EI Query  (request, 12
result); 13
- Create EI Job procedure (A1AP [9] section 3.3.3.3.2) using A1 Related API: A1 EI Job Setup (request, result); 14
- Query EI Job procedure (A1AP [9] section 3.3.3.3.3) using A1 Related API: A1 EI Query (request, result); 15
- Update EI Job procedure (A1AP [9] section 3.3.3.3.4) using A1 Related API: A1 EI Job Update  (request, 16
result); 17
- Delete EI Job procedure (A1AP [9] section 3.3.3.3.5) using A1 Related API: A1 EI Job Delete (request, 18
result); 19
- Query EI Job Status procedure (A1AP [9] section 3.3.3.4.2) using A1 Related API: A1 EI Jo b Status Query 20
(request, result). 21
b) Non-RT RIC (A1 Service Producer) originated procedures: 22
- Notify EI Job Status procedure (A1AP [9] section 3.3.3.4.3) using A1 Related API: A1 EI Job Status  Notify 23
(status, ack); 24
- Deliver EI Job Result procedure (A1AP [9] section 3.3.4.2.2) using A1 Related API: A1 EI Job Result 25
Delivery (result, ack). 26
9.2.2 A1 Policy procedures 27
9.2.2.1 A1 Policy Setup procedure 28
The purpose of A1 Policy Setup procedure in Near-RT RIC is to support the A1AP Create Single Policy procedure from 29
the non-RT RIC and to request and activate an A1 policy enforcement toward a suitable xApp. 30
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
30
Use Case Stage Evolution / Specification
Goal The activation of a received but not activated A1 policy in Near-RT RIC.
Actors and Roles
- Non-RT RIC: originator of HTTP PUT request to activate an A1 policy;
- xApp: responsible for the enforcement of assigned A1 policies;
- Near-RT RIC platform:
- A1 Termination: originator of A1 related API request to activate an A1 policy;
- xApp Repository Function: handling of A1 policy mapping to xApp.
Assumptions
- A1 policy types supported in Near-RT RIC are accessible by A1 termination;
- A1 policies created in Near-RT RIC are accessible by A1 termination;
- xApp selection needed information is accessible by xApp Repository Function. xApp
selection process is performed at xApp Repository Function.
Pre conditions - Near-RT RIC is running normally;
- A1 interface is connected and activated.
Begins when Non-RT RIC determines to trigger the activation of one A1 policy towards the Near-RT RIC.
Step 1 (M) Non-RT RIC requests Near-RT RIC to set up an A1 policy.
Step 2 (M)  A1 Termination checks whether the received policy type is supported in Near-RT RIC or not.
 [ALT] Step 3 is executed if the received policy type is not supported in Near-RT RIC:
Step 3 (M) A “400” response is directly returned to Non-RT RIC.
 [ELSE] Steps 4-14 are executed if the received policy type is supported in Near-RT RIC:
Step 4 (M) A1 Termination then checks whether the received A1 policy is mapped to any xApp or not.
Step 5
[Informative]
(NOTE 1) If the received A1 policy is not mapped to any xApp, A1 Termination triggers xApp
selection procedure to identify a suitable xApp by sending xApp SELECTION REQUEST to
xApp Repository Function. The message includes at least A1 policy received from Non-RT
RIC.
Step 6
[Informative] xApp selection process is performed at xApp Repository Function.
 [ALT] Steps 7-12 are executed if one or more suitable xApps are identified:
Step 7
[Informative] Candidate xApps are notified to A1 Termination.
Step 8 (M)
A1 Termination selects a suitable one from candidate xApps as the target of A1 related
API: A1 POLICY SETUP REQUEST message. The message includes at least the
corresponding A1 policy received from Non-RT RIC.
 [ALT] Steps 9-10 are executed if the selected xApp accomplishes setup of the A1 policy:
Step 9-10 (M) A success is notified to A1 termination in A1 related API: A1 POLICY SETUP
RESULT message, and eventually to Non-RT RIC.
 [ELSE] Steps 11-12 are executed if the selected xApp fails to set up the A1 policy:
Step 11-12 (M) A failure is notified to A1 termination in A1 related API: A1 POLICY SETUP RESULT
message, and eventually to Non-RT RIC.
 [ELSE] Steps 13-14 are executed if no suitable xApps is identified:
Step 13-14 (M)  A failure is notified to A1 termination [Informative]. A “503” response is directly
returned to Non-RT RIC.
NOTE 1: The create policy and update policy procedure in A1 interface has the identical HTTP PUT Request, so when
a HTTP PUT Request is received, A1 Termination cannot decide whether it’s asked for create or update from a first
glance. Only after further policy mapping check to find out the enforcement status of the received A1 policy, can the
purpose of the received HTTP PUT request be identified. If the received A1 policy is not mapped to any xApp, A1
Termination triggers A1 Policy Setup procedure as shown here. Otherwise, A1 Termination triggers A1 Policy Update
procedure. See 9.2.2.2 for details.
@startuml 1
skinparam ParticipantPadding 4 2
skinparam BoxPadding 8 3
skinparam defaultFontSize 12 4
 5
Participant ric as “Non-RT RIC” 6
 7
Box “Near-RT RIC Platform” 8
    Participant aot as “A1 Termination” 9
    Participant rf as “xApp Repository Function” 10
End box 11
Participant ap as “xApp” 12
 13
autonumber 14
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
31
ric -> aot:<<A1AP>>PUT .../policytypes/{policyTypeId}/policies/{policyId}(PolicyObject) 1
aot<-aot: policy type check 2
 3
alt policy type is not supported in Near-RT RIC 4
  aot -> ric:<<A1AP>>400 5
else policy type is supported in Near-RT RIC 6
  aot->aot: policy mapping check: not mapped 7
  aot -> rf:xApp SELECTION REQUEST\n[A1 policy] 8
  rf->rf:xApp selection process 9
 10
  alt suitable xApp is identified 11
    rf ->aot:xApp SELECTION RESULT\n[success, candidate xApp(s)] 12
    aot -> ap:A1 POLICY SETUP REQUEST 13
     14
    alt success 15
      ap -> aot:A1 POLICY SETUP RESULT\n[success] 16
      aot -> ric:<<A1AP>>201 Created(PolicyObject) 17
    else failure 18
      ap -> aot: A1 POLICY SETUP RESULT \n[failure, reason] 19
      aot -> ric:<<A1AP>>error code xxx 20
    end 21
     22
  else no suitable xApp is identified 23
    rf ->aot:xApp SELECTION RESULT\n[failure, no candidate xApp] 24
    aot -> ric:<<A1AP>>503 25
  end 26
 27
end 28
... 29
@enduml 30
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
32
 1
Figure 9.2.2.1-1 A1 Policy Setup procedure 2
9.2.2.2 A1 Policy Update procedure 3
The purpose of A1 Policy Update procedure in Near -RT RIC is to support A1AP Update Single Policy procedure from 4
Non-RT RIC. 5
Near-RT RIC Platform
Non-RT RIC
Non-RT RIC
A1 T ermination
A1 T ermination
xApp Repository Function
xApp Repository Function
xApp
xApp
1 <<A1AP>>PUT .../policytypes/{policyT ypeId}/policies /{policyId}(PolicyObject)
2 policy type check
alt [policy type is not supported in Near-RT RIC]
3 <<A1AP>>400
[policy type is supported in Near-RT RIC]
4 policy mapping check : not mapped
5 xApp SELECTION REQUEST
[A1 policy]
6 xApp selection process
alt [suitable xApp is identified]
7 xApp SELECTION RESULT
[success , candidate xApp(s)]
8 A1 POLICY SETUP REQUEST
alt [success]
9 A1 POLICY SETUP RESULT
[success ]
10 <<A1AP>>201 Created(PolicyObject)
[failure]
11 A1 POLICY SETUP RESULT
[failure, reason ]
12 <<A1AP>>error code xxx
[no suitable xApp is identified]
13 xApp SELECTION RESULT
[failure, no candidate xApp]
14 <<A1AP>>503
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
33
Use Case Stage Evolution / Specification
Goal The update of a received and already activated A1 policy in Near-RT RIC.
Actors and Roles
- Non-RT RIC: originator of HTTP PUT request to update an A1 policy;
- xApp: responsible for the enforcement of assigned A1 policies;
- Near-RT RIC platform:
- A1 Termination: originator of A1 related API request to update a A1 policy.
Assumptions - A1 policy types supported in Near-RT RIC are accessible by A1 termination;
- A1 policies created in Near-RT RIC are accessible by A1 termination.
Pre conditions - Near-RT RIC is running normally;
- A1 interface is connected and activated.
Begins when Non-RT RIC determines to trigger the update of one A1 policy towards the Near-RT RIC.
Step 1 (M) Non-RT RIC requests Near-RT RIC to update an A1 policy.
Step 2 (M)  A1 Termination checks whether the received policy type is supported in Near-RT RIC or not.
 [ALT] Step 3 is executed if the received policy type is not supported in Near-RT RIC:
Step 3 (M) A “400” response is directly returned to Non-RT RIC.
 [ELSE] Steps 4-9 are executed if the received policy type is supported in Near-RT RIC:
Step 4 (M) A1 Termination then checks whether the received A1 policy is mapped to any xApp or not.
Step 5 (M)
(NOTE 1) If the received A1 policy is already mapped to one xApp, A1 Termination selects
which as the target of A1 related API: A1 POLICY UPDATE REQUEST message. The
message includes at least the corresponding A1 policy received from Non-RT RIC.
 [ALT] Steps 6-7 are executed if the target xApp accomplishes update of the A1 policy:
Step 6-7 (M) A success is notified to A1 termination in A1 related API: A1 POLICY UPDATE RESULT
message, and eventually to Non-RT RIC.
 [ELSE] Steps 8-9 are executed if the target xApp fails to update the A1 policy:
Step 8-9 (M) A failure is notified to A1 termination in A1 related API: A1 POLICY UPDATE RESULT
message, and eventually to Non-RT RIC.
NOTE 1: The create policy and update policy procedure in A1 interface has the identical HTTP PUT Request, so when
a HTTP PUT Request is received, A1 Termination cannot decide whether it’s asked for create or update from a first
glance. Only after further policy mapping check to find out the enforcement status of the received A1 policy, can the
purpose of the received HTTP PUT request be identified. If the received A1 policy is already mapped to an xApp, A1
Termination triggers A1 Policy Update procedure as shown here. Otherwise, A1 Termination triggers A1 Policy Setup
procedure. See 9.2.2.1 for details.
 1
@startuml 2
skinparam ParticipantPadding 3 3
skinparam BoxPadding 6 4
skinparam defaultFontSize 12 5
 6
    Participant ric as “Non-RT RIC” 7
Box “Near-RT RIC Platform” 8
    Participant aot as “A1 Termination” 9
End box 10
Participant ap as “xApp” 11
 12
 13
autonumber 14
ric -> aot:<<A1AP>>PUT .../policytypes/{policyTypeId}/policies/{policyId}(PolicyObject) 15
aot<-aot: policy type check 16
alt policy type is not supported in Near-RT RIC 17
  aot -> ric:<<A1AP>>400 18
else policy type is supported in Near-RT RIC 19
  aot -> aot: policy mapping check: mapped 20
  aot -> ap:A1 POLICY UPDATE REQUEST 21
 22
  alt success 23
    ap -> aot:A1 POLICY UPDATE RESULT\n[success] 24
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
34
    aot -> ric:<<A1AP>>200 OK(PolicyObject) 1
  else failure 2
    ap -> aot:A1 POLICY UPDATE RESULT\n[failure, reason] 3
    aot -> ric:<<A1AP>>error code xxx 4
  end 5
 6
end 7
... 8
@enduml 9
 10
Figure 9.2.2.2-1 A1 Policy Update procedure 11
9.2.2.3 A1 Policy Delete procedure 12
The purpose of A1 Policy Delete procedure is to support the A1AP Delete Policy procedure from Non-RT RIC. 13
Use Case Stage Evolution / Specification
Goal The deactivation of a received and already activated A1 policy in Near-RT RIC.
Actors and Roles
- Non-RT RIC: originator of HTTP DELETE request to deactivate an A1 policy;
- xApp: responsible for the deactivation of created A1 policies;
- Near-RT RIC platform:
- A1 Termination: originator of A1 related API request to delete an A1 policy.
Assumptions - A1 policy types supported in Near-RT RIC are accessible by A1 termination;
- A1 policies created in Near-RT RIC are accessible by A1 termination.
Pre conditions - Near-RT RIC is running normally.
- A1 interface is connected and activated.
Begins when Non-RT RIC determines to trigger the deactivation of one A1 policy towards the Near-RT RIC.
Step 1 (M) Non-RT RIC requests Near-RT RIC to delete an A1 policy.
Near-RT RIC Platform
Non-RT RIC
Non-RT RIC
A1 T ermination
A1 T ermination
xApp
xApp
1 <<A1AP>>PUT .../policytypes/{policyT ypeId}/policies /{policyId}(PolicyObject)
2 policy type check
alt [policy type is not supported in Near-RT RIC]
3 <<A1AP>>400
[policy type is supported in Near-RT RIC]
4 policy mapping check : mapped
5 A1 POLICY UPDA TE REQUEST
alt [success]
6 A1 POLICY UPDA TE RESULT
[success ]
7 <<A1AP>>200 OK(PolicyObject)
[failure]
8 A1 POLICY UPDA TE RESULT
[failure, reason ]
9 <<A1AP>>error code xxx
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
35
Step 2 (M)  A1 Termination checks whether the received policy type is supported in Near-RT RIC or not.
 [ALT] Step 3 is executed if the received policy type is not supported in Near-RT RIC:
Step 3 (M) A “400” response is directly returned to Non-RT RIC.
 [ELSE] Steps 4-10 are executed if the received policy type is supported in Near-RT RIC:
Step 4 (M) A1 Termination then checks whether the received A1 policy is mapped to any xApp or not.
 [ALT] Steps 5-9 are executed if the received A1 policy is already mapped to one xApp:
Step 5 (M)
A1 Termination selects which as the target of A1 related API: A1 POLICY DELETE
REQUEST message. The message includes at least the corresponding A1 policy ID
received from Non-RT RIC.
 [ALT] Steps 6-7 are executed if the target xApp accomplishes deletion of the A1 policy:
Step 6-7 (M) A success is notified to A1 termination in A1 related API: A1 POLICY DELETE
RESULT message, and eventually to Non-RT RIC.
 [ELSE] Steps 8-9 are executed if the target xApp fails to delete the A1 policy:
Step 8-9 (M) A failure is notified to A1 termination in A1 related API: A1 POLICY DELETE
RESULT message, and eventually to Non-RT RIC.
 [ELSE] Step 10 is executed if the received A1 policy is not mapped to any xApp:
Step 10 (M) A “503” response is directly returned to Non-RT RIC.
 1
@startuml 2
skinparam ParticipantPadding 3 3
skinparam BoxPadding 6 4
skinparam defaultFontSize 12 5
 6
Participant ric as “Non-RT RIC” 7
Box “Near-RT RIC Platform” 8
    Participant aot as “A1 Termination” 9
End box 10
Participant ap as “xApp” 11
 12
 13
autonumber 14
ric -> aot:<<A1AP>>DELETE .../policytypes/{policyTypeId}/policies/{policyId} 15
aot<-aot: policy type check 16
alt policy type is not supported in Near-RT RIC 17
  aot -> ric:<<A1AP>>400 18
else policy type is supported in Near-RT RIC 19
  aot -> aot: policy mapping check 20
 21
  alt policy mapped 22
    aot -> ap:A1 POLICY DELETE REQUEST 23
    alt success 24
      ap -> aot:A1 POLICY DELETE RESULT\n[success] 25
      aot -> ric:<<A1AP>>204 No content 26
    else failure 27
      ap -> aot:A1 POLICY DELETE RESULT\n[failure, reason] 28
      aot -> ric:<<A1AP>>error code xxx   29
    end 30
 31
  else policy not mapped 32
    aot -> ric:<<A1AP>>503 33
  end 34
 35
end 36
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
36
... 1
@enduml 2
 3
Figure 9.2.2.3-1 A1 Policy Delete procedure 4
9.2.2.4 A1 Policy Query procedure 5
The purpose of A1 Policy Query procedure is to support the following A1AP procedures initiated by the Non-RT RIC: 6
- A1AP Query Single Policy procedure; 7
- A1AP Query All Policy Identifiers procedure; 8
- A1AP Query Policy Status procedure; 9
- A1AP Query All Policy Type Identifiers procedure; 10
- A1AP Query Single Policy Type procedure. 11
Table 9.2.2.4-1 provides the list of expected xApp response for each Near-RT RIC Platform Policy query. The query 12
may come from Near-RT platform or from the Non-RT RIC. 13
Near-RT RIC Platform
Non-RT RIC
Non-RT RIC
A1 T ermination
A1 T ermination
xApp
xApp
1 <<A1AP>>DELETE .../policytypes/{policyT ypeId}/policies /{policyId}
2 policy type check
alt [policy type is not supported in Near-RT RIC]
3 <<A1AP>>400
[policy type is supported in Near-RT RIC]
4 policy mapping check
alt [policy mapped]
5 A1 POLICY DELETE REQUEST
alt [success]
6 A1 POLICY DELETE RESULT
[success ]
7 <<A1AP>>204 No content
[failure]
8 A1 POLICY DELETE RESULT
[failure, reason ]
9 <<A1AP>>error code xxx
[policy not mapped]
10 <<A1AP>>503
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
37
Table 9.2.2.4-1: Supported A1AP Policy Query procedures 1
Query procedure Platform Request xApp Response
Query Single Policy URI containing policyId PolicyObject
Query All Policy Identifiers URI containing policyTypeId list of current policyId
Query Status URI containing policyId PolicyStatusObject
Query All Policy Type Identifiers URI list of currently supported PolicyTypeId
Query Single Policy Type URI containing PolicyTypeId PolicyTypeObject
 2
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
38
Use Case Stage Evolution / Specification
Goal
To obtain from an xApp information concerning A1 Policies, outcome depends on nature of
Request:
- Query Single Policy: xApp provides PolicyObject for a given policyId;
- Query All Policy Identifiers: xApp provides the list of current policyId for a given policyTypeId;
- Query Status: xApp provides current PolicyStatusObject for a given policyId;
- Q uery All Policy Type Identifiers: xApp provides list of currently supported PolicyTypeId;
- Query Single Policy Type: xApp provides PolicyTypeObject of a given PolicyTypeId.
Actors and Roles
- Non-RT RIC: originator of query using HTTP GET request;
- xApp: provides appropriate response corresponding to nature of request;
- Near-RT RIC platform:
- A1 Termination: routes incoming A1AP request to one or more xApp, combines response
from one or more xApp to build A1AP response;
- xApp Repository Function: provides A1T with list of appropriate xApps to handle request.
Assumptions
- xApp selection needed information is accessible by xApp Repository Function. xApp
selection process is performed at xApp Repository Function;
- A1 Termination may store information that was previously obtained from the xApp Repository
Function;
- xApp Repository Function may hold information related to Policy Query procedures.
Pre conditions - Near-RT RIC is running normally;
- A1 interface is connected and activated.
Begins when Non-RT RIC determines need to trigger A1 query towards the Near-RT RIC.
Step 1 (M) Non-RT RIC sends to Near-RT RIC one of the A1AP Policy Management service related Query
procedures.
Step 2
[Informative] A1 Termination inspects content of HTTP GET to determine nature of Query.
Step 3
[Informative]
A1 Termination checks whether the received A1 policy management service query is mapped to
any xApp or not.
 [OPT] Steps 4-7 may be executed if the received A1 policy management service query is not
mapped to any xApp:
Step 4
{informative]
A1 Termination triggers xApp selection procedure to identify a suitable xApp by sending
xAPP SELECTION REQUEST to xApp Repository Function. The message includes at least
A1 policy query received from Non-RT RIC.
Step 5
[Informative] xApp selection process is performed at xApp Repository Function.
Step 6-7
[Informative]
If one or more suitable xApps are identified, candidate xApps are notified to A1 Termination.
Response may contain information held by xApp Repository Function concerning A1 Policy
query.
 [LOOP] Steps 8-11 are looped for each xApp selected by A1 Termination
Step 8 (O)
A1 Termination may send A1 related API: A1 POLICY QUERY REQUEST message. The
message includes at least the corresponding A1 policy management service query resource
URI received from Non-RT RIC.
Step 9-10 (O)
If the selected xApp(s) accomplishes the A1 policy management service query, a success is
notified to A1 termination in A1 related API: A1 POLICY QUERY RESULT message. A1
Termination may forward result to xApp Repository Function for storage.
Step 11 (O) If the selected xApp(s) fails to treat the A1 policy management service query, a failure is
notified to A1 termination in A1 related API: A1 POLICY QUERY RESULT message.
Step 12
[Informative]
A1 Termination collects the responses from each xApp and/or from xApp Repository Function
and consolidates into a response to Non-RT RIC.
Step 13 (M) If A1 policy query response available, A1 Termination sends the appropriate A1AP Policy
Management Service response to Non-RT RIC.
Step 14 (M) If A1 policy query response not available, A1 Termination sends the appropriate A1AP Policy
Management Service error to Non-RT RIC (A1AP [9] section 4.2.7.3).
Step 15 (O)
Depending upon the nature of the previous A1AP Policy Management Service query and the
response from the Near-RT RIC, the Non-RT RIC may initiate a subsequent A1AP Policy
Management Service query.
@startuml 1
skinparam ParticipantPadding 4 2
skinparam BoxPadding 8 3
skinparam defaultFontSize 12 4
 5
Participant NON as “Non-RT RIC” 6
 7
Box “Near-RT RIC Platform” 8
    Participant A1T as “A1 Termination” 9
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
39
    Participant XRF as “xApp Repository Function” 1
End box 2
Collections XAPP as “xApp” 3
 4
autonumber 5
NON -> A1T:<<A1AP>>GET (URI) 6
A1T->A1T: Inspect URI to determine nature of query 7
A1T->A1T: Query mapping check 8
opt Optional: A1 Termination consults xApp Repository Function 9
  A1T -> XRF: xApp SELECTION REQUEST\n[A1 policy query, URI] 10
  XRF->XRF : xApp selection process \nRecall stored information 11
  alt Suitable xApp(s) identified 12
    XRF -> A1T: xApp SELECTION RESULT\n[success, candidate xApp(s), stored information] 13
  else No suitable xApp identified 14
    XRF -> A1T: xApp SELECTION RESULT\n[failure, no candidate xApp] 15
  end 16
end 17
loop For each xApp selected by A1 Termination 18
  A1T -> XAPP: A1 POLICY QUERY REQUEST (URI) 19
  alt Success 20
    XAPP -> A1T: A1 POLICY QUERY RESULT\n[success, result]   21
    A1T --> XRF: xApp Policy query information 22
  else Failure 23
    XAPP -> A1T: A1 POLICY QUERY RESULT \n[failure, reason] 24
  end 25
end 26
A1T->A1T: Consolidate responses 27
alt Response available 28
  A1T -> NON: <<A1AP>> 200 OK (response) 29
else Response not available 30
    A1T ->NON: <<A1AP>>Error code 31
end 32
NON-->NON: Determine if subsequent query is required 33
@enduml 34
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
40
 1
Figure 9.2.2.4-1 A1 Policy Query procedure 2
9.2.2.5 A1 Policy Status Update procedure 3
The purpose of A1 Policy Status Update procedure in Near-RT RIC is to support the A1AP Policy Status Update 4
procedure (A1AP [9] section 3.2.2.6) from the Near-RT RIC. 5

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
41
Use Case Stage Evolution / Specification
Goal The activation of a received but not activated A1 policy in Near-RT RIC.
Actors and Roles
- Non-RT RIC: receives the HTTP POST containing PolicyStatusObject;
- xApp: originator of the PolicyStatusObject content to be sent to Non-RT RIC;
- Near-RT RIC platform:
- A1 Termination: forwards the PolicyStatusObject from xApp using A1AP Policy Status
Update procedure.
Assumptions
- A1 policy types supported in Near-RT RIC are accessible by A1 termination;
- A1 policies created in Near-RT RIC are accessible by A1 termination;
- xApp selection needed data is accessible by xApp Repository Function. xApp selection
process is performed at xApp Repository Function.
Pre conditions - Near-RT RIC is running normally;
- A1 interface is connected and activated.
Begins when xApp determines need to trigger the A1 policy status update to be sent to the Non-RT RIC.
Step 1 (M) xApp sends A1 related API: A1 POLICY STATUS UPDATE (PolicyStatusObject information
encoded as A1TD) message to A1 termination.
 [ALT] Step 2 is executed if A1 Termination rejects request:
Step 2 (M) A1 Termination sends A1 Related POLICY STATUS UPDATE (Error) to xApp.
 [ELSE] Step 3-5 are executed if A1 Termination accepts request:
Step 3 (M) A1 Termination forwards content within A1AP Policy Status Update message.
Step 4-5 (M) Non-RT RIC sends A1AP acknowledgement, and A1 Termination forwards to xApp using A1
Related POLICY STATUS UPDATE (Ack).
@startuml 1
skinparam ParticipantPadding 4 2
skinparam BoxPadding 8 3
skinparam defaultFontSize 12 4
 5
Participant NON as “Non-RT RIC” 6
 7
Box “Near-RT RIC Platform” 8
    Participant A1T as “A1 Termination” 9
    Participant XRF as “xApp Repository Function” 10
End box 11
Collections XAPP as “xApp” 12
 13
autonumber 14
XAPP -> A1T: A1 POLICY STATUS UPDATE (PolicyStatusObject) 15
Alt If A1 Termination rejects message from xApp 16
  A1T --> XAPP: A1 POLICY STATUS UPDATE (error) 17
Else IF A1 Termination accepts message from xApp 18
  A1T -> NON: <<A1AP>>POST (PolicyStatusObject) 19
  NON->A1T: <<A1AP>> 204 (No content) 20
  A1T-> XAPP: A1 POLICY STATUS UPDATE (Ack) 21
End 22
@enduml 23
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
42
 1
Figure 9.2.2.5-1 A1 Policy Status Update procedure 2
 3
9.2.3 A1 Enrichment Information (EI) procedures 4
9.2.3.1 A1 EI Query procedure 5
The purpose of A1 EI Query procedure is to support the following A1AP procedures initiated by the Near-RT RIC: 6
- Query EI Type Identifiers procedure;  7
- Query EI Type procedure;  8
- Query EI Job Identifiers procedure;  9
- Query EI Job procedure; 10
- Query EI Job Status procedure.  11
Table 9.2.3.1-1 provides the expected response from Near-RT RIC platform for each EI query request. The information 12
may come from the platform or the Non-RT RIC. 13
Table 9.2.3.1-1: Supported A1AP Query EI procedures 14
Query procedure xApp request Platform Response
Query EI Type Identifiers URI containing EiTypes List of EiTypeId
Query EI Type URI containing EiTypeId List of EiTypeObject
Query EI Job Identifiers URI containing EiJobs List of current EiJobId
Query EI Job URI containing EiJobId EiJobObject
Query EI Job Status URI containing EiJobId EiJobStatusObjec
 15

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
43
Use Case Stage Evolution / Specification
Goal
To obtain from an xApp information concerning A1 Policies, outcome depends on nature of
Request:
- Query EI Type Identifiers: Non-RT RIC provides list of EiTypeId for a given EiTypes;
- Query EI Type: Non-RT RIC provides EiTypeObject for a given EiTypeId;
- Query EI Job Identifiers: Non-RT RIC provides list of current EiJobId for a given EiJobs;
- Query EI Job: Non-RT RIC provides EiJobObject for a given EiJobId;
- Query EI Job Status: Non-RT RIC provides EiJobStatusObject for a given EiJobId with flag
Status.
Actors and Roles
- Non-RT RIC: provides appropriate response corresponding to nature of request;
- xApp: originator of query using HTTP GET request;
- Near-RT RIC platform:
- A1 Termination: routes incoming A1 Related Query requests from xApp, routes A1AP
response to xApp.
Assumptions - A1 Termination is stateless and so does not store previous Query responses from Non-RT
RIC
Pre conditions - Near-RT RIC is running normally.
- A1 interface is connected and activated.
Begins when xApp determines need to trigger A1 EI query towards the Non-RT RIC.
Step 1 (M) xApp sends A1 Related EI QUERY REQUEST (URI) to A1 Termination.
 [ALT] Step 2 is executed if A1 Termination rejects the request:
Step 2 (O) A1 Termination may reject request and send A1 Related EI QUERY RESULT (error code)
to xApp.
 [ELSE] Steps 3-8 are executed if A1 Termination accepts the request:
Step 3 (M) A1 Termination builds appropriate A1AP EI Query message including URI and sends to non-
RT RIC.
Step 4
[Informative] Non-RT RIC inspects URI to determine nature of query and it is acceptable.
 [ALT] Steps 5-6 are executed if Non-RT RIC accepts the query:
Step 5-6 (M)
Non-RT RIC builds appropriate response (EI information encoded using A1TD) and sends
to Near-RT RIC, A1 Termination uses A1 Related EI QUERY RESULT to send response
to xApp (with EI information encoded using A1TD).
 [ELSE] Steps 7-8 are executed if Non-RT RIC rejects the query:
Step 7-8 (M)
Non-RT RIC builds appropriate response (error code) and sends to Near-RT RIC, A1
Termination used A1 Related EI QUERY RESULT (error code) to send response to
xApp.
Step 9 (O) Depending upon the nature of the previous A1AP EI query and the response from the Non-RT
RIC, the xApp may initiate a subsequent A1AP EI query.
@startuml 1
skinparam ParticipantPadding 4 2
skinparam BoxPadding 8 3
skinparam defaultFontSize 12 4
 5
Participant NON as “Non-RT RIC” 6
 7
Box “Near-RT RIC Platform” 8
    Participant A1T as “A1 Termination” 9
    Participant XRF as “xApp Repository Function” 10
End box 11
Collections XAPP as “xApp” 12
 13
autonumber 14
XAPP -> A1T: A1 EI QUERY REQUEST (URI) 15
Alt EI query rejected by A1 Termination 16
  A1T -> XAPP: A1 EI QUERY RESULT (error) 17
Else EI query accepted by A1 Termination 18
  A1T -> NON: <<A1AP>>GET (URI) 19
  NON->NON: Inspect URI to determine \nnature of query 20
  alt EI query accepted 21
    NON->A1T: <<A1AP>> 200 OK (EI information) 22
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
44
    A1T-> XAPP: A1 EI QUERY RESULT (EI information) 1
  else EI query rejected 2
    NON->A1T: <<A1AP>>Error code 3
    A1T->XAPP: A1 EI QUERY RESULT (error) 4
  end 5
end 6
XAPP<--XAPP: Determine if subsequent \nquery is required 7
@enduml 8
 9
Figure 9.2.3.1-1 A1 EI Query procedure 10
 11
9.3 E2 Related API Procedures 12
9.3.1 Introduction 13
The following procedures are described in this section: 14
E2AP RIC Functional procedures: 15
- RIC Subscription using E2 Related API: E2 Subscription (request, reject, success, failure) and E2 Related 16
API: E2 Guidance (request, response); 17
- R IC Subscription Delete  using E2 Related API: E2 Subscription Delete (request, reject, success, failure, 18
required, decline, notify); 19

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
45
- RIC Indication using E2 Related API: E2 Indication; 1
- RI C Control  using E2 Related API: E2 Control (request, reject, success, failure) and E2 Related API: E2 2
Guidance (request, response). 3
E2 Guidance API related procedures: 4
- xApp initiated conflict mitigation using E2 Related API: E2 Guidance (request, response); 5
- x App Subscription Management initiated conflict mitigation  using E2 Related API: E2 Guidance 6
(modification); 7
- C onflict mitigation related message monitoring  using E2 Related API: E2 Guidance (modification); 8
- C onflict mitigation initiated conflict mitigation  using E2 Related API: E2 Guidance (modification). 9
E2AP Global procedures: 10
- E2 SETUP, RIC Service Update, E2 Node Configuration Update using SDL Related API: E2NodeInfo and 11
E2NodeList (9.5.8.1 and 9.5.8.2). 12
Other procedures related to E2AP Global support functions (E2 RESET, etc.) and other conflict mitigation related 13
procedures are for future study. 14
9.3.2 RIC functional procedures 15
9.3.2.1 E2 Subscription API procedure 16
The purpose of the E2 Subscription API procedure in the Near-RT RIC is to ensure that only validated and non-17
duplicate RIC Subscription Request messages are issued by the Near-RT RIC over the E2 interface to the E2 Node and 18
that duplicated E2 Subscription Request messages from xApps are handled gracefully.  19
This procedure is based on the following assumptions: 20
- xApp may obtain guidance from Near- RT RIC Platform (i.e. Conflict Mitigation) to resolve potential conflicts 21
and/or detect partial duplications prior to sending a E2 Subscription Request (see section 9. 3.3.1); 22
- xApp has been configured with a trusted xApp ID; 23
- E2 related API routes E2 Subscription Request messages for one or more E2 nodes from xApp towards an 24
appropriate Near-RT RIC platform xApp Subscription Management function instance; 25
- xApp Subscription Management may recover from a platform database the list of all previous successful RIC 26
Subscriptions towards E2 Nodes listed in xApp candidate RIC Subscription request and is able to detect 27
duplications and recover E2 Node response messages; 28
- xApp Subscription Management may obtain guidance from Conflict Mitigation (see section 9.3.3.2); 29
- xApp Subscription Management is able to generate a unique REQUEST ID for each RIC Subscription request to 30
each listed E2 Node; 31
- xApp Subscription Management routes RIC Subscription Request messages to appropriate E2 termination instance;  32
- E2 Termination systematically forwards any received RIC Subscription Response or RIC Subscription Failure to 33
appropriate xApp Subscription Management instance; 34
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
46
- xApp Subscription management maintains a mapping of active Subscriptions (identified by E2 Node ID and 1
REQUEST ID) of validated xApps. E2 Termination uses the mapping when sending RIC INDICATION 2
messages to the correct xApp or xApps. 3
The procedure is initiated by an xApp using E2 Related API: E2 Subscription request to send a request of a RIC 4
Subscription proposed for a list of E2 Nodes. The following outcomes are considered:  5
- Request fails following rejection by Near-RT RIC platform and an E2 related API: E2 Subscription response 6
(Reject) is sent to xApp for a list of proposed E2 node targets rejected without E2 interface transaction.  7
Response contains Cause (i.e. xApp not authorized to request specific subscription) ; 8
- Request towards a specific E2 Node is handled successfully following acceptance by Near -RT RIC platform but 9
detected as duplicate and so acknowledged with an E2 related API: E2 Subscription response (Success) to xApp 10
for a specific E2 Node without corresponding E2 transaction; 11
- Request towards a specific E2 Node is handled successfully following acceptance by Near -RT RIC Platform 12
and acceptance by E2 Node and so acknowledged with an E2 related API: E2 Subscription response (Success) 13
to xApp for a specific E2 Node following corresponding E2 transaction; 14
- Request towards a specific E2 Node fails following acceptance by Near-RT RIC Platform but rejected by E2 15
Node and so declined using an E2 related API: E2 Subscription response (Failure) to xApp for a specific E2 16
Node following corresponding E2 interface transaction.  Response contains Cause (i.e. Request contents not 17
accepted by E2 node). 18
 19
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
47
Use Case
Stage Evolution / Specification
Goal E2 Subscription API procedure from xApp initiation to E2 Node and response.
Actors and
Roles
- xApp: Originator of E2 Subscription API request;
- Near-RT RIC platform assumed to consist of:
- Database;
- xApp Subscription Management;
- Conflict Mitigation;
- E2 Termination.
- E2 Node: RIC Subscription procedure.
Assumptions
- xApp Subscription Management in Near-RT RIC platform has access to platform database;
- For E2 Subscription API procedures, xApp Subscription Management is logically placed between
xApp and E2 Termination;
- Conflict Mitigation has access to sufficient information to both detect a potential conflict and take
a decision on an optimal mitigation solution;
- Conflict Mitigation may initiate guidance towards other Platform Functions and/or xApp as an
optional addition response to Guidance Request.
Pre-conditions
- E2 Node has active E2 interface to Near-RT RIC;
- Near-RT RIC has recovered complete list of active RAN Functions on E2 Node and informed
initiating xApp;
- xApp has been authorized to issue E2 Subscription API Requests;
- xApp has been authorized to request guidance from Conflict Mitigation;
- xApp Subscription Management has been configured to permit E2 Subscription API requests
from specific list of xApp;
- E2 Termination has been configured to accept incoming RIC Subscription requests from xApp
Subscription Management.
Begins when xApp determines need to propose E2 Subscription API request for a list of E2 Node ID and defines
message contents (target RAN Function Id, Event Trigger, Action List).
Step 1 (O) xApp can request optional E2 related API: E2 Guidance from Conflict Mitigation (see section
9.3.3.1 for details).
Step 2 (M) xApp sends E2 related API: E2 Subscription request with message contents (target RAN Function
Id, Event Trigger, Action List) for a list of E2 Nodes.
Step 3
[Informative]
xApp Subscription Management, after optional guidance from Conflict Mitigation (see section 9.3.3.2
for details), accepts or rejects proposal from xApp for list of E2 nodes.
 [ALT] Step 4 is executed if xApp Subscription Management rejects the proposal:
Step 4 (M) xApp Subscription Management sends E2 related API: E2 Subscription response to xApp
(Reject with Cause for one or more E2 node in proposal list).
 [ELSE] Steps 5-21 are executed if xApp Subscription Management accepts the proposal:
 [LOOP] Steps 5-21 are looped for each E2 Node in the accepted RIC Subscription Proposals.
Step 5
[Informative]
xApp Subscription Management retrieves from a platform database the list of xApp
associated with subscription for E2 Node target, RAN Function Id, Event Trigger, Action
List.
Step 6
[Informative]
xApp Subscription Management counts the number of retrieved records to determine
whether the Subscription proposed by xApp is a new subscription or duplicate with an
existing subscription.
 [ALT] Steps 7-17 are executed if the subscription proposed by xApp is a new subscription
(i.e. no record found for E2 Node ID with Subscription matching the same contents):
Step 7
[Informative] xApp Subscription Management assigns a unique REQUEST ID.
Step 8
[Informative]
xApp Subscription Management sends RIC Subscription Request to E2 Termination,
providing E2 Node ID and REQUEST ID along with message contents proposed by
xApp.
Step 9 (M) E2 Termination selects appropriate E2 interface and sends RIC Subscription
Request (REQUEST ID, contents) to E2 Node.
 [ALT] Steps 10-14 are executed if E2 Node accepts RIC Subscription Request:
Step 10 (M)  E2 Node responds with RIC Subscription Response.
Step 11
[Informative] E2 Termination forwards received message to xApp Subscription Management.
Step 12
[Informative]
For each Action in subscription corresponding to an Indication message, xApp
Subscription Management requests E2 termination to add xApp ID to distribution
list associated with E2 Node ID, REQUEST ID and Action ID.
Step 13
[Informative]
xApp Subscription Management creates corresponding record in the platform
database.
Step 14 (M)  xApp Subscription Management sends E2 related API: E2 Subscription
response to xApp (Success, E2 Node Id).
 [ELSE] Steps 15-17 are executed if E2 Node rejects RIC Subscription Request:
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
48
Step 15 (M)  E2 Node responds with RIC Subscription Failure (with Cause).
Step 16
[Informative] E2 Termination forwards received message to xApp Subscription Management.
Step 17 (M) xApp Subscription Management sends E2 related API: E2 Subscription
response to xApp (Failure with Cause, E2 node Id).

[ELSE] Steps 18-21 are executed if the E2 Subscription API Request proposed by xApp is
a duplicate subscription (i.e. one or more records found for E2 Node ID with Subscription
matching the same contents):
Step 18
[Informative] xApp Subscription Management extracts REQUEST ID from record.
Step 19
[Informative]
For each Action in subscription corresponding to an Indication message, xApp
Subscription Management requests E2 termination to add xApp ID to distribution list
associated with E2 Node ID, REQUEST ID and Action ID.
Step 20
[Informative]
xApp Subscription Management creates corresponding record in the platform
database.
Step 21 (M) xApp Subscription Management sends E2 Related API: E2 Subscription response
to xApp (Success, E2 node Id).
1
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
49
 1
@startuml 2
skinparam ParticipantPadding 50 3
skinparam BoxPadding 10 4
skinparam lifelineStrategy solid 5
 6
Collections “xApp” as xApp 7
Box “Platform Functions” 8
  database “Database” as DB 9
  Participant “Conflict Mitigation” as ConMit 10
  Collections “xApp Subscription Management” as SubM 11
  Collections “E2 Termination” as E2T 12
endbox 13
 14
Collections “E2 Node” as ran 15
 16
xApp <--> ConMit: 1: (E2 related API) E2 Guidance (Request/Response)  17
xApp ->SubM: 2: (E2 related API) E2 Subscription (Request, List of E2 Node Id) 18
 19
SubM <--> ConMit: 3.1: Guidance (Request/Response)  20
SubM -> SubM: 3.2: Accept/Reject decision 21
 22
Alt xApp Subscription Management function reject 23
  SubM -> xApp: 4: (E2 related API) E2 Subscription (Reject, Cause, List of E2 Node Id) 24
Else xApp Subscription Management function accept 25
  Loop For each E2 Node in list 26
    SubM <-> DB: 5: Fetch records (Subscription) 27
    SubM -> SubM: 6: Detect duplication 28
 29
    alt New subscription 30
      SubM -> SubM: 7: Assign unique REQUEST ID 31
      SubM -> E2T: 8: RIC subscription request 32
      E2T -> ran: 9: <<E2>> RIC SUBSCRIPTION REQUEST  33
      alt E2 node accepts request 34
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
50
        ran -> E2T: 10: <<E2>> RIC SUBSCRIPTION RESPONSE 1
        E2T -> SubM: 11: RIC subscription response 2
        SubM <-> E2T: 12: Distribution list (Add) 3
        SubM <-> DB: 13: Store record (Subscription) 4
        SubM -> xApp: 14: (E2 related API) E2 Subscription (Success, E2 node Id) 5
      else E2 node rejects request 6
        ran -> E2T: 15: <<E2>> RIC SUBSCRIPTION FAILURE 7
        E2T -> SubM: 16: RIC subscription failure 8
        SubM -> xApp: 17: (E2 related API) E2 Subscription (Failure, Cause, E2 Node Id) 9
      end 10
    else Duplicate subscription request detected 11
      SubM -> SubM: 18: Extract REQUEST ID from record 12
      SubM <-> E2T: 19: Distribution list (Add) 13
      SubM <-> DB: 20: Store record (Subscription) 14
      SubM -> xApp: 21: (E2 related API) E2 Subscription (Success, E2 Node Id) 15
    end 16
  end 17
end 18
@enduml 19
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
51
 1
Figure 9.3.2.1-1: E2 Subscription API procedure 2
Platform Functions
xApp
xApp
Database
Database
Conflict Mitigation
Conflict Mitigation
xApp Subscription Management
xApp Subscription Management
E2 Termination
E2 Termination
E2 Node
E2 Node
1: (E2 related API) E2 Guidance (Request/Response)
2: (E2 related API) E2 Subscription (Request, List of E2 Node Id)
3.1: Guidance (Request/Response)
3.2: Accept/Reject decision
alt [xApp Subscription Management function reject ]
4: (E2 related API) E2 Subscription (Reject, Cause, List of E2 Node Id)
[xApp Subscription Management function accept ]
loop [For each E2 Node in list ]
5: Fetch records (Subscription)
6: Detect duplication
alt [New subscription ]
7: Assign unique REQUEST ID
8: RIC subscription request
9: <<E2>> RIC SUBSCRIPTION REQUEST
alt [E2 node accepts request ]
10: <<E2>> RIC SUBSCRIPTION RESPONSE
11: RIC subscription response
12: Distribution list (Add)
13: Store record (Subscription)
14: (E2 related API) E2 Subscription (Success , E2 node Id)
[E2 node rejects request ]
15: <<E2>> RIC SUBSCRIPTION FAILURE
16: RIC subscription failure
17: (E2 related API) E2 Subscription (Failure, Cause, E2 Node Id)
[Duplicate subscription request detected ]
18: Extract REQUEST ID from record
19: Distribution list (Add)
20: Store record (Subscription)
21: (E2 related API) E2 Subscription (Success , E2 Node Id)
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
52
9.3.2.2 E2 Subscription Delete API Procedure 1
The purpose of the E2 Subscription Delete API procedure in the Near -RT RIC is to ensure that a) only validated RIC 2
Subscription Delete Request messages are issued by the Near -RT RIC over the E2 interface to the E2 Node ; b) deletion 3
request of the existing subscriptions from an E2 Node is handled properly;  and c) deletion requests for duplicated 4
Subscription Requests are handled gracefully. 5
- E2 related API routes E2 Subscription Delete request for one or more E2 nodes from xApp towards an appropriate 6
xApp Subscription Management instance; 7
- xApp has been configured with a trusted xApp ID; 8
- xApp Subscription Management may recover from the platform database the list of all active subscriptions towards 9
E2 Nodes listed in xApp’s E2 Subscription Delete request and is able to detect when and if the delete request shall 10
result in a corresponding E2 message; 11
- xApp Subscription Management routes the subscription delete requests to an appropriate E2 termination instance;  12
- E2 Termination systematically forwards any received RIC Subscription Delet e Response or RIC Subscription 13
Delete Failure to an appropriate xApp Subscription Management instance; 14
- xApp Subscription management maintains a mapping of active s ubscriptions (identified by E2 Node ID and 15
REQUEST ID) of the validated xApps. E2 Termination uses the mapping when sending RIC INDICATION 16
messages to the correct xApp; 17
- E2 Termination also forwards any received RIC Subscription Delete Required from an E2 Node to an appropriate 18
xApp Subscription Management instance. The xApp Subscription Management may recover from the platform 19
database the list of xApps associated with the subscription removal request from an E2 Node and, if decides to 20
accept, uses the E2 related API to delete subscriptions toward xApps. Prior to determining whether or not to accept 21
the subscription delete required request, the xApp Subscription Management may send E2 related API: E2 22
Subscription Delete (required) to each xApp with an active  subscription, each xApp may respond with E2 related 23
API: E2 Subscription Delete (request) or E2 related API: E2 Subscription Delete (decline).  24
The procedure initiated by an xApp uses E2 Related API: E2 Subscription Delete to request subscription deletion for a 25
list of E2 Nodes. The following outcomes are considered: 26
- Request fails following rejection by xApp Subscription Management and an E2 Related API: E2 Subscription 27
Delete response (Failure) is sent to xApp without E2 interface transaction (i.e. xApp not previously associated 28
with validated subscription); 29
- Request succeeds following acceptance by xApp Subscription Management but detected as duplicate , and an E2 30
Related API: E2 Subscription Delete response (Success) is sent to xApp without corresponding E2 transaction; 31
- Request succeeds following acceptance by xApp Subscription Management and accepted by E2 Node , and an E2 32
Related API: E2 Subscription Delete response (Success) is sent to xApp following corresponding E2 transaction; 33
- Request fails following acceptance by xApp Subscription Management but rejected by E2 Node , and an E2 34
Related API: E2 Subscription Delete  response (Failure) is sent to xApp following corresponding E2 interface 35
transaction (i.e. REQUEST ID is not known by E2 Node); 36
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
53
Use Case Stage Evolution / Specification
Goal E2 Subscription Delete API procedure from xApp initiation to E2 Node and response.
Actors and Roles
- xApp: Originator of E2 Subscription Delete API request;
- Near-RT RIC platform:
- Database;
- xApp Subscription Management;
- E2 Termination.
- E2 Node: RIC Subscription Delete procedure.
Assumptions
- xApp Subscription Management in Near-RT RIC has access to platform database;
- For E2 Subscription Delete API procedures, xApp Subscription Management is logically
placed between xApp and E2 Termination.
Pre conditions
- E2 Node has active E2 interface to Near-RT RIC;
- Near-RT RIC has recovered complete list of active RAN Functions on E2 Node and informed
initiating xApp;
- xApp Subscription Management has been configured to permit RIC Subscription Delete
requests from xApp;
- E2 Termination has been configured to accept incoming RIC subscription delete requests
from xApp Subscription Management.
Begins when xApp determines need to request E2 Subscription Delete API for a list of (E2 Node ID /
REQUEST ID) pairs.
Step 1 (M) xApp sends E2 related API: E2 Subscription Delete request for a list of E2 Nodes.
Step 2
[Informative] xApp Subscription Management accepts or rejects proposal from xApp.
 [ALT] Step 3 is executed if xApp Subscription Management rejects the proposal:
Step 3 (M) xApp Subscription Management sends E2 related API: E2 Subscription Delete response to
xApp (Reject with Cause for one or more E2 node in proposal list).
 [ELSE] Steps 4-20 are executed if xApp Subscription Management accepts the proposal. For
each E2 Node in list of accepted RIC Subscription Delete proposals:
Step 4
[Informative]
xApp Subscription Management retrieves list of xApp associated with subscription for E2
Node and Request ID.
Step 5
[Informative]
xApp subscription Management confirms that xApp proposing Subscription Delete has an
active subscription.
Step 6 (M) xApp Subscription Management sends E2 related API: E2 Subscription Delete response to
xApp (Reject with Cause for E2 node).
Step 7
[Informative]
xApp Subscription Management counts the number of retrieved records to determine whether
or not xApp proposing Subscription Delete is the only associated xApp.
 [ALT] Steps 8-17 are executed if the xApp proposing Subscription Delete is the only xApp
associated with the subscription (i.e. a given REQUEST ID):
Step 8
[Informative]
xApp Subscription Management sends RIC Subscription Delete Request to E2
Termination, providing E2 Node ID and REQUEST ID.
Step 9 (M) E2 Termination selects appropriate E2 interface and sends RIC Subscription Delete
Request (REQUEST ID) to E2 Node.
 [ALT] Steps 10-14 are executed if E2 Node accepts Subscription Delete:
Step 10 (M) E2 Node responds with RIC Subscription Delete Response.
Step 11
[Informative] E2 Termination forwards received message to xApp Subscription Management.
Step 12
[Informative]
xApp Subscription Management requests E2 termination to delete distribution list(s)
associated with E2 Node ID and REQUEST ID.
Step 13
[Informative]
xApp Subscription Management deletes corresponding record in the platform
database.
Step 14 (M) xApp Subscription Management sends E2 related API: E2 Subscription Delete
response to xApp (Success).
 [ELSE] Steps 15-17 are executed if E2 Node rejects Subscription Delete:
Step 15 (M) E2 Node responses with RIC Subscription Delete Failure (with Cause).
Step 16
[Informative] E2 Termination forwards received message to xApp Subscription Management.
Step 17 (M) xApp Subscription Management sends E2 related API: E2 Subscription Delete
response to xApp (Failure with Cause).
 Steps 18-20 are executed if the xApp proposing Subscription Delete is one of a number of
xApp associated with the subscription (i.e. a given REQUEST ID):
Step 18
[Informative]
xApp Subscription Management requests E2 termination to remove xApp from distribution
list(s) associated with E2 Node ID and REQUEST ID.
Step 19
[Informative] xApp Subscription Management deletes corresponding record in the platform database.
Step 20 (M) xApp Subscription Management sends E2 related API: E2 Subscription Delete
response to xApp (Success).
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
54
@startuml 1
skinparam ParticipantPadding 50 2
skinparam BoxPadding 10 3
skinparam lifelineStrategy solid 4
 5
Collections “xApp” as xApp 6
box “Platform functions” 7
  Database “Database” as DB 8
  Collections “xApp Subscription Management” as SubM 9
  Collections “E2 Termination” as E2T 10
endbox 11
Collections “E2 Node” as ran 12
 13
xApp ->SubM: 1: (E2 related API) E2 Subscription Delete (Request, List of E2 Node Id) 14
 15
SubM -> SubM: 2: Accept/Reject decision 16
 17
Alt xApp Subscription Management function reject 18
  SubM -> xApp: 3: (E2 related API) E2 Subscription Delete (Reject, Cause, List of E2 19
Node Id) 20
Else xApp Subscription Management function accept 21
  Loop For each E2 Node in E2 Node List 22
    SubM <-> DB: 4: Fetch records (Subscription) 23
    SubM -> SubM: 5: Confirm that xApp had previously subscribed \n(i.e. record found for 24
xApp ID) 25
    SubM -> xApp: 6: (E2 related API) E2 Subscription Delete (Reject, Cause, E2 Node Id) 26
 27
    SubM -> SubM: 7: Count valid records 28
 29
    alt Single xApp record 30
      SubM -> E2T: 8: RIC subscription delete request  31
      E2T -> ran: 9: <<E2>> RIC SUBSCRIPTION DELETE REQUEST  32
      alt E2 node accepts delete request 33
        ran -> E2T: 10: <<E2>> RIC SUBSCRIPTION DELETE RESPONSE 34
        E2T -> SubM: 11: RIC subscription delete response  35
        SubM <-> E2T: 12: Distribution list (Delete) 36
        SubM <-> DB: 13: Delete record  37
        SubM -> xApp: 14: (E2 related API) E2 Subscription Delete (Success, E2 node Id) 38
      else E2 node rejects delete request 39
        ran -> E2T: 15: <<E2>> RIC SUBSCRIPTION DELETE FAILURE 40
        E2T -> SubM: 16: RIC subscription delete failure 41
        SubM -> xApp: 17: (E2 related API) E2 Subscription Delete (Failure, E2 Node Id) 42
      End 43
    Else Multiple xApp records 44
      SubM <-> E2T: 18: Distribution list (Remove) 45
      SubM -> DB: 19: Delete record  46
      SubM -> xApp: 20: (E2 related API) E2 Subscription Delete (Success, E2 node Id) 47
    end 48
  end 49
end 50
@enduml 51
 52
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
55
 1
Platform functions
xApp
xApp
Database
Database
xApp Subscription Management
xApp Subscription Management
E2 Termination
E2 Termination
E2 Node
E2 Node
1: (E2 related API) E2 Subscription Delete (Request, List of E2 Node Id)
2: Accept/Reject decision
alt [xApp Subscription Management function reject ]
3: (E2 related API) E2 Subscription Delete (Reject, Cause, List of E2 Node Id)
[xApp Subscription Management function accept ]
loop [For each E2 Node in E2 Node List ]
4: Fetch records (Subscription)
5: Confirm that xApp had previously subscribed
(i.e. record found for xApp ID)
6: (E2 related API) E2 Subscription Delete (Reject, Cause, E2 Node Id)
7: Count valid records
alt [Single xApp record ]
8: RIC subscription delete request
9: <<E2>> RIC SUBSCRIPTION DELETE REQUEST
alt [E2 node accepts delete request ]
10: <<E2>> RIC SUBSCRIPTION DELETE RESPONSE
11: RIC subscription delete response
12: Distribution list (Delete)
13: Delete record
14: (E2 related API) E2 Subscription Delete (Success , E2 node Id)
[E2 node rejects delete request ]
15: <<E2>> RIC SUBSCRIPTION DELETE FAILURE
16: RIC subscription delete failure
17: (E2 related API) E2 Subscription Delete (Failure, E2 Node Id)
[Multiple xApp records ]
18: Distribution list (Remove)
19: Delete record
20: (E2 related API) E2 Subscription Delete (Success , E2 node Id)
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
56
Figure 9.3.2.2-1: E2 Subscription Delete API procedure, initiated by an xApp1
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
57
The procedure can also be initiated by an E2 Node . In this case, the xApp Subscription Management may use the E2 1
Related API: E2 Subscription Delete (required) to consult xApps. The following outcomes are considered: 2
- xApp accepts request to delete subscription and sends E2 Related API: E2 Subscription Delete (request) to 3
request subscription deletion.  In this case the xApp Subscription Management may decide to not delete the 4
subscription and so respond with E2 Related API: E2 Subscription Delete (reject) 5
- xApp declines request to delete subscription and sends E2 Related API: E2 Subscription Delete (decline) to 6
inform xApp Subscription Management.   7
In both cases, if the xApp Subscription Management decides to delete the subscription it responds with E2 Related 8
API: E2 Subscription Delete (notify) to inform each xApp for the eventual outcome.  9
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
58
Use Case Stage Evolution / Specification
Goal RIC subscription removal initiated from an E2 Node.
Actors and Roles
- xApp: Recipient of E2 Subscription Delete API request;
- Near-RT RIC platform:
- Database;
- xApp Subscription Management;
- E2 Termination.
- E2 Node: Originator of E2 Subscription Delete API request.
Assumptions
- xApp Subscription Management in Near-RT RIC has access to platform database;
- For E2 Subscription Delete API procedures, xApp Subscription Management is logically
placed between xApp and E2 Termination;
Pre conditions
- E2 Node has active E2 interface to Near-RT RIC;
- Near-RT RIC has recovered complete list of active RAN Functions on E2 Node and informed
xApps;
- E2 Termination has been configured to accept incoming RIC subscription removal request
from an E2 Node;
- xApp Subscription Management has been configured to permit RIC Subscription removal
request from an E2 Node.
Begins when E2 Node determines a need to request removal of some RIC subscriptions that has been
subscribed toward itself from Near-RT RIC.
Step 1 (M) E2 Node sends RIC Subscription Delete Required (a list of RIC Request and RAN Function
IDs with cause).
Step 2
[Informative] E2 Termination forwards received message to xApp Subscription Management.
 [LOOP] Steps 3-15 are looped for each Subscription requested to be deleted:
Step 3
[Informative]
xApp Subscription Management retrieves list of xApps associated with RIC subscription
requested to be deleted from the E2 Node.
 [OPT] Steps 4-6 may be executed. For each xApp with RIC Subscription requested to be
deleted:
Step 4 (O)
xApp Subscription Management sends E2 related API: E2 Subscription Delete
Required to xApp (with E2 Node ID, REQUEST ID and Cause) to request xApp advice on
required subscription deletion.
Step 5 (O) If xApp accepts, xApp responds with E2 related API: E2 Subscription Delete Request to
xApp Subscription Management (with E2 Node ID, REQUEST ID).
Step 6 (O) If xApp rejects, xApp responds with E2 related API: E2 Subscription Delete Decline to
xApp Subscription Management (with E2 Node ID, REQUEST ID).
Step 7 (M) xApp Subscription Management takes decision to accept/reject RIC subscription delete.
 [ALT] Step 8 is executed if xApp Subscription Management rejects:
 [OPT] Step 8 is executed if Steps 4-6 are performed. For each xApp who requested
subscription delete:
Step 8 (O) xApp Subscription Management sends E2 related API: E2 Subscription Delete
Reject to xApp (with E2 Node ID, REQUEST ID and Cause).
 [ELSE] Steps 9-15 are executed if xApp Subscription Management accepts:
Step 9
[Informative]
xApp Subscription Management sends RIC Subscription Delete Request to E2
Termination (with E2 Node ID and REQUEST ID.
Step 10 (M) E2 Termination selects appropriate E2 interface and sends RIC Subscription Delete
Request (REQUEST ID) to E2 Node.
Step 11 (M) E2 Node responds with RIC Subscription Delete Response.
Step 12
[Informative] E2 Termination forwards received message to xApp Subscription Management.
Step 13
[Informative]
xApp Subscription Management requests E2 termination to delete distribution list
associated with E2 Node ID and REQUEST ID.
Step 14
[Informative] xApp Subscription Management deletes record in database;
Step 15 (M)
For each xApp with REQUEST ID, xApp Subscription Management sends E2 related
API: E2 Subscription Delete Notify (with E2 Node ID, REQUEST ID, Cause) to inform
xApp that subscription has been deleted.
@startuml 1
skinparam ParticipantPadding 50 2
skinparam BoxPadding 10 3
skinparam lifelineStrategy solid 4
 5
Collections “xApp” as xApp 6
box “Platform functions” 7
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
59
  Database “Database” as DB 1
  Collections “xApp Subscription Management” as SubM 2
  Collections “E2 Termination” as E2T 3
endbox 4
Collections “E2 Node” as ran 5
 6
autonumber 7
 8
ran -> E2T: <<E2>> RIC SUBSCRIPTION DELETE REQUIRED 9
E2T -> SubM: RIC Subscription Delete Required 10
Loop For each REQUEST ID 11
  SubM <--> DB: Fetch records (REQUEST ID, E2 Node ID) 12
  opt Optional 13
    Loop For each xApp with REQUEST ID 14
      SubM -> xApp: (E2 related API) E2 Subscription Delete (Required, E2 Node ID, REQUEST 15
ID, Cause) 16
      alt xApp accepts delete required 17
        xApp ->SubM: (E2 related API) E2 Subscription Delete (Request, E2 Node ID, REQUEST 18
ID) 19
      else xApp rejects delete required 20
        xApp ->SubM: (E2 related API) E2 Subscription Delete (Decline, E2 Node ID, REQUEST 21
ID) 22
      end 23
    end 24
  end 25
  SubM -> SubM: Accept/Reject decision 26
 27
  Alt xApp Subscription Management function reject 28
   opt Optional unless steps 4-6 performed    Loop For each xApp who requested 29
subscription delete with REQUEST ID 30
      SubM -> xApp: (E2 related API) E2 Subscription Delete (Reject, E2 Node ID, REQUEST 31
ID, Cause) 32
   end 33
  Else xApp Subscription Management function accept 34
    SubM -> E2T: RIC Subscription delete request  35
    E2T -> ran: <<E2>> RIC SUBSCRIPTION DELETE REQUEST  36
    ran -> E2T: <<E2>> RIC SUBSCRIPTION DELETE RESPONSE 37
    E2T -> SubM: RIC Subscription delete response  38
    SubM <-> E2T:  Distribution list (Delete) 39
    SubM <-> DB: Delete record 40
    loop For each xApp with REQUEST ID  41
      SubM -> xApp: (E2 related API) E2 Subscription Delete (Notify, E2 node ID, REQUEST 42
ID, Cause) 43
    end 44
  end 45
end 46
@enduml47
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
60
 1
  2
Figure 9.3.2.2-2: E2 Subscription Delete API procedure, initiated by an E2 Node 3

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
61
9.3.2.3 E2 Indication API Procedure 1
The purpose of the E2 Indication API procedure in the Near-RT RIC is to ensure delivery of RIC INDICATION 2
messages to one or more validated xApps. 3
This procedure is based on the following assumptions: 4
- E2 Termination maintains a list of validated xApps associated with an E2 node ID and REQUEST ID  5
- E2 related API ensures delivery of RIC Indication messages from E2 termination to all validated xApp  6
- Messaging infrastructure may support distribution of messages to multiple destinations  7
 8
Use Case Stage Evolution / Specification
Goal E2 Indication API procedure from E2 Node initiation to xApp reception.
Actors and Roles
- xApp: Originator of RIC subscription request;
- Near-RT RIC platform:
- Database;
- xApp Subscription Management;
- E2 Termination.
- E2 Node: Originator of RIC Indication procedure.
Assumptions - For RIC Indication procedures, E2 Termination uses E2 related API to directly send
received messages to one or more xApp.
Pre conditions
- E2 Node has active E2 interface to Near-RT RIC;
- Near-RT RIC has recovered complete list of active RAN Functions on E2 Node and
informed initiating xApp;
- E2 Termination has distribution list associating Indication messages with xApps.
Begins when
E2 Node creates RIC Indication Message (REQUEST ID, RAN Function Id, Action ID,
Sequence number, Indication Type, Indication Header, Indication Message, optional Call
Process ID).
Step 1 (M) E2 Node sends RIC Indication message to E2 termination.
Step 2
[Informative]
If not available, E2 Termination fetches distribution list from platform database for E2 Node Id,
REQUEST ID, RAN Function Id, Action ID.
 [ALT] Step 3a is executed if messaging infrastructure in Near-RT RIC supports distribution of
messages to list of destinations:
Step 3a (M) E2 Termination sends E2 related API: E2 Indication to list of xApps.
 [ELSE] Step 3b is executed if messaging infrastructure in Near-RT RIC only supports
distribution of messages to single destinations:
Step 3b (M) E2 Termination sends E2 related API: E2 Indication to each xApp in list.
 9
@startuml 10
skinparam ParticipantPadding 50 11
skinparam BoxPadding 10 12
skinparam lifelineStrategy solid 13
 14
Collections “xApp” as xApp 15
box “Platform functions” 16
  Database "Database" as DB 17
  Collections “E2 Termination” as E2T 18
endbox 19
 20
Collections “E2 Node” as ran 21
 22
ran -> E2T: <<E2>> 1: RIC INDICATION  23
E2T <-> DB: 2: Fetch distribution list 24
 25
Alt Messaging system supports message distribution 26
  E2T -> xApp: 3a: (E2 related API) E2 indication (xApp ID list) 27
Else Messaging system supports individual messages only 28
  Loop For all xApp in distribution list 29
    E2T -> xApp: 3b: (E2 related API) E2 indication (xApp ID) 30
  End 31
end 32
 33
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
62
@enduml 1
 2
Figure 9.3.3-1: E2 Indication API procedure 3
9.3.2.4 E2 Control API Procedure 4
The purpose of the E2 Control API procedure in the Near-RT RIC is to ensure that only authorized xApp may initiate 5
RIC Control Request messages issued by the Near-RT RIC over the E2 interface to the E2 Node. 6
This procedure is based on the following assumptions: 7
- xApp may obtain guidance from Conflict Mitigation to resolve potential conflicts  prior to sending a E2 Control 8
API Request (see section 9.3.3.1); 9
- xApp has been configured with a trusted xApp ID; 10
- E2 related API may be configured to route E2 Control API Request messages for a E2 node from xApp either 11
towards Conflict Mitigation for acceptance (see section 9.3.3.4) or directly towards an appropriate E2 12
Termination instance; 13
- E2 related API ensures that only authorized xApp may send E2 Control API Request messages to appropriate E2 14
Termination instance; 15
- E2 related API ensures that E2 Termination systematically forwards any received RIC Control Response or RIC 16
Control Failure to appropriate xApp. 17
The procedure is initiated by an xApp using E2 Related API: E2 Control request to send a request of a RIC Control 18
for an E2 Node. The following outcomes are considered: 19
- Request successful following acceptance by Near-RT RIC platform and accepted by E2 Node and so an E2 20
Related API: E2 Control response (Success with outcome) is sent to xApp following corresponding E2 21
transaction; 22
- Request fails following acceptance by Near-RT RIC platform but rejected by E2 Node and so an E2 Related 23
API: E2 Control response (Failure with cause) is sent to xApp following corresponding E2 interface transaction 24
(i.e. Request contents is are compliant); 25
- Request rejected by Near-RT Platform and so an E2 Related API: E2 Control response (Reject) is sent to xApp 26
(i.e. rejected by Conflict Mitigation). 27
Platform functions
xApp
xApp
Database
Database
E2 Termination
E2 Termination
E2 Node
E2 Node
<<E2>> 1: RIC INDICATION
2: Fetch distribution list
alt [Messaging system supports message distribution ]
3a: (E2 related API) E2 indication (xApp ID list)
[Messaging system supports individual messages only ]
loop [For all xApp in distribution list ]
3b: (E2 related API) E2 indication (xApp ID)
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
63
Use Case Stage Evolution / Specification
Goal E2 Control API procedure from xApp initiation to E2 Node and response.
Actors and Roles
- xApp: Originator of E2 Control API request;
- Near-RT RIC platform:
- E2 Termination.
- E2 Node: RIC Control procedure.
Assumptions
- For E2 Control API procedures, xApp may directly send messages to E2 Termination;
- Conflict Mitigation has access to sufficient information to both detect a potential conflict and
take a decision on an optimal mitigation solution.
Pre-conditions
- E2 Node has active E2 interface to Near-RT RIC;
- Near-RT RIC has recovered complete list of active RAN Functions on E2 Node and informed
initiating xApp;
- xApp has been authorized to send RIC Control requests for a specific scope (E2 Node list,
RAN Function, etc.);
- xApp has been authorized to request guidance from Conflict Mitigation;
- E2 Termination and E2 related API has been configured to accept incoming E2 Control API
requests from authorized xApp and forward either to Conflict Mitigation or directly to E2
Termination.
 Begins when xApp determines need to propose RIC Control procedure for a E2 Node and defines message
contents (REQUEST ID, RAN Function Id, Call process ID, Control Header, Control message).
Step 1 (O) xApp may request E2 related API: E2 Guidance from Conflict Mitigation (see section 9.3.3.1 for
details)
Step 2
[Informative] xApp assigns a unique REQUEST ID .
 [ALT] Step 3a is executed if E2 related API: E2 Control request message is routed directly to
E2 Termination:
Step 3a (M)
xApp sends E2 related API: E2 Control request with message contents (REQUEST ID,
RAN Function Id, Call process ID, Control Header, Control message) for a E2 Node, to E2
Termination.
 [ELSE] Step 3b and 4-6 are executed if routed to Conflict Mitigation (see section 9.3.3.4 for
details):
Step 3b (M)
xApp sends E2 related API: E2 Control request with message contents (REQUEST ID,
RAN Function Id, Call process ID, Control Header, Control message) for a E2 Node, to
Conflict Mitigation (see section 9.3.3.4 for details).
Step 4
[Informative] Conflict Mitigation processes request.
 [ALT] Step 5 is executed if Conflict Mitigation accepts proposed RIC Control message.
Step 5
[Informative] Message is forwarded to appropriate E2 Termination instance.
 [ELSE] Step 6 is executed if Conflict Mitigation rejects proposed RIC Control message:
Step 6 (M) E2 related API: E2 Control response (Reject with Cause) message is sent to xApp.
Step 7 (M) E2 Termination receives incoming proposed RIC Control message, selects appropriate E2
interface and sends RIC Control Request (REQUEST ID, contents) to E2 Node.
 [ALT] Steps 8-10 are executed if E2 Node accepts RIC Control Request:
Step 8 (M) E2 Node responds with RIC Control Response
 [ALT] Step 9a is executed if E2 Related API: E2 Control response is configured routed to
xApp directly:
Step 9a (M) E2 Termination sends E2 Related API: E2 Control response (Success with
Outcome) to xApp directly.
 [ELSE] Step 9b and 10 are executed if E2 Related API: E2 Control response is configured
routed to xApp via Conflict Mitigation:
Step 9b
[Informative]
E2 Termination sends RIC control acknowledge (Success with Outcome) to Conflict
Mitigation.
Step 10 (M) Conflict Mitigation sends E2 Related API: E2 Control response (Success with
Outcome) to xApp.
 [ELSE] Steps 11-13 are executed if E2 Node rejects RIC Control Request:
Step 11 (M) E2 Node responds with RIC Control Failure (with Cause).
 [ALT] Step 12a is executed if E2 Related API: E2 Control response is configured routed to
xApp directly:
Step 12a (M) E2 Termination sends E2 Related API: E2 Control response (Failure with Cause) to
xApp directly.
 [ELSE] Steps 12b and 13 are executed if E2 Related API: E2 Control response is
configured routed to xApp via Conflict Mitigation:
Step 12b
[Informative]
E2 Termination sends RIC control failure (Failure with Cause) to xApp via Conflict
Mitigation.
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
64
Step 13 (M) Conflict Mitigation sends E2 Related API: E2 Control response (Failure with Cause)
to xApp.
 1
@startuml 2
skinparam ParticipantPadding 50 3
skinparam BoxPadding 10 4
skinparam lifelineStrategy solid 5
 6
Collections “xApp” as xApp 7
Box “Platform Functions” 8
  Participant “Conflict Mitigation” as ConMit 9
  Collections “E2 Termination” as E2T 10
endbox 11
 12
Collections “E2 Node” as ran 13
 14
xApp <--> ConMit: 1: (E2 related API) Guidance (Request/Response)  15
 16
xApp -> xApp: 2: Assign unique REQUEST ID 17
 18
alt E2 Related API configured to pass request directly to E2 termination 19
  xApp -> E2T: 3a: (E2 related API) E2 Control (Request) 20
else E2 Related API configured to pass request via Conflict Mitigation  21
  xApp -> ConMit: 3b: (E2 related API) E2 Control (Request) 22
  ConMit -> ConMit: 4: Conflict mitigation processing 23
  alt Conflict Mitigation accepts proposed message 24
    ConMit -> E2T: 5: RIC control request 25
  Else Conflict mitigation rejects proposed message 26
    ConMit -> xApp: 6: (E2 related API) E2 Control (Reject) 27
  end 28
end 29
 30
E2T -> ran: 7: <<E2>> RIC CONTROL REQUEST  31
 32
alt E2 node accepts request 33
  ran -> E2T: 8: <<E2>> RIC CONTROL ACKNOWLEDGE  34
  alt E2 Related API configured to pass response directly to requesting xApp 35
    E2T -> xApp: 9a: (E2 related API) E2 Control (Success) 36
  else E2 Related API configured to pass response via Conflict Mitigation 37
    E2T -> ConMit: 9b: RIC control acknowledge 38
    ConMit -> xApp: 10: (E2 related API) E2 Control (Success) 39
  end 40
else E2 node rejects request 41
  ran -> E2T: 11: <<E2>> RIC CONTROL FAILURE 42
  alt E2 Related API configured to pass response directly to requesting xApp 43
    E2T -> xApp: 12a: (E2 related API) E2 Control (Failure) 44
  else E2 Related API configured to pass response via Conflict Mitigation 45
    E2T -> ConMit: 12b: RIC control failure 46
    ConMit -> xApp: 13: (E2 related API) E2 Control (Failure) 47
  end 48
end 49
@enduml 50
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
65
 1
Figure 9.3.4-1 E2 Control API Procedure 2
 3
9.3.3 E2 Guidance API related procedures 4
9.3.3.1 E2 Guidance request/response API procedure 5
The purpose of the xApp initiated E2 Guidance request/response API procedure in the Near -RT RIC is to allow 6
authorized xApp to obtain guidance from the Conflict Mitigation platform function prior to initiating an action.   7
Guidance from Conflict Mitigation may include: 8
- Indication on whether or not the xApp proposed E2 Related API message or series of messages may result in a 9
conflict with E2 related API messages from other xApps; 10
- Recommendations on how the proposed E2 Related message or series of message s should be modified to avoid 11
conflict; 12
- Modification of previous guidance to other xApps and/or other platform functions . 13
This procedure is based on the following assumptions: 14
- xApp may use E2 Related API to obtain guidance from Conflict Mitigation to resolve potential conflicts prior to 15
initiating a RIC function procedure; 16
- xApp may use Conflict Mitigation response in a subsequent procedure (i.e. for a RIC Functional Procedure) . 17
Platform Functions
xApp
xApp
Conflict Mitigation
Conflict Mitigation
E2 Termination
E2 Termination
E2 Node
E2 Node
1: (E2 related API) Guidance (Request/Response)
2: Assign unique REQUEST ID
alt [E2 Related API configured to pass request directly to E 2 termination ]
3a: (E2 related API) E2 Control (Request)
[E2 Related API configured to pass request via Conflict Mitigation ]
3b: (E2 related API) E2 Control (Request)
4: Conflict mitigation processing
alt [Conflict Mitigation accepts proposed message ]
5: RIC control request
[Conflict mitigation rejects proposed message ]
6: (E2 related API) E2 Control (Reject)
7: <<E2>> RIC CONTROL REQUEST
alt [E2 node accepts request ]
8: <<E2>> RIC CONTROL ACKNOWLEDGE
alt [E2 Related API configured to pass response directly to requesting xApp ]
9a: (E2 related API) E2 Control (Success )
[E2 Related API configured to pass response via Conflict Mitigation ]
9b: RIC control acknowledge
10: (E2 related API) E2 Control (Success )
[E2 node rejects request ]
11: <<E2>> RIC CONTROL FAILURE
alt [E2 Related API configured to pass response directly to requesting xApp ]
12a: (E2 related API) E2 Control (Failure)
[E2 Related API configured to pass response via Conflict Mitigation ]
12b: RIC control failure
13: (E2 related API) E2 Control (Failure)
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
66
 1
This procedure is initiated by an xApp using E2 Related API: E2 Guidance request. The following outcomes are 2
considered: 3
- Near-RT RIC Platform provides guidance to requesting xApp using E2 Related API: E2 Guidance  response; 4
- Near-RT RIC Platform provides modified guidance to another xApp and/or other platform function using E2 5
Related API: E2 Guidance response. 6
 7
Use Case Stage Evolution / Specification
Goal xApp initiation of Conflict Mitigation guidance.
Actors and Roles
- xApp: Originator of Conflict Mitigation guidance request;
- Near-RT RIC platform:
- Database;
- Conflict Mitigation.
Assumptions
- Conflict Mitigation has access to sufficient information to both detect a potential conflict and
take a decision on an optimal mitigation solution;
- Conflict Mitigation may initiate guidance towards other Platform Functions and/or xApp as an
optional addition response to Guidance Request.
Pre-conditions - xApp has been authorized to request guidance from Conflict Mitigation;
- xApp has been assigned xApp ID.
Begins when xApp determines need to request guidance from Conflict Mitigation.
Step 1 (M) xApp sends E2 Related API E2 Guidance Request to Conflict Mitigation.
Step 2
[Informative] Conflict Mitigation may recover related information from platform database.
Step 3
[Informative] Conflict Mitigation processes request.
Step 4
[Informative] Conflict Mitigation may signal conflict and/or provide guidance to another platform function.
Step 5 (O) Conflict Mitigation may signal conflict and/or provide guidance to another xApp using E2
Related API E2 Guidance (modification).
Step 6 (M) Conflict Mitigation sends E2 Related API E2 Guidance response to xApp.
Ends with xApp continues processing using Conflict Mitigation guidance response.
 8
@startuml 9
skinparam ParticipantPadding 50 10
skinparam BoxPadding 10 11
skinparam lifelineStrategy solid 12
 13
Collections “Other xApp” as xApp 14
Collections “xApp” as xApp2 15
Box “Platform Functions” 16
  Database "Database" as DB 17
  Participant “Conflict Mitigation” as ConMit 18
endbox 19
 20
 21
xApp2 -> ConMit: 1: (E2 related API) E2 Guidance (Request) 22
ConMit <--> DB: 2: Fetch related information 23
ConMit -> ConMit: 3: Conflict mitigation processing 24
ConMit -->: 4:  Guidance (Modification) 25
xApp<--ConMit: 5: (E2 related API) E2 Guidance (Modification) 26
ConMit -> xApp2: 6: (E2 related API) E2 Guidance (Response) 27
@enduml 28
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
67
 1
Figure 9.3.3.1-1: xApp initiated E2 guidance request/response procedure 2
9.3.3.2 E2 Guidance modification API procedure: xApp Subscription Management initiated 3
The purpose of the Near-RT RIC Platform internal xApp Subscription Management initiated E2 Guidance modification 4
procedure is to allow Conflict Mitigation to signal a potential modification of E2 Guidance as the result of an xApp 5
Subscription Management request to obtain guidance from the Conflict Mitigation platform function prior to handling 6
an action. 7
This procedure is based on the following assumptions: 8
- xApp Subscription Management may request guidance from Conflict Mitigation to resolve potential conflicts 9
prior to initiating a RIC function procedure; 10
- Conflict Mitigation may need to subsequentially modify previous provided Guidance to an xApp.  11
The following outcomes are considered: 12
- Conflict Mitigation provides guidance to xApp Subscription Management; 13
- Conflict Mitigation provides modified guidance to another Near-RT RIC platform function; 14
- Conflict Mitigation provides modified guidance to an xApp using E2 Related API: E2 Guidance  modification. 15
 16
Platform Functions
Other xApp
Other xApp
xApp
xApp
Database
Database
Conflict Mitigation
Conflict Mitigation
1: (E2 related API) E2 Guidance (Request)
2: Fetch related information
3: Conflict mitigation processing
4: Guidance (Modification)
5: (E2 related API) E2 Guidance (Modification)
6: (E2 related API) E2 Guidance (Response)
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
68
Use Case Stage Evolution / Specification
Goal xApp Subscription Management initiation of Conflict Mitigation guidance resulting in potential
E2 Related API: E2 Guidance modification sent to an xApp.
Actors and Roles
- Near-RT RIC platform:
- Database;
- Conflict Mitigation;
- xApp Subscription Management.
Assumptions
- Conflict Mitigation has access to sufficient information to both detect a potential conflict and
take a decision on an optimal mitigation solution;
- Conflict Mitigation may initiate guidance towards other Platform Functions and/or xApp as
an optional addition response to Guidance Request.
Pre-conditions - xApp Subscription Management has been configured to request guidance from Conflict
Mitigation.
Begins when xApp Subscription Management receives incoming request.
Step 1
[Informative] xApp Subscription Management requests guidance from Conflict Mitigation.
Step 2
[Informative] Conflict Mitigation may recover related information from platform database.
Step 3
[Informative] Conflict Mitigation processes request.
Step 4
[Informative] Conflict Mitigation may signal conflict and/or provide guidance to another platform function.
Step 5 (O) Conflict Mitigation may signal conflict and/or provide guidance to another xApp using E2
Related API: E2 Guidance (modification).
Step 6
[Informative] Conflict Mitigation responds to xApp Subscription Management.
Step 7
[Informative]
xApp Subscription Management may consider Conflict Mitigation response to determine
response to incoming request.
End with xApp Subscription Management sends response to incoming request.
 1
@startuml 2
skinparam ParticipantPadding 50 3
skinparam BoxPadding 10 4
skinparam lifelineStrategy solid 5
 6
Collections “Other xApp” as xApp 7
Collections “xApp” as xApp2 8
 9
Box “Platform Functions” 10
  Database "Database" as DB 11
  Collections "xApp Subscription Management" as SubM 12
  Participant “Conflict Mitigation” as ConMit 13
endbox 14
 15
xApp2-> SubM: Message (Request) 16
SubM -> ConMit: 1: Guidance (Request) 17
ConMit <--> DB: 2: Fetch related information 18
ConMit -> ConMit: 3: Conflict mitigation processing 19
ConMit -->: 4:  Guidance (Modification) 20
xApp <-- ConMit: 5:  (E2 Related API) E2 Guidance (Modification) 21
ConMit -> SubM: 6: Guidance (Response)  22
SubM -> SubM: 7: Use guidance response as part of decision process  23
Alt Message accepted 24
  SubM -> : Message (Request) 25
Else Message rejected 26
  xApp2 <- SubM : Message (Reject) 27
end 28
@enduml 29
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
69
 1
Figure 9.3.3.2-1: E2 Guidance modification API procedure: xApp Subscription Management  initiated 2
 3
9.3.3.3 E2 Guidance modification API procedure: message monitoring initiated 4
The purpose of the Conflict mitigation related message monitoring procedure in the Near -RT RIC is to allow the 5
Conflict Mitigation platform function to monitor ongoing transactions involving other Platform Functions. 6
This procedure is based on the following assumptions: 7
- Other Platform functions (i.e. E2 termination, xApp Subscription Management) may be configured to forward 8
messages related to xApp transactions to Conflict Mitigation; 9
- Conflict Mitigation may use information obtained when formulating responses in a subsequent procedure and/or 10
modify previous Guidance to another Near-RT RIC platform function; 11
- Conflict Mitigation may use information to provide modified guidance to an xApp using E2 Related API: E2 12
Guidance modification. 13
 14
Platform Functions
Other xApp
Other xApp
xApp
xApp
Database
Database
xApp Subscription Management
xApp Subscription Management
Conflict Mitigation
Conflict Mitigation
Message (Request)
1: Guidance (Request)
2: Fetch related information
3: Conflict mitigation processing
4: Guidance (Modification)
5: (E2 Related API) E2 Guidance (Modification)
6: Guidance (Response)
7: Use guidance response as part of decision process
alt [Message accepted ]
Message (Request)
[Message rejected ]
Message (Reject)
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
70
Use Case Stage Evolution / Specification
Goal Platform function forward xApp related messages to Conflict Mitigation resulting in
potential E2 Related API: E2 Guidance modification sent to an xApp.
Actors and Roles
- Near-RT RIC platform:
- Conflict Mitigation;
- Other Platform Function:
- xApp Subscription Management;
- E2 Termination;
- Etc.
Assumptions - Conflict Mitigation is capable of exploiting collected xApp related messages.
Pre-conditions - Other Platform Functions have been configured to copy and forward selected xApp
related message to Conflict Mitigation.
Step 1
[Informative] Message received by other Platform Function.
Step 2
[Informative] Other Platform Function handles incoming message and sends outgoing message.
Step 3
[Informative]
Other Platform Function applies message filter and determines that message is to be
copied and sent to Conflict Mitigation. If filter conditions match, then forwards copy of
incoming message to Conflict mitigation.
Step 4
[Informative] Conflict Mitigation processes forwarded message.
Step 5
[Informative]
Conflict Mitigation may signal conflict and/or provide updated guidance to another
platform function.
Step 6 (O) Conflict Mitigation may signal conflict and/or provide updated guidance to another xApp
using E2 Related API: E2 Guidance (modification).
 1
@startuml 2
skinparam ParticipantPadding 50 3
skinparam BoxPadding 10 4
skinparam lifelineStrategy solid 5
 6
Collections “Other xApp” as xApp 7
 8
Box “Platform Functions” 9
  Participant “Conflict Mitigation” as ConMit 10
  Participant "Other Platform Function (i.e. E2 termination)" as Other 11
endbox 12
 13
 14
-> Other: 1: Message 15
Other -> Other : 2.1: Process incoming message 16
Other -> : 2.2: Message 17
Other -> Other : 3.1: Apply filter  18
Other -> ConMit: 3.2: Forward message 19
ConMit -> ConMit: 4: Process forwarded message 20
ConMit -->: 5: Guidance (Modification) 21
xApp <-- ConMit: 6: (E2 Related API) E2 Guidance (Modification) 22
 23
@enduml 24
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
71
 1
Figure 9.3.3.3-1: E2 Guidance modification API procedure: message monitoring initiated 2
 3
9.3.3.4 E2 Guidance modification API procedure: Conflict Mitigation initiated 4
The purpose of the Conflict Mitigation initiated conflict mitigation procedure in the Near -RT RIC is to allow Conflict 5
Mitigation to directly intervene during the handling an action. 6
This procedure is based on the following assumptions: 7
- Messages from xApp or other platform functions may be redirected towards Conflict Mitigation to resolve 8
potential conflicts prior to initiating a RIC function procedure; 9
- xApp would not be aware of the redirection if conflict mitigation accepts the proposed message . 10
The following outcomes are considered: 11
- Conflict Mitigation accepts proposed message and forwards to other platform function;  12
- Conflict Mitigation rejects proposed message and sends a rejection message to the initiating xApp or other 13
platform function providing both cause for rejection and optionally guidance . 14
 15
Platform Functions
Other xApp
Other xApp
Conflict Mitigation
Conflict Mitigation
Other Platform Function (i.e. E2 termination)
Other Platform Function (i.e. E2 termination)
1: Message
2.1: Process incoming message
2.2: Message
3.1: Apply filter
3.2: Forward message
4: Process forwarded message
5: Guidance (Modification)
6: (E2 Related API) E2 Guidance (Modification)
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
72
Use Case Stage Evolution / Specification <<Uses>>
Related use
Goal Conflict Mitigation initiation of Conflict Mitigation guidance resulting in
potential E2 Related API: E2 Guidance modification sent to an xApp.
Actors and Roles
- xApp or other platform function;
- Near-RT RIC platform:
- Database;
- Conflict Mitigation.

Assumptions
- Messages from xApp or other platform function may be redirected to
Conflict Mitigation;
- Conflict Mitigation has access to sufficient information to both detect a
potential conflict and take a decision on an optimal mitigation solution;
- Conflict Mitigation may initiate guidance towards other Platform
Functions and/or xApp as an optional addition response to Guidance
Request.

Pre-conditions - Message infrastructure has been configured to redirect specified
messages to Conflict Mitigation.
Begins when xApp or other platform function sends message to platform function. RIC functional
procedures
Step 1
[Informative] Message infrastructure redirects message from xApp to Conflict Mitigation.
Step 2
[Informative] Conflict Mitigation may recover related information from SDL.
Step 3
[Informative] Conflict Mitigation processes request.
 [ALT] Step 4 is executed If Conflict Mitigation accepts the request:
Step 4
[Informative]
Conflict Mitigation may forward to E2 termination for delivery.

 [ELSE] Step 5 is executed If Conflict Mitigation rejects the request:
Step 5
[Informative]
Conflict Mitigation may send a rejection message to xApp including
indication of cause and optionally guidance information.
Step 6 (O) Conflict Mitigation may signal conflict and/or provide guidance to another
platform function or xApp.
Step 7 (O) Conflict Mitigation may signal conflict and/or provide updated guidance to
another xApp using E2 Related API: E2 Guidance (modification).
Ends with xApp receives eventual response from E2 Node.
 1
@startuml 2
skinparam ParticipantPadding 50 3
skinparam BoxPadding 10 4
skinparam lifelineStrategy solid 5
 6
Collections “Other xApp” as xApp 7
 8
Box “Platform Functions” 9
  Database "Database" as DB 10
  Participant “Conflict Mitigation” as ConMit 11
Endbox 12
 13
 14
-> ConMit: 1: Message (Request) 15
ConMit <--> DB: 2: Fetch related information 16
ConMit -> ConMit: 3: Conflict mitigation processing 17
Alt Conflict mitigation accepts message 18
  ConMit -> : 4: Message (Request) 19
Else Conflict Mitigation rejects message 20
<- ConMit: 5: Message (Reject, Cause) 21
End 22
ConMit -->: 6: Guidance 23
xApp <-- ConMit: 7:  (E2 related) E2 Guidance (Modification) 24
@enduml 25
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
73
 1
Figure 9.3.3.4-1: E2 Guidance modification API procedure: Conflict Mitigation initiated  2
 3
9.4 Management API Procedures 4
9.4.1 xApp Registration procedure 5
This procedure registers the xApp to the Near-RT RIC platform so that it can be managed by the SMO via the Near-RT 6
RIC platform. When the xApp is deployed, it will register itself as a managed application to the Near -RT RIC platform 7
by passing the relevant info through the API. Relevant info may include the xApp name, vendor, software version, 8
YANG schemas for configuration management, faults raised, metrics generated, ports for messaging, supported 9
commands (e.g. health check, aliveness probe) and other information needed by the Near-RT RIC platform and/or the 10
SMO for managing the xApp.    11
In response to an xApp Registration, Near-RT RIC platform performs the following: 12
- Authenticates the xApp; 13
- Validates that this xApp can run on this Near-RT RIC platform; e.g. RIC has the capacity; 14
- Assigns an ID to the xApp; 15
- Creates an xApp Managed Object Instance (MOI) in the Near-RT RIC Config DB and populates it with the 16
relevant information passed from the xApp; 17
- Sends a Notify MOI Creation to SMO if subscribed. 18
Platform Functions
Other xApp
Other xApp
Database
Database
Conflict Mitigation
Conflict Mitigation
1: Message (Request)
2: Fetch related information
3: Conflict mitigation processing
alt [Conflict mitigation accepts message ]
4: Message (Request)
[Conflict Mitigation rejects message ]
5: Message (Reject, Cause)
6: Guidance
7: (E2 related) E2 Guidance (Modification)
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
74
Use Case
Stage Evolution / Specification <<Uses>>
Related use
Goal To register the newly deployed xApp to the Near-RT RIC platform.
Actors and
Roles
- xApp: originator of the xApp registration procedure;
- Management Service in Near -RT RIC platform: handle
registration related message from/to xApp and O1 termination
and may do initial validation of xApp.

Assumptions The API channel is established successfully between xApp and
Management Service in the Near-RT RIC platform.
Pre conditions The xApp is deployed onto the Near-RT RIC platform.
Begins when An xApp is deployed and ready for registration.
Step 1 (M)
xApp send xApp registration request to the Management Service
Component in the Near -RT RIC platform.  passing relevant
information needed to manage the xApp.

Step 2 (M)
Near-RT RIC platform processes the application registration,
which includes (not an exhaustive list):
- Performing authentication and validity checks;
- If the checks pass, assigning an xApp ID for the xApp;
- Creating an xApp Managed Object Instance in the Near -RT
RIC Config DB in compliance with the YANG schemas;
- Populating xApp MOI with the xApp ID and the initial xApp
configuration.

Step 3 (M)
The Management Service send the registration response to the
xApp. If the response indicates the registration fails, it will send
the registration response with failure results and failure cause.

Step 4 (O)
If SMO has subscribed to CM Notifications from the Near-RT RIC,
O1 Terminations formats and sends a Notify MOI Creation to
SMO to notify SMO that a MOI has been created for a new xApp.

 1
@startuml  2
skinparam ParticipantPadding 5  3
skinparam BoxPadding 10  4
skinparam defaultFontSize 12  5
skinparam lifelineStrategy solid   6
 7
participant smo as “SMO”   8
Box “O-Cloud” 9
participant dms as “DMS” 10
endbox 11
participant xApp as "xApp"    12
Box “Near-RT RIC Platform”  13
participant o1t as “O1 Termination”   14
participant ms as “Management Services” 15
endbox 16
 17
xApp -> ms  : 1. <<MS>> registration request 18
 19
rnote over o1t, ms  20
     2. registration processing 21
         validate, assign xApp ID, create xApp MOI 22
endnote 23
 24
ms  -> xApp  : 3. <<MS>> registration response 25
 26
Opt If SMO has subscribed 27
o1t -> smo   : 4. <<O1>> Notify MOI Creation   28
End 29
 30
@enduml 31
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
75
 1
Figure 9.4.1-1:  xApp Registration procedure  2
9.4.2 xApp Deregistration procedure 3
This procedure deregisters the xApp from the Near-RT RIC platform.  4
The message flow is FFS. 5
 6
9.4.3 xApp Configuration procedure 7
This procedure configures an xApp when a configuration request is received from the SMO over the O1. SMO sends 8
the configuration request via a NETCONF command over the O1 to O1 Termination in the Near -RT RIC platform. O1 9
Termination validates and saves the configuration persistently in the Config DB and responds to the SMO. If the 10
configuration is for an xApp, Management Services notifies the xApp of the new configuration via the  Configuration 11
API. xApp takes the new configuration into use. 12
Use Case Stage Evolution / Specification <<Uses>>
Related use
Goal To configure a registered xApp.
Actors and Roles
- xApp: the object of xApp configuration procedure
- Near-RT RIC platform:
- Management Services: handle the configuration related message
from/to xApp and O1 termination;
- O1 Termination: receive and send message from/to Management
Service and SMO.

Assumptions - The API channel is established successfully between xApp and
Management Services in the Near-RT RIC platform.
Pre conditions - The xApp is installed successfully on the Near -RT RIC platform and
registered to the SMO.
Begins when O1 Termination receives the configuration message from SMO to indicate
that there’s configuration for the xApp.
Step 1(M)
[informative] Near-RT RIC determines that the configuration is for an xApp.
Step 2(M) The Management Service s identify the reconfiguration info related to the
xApp and send the xApp configuration message to the xApp via the API.
Step 3(M)
The xApp takes the new configuration into use and response the
Management Service with the xApp configuration response messa ge to
indicate the configuration result (success or failure).

 13
@startuml  14
skinparam ParticipantPadding 50 15
O-Cloud Near-RT RIC Platform
SMO
SMO
DMS
DMS
xApp
xApp
O1 T ermination
O1 T ermination
Management Services
Management Services
1. <<MS>> registration request
2. registration processing
validate, assign xApp ID, create xApp MOI
3. <<MS>> registration response
opt [If SMO has subscribed]
4. <<O1>> Notify MOI Creation
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
76
skinparam BoxPadding 10  1
skinparam defaultFontSize 12  2
skinparam lifelineStrategy solid 3
 4
Collections xApp as "xApp"  5
Box “Near-RT RIC Platform” 6
  participant ms as “Management Services” 7
  participant o1t as "O1 Termination" 8
endbox  9
 10
o1t <--> ms : 1. Determine configuration for the xApp 11
ms -> xApp  : 2. xApp Configuration Request 12
xApp -> ms  : 3. xApp Configuration Response 13
@enduml 14
 15
Figure 9.4.3-1:  xApp Configuration procedure 16
 17
9.5 SDL API Procedures 18
9.5.1 SDL Client Registration procedure 19
The SDL Client Registration procedure in the Near-RT RIC enables an xApp to register with the SDL for permission to 20
access the database. 21
Use Case Stage Evolution / Specification
Goal xApp requests the SDL as a client for the permission to access database.
Actors and Roles - xApp: Originator of SDL Client Registration request;
- SDL: Response to the request of xApp.
Pre-conditions - SDL API services have been registered and authorized by API Enablement.
Begins when xApp determines to register with SDL to access the database in the Near-RT-RIC platform.
Step 1 (M) xApp sends SDL Client Registration request to SDL to obtain permission to access the
database.
Step 2
[Informative]
SDL arranges with the database the permission for the xApp to access the database (internal
implementation).
Step 3 (M) SDL sends the response of successful or failed registration to the xApp.
 22
@startuml 23
skinparam ParticipantPadding 10 24
skinparam BoxPadding 5 25
skinparam lifelineStrategy solid 26
 27
Collections “xApp” as xApp 28
Box “Platform Functions” 29
  Participant “SDL” as SDL 30
  Database "Database" as DB 31
endbox 32
xApp -> SDL: 1.  SDL Client Registration request 33
SDL <--> DB: 2. Register to database 34
Near-RT RIC Platform
xApp
xApp
Management Services
Management Services
O1 T ermination
O1 T ermination
1. Determine configuration for the xApp
2. xApp Configuration Request
3. xApp Configuration Response
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
77
SDL -> xApp: 3. SDL Client Registration response 1
@enduml 2
 3
Figure 9.5.1-1: SDL Client Registration procedure 4
9.5.2 SDL Client Deregistration procedure 5
The SDL Client Deregistration procedure in the Near-RT RIC enables an xApp to request the SDL to release the 6
registration. 7
Use Case Stage Evolution / Specification
Goal xApp requests the SDL to release the registration.
Actors and Roles - xApp: Originator of SDL Client Deregistration request;
- SDL: Response to the request of xApp.
Pre-conditions - SDL API services have been registered with API Enablement;
- xApp has successfully registered as a client to the SDL before.
Begins when xApp determines to release the registration with SDL.
Step 1 (M) xApp sends Client Deregistration request to SDL to release the connection with database.
Step 2
[Informative] SDL deregisters from database (internal implementation).
Step 3 (M) SDL sends the response of successful or failed deregistration to the xApp.
 8
@startuml 9
skinparam ParticipantPadding 10 10
skinparam BoxPadding 5 11
skinparam lifelineStrategy solid 12
 13
Collections “xApp” as xApp 14
Box “Platform Functions” 15
  Participant “SDL” as SDL 16
  Database "Database" as DB 17
endbox 18
xApp -> SDL: 1. SDL Client Deregistration request 19
SDL <--> DB: 2. Deregister from database 20
SDL -> xApp: 3. SDL Client Deregistration response 21
@enduml 22
Platform Functions
xApp
xApp
SDL
SDL
Database
Database
1. SDL Client Registration request
2. Register to database
3. SDL Client Registration response
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
78
 1
Figure 9.5.2-1: SDL Client Deregistration procedure 2
9.5.3 Fetch Data procedure 3
The Fetch Data procedure in the Near-RT RIC enables an xApp to request data for which it is authorized from the SDL 4
for local processing. 5
Use Case Stage Evolution / Specification
Goal xApp fetches data from the SDL.
Actors and Roles - xApp: Originator of Fetch Data request;
- SDL: Response to the request of xApp.
Pre-conditions
- SDL API services have been registered with API Enablement;
- xApp has successfully registered as a client to the SDL before;
- xApp has been authorized to read the data in the database.
Begins when xApp determines to fetch relevant data from the SDL in the Near-RT-RIC platform.
Step 1 (M) xApp requests to SDL to fetch data from database.
Step 2
[Informative] SDL fetches xApp required information from database (internal implementation).
Step 3 (M) SDL sends the requested data or the failure response to specific xApp.
 6
@startuml 7
skinparam ParticipantPadding 10 8
skinparam BoxPadding 5 9
skinparam lifelineStrategy solid 10
 11
Collections “xApp” as xApp 12
Box “Platform Functions” 13
  Participant “SDL” as SDL 14
  Database "Database" as DB 15
endbox 16
xApp -> SDL: 1. Fetch data request 17
SDL <--> DB: 2. Fetch related information 18
SDL -> xApp: 3. Fetch data response 19
@enduml 20
Platform Functions
xApp
xApp
SDL
SDL
Database
Database
1. SDL Client Deregistration request
2. Deregister from database
3. SDL Client Deregistration response
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
79
 1
Figure 9.5.3-1: Fetch Data procedure 2
9.5.4 Subscribe/Notify procedure 3
The Subscribe/Notify procedure in the Near-RT RIC allows the xApp to subscribe to SDL for the authorized data 4
changes in the database. The SDL will notify the information changes to the xApp, and the xApp may  subsequently 5
request updated data through the Fetch Data procedure. 6
The notifications are generated only for changes to the information after the subscription.  7
Use Case Stage Evolution / Specification
Goal XApp subscribes with the SDL for data changes and receives related notifications.
Actors and Roles - xApp: Originator of Subscribe request;
- SDL: Response to the request of xApp, and notify the subscribed information to xApp.
Pre-conditions - SDL API services have been registered by API Enablement;
- xApp has successfully registered as a client to the SDL before.
Begins when xApp determines to subscribe for notifications related to information changes in the SDL in the
Near-RT-RIC platform.
Step 1 (M) xApp sends the request to SDL to subscribe for notifications related to information changes.
Step 2 (M) SDL responds to the xApp subscription.
Step 3 (M) SDL sends the notification for the subscribed information changes to the xApp. The xApp may
further send a request to SDL to fetch the updated information.
 8
@startuml 9
skinparam ParticipantPadding 10 10
skinparam BoxPadding 5 11
skinparam lifelineStrategy solid 12
 13
Collections “xApp” as xApp 14
Box “Platform Functions” 15
  Participant “SDL + Database” as SDL 16
endbox 17
xApp -> SDL: 1. Subscribe information request 18
SDL -> xApp: 2. Subscribe information response 19
SDL -> xApp: 3. Notify information changes 20
@enduml 21
 22
Platform Functions
xApp
xApp
SDL
SDL
Database
Database
1. Fetch data request
2. Fetch related information
3. Fetch data response
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
80
 1
Figure 9.5.4-1:  Subscribe/Notify procedure 2
 3
9.5.5 Store Data procedure 4
The Store Data procedure in the Near-RT RIC ensures that the xApp may request SDL to insert data to the database. 5
Use Case Stage Evolution / Specification
Goal XApp requests to store data in the SDL.
Actors and Roles - xApp: Originator of Store Data request;
- SDL: Response to the request of xApp.
Pre-conditions
- SDL API services have been registered by API Enablement;
- xApp has successfully registered as a client to the SDL before;
- xApp has been authorized to write the data in the database.
Begins when xApp determines to store relevant data to the database in the Near-RT-RIC platform.
Step 1 (M) xApp sends a request to SDL to store related information and try to insert data to database.
Step 2
[Informative] SDL stores xApp requested information in database (internal implementation).
Step 3 (M) SDL responds to the xApp, including success and failure operation.
 6
@startuml 7
skinparam ParticipantPadding 10 8
skinparam BoxPadding 5 9
skinparam lifelineStrategy solid 10
 11
Collections “xApp” as xApp 12
Box “Platform Functions” 13
  Participant “SDL” as SDL 14
  Database "Database" as DB 15
endbox 16
xApp -> SDL: 1. Store data request 17
SDL <--> DB: 2. Store related data 18
SDL -> xApp: 3. Store data response 19
@enduml 20

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
81
 1
Figure 9.5.5-1: Store Data procedure 2
9.5.6 Modify Data procedure 3
The Modify Data procedure in the Near-RT RIC allows the xApp to request SDL to update or delete data from 4
database. 5
Use Case Stage Evolution / Specification
Goal XApp intends to modify or delete data stored by the SDL.
Actors and Roles - xApp: Originator of Modify Data request;
- SDL: Response to the request of xApp.
Pre-conditions
- SDL API services have been registered by API Enablement;
- xApp has successfully registered as a client to the SDL before;
- xApp has been authorized to write the data in the database.
Begins when xApp determines to modify relevant data stored by the database in the Near-RT-RIC platform.
Step 1 (M) xApp sends a request to SDL to modify related information, including update and delete data in
database.
Step 2
[Informative] SDL modifies or deletes xApp requested information in database (internal implementation).
Step 3 (M) SDL responds to the xApp, including success and failure operation.
 6
@startuml 7
skinparam ParticipantPadding 10 8
skinparam BoxPadding 5 9
skinparam lifelineStrategy solid 10
 11
Collections “xApp” as xApp 12
Box “Platform Functions” 13
  Participant “SDL” as SDL 14
  Database "Database" as DB 15
endbox 16
xApp -> SDL: 1. Modify data request 17
SDL <--> DB: 2. Modify related data 18
SDL -> xApp: 3. Modify data response 19
@enduml 20
Platform Functions
xApp
xApp
SDL
SDL
Database
Database
1. Store data request
2. Store related data
3. Store data response
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
82
 1
Figure 9.5.6-1: Modify Data procedure 2
 3
9.5.7 Subscribe/Push procedure 4
The Subscribe/Push procedure in the Near-RT RIC allows the xApp to subscribe to the SDL for authorized data 5
changes in the database. The SDL will send the xApp both the type of information changes (meta-data) and, in the same 6
message, the updated data itself. 7
The pushes are generated only for changes to the information after the subscription.  8
Use Case Stage Evolution / Specification
Goal xApp subscribes with the SDL for data changes and receives related push messages.
Actors and Roles
- xApp: Originates the Subscribe request;
- SDL: Responds to the xApp request and pushes the subscribed data and meta-data to the
xApp.
Pre-conditions - SDL API services have been registered by API Enablement;
- xApp has successfully registered as a client to the SDL.
Begins when xApp subscribes for push messages related to information changes in the SDL in the Near-RT
RIC platform.
Step 1 (M) xApp sends the request to SDL to subscribe for push messages related to information changes.
Step 2 (M) SDL responds to the xApp subscription.
Step 3 (M) SDL sends the push message with data and meta-data for the subscribed information changes
to the xApp.
 9
@startuml 10
skinparam ParticipantPadding 10 11
skinparam BoxPadding 5 12
skinparam lifelineStrategy solid 13
 14
Collections “xApp” as xApp 15
Box “Platform Functions” 16
  Participant “SDL + Database” as SDL 17
endbox 18
xApp -> SDL: 1. Subscribe information request 19
SDL -> xApp: 2. Subscribe information response 20
SDL -> xApp: 3. Push (data + meta-data) 21
@enduml 22
Platform Functions
xApp
xApp
SDL
SDL
Database
Database
1. Modify data request
2. Modify related data
3. Modify data response
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
83
 1
 2
 3
Figure 9.5.7-1:  Subscribe/Push procedure 4
9.5.8 Use cases of SDL API 5
9.5.8.1 Subscribe/Notify for E2NodeInfo and E2NodeList 6
The SDL Subscribe/Notify procedure (9.5.4) along with the SDL fetch procedure (9.5.3) may be used for getting 7
notifications and fetching information on E2NodeInfo changes (via E2 Setup Request or RIC Service Update or E2 8
Node Configuration Update). 9
As noted in 9.5.4, notifications will be generated only for changes to E2NodeInfo after the subscription. To get the 10
complete state of E2NodeInfo, the xApp may do a fetch. 11

O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
84
Use Case Stage Evolution / Specification
Goal Inform the xApp about changes to E2 Node information
Actors and Roles
- E2 Nodes: O-CU, O-DUs supporting the E2 interface.
- xApps: Requires information about changes to E2 Node information.
- Near-RT RIC:
- SDL: Shared Data Layer exposing an SDL API to the xApps;
- E2 Termination: Termination of E2 Node connections.
Pre-conditions
- SDL API services have been registered and authorized by API Enablement;
- xApp has successfully registered as a client to the SDL before;
- xApp has been authorized to read the data in the database.
Begins when xApp decides it is interested in E2NodeInfo updates.
Step 1 (M) xApp sends request to SDL to subscribe for notifications related to E2NodeInfo changes.
Step 2 (M) SDL responds to xApp subscription.
Step 3 (M) E2 Node sends E2 Setup Request or RIC Service Update or E2NodeConfigurationUpdate.
 [ALT] Steps 4-10 are executed if the handling of incoming E2 message succeeds:
Step 4
[Informative] E2 Termination updates the Database (internal implementation).
Step 5 (M) E2 Termination sends E2 Setup Response or RIC Service Update Acknowledge or E2 Node
Configuration Update Acknowledge.
Step 6
[Informative] SDL arrives at list of xApps that would be interested in this update (internal implementation).
 [LOOP] Steps 7-10 are looped for each relevant xApp.
Step 7 (M) SDL sends a notification of E2NodeInfo update to the xApp which includes the
E2NodeID.
Step 8
[Informative]
xApp makes decision on whether to fetch the updated information from the SDL (xApp
internal implementation)
 [OPT] Steps 9-10 are executed if the xApp decides that it needs the update:
Step 9 (M) xApp sends a fetch request to the SDL which includes the E2NodeID.
Step 10 (M) SDL responds with a fetch response which includes the E2NodeID and E2NodeInfo.
 [ELSE] Step 11 is executed if the handling of incoming E2 message fails:
Step 11 (M) E2 Termination sends E2 Setup Failure or RIC Service Update Failure or E2 Node
Configuration Update Failure to the E2 Node.
 1
@startuml 2
skinparam ParticipantPadding 50 3
skinparam BoxPadding 10 4
skinparam lifelineStrategy solid 5
Collections "xApp" as xApp 6
box "Platform functions" 7
  Participant "SDL + Database" as SDL 8
  Collections "E2 Termination" as E2T 9
endbox 10
Collections "E2 Node" as ran 11
xApp -> SDL: 1. <SDL API> Subscribe Information Request (E2NodeInfo, Notify, Filter(O)) 12
SDL -> xApp: 2. <SDL API> Subscribe Information Response 13
ran -> E2T: 3. <<E2>> E2SetupRequest / RICServiceUpdate / E2NodeConfigurationUpdate 14
Alt Handling of E2 message succeeds 15
  E2T --> SDL: 4. Update E2NodeInfo 16
  E2T -> ran: 5. <<E2>> E2SetupResponse / RICServiceUpdateAcknowledge / 17
E2NodeConfigurationUpdateAcknowledge 18
  SDL --> SDL : 6. Arrive at list of xApps relevant for this update 19
  Loop for each xApp in relevant xApps 20
    SDL -> xApp: 7. <SDL API> Notification of E2NodeInfo update (E2node ID) 21
    xApp -> xApp: 8. Decide whether to fetch the update from SDL 22
    Opt xApp fetches E2NodeInfo 23
      xApp -> SDL: 9. <SDL API> Fetch Request (E2node ID) 24
      SDL -> xApp: 10. <SDL API> Fetch Response (E2node ID, E2nodeInfo) 25
    End 26
  End   27
Else Handling of E2 message fails 28
  E2T -> ran: 11. <<E2>> E2SetupFailure / RICServiceUpdateFailure / 29
E2NodeConfigurationUpdateFailure 30
End 31
@enduml 32
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
85
 1
 2
 3
Figure 9.5.8.1-1: Subscribe/Notify procedures for E2NodeInfo and E2NodeList 4
NOTE: Similar to E2NodeInfo, the xApps may subscribe to and get notifications for any changes to the E2NodeList. 5
The steps involved and the interactions would be exactly the same as E2NodeInfo.  6
9.5.8.2 Subscrib e/Push for E2NodeInfo and E2NodeList 7
The SDL Subscribe/Push procedure (9.5.7) may be used for getting information pushes on E2NodeInfo changes (via E2 8
Setup Request or RIC Service Update or E2 Node Configuration Update). 9
As noted in section 9.5.7, the pushes will be generated only for changes to E2NodeInfo after the subscription. To get the 10
complete state of E2NodeInfo, the xApp may do a fetch. 11
 12
Use Case Stage Evolution/Specification
Goal Inform the xApp about changes to E2 Node information.
Actors and Roles
- E2 Nodes: O-CU, O-DUs supporting the E2 interface;
- xApps: Requires information about changes to E2 Node information;
- Near-RT RIC:
- SDL: Shared data layer exposing an SDL API to the xApps;
- E2 Termination: Termination of E2 node connections.
Pre-conditions
- SDL API services have been registered and authorized by API Enablement;
- xApp has successfully registered as a client to the SDL before;
- xApp has been authorized to read the data in the database.
Begins when xApp decides it is interested in E2NodeInfo updates.
Step 1 (M) xApp sends request to SDL to subscribe for pushes related to E2NodeInfo changes.
Step 2 (M) SDL responds to xApp subscription.
Step 3 (M) E2 Node sends E2 Setup Request or RIC Service Update or E2 Node Configuration Update.
 [ALT] Steps 4-7 are executed if the handling of incoming E2 message succeeds:
Step 4
[Informative] E2 Termination updates the Database (internal implementation).
Step 5 (M) E2 Termination sends E2SetupResponse or RIC Service Update Acknowledge or E2 Node
Configuration Update Acknowledge.
Step 6
[Informative] SDL arrives at list of xApps that would be interested in this update (internal implementation).
Step 7 (M) For each relevant xApp, SDL sends a push of E2NodeInfo update to the xApp which includes
the E2NodeID and E2NodeInfo.
 [ELSE] Step 8 is executed if the handling of the incoming E2 message fails:
Step 8 (M) E2 Termination sends E2 Setup Failure or RIC Service Update Failure or E2 Node
Configuration Update Failure to the E2 Node.
 13
@startuml 14
skinparam ParticipantPadding 50 15
skinparam BoxPadding 10 16
skinparam lifelineStrategy solid 17
Collections "xApp" as xApp 18
box "Platform functions" 19
Platform functions
xApp
xApp
SDL + Database
SDL + Database
E2 Termination
E2 Termination
E2 Node
E2 Node
1. <SDL API> Subscribe Information Request (E2NodeInfo, Notify, Filter(O))
2. <SDL API> Subscribe Information Response
3. <<E2>> E2SetupRequest / RICServiceUpdate / E2NodeConfigurationUpdate
alt [Handling of E2 message succeeds ]
4. Update E2NodeInfo
5. <<E2>> E2SetupResponse / RICServiceUpdateAcknowledge / E2NodeConfigurationUpdateAcknowledge
6. Arrive at list of xApps relevant for this update
loop [for each xApp in relevant xApps ]
7. <SDL API> Notification of E2NodeInfo update (E2node ID)
8. Decide whether to fetch the update from SDL
opt [xApp fetches E 2NodeInfo]
9. <SDL API> Fetch Request (E2node ID)
10. <SDL API> Fetch Response (E2node ID, E2nodeInfo)
[Handling of E2 message fails ]
11. <<E2>> E2SetupFailure / RICServiceUpdateFailure / E2NodeConfigurationUpdateFailure
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
86
  Participant "SDL + Database" as SDL 1
  Collections "E2 Termination" as E2T 2
endbox 3
Collections "E2 Node" as ran 4
xApp -> SDL: 1. <SDL API> Subscribe Information Request (E2NodeInfo, Push, Filter(O)) 5
SDL -> xApp: 2. <SDL API> Subscribe Information Response 6
ran -> E2T: 3. <<E2>> E2SetupRequest / RICServiceUpdate / E2NodeConfigurationUpdate 7
Alt Handling of E2 message successful 8
  E2T --> SDL: 4. Update E2NodeInfo, E2NodeList 9
  E2T -> ran: 5. <<E2>> E2SetupResponse / RICServiceUpdateAcknowledge / 10
E2NodeConfigurationUpdateAcknowledge 11
  SDL --> SDL : 6. Arrive at list of xApps relevant for this update 12
  Loop for each xApp in relevant xApps 13
    SDL -> xApp: 7. <SDL API> Push of E2NodeInfo (E2NodeID, E2NodeInfo) 14
  End 15
Else Handling of E2 message failed 16
  E2T -> ran: 8. <<E2>> E2SetupFailure / RICServiceUpdateFailure / 17
E2NodeConfigurationUpdateFailure 18
End 19
@enduml 20
 21
 22
 23
Figure 9.5.8.2-1: Subscribe/Push procedures for E2NodeInfo and E2NodeList 24
NOTE: Similar to E2NodeInfo, the xApps may subscribe to and get pushes for any changes to the E2NodeList. The 25
steps involved and the interactions would be exactly the same as E2NodeInfo.  26
9.6 API Enablement Procedures  27
9.6.1 Near-RT RIC API Discovery procedure 28
This procedure enables the xApp(s) to discover the Near-RT RIC APIs which are offered by the Near-RT RIC platform.  29
Platform functions
xApp
xApp
SDL + Database
SDL + Database
E2 Termination
E2 Termination
E2 Node
E2 Node
1. <SDL API> Subscribe Information Request (E2NodeInfo, Push, Filter(O))
2. <SDL API> Subscribe Information Response
3. <<E2>> E2SetupRequest / RICServiceUpdate / E2NodeConfigurationUpdate
alt [Handling of E2 message successful ]
4. Update E2NodeInfo, E2NodeList
5. <<E2>> E2SetupResponse / RICServiceUpdateAcknowledge / E2NodeConfigurationUpdateAcknowledge
6. Arrive at list of xApps relevant for this update
loop [for each xApp in relevant xApps ]
7. <SDL API> Push of E2NodeInfo (E2NodeID, E2NodeInfo)
[Handling of E2 message failed ]
8. <<E2>> E2SetupFailure / RICServiceUpdateFailure / E2NodeConfigurationUpdateFailure
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
87
Use Case Stage Evolution / Specification <<Uses>>
Related use
Goal To allow the xApp to discover which APIs are provided by the Near -RT RIC
platform and how to access them.
Actors and Roles
- xApp: Requester of the available Near-RT RIC APIs in RIC platform and
potential Near-RT RIC API consumer.
- API Enablement : providin g the Near -RT RIC API information to the
xApps.

Assumptions For initiating the discovery, the xApp has registered to Near-RT RIC platform
and is aware of the Enablement API information.
Pre conditions
- The xApp is deployed to Near-RT RIC platform.
- The Enablement API information has been provided to the xApp (as pre-
configuration by SMO or by other means.

Begins when xApps wants to discover the APIs which are provided by the Near-RT RIC
platform (via API Enablement).
Step 1 (M)
xApp sends a Near-RT RIC API discovery request to the API Enablement. It
includes the xApp identity and includes query information. Query information
may include criteria for discovering matching APIs (e.g. API type, Serving
Area Information, interfaces, protocols).

Step 2
[Informative]
API Enablement verifies the identity of the xApp. API enablement retrieves
the stored Near-RT RIC API(s) information, as per the query information in
the discovery request. Also, the API Enablement applies the discovery policy
and performs filtering of the retrieved Near-RT RIC APIs information.

Step 3 (M)
The API Enablement function sends a Near-RT RIC API discovery response
to the xApp with the information about the APIs for which the xApp has the
required authorization.

 1
@startuml 2
skinparam ParticipantPadding 50 3
skinparam BoxPadding 10 4
skinparam defaultFontSize 12 5
skinparam lifelineStrategy solid 6
 7
Collections xApp as "xApp" 8
 9
Box “Near-RT RIC Platform” 10
  participant ams as “API Enablement”   11
endbox 12
 13
xApp -> ams   : 1. Near-RT RIC API discovery request 14
ams --> ams    : 2. Retrieve Near-RT RIC API information 15
ams -> xApp  : 3. Near-RT RIC API discovery response 16
 17
@enduml 18
 19
 20
Figure 9.6.1-1: Near-RT RIC API Discovery procedure  21
Near-RT RIC Platform
xApp
xApp
API Enablement
API Enablement
1. Near-RT RIC API discovery request
2. Retrieve Near-RT RIC API information
3. Near-RT RIC API discovery response
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
88
 1
9.6.2 Procedures related to API Event Subscription and Notification 2
In this section, the procedures for subscription / subscription deletion and API event notification are provided. These 3
procedures allow the xApps to receive information on events.  4
Such events correspond to Near-RT RIC API related events like the following: 5
Events Events Description
Availability of Near-RT RIC APIs Availability events of Near-RT RIC APIs (e.g.
active, inactive)
Near-RT RIC API updated Events related to change in Near-RT RIC API
information
 6
9.6.2.1 Procedure for Event Subscription 7
The purpose of this procedure is to enable xApps to subscribe to monitor events related to the provided N ear-RT RIC 8
APIs. 9
Use Case Stage Evolution / Specification <<Uses>>
Related use
Goal To allow the xApp to subscribe to receive Near -RT RIC API related event
notifications.
Actors and Roles
- xApp: Requester to subscribe to API enablement to monitor events
related to the near-RT RIC APIs;
- API enablement: Providing the subscription to Near-RT RIC API events.

Assumptions
- For initiating the subscription, the xApp has registered to RIC platform
and is aware of the Enablement API info. Also, xApp has discovered the
provided Near-RT RIC APIs.

Pre-conditions
- The xApp is registered to Near-RT RIC platform;
- The Enablement API information has been provided to the xApp (as pre-
configuration by SMO;
- The xApp has discovered the registered Near-RT RIC APIs (see 9.6.1).

Begins when xApp has discovered the Near-RT RIC APIs as provided by the Near-RT RIC
platform and wants to subscribe for event notifications.
Step 1 (M)
xApp sends an event subscription request to the API Enablement in order to
receive notification of events. This request includes the subscribing xApp
identifier as well as the event criteria:
- Event criteria may include event type information, e.g. API failure event,
new API available event, API unavailable event, API version change
event, API location change event, etc.

Step 2
[Informative]
The API enablement checks whether the xApp is authorized to monitor the
requested event(s).
Step 3 (M) The API enablement stores the approved subscription information.
Step 4 (M)
The API enablement sends an API event subscription response to the xApp.
This response indicates the success or failure of the event subscription
operation.

 10
@startuml 11
 12
skinparam ParticipantPadding 50 13
skinparam BoxPadding 10 14
skinparam defaultFontSize 12 15
skinparam lifelineStrategy solid 16
 17
Collections xApp as "xApp" 18
 19
Box “Near-RT RIC Platform” 20
  participant ams as “API enablement”   21
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
89
endbox 1
 2
xApp -> ams   : 1. API event subscription request 3
ams --> ams    : 2. Check authorization for API event subscription 4
ams -> ams : 3. store event subscription 5
ams -> xApp  : 4. API event subscription response 6
 7
@enduml 8
 9
Figure 9.6.2.1-1: Subscription for API-related events  10
 11
9.6.2.2 Procedure for Event Subscription Delete 12
The purpose of this procedure is to enable xApps to un-subscribe from events monitoring related to the provided near-13
RT RIC APIs. 14
Use Case Stage Evolution / Specification <<Uses>>
Related use
Goal To allow the xApp to un -subscribe from Near -RT RIC API related event
notifications.
Actors and Roles
- xApp: Requester to un -subscribe to API Enablement from monitoring
events related to the Near-RT RIC APIs;
- API Enablement : Removing the subscription of xApp to Near-RT RIC API
events.

Assumptions
For initiating the subscription delete, the xApp has registered to Near-RT RIC
platform and is aware of the Enablement API information. Also, xApp has
subscribed to events.

Pre-conditions The xApp has subscribed to Near-RT RIC API related events (see 9.6.2.1).
Begins when xApp wants to un-subscribe for Near-RT RIC API related events.
Step 1 (M)
xApp sends an event subscription delete request to the API Enablement with
the information of the subscribed event and includes the xApp identifier and
the event subscription identifier.

Step 2
[Informative]
The API Enablement, upon receiving the event subscription delete request
from the xApp, checks for the event subscription corresponding to the xApp
and further checks if the subscribing entity is authorized to un-subscribe.

Step 3 (M) API Enablement deletes the subscription information for the xApp.
Step 3 (M)
The API Enablement sends an API event un -subscription response to the
xApp. This response indicates the success or failure of the event un-
subscription operation.

 15
@startuml  16
skinparam ParticipantPadding 50 17
skinparam BoxPadding 10 18
Near-RT RIC Platform
xApp
xApp
API enablement
API enablement
1. API event subscription request
2. Check authorization for API event subscription
3. store event subscription
4. API event subscription response
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
90
skinparam defaultFontSize 12 1
skinparam lifelineStrategy solid 2
 3
Collections xApp as "xApp" 4
 5
Box “Near-RT RIC Platform” 6
  participant ams as “API enablement”   7
endbox 8
 9
xApp -> ams   : 1. API event subscription delete request 10
ams --> ams    : 2. Check authorization for API event subscription 11
ams -> ams : 3. Delete event subscription 12
ams -> xApp  : 4. API event subscription delete response 13
 14
@enduml 15
 16
 17
Figure 9.6.2.2-1: Subscription Delete for API-related events 18
 19
9.6.2.3 Procedure for Event Notification 20
This procedure shows sending the event notification to the subscribed xApp, based on a trigger event captured at the 21
API Enablement.  22
Near-RT RIC Platform
xApp
xApp
API enablement
API enablement
1. API event subscription delete request
2. Check authorization for API event subscription
3. Delete event subscription
4. API event subscription delete response
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
91
Use Case Stage Evolution / Specification <<Uses>>
Related use
Goal To notify the xApp on events related to the Near -RT RIC APIs, based on
subscription.
Actors and Roles
- xApp: Receiving event notifications based on subscription
- API Enablement : Generating/ triggering event notifications and sending
them to the subscribed xApps

Assumptions For receiving a notification, the xApp has registered to Near-RT RIC platform
and has subscribed to events.
Pre-conditions The xApp has subscribed to Near-RT RIC API related events (see 9.6.2.1).
Begins when A trigger event criterion is met at the API Enablement. Such criterion has
been configured during subscription of the xApp.
Step 1
[Informative]
API Enablement generates an event related to APIs, which is to be
consumed by the subscribed xApp(s). For the generated event, the API
Enablement retrieves the list of corresponding event subscriptions.

Step 2 (M) The API Enablement sends event notifications to all the subscribing xApp(s)
that have subscribed for the event matching the criteria.
Step 3 (O)
The xApp may send an event notification acknowledgement to API
Enablement. It depends on the capabilities of the transport used for
notifications whether or not such acknowledgement can be sent.

 1
@startuml  2
skinparam ParticipantPadding 50 3
skinparam BoxPadding 10 4
skinparam defaultFontSize 12 5
skinparam lifelineStrategy solid 6
 7
Collections xApp as "xApp" 8
 9
Box “Near-RT RIC Platform” 10
  participant ams as “API enablement”   11
endbox 12
 13
ams -> ams   : 1.  Event generation and retrieval of subscribed xApps 14
ams -> xApp   : 2. API Event notification 15
ams <-- xApp  : 3. API Event notification ACK 16
 17
@enduml 18
 19
 20
Figure 9.6.2.3-1: API Event Notification 21
 22
Near-RT RIC Platform
xApp
xApp
API enablement
API enablement
1. Event generation and retrieval of subscribed xApps
2. API Event notification
3. API Event notification ACK
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
92
Annex ZZZ: O-RAN Adopter License Agreement 1
BY DOWNLOADING, USING OR OTHERWISE ACCESSING ANY O- RAN SPECIFICATION, ADOPTER 2
AGREES TO THE TERMS OF THIS AGREEMENT. 3
This O-RAN Adopter License Agreement (the “Agreement”) is made by and between the O-RAN Alliance and the 4
entity that downloads, uses or otherwise accesses any O-RAN Specification, including its Affiliates (the “Adopter”). 5
This is a license agreement for entities who wish to adopt any O-RAN Specification. 6
Section 1: DEFINITIONS 7
1.1 “Affiliate” means an entity that directly or indirectly controls, is controlled by, or is under common control with 8
another entity, so long as such control exists. For the purpose of this Section, “Control” means beneficial ownership of 9
fifty (50%) percent or more of the voting stock or equity in an entity. 10
1.2 “Compliant Implementation” means any system, device, method or operation (whether implemented in hardware, 11
software or combinations thereof) that fully conforms to a Final Specification. 12
1.3 “Adopter(s)” means all entities, who are not Members, Contributors or Academic Contributors, including their 13
Affiliates, who wish to download, use or otherwise access O-RAN Specifications. 14
1.4 “Minor Update” means an update or revision to an O-RAN Specification published by O-RAN Alliance that does 15
not add any significant new features or functionality and remains interoperable with the prior version of an O -RAN 16
Specification. The term “O-RAN Specifications” includes Minor Updates. 17
1.5 “Necessary Claims” means those claims of all present and future patents and patent applications, other than design 18
patents and design registrations, throughout the world, which (i) are owned or otherwise licensable by a Member, 19
Contributor or Academic Contributor during the term of its Member, Contributor or Academic Contributorship; (ii) 20
such Member, Contributor or Academic Contributor has the right to grant a license without the payment of 21
consideration to a third party; and (iii) are necessarily infringed by a Compliant Implementation (without considering 22
any Contributions not included in the Final Specification). A claim is necessarily infringed only when it is not possible 23
on technical (but not commercial) grounds, taking into account normal technical practice and the state of the art 24
generally available at the date any Final Specification was published by the O -RAN Alliance or the date the patent 25
claim first came into existence, whichever last occurred, to make, sell, lease, otherwise dispose of, repair, use or operate 26
a Compliant Implementation without infringing that claim. For the avoidance of doubt in exceptional cases where a 27
Final Specification can only be implemented by technical solutions, all of which infringe patent claims, all such patent 28
claims shall be considered Necessary Claims. 29
1.6 “Defensive Suspension” means for the purposes of any license grant pursuant to Section 3, Member, Contributor, 30
Academic Contributor, Adopter, or any of their Affiliates, may have the discretion to include in their license a term 31
allowing the licensor to suspend the license against a licensee who brings a patent infringement suit against the 32
licensing Member, Contributor, Academic Contributor, Adopter, or any of their Affiliates.  33
Section 2: COPYRIGHT LICENSE 34
2.1 Subject to the terms and conditions of this Agreement, O-RAN Alliance hereby grants to Adopter a nonexclusive, 35
nontransferable, irrevocable, non-sublicensable, worldwide copyright license to obtain, use and modify O-RAN 36
Specifications, but not to further distribute such O-RAN Specification in any modified or unmodified way, solely in 37
furtherance of implementations of an O-RAN 38
Specification. 39
2.2 Adopter shall not use O-RAN Specifications except as expressly set forth in this Agreement or in a separate written 40
agreement with O-RAN Alliance. 41
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
93
Section 3: FRAND LICENSE 1
3.1 Members, Contributors and Academic Contributors and their Affiliates are prepared to grant based on a separate 2
Patent License Agreement to each Adopter under Fair Reasonable And Non - Discriminatory (FRAND) terms and 3
conditions with or without compensation (royalties) a nonexclusive, non-transferable, irrevocable (but subject to 4
Defensive Suspension), non-sublicensable, worldwide patent license under their Necessary Claims to make, have made, 5
use, import, offer to sell, lease, sell and otherwise distribute Compliant Implementations; provided, however, that such 6
license shall not extend: (a) to any part or function of a product in which a Compliant Implementation is incorporated 7
that is not itself part of the Compliant Implementation; or (b) to any Adopter if that Adopter is not making a reciprocal 8
grant to Members, Contributors and Academic Contributors, as set forth in Section 3.3. For the avoidance of doubt, the 9
foregoing licensing commitment includes the distribution by the Adopter’s distributors and the use by the Adopter’s 10
customers of such licensed Compliant Implementations. 11
3.2 Notwithstanding the above, if any Member, Contributor or Academic Contributor, Adopter or their Affiliates has 12
reserved the right to charge a FRAND royalty or other fee for its license of Necessary Claims to Adopter, then Adopter 13
is entitled to charge a FRAND royalty or other fee to such Member, Contributor or Academic Contributor, Adopter and 14
its Affiliates for its license of Necessary Claims to its licensees. 15
3.3 Adopter, on behalf of itself and its Affiliates, shall be prepared to grant based on a separate Patent License 16
Agreement to each Members, Contributors, Academic Contributors, Adopters and their Affiliates under Fair 17
Reasonable And Non-Discriminatory (FRAND) terms and conditions with or without compensation (royalties) a 18
nonexclusive, non-transferable, irrevocable (but subject to Defensive Suspension), non-sublicensable, worldwide patent 19
license under their Necessary Claims to make, have made, use, import, offer to sell, lease, sell and otherwise distribute 20
Compliant Implementations; provided, however, that such license will not extend: (a) to any part or function of a 21
product in which a Compliant Implementation is incorporated that is not itself pa rt of the Compliant Implementation; or 22
(b) to any Members, Contributors, Academic Contributors, Adopters and their Affiliates that is not making a reciprocal 23
grant to Adopter, as set forth in Section 3.1. For the avoidance of doubt, the foregoing licensing commitment includes 24
the distribution by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ distributors 25
and the use by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ customers of such 26
licensed Compliant Implementations. 27
Section 4: TERM AND TERMINATION 28
4.1 This Agreement shall remain in force, unless early terminated according to this Section 4.  29
4.2 O-RAN Alliance on behalf of its Members, Contributors and Academic Contributors may terminate this Agreement 30
if Adopter materially breaches this Agreement and does not cure or is not capable of curing such breach within thirty 31
(30) days after being given notice specifying the breach. 32
4.3 Sections 1, 3, 5 - 11 of this Agreement shall survive any termination of this Agreement. Under surviving Section 3, 33
after termination of this Agreement, Adopter will continue to grant licenses (a) to entities who become Adopters after 34
the date of termination; and (b) for future versions of O-RAN Specifications that are backwards compatible with the 35
version that was current as of the date of termination. 36
Section 5: CONFIDENTIALITY 37
Adopter will use the same care and discretion to avoid disclosure, publication, and dissemination of O -RAN 38
Specifications to third parties, as Adopter employs with its own confidential information, but no less than reasonable 39
care. Any disclosure by Adopter to its Affiliates, contractors and consultants should be subject to an obligation of 40
confidentiality at least as restrictive as those contained in this Section. The foregoing obligation shall not apply to any 41
information which is: (1) rightfully known by Adopter without any limitation on use or disclosure prior to disclosure; 42
(2) publicly available through no fault of Adopter; (3) rightfully received without a duty of confidentiality; (4) disclosed 43
by O-RAN Alliance or a Member, Contributor or Academic Contributor to a third party without a duty of 44
confidentiality on such third party; (5) independently developed by Adopter; (6) disclosed pursuant to the order of a 45
court or other authorized governmental body, or as required by law, provided that Adopter provides reasonable prior 46
written notice to O-RAN Alliance, and cooperates with O-RAN Alliance and/or the applicable Member, Contributor or 47
Academic Contributor to have the opportunity to oppose any such order; or (7) disclosed by Adopter with O -RAN 48
Alliance’s prior written approval. 49
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
94
Section 6: INDEMNIFICATION 1
Adopter shall indemnify, defend, and hold harmless the O-RAN Alliance, its Members, Contributors or Academic 2
Contributors, and their employees, and agents and their respective successors, heirs and assigns (the “Indemnitees”), 3
against any liability, damage, loss, or expense (including reasonable attorneys’ fe es and expenses) incurred by or 4
imposed upon any of the Indemnitees in connection with any claims, suits, investigations, actions, demands or 5
judgments arising out of Adopter’s use of the licensed O-RAN Specifications or Adopter’s commercialization of 6
products that comply with O-RAN Specifications. 7
Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY 8
EXCEPT FOR BREACH OF CONFIDENTIALITY, ADOPTER’S BREACH OF SECTION 3, AND ADOPTER’S 9
INDEMNIFICATION OBLIGATIONS, IN NO EVENT SHALL ANY PARTY BE LIABLE TO ANY OTHER 10
PARTY OR THIRD PARTY FOR ANY INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL 11
DAMAGES RESULTING FROM ITS PERFORMANCE OR NON-PERFORMANCE UNDER THIS AGREEMENT, 12
IN EACH CASE WHETHER UNDER CONTRACT, TORT, WARRANTY, OR OTHERWISE, AND WHETHER OR 13
NOT SUCH PARTY HAD ADVANCE NOTICE OF THE POSSIBILITY OF SUCH DAMAGES. O- RAN 14
SPECIFICATIONS ARE PROVIDED “AS IS” WITH NO WARRANTIES OR CONDITIONS WHATSOEVER, 15
WHETHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE. THE O-RAN ALLIANCE AND THE 16
MEMBERS, CONTRIBUTORS OR ACADEMIC CONTRIBUTORS EXPRESSLY DISCLAIM ANY WARRANTY 17
OR CONDITION OF MERCHANTABILITY, SECURITY, SATISFACTORY QUALITY, NONINFRINGEMENT, 18
FITNESS FOR ANY PARTICULAR PURPOSE, ERROR-FREE OPERATION, OR ANY WARRANTY OR 19
CONDITION FOR O-RAN SPECIFICATIONS. 20
Section 8: ASSIGNMENT 21
Adopter may not assign the Agreement or any of its rights or obligations under this Agreement or make any grants or 22
other sublicenses to this Agreement, except as expressly authorized hereunder, without having first received the prior, 23
written consent of the O-RAN Alliance, which consent may be withheld in O-RAN Alliance’s sole discretion. O-RAN 24
Alliance may freely assign this Agreement. 25
Section 9: THIRD-PARTY BENEFICIARY RIGHTS 26
Adopter acknowledges and agrees that Members, Contributors and Acade mic Contributors (including future Members, 27
Contributors and Academic Contributors) are entitled to rights as a third -party beneficiary under this Agreement, 28
including as licensees under Section 3. 29
Section 10: BINDING ON AFFILIATES 30
Execution of this Agreement by Adopter in its capacity as a legal entity or association constitutes that legal entity’s or 31
association’s agreement that its Affiliates are likewise bound to the obligations that are applicable to Adopter hereunder 32
and are also entitled to the benefits of the rights of Adopter hereunder. 33
Section 11: GENERAL 34
This Agreement is governed by the laws of Germany without regard to its conflict or choice of law provisions.  35
This Agreement constitutes the entire agreement between the parties as to its express  subject matter and expressly 36
supersedes and replaces any prior or contemporaneous agreements between the parties, whether written or oral, relating 37
to the subject matter of this Agreement.  38
Adopter, on behalf of itself and its Affiliates, agrees to comply at all times with all applicable laws, rules and 39
regulations with respect to its and its Affiliates’ performance under this Agreement, including without limitation, export 40
control and antitrust laws. Without limiting the generality of the foregoing, Adopt er acknowledges that this Agreement 41
prohibits any communication that would violate the antitrust laws. 42
By execution hereof, no form of any partnership, joint venture or other special relationship is created between Adopter, 43
or O-RAN Alliance or its Members, Contributors or Academic Contributors. Except as expressly set forth in this 44
O-RAN.WG3.RICARCH-v02.01

Copyright © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ
95
Agreement, no party is authorized to make any commitment on behalf of Adopter, or O -RAN Alliance or its Members, 1
Contributors or Academic Contributors. 2
In the event that any provision of this Agreement conflicts with governing law or if any provision is held to be null, 3
void or otherwise ineffective or invalid by a court of competent jurisdiction, (i) such provisions will be deemed stricken 4
from the contract, and (ii) the remaining terms, provisions, covenants and restrictions of this Agreement will remain in 5
full force and effect. 6
Any failure by a party or third party beneficiary to insist upon or enforce performance by another party of any of the 7
provisions of this Agreement or to exercise any rights or remedies under this Agreement or otherwise by law shall not 8
be construed as a waiver or relinquishment to any extent of the other parties’ or third party beneficiary’s right to assert 9
or rely upon any such provision, right or remedy in that or any other instance; rather the same shall be and remain in full 10
force and effect.  11