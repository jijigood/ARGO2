O-RAN.WG3.E2SM-KPM-v02.03

O-RAN.WG3.E2SM-KPM-v02.03

		O-RAN.WG3.E2SM-KPM-v02.03

\\

Technical Specification

O-RAN Working Group 3
Near-Real-time RAN Intelligent Controller

E2 Service Model (E2SM)

KPM

Copyright © 2022 by the O-RAN ALLIANCE e.V.

The copying or incorporation into any other work of part or all of the material available in this specification in any form without the prior written permission of O-RAN ALLIANCE e.V.  is prohibited, save that you may print or download extracts of the material of this specification for your personal use, or copy the material of this specification for the purpose of sending to individual third parties for their information provided that you acknowledge O-RAN ALLIANCE as the source of the material and that you inform the third party that these conditions apply to them and that they must comply with them.

O-RAN ALLIANCE e.V., Buschkauler Weg 27, 53347 Alfter, Germany

Register of Associations, Bonn VR 11238, VAT ID DE321720189

Contents

Foreword	4

Modal verbs terminology	4

1	Scope	4

2	References	4

2.1	Normative references	4

2.2	Informative references	5

3	Definition of terms, symbols and abbreviations	6

3.1	Terms	6

3.2	Symbols	6

3.3	Abbreviations	6

4	General	6

4.1	Forwards and Backwards Compatibility	6

4.2	Specification Notations	6

4.3	Identifiers	7

5	E2SM Services	7

6	RAN Function Service Model Description	8

6.1	RAN Function Overview	8

6.2	Supported RIC Services	8

6.2.1	REPORT	8

7	RAN Function Description	8

7.1	Description	8

7.2	RAN Function Name	8

7.3	Supported RIC Event Trigger Styles	9

7.3.1	Event Trigger Style Types	9

7.3.2	Event Trigger Style 1: Periodic Report	9

7.4	Supported RIC REPORT Service Styles	9

7.4.1	REPORT Service Style Type	9

7.4.2	REPORT Service Style 1: E2 Node Measurement	9

7.4.3	REPORT Service Style 2: E2 Node Measurement for a single UE	10

7.4.4	REPORT Service Style 3: Condition-based, UE-level E2 Node Measurement	11

7.4.5	REPORT Service Style 4: Common condition-based, UE-level Measurement	12

7.4.6	REPORT Service Style 5: E2 Node Measurement for Multiple UEs	12

7.5	Supported RIC INSERT Service Styles	13

7.6	Supported RIC CONTROL Service Styles	13

7.7	Supported RIC POLICY Service Styles	13

7.8	Supported RIC Styles and E2SM IE Formats	13

7.9	Conversion for UE-level and QoS flow-level measurements derived from 3GPP defined measured values	13

7.9.1	Changes in the units of measurements while adopting for E2SM-KPM	14

7.10	O-RAN specific Performance Measurement	16

7.10.1	DL Transmitted Data Volume	16

7.10.2	UL Transmitted Data Volume	17

7.10.3	Distribution of Percentage of DL Transmitted Data Volume to Incoming Data Volume	18

7.10.4	Distribution of Percentage of UL Transmitted Data Volume to Incoming Data Volume	19

7.10.5	Distribution of DL Packet Drop Rate	20

7.10.6	Distribution of UL Packet Loss Rate	21

7.10.7	DL Synchronization Signal based Reference Signal Received Power (SS-RSRP)	22

7.10.8	DL Synchronization Signal based Signal to Noise and Interference Ratio (SS-SINR)	23

7.10.9	UL Sounding Reference Signal based Reference Signal Received Power (SRS-RSRP)	24

8	Elements for E2SM Service Model	24

8.1	General	24

8.2	Message Functional Definition and Content	24

8.2.1	Messages for RIC Functional procedures	24

8.2.2	Messages for RIC Global Procedures	34

8.3	Information Element definitions	34

8.3.1	General	34

8.3.2	RAN Function Name	35

8.3.3	RIC Style Type	35

8.3.4	RIC Style Name	35

8.3.5	RIC Format Type	35

8.3.6	Void	35

8.3.7	Void	35

8.3.8	Granularity Period	35

8.3.9	Measurement Type Name	36

8.3.10	Measurement Type ID	36

8.3.11	Measurement Label	36

8.3.12	Time Stamp	38

8.3.13	Void	38

8.3.14	S-NSSAI	38

8.3.15	PLMN Identity	38

8.3.16	Void	38

8.3.17	5QI	38

8.3.18	QCI	38

8.3.19	Void	38

8.3.20	Cell Global ID	38

8.3.21	QFI	38

8.3.22	Test Condition Information	39

8.3.23	Test Condition Value	41

8.3.24	UE ID	41

8.3.25	Logical OR	41

8.4	Information Element Abstract Syntax (with ASN.1)	43

8.4.1	General	43

8.4.2	Information Element definitions	43

9	Handling of Unknown, Unforeseen and Erroneous Protocol Data	53

Revision history	55

History	55

Foreword

This Technical Specification (TS) has been produced by O-RAN Alliance.

Modal verbs terminology

In the present document "shall", "shall not", "should", "should not", "may", "need not", "will", "will not", "can" and "cannot" are to be interpreted as described in clause 3.2 of the O-RAN Drafting Rules (Verbal forms for the expression of provisions).

"must" and "must not" are NOT allowed in O-RAN deliverables except when used in direct citation.

1	Scope

The contents of the present document are subject to continuing work within O-RAN and may change following formal O-RAN approval. Should the O-RAN Alliance modify the contents of the present document, it will be re-released by O-RAN with an identifying change of version date and an increase in version number as follows:

version xx.yy.zz

where:

xx:	the first digit-group is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc. (the initial approved document will have xx=01).  Always 2 digits with leading zero if needed.

yy:	the second digit-group is incremented when editorial only changes have been incorporated in the document. Always 2 digits with leading zero if needed.

zz:	the third digit-group included only in working versions of the document indicating incremental changes during the editing process. External versions never include the third digit-group.  Always 2 digits with leading zero if needed.

The present document specifies the E2 Service Model (E2SM) “Key Performance Measurement” (KPM) for the RAN function handling reporting of the cell-level performance measurements for 5G networks defined in TS 28.552 [4] and for EPC networks defined in TS 32.425 [8], and their possible adaptation of UE-level or QoS flow-level measurements.

2	References

2.1	Normative references

References are either specific (identified by date of publication and/or edition number or version number) or nonspecific. For specific references, only the cited version applies. For non-specific references, the latest version of the referenced document (including any amendments) applies.

NOTE:	While any hyperlinks included in this clause were valid at the time of publication, O-RAN cannot guarantee their long term validity.

The following referenced documents are necessary for the application of the present document.

[1]	3GPP TR 21.905: “Vocabulary for 3GPP Specifications”.

[2]	O-RAN Working Group 3, Near-Real-time RAN Intelligent Controller, Architecture & E2 General Aspects and Principles (E2GAP)

[3]	O-RAN Working Group 3, Near-Real-time RAN Intelligent Controller, E2 Application Protocol (E2AP).

[4]		3GPP TS 28.552: "Management and orchestration 5G performance measurements".

[5]	ITU-T Recommendation X.680 (2002-07): "Information technology – Abstract Syntax Notation One (ASN.1): Specification of basic notation".

[6]	ITU-T Recommendation X.681 (2002-07): "Information technology – Abstract Syntax Notation One (ASN.1): Information object specification".

[7]	ITU-T Recommendation X.691 (2002-07): "Information technology - ASN.1 encoding rules - Specification of Packed Encoding Rules (PER)".

[8]	3GPP TS 32.425: "Telecommunication management Performance Management Performance managements".

[9]	IETF RFC 5905 (2010-06): "Network Time Protocol Version 4: Protocol and Algorithms Specification".

[10]	3GPP TS 32.404: “Telecommunication management; Performance Management (PM); Performance measurements; Definitions and template”.

[11]	3GPP TR 25.921: “Guidelines and principles for protocol description and error handling”.

[12]	O-RAN Working Group 3, Near-Real-time RAN Intelligent Controller, E2 Service Model (E2SM)

[13]	3GPP TS 36.413: “E-UTRAN; S1 Application Protocol (S1AP)”

[14]	3GPP TS 23.501: "System architecture for the 5G System (5GS); Stage 2"

[15]	3GPP TS 36.214: "E-UTRA; Physical layer; Measurements"

[16]	3GPP TS 38.215: "NR; Physical layer measurements"

[17]	3GPP TS 38.133: "NR; Requirements for support of radio resource management"

[18]	3GPP TS 38.214: "NR; Physical layer procedures for data"

[19]	3GPP TS 23.203: "Policy and charging control architecture"

[20]	3GPP TS 23.003: "Numbering, addressing and identification"

[21]	O-RAN Working Group 3, Use Case Requirements (UCR)

2.2	Informative references

References are either specific (identified by date of publication and/or edition number or version number) or nonspecific. For specific references, only the cited version applies. For non-specific references, the latest version of the referenced document (including any amendments) applies.

NOTE:	While any hyperlinks included in this clause were valid at the time of publication, O-RAN cannot guarantee their long term validity.

The following referenced documents are not necessary for the application of the present document but they assist the user with regard to a particular subject area.

[i.1] <Standard Organization acronym> <document number><version number/date of publication>: "<Title>".

3	Definition of terms, symbols and abbreviations

3.1	Terms

For the purposes of the present document, the following terms apply:

E2 Node: as defined in E2GAP [2].

RAN Function: as defined in E2GAP [2]

E2 Service Model: The description of the Services exposed by a specific RAN function within an E2 Node over the E2 interface towards the Near-RT RIC.

KPM Report: The performance measurements for 4G LTE and 5G NR Network Functions.

3.2	Symbols

For the purposes of the present document, the following symbols apply:

3.3	Abbreviations

For the purposes of the present document, the [following] abbreviations [given in ... and the following] apply:

O-CU 	O-RAN Central Unit

O-CU-CP	O-RAN Central Unit – Control Plane

O-CU-UP	O-RAN Central Unit – User Plane

O-DU	O-RAN Distributed Unit

Near-RT RIC	Near-real-time RAN Intelligent Controller

Non-RT-RIC	Non-real-time RAN Intelligent Controller

EN-DC	E-UTRA-NR Dual Connectivity

MR-DC	Multi-Radio Dual Connectivity

SRS	Sounding Reference Signal

SRS-RSRP	Sounding Reference Signal based Reference Signal Received Power

SS-RSRP	Synchronization Signal based Reference Signal Received Power

SS-SINR	Synchronization Signal based Signal to Noise and Interference Ratio

SSB	Synchronization Signal Block

4	General

4.1	Forwards and Backwards Compatibility

The forwards and backwards compatibility of the protocol is assured by a mechanism where all current and future messages, and IEs or groups of related IEs, include ID and criticality fields that are coded in a standard format that will not be changed in the future. These parts can always be decoded regardless of the standard version.

4.2	Specification Notations

For the purposes of the present document, the following notations apply:

Service	When referring to a Service in the specification the SERVICE NAME is written with upper case characters and in bold followed by the word "service", e.g. REPORT service.

Procedure	When referring to an elementary procedure in the specification the Procedure Name is written with the first letters in each word in upper case characters followed by the word "procedure", e.g. Handover Preparation procedure.

Message	When referring to a message in the specification the MESSAGE NAME is written with all letters in upper case characters followed by the word "message", e.g. HANDOVER REQUEST message.

IE	When referring to an information element (IE) in the specification the Information Element Name is written with the first letters in each word in upper case characters and all letters in Italic font followed by the abbreviation "IE", e.g. E-RAB ID IE.

Value of an IE	When referring to the value of an information element (IE) in the specification the "Value" is written as it is specified in the specification enclosed by quotation marks, e.g. "Value".

4.3	Identifiers

For the purposes of the present document, the following identifiers are defined:

Style Type	The identifier used to nominate a specific approach or Style used to exposing a given RIC Service (REPORT, INSERT, CONTROL and POLICY).  The same E2SM may support more than one Style for each RIC Service.

Format Type	The identifier used to nominate a specific formatting approach used to encode one of the E2AP IEs defined in this E2SM.  The same E2SM may support more than one encoding Formats for each E2AP IE and each E2AP IE message encoding Format may be used by one or more RIC Service Styles.

5	E2SM Services

As defined in E2 General Aspects and Principles [2], a given RAN Function offers a set of services to be exposed over the E2 (REPORT, INSERT, CONTROL and/or POLICY) using E2AP [3] defined procedures.  Each of the E2AP Procedures listed in table 5-1 contains specific E2 Node RAN Function dependent Information Elements (IEs).

Table 5-1: Relationship between E2SM services and E2AP Information elements

RAN Function specific E2SM Information Elements

E2AP Information Element reference

Related E2AP Procedures

RIC Event Trigger Definition

E2AP [3] section 9.2.9

RIC SUBSCRIPTION

RIC Action Definition

E2AP [3] section 9.2.12

RIC SUBSCRIPTION

RIC Indication Header

E2AP [3] section 9.2.17

RIC INDICATION

RIC Indication Message

E2AP [3] section 9.2.16

RIC INDICATION

RIC Call Process ID

E2AP [3] section 9.2.18

RIC INDICATION

RIC CONTROL

RIC Control Header

E2AP [3] section 9.2.20

RIC CONTROL

RIC Control Message

E2AP [3] section 9.2.19

RIC CONTROL

RAN Function Definition IE

E2AP [3] section 9.2.23

E2 SETUP

RIC SERVICE UPDATE

All of these RAN Function specific IEs are defined in E2AP [3] as “OCTET STRING”.

The purpose of this specification is to define the contents of these fields for the specific RAN Function “KPM Monitor”.

6	RAN Function Service Model Description

6.1	RAN Function Overview

E2 Service Model KPM (E2SM-KPM) supports O-CU-CP, O-CU-UP, and O-DU as part of NG-RAN connected to 5GC or as part of E-UTRAN connected to EPC.

The E2 Node shall host the RAN Function “KPM Monitor” which performs the following functionalities:

-	Exposure of available measurements from O-DU, O-CU-CP, and/or O-CU-UP via the RAN Function Definition IE.

-	Periodic reporting of measurements subscribed from Near-RT RIC.

This E2SM specification also exposes a set of services described in clause 6.2.

6.2	Supported RIC Services

6.2.1	REPORT

The “KPM Monitor” RAN Function provides the following REPORT services:

-	E2 Node Measurement

-	E2 Node Measurement for a single UE

-	Condition-based, UE-level E2 Node Measurement

-	Common Condition-based, UE-level E2 Node Measurement

-	E2 Node Measurements for multiple UEs

These services may be initiated according to:

-	Periodical event.

7	RAN Function Description

7.1	Description

The E2AP [3] procedures, E2 SETUP and RIC SERVICE UPDATE, are used to transport the RAN Function Definition IE.

In this E2SM-KPM, the RAN Function Definition IE shall provide the following information:

-	RAN Function name along with associated information on E2SM definition

-	Event trigger styles list along with the corresponding encoding type for each associated E2AP IE.

-	RIC REPORT Service styles list along with the corresponding encoding type for each associated E2AP IE.

7.2	RAN Function Name

RAN Function Short Name “ORAN-E2SM-KPM”

RAN Function Description “KPM Monitor”

RAN Function Instance, required when and if an E2 Node exposes more than one instance of a RAN Function based on this E2SM.

7.3	Supported RIC Event Trigger Styles

7.3.1	Event Trigger Style Types

RIC Style Type

Style Name

Supported RIC Service Style

Style Description

Report

Insert

Policy

1

Periodic Report

1

-

-

RIC Event Trigger Definition IE based on reporting period

7.3.2	Event Trigger Style 1: Periodic Report

This Event Trigger style 1 is to set the KPM report period and uses the RIC Event Trigger Definition IE Format 1 (8.2.1.1.1)

7.4	Supported RIC REPORT Service Styles

7.4.1	REPORT Service Style Type

RIC Style Type

Style Name

Style Type Description

1

E2 Node Measurement

Used to carry measurement report from a target E2 Node

2

E2 Node Measurement for a single UE

Used to carry measurement report for a single UE of interest from a target E2 Node

3

Condition-based, UE-level E2 Node Measurement

Used to carry UE-level measurement report for a group of UEs per measurement type matching subscribed conditions from a target E2 Node

4

Common Condition-based, UE-level Measurement

Used to carry measurement report for a group of UEs across a set of measurement types satisfying common subscribed conditions from a target E2 Node

5

E2 Node Measurement for multiple UEs

Used to carry measurement report for multiple UE of interest from a target E2 Node

7.4.2	REPORT Service Style 1: E2 Node Measurement

7.4.2.1	REPORT Service Style description

The REPORT Service style 1 provides the performance measurement information collection from an E2 Node.

7.4.2.2	REPORT Service RIC Action Definition IE contents

This REPORT Service style aims to subscribe to the measurements defined in TS 28.552 [4] and TS 32.425 [8], and uses the RIC Action Definition IE Format 1 (8.2.1.2.1).

The REPORT Service RIC Action Definition IE contains measurement types that Near-RT RIC is requesting to subscribe followed by a list of subcounters to be measured for each measurement type, and a granularity period indicating collection interval of those measurements.

For the measurement types that belong to a measurement object class confined in a single cell (e.g. "EUtranCellFDD" in TS 32.425 [8] or "NRCellDU" in TS 28.552 [4]), the Cell Global ID IE shall be included in the IE to point to a specific cell for collecting measurements within the E2 Node. The Cell Global ID IE may not be included if all the subscribed measurement types are cell agnostic, i.e. belonging to measurement object classes not confined in a single cell (e.g. "GNBCUUPFunction" in TS 28.552 [4]). In case that both single-cell-confined and cell agnostic measurement types are subscribed together, the Cell Global ID IE shall be included in the IE and the E2 Node shall ignore the included Cell Global ID IE for those cell agnostic measurement types.

A measurement ID can be used for subscription instead of a measurement type if an identifier of a certain measurement type was exposed by an E2 Node via the RAN Function Definition IE.

7.4.2.3	REPORT Service RIC Indication Header IE contents

This REPORT Service style uses the RIC Indication Header IE Format 1 (8.2.1.3.1), which contains a measurement collection start time as UTC format.

The REPORT Service RIC Indication Header IE may carry file format version, sender name, sender type, and vendor name as printable strings.

7.4.2.4	REPORT Service RIC Indication Message IE contents

This REPORT Service style uses the RIC Indication Message IE Format 1 (8.2.1.4.1).

The REPORT Service RIC Indication Message IE carries a set of measurement data reported from an E2 Node. The reported data contains a set of measurement records, each collected at every granularity period during the reporting period. In case the E2 Node is not able to provide reliable data for a granularity period during the reporting period, it may include the optional Incomplete Flag IE, which indicates that the corresponding measurements record in the reported data is not reliable.

The REPORT Service RIC Indication Message IE optionally carry subscription information, i.e. Measurement Information List IE that indicates the order of measured values for each measurement record in the reported data, or their granularity period. If not present, the original subscription information shall apply.

7.4.3	REPORT Service Style 2: E2 Node Measurement for a single UE

7.4.3.1	REPORT Service Style description

The REPORT Service style 2 provides the performance measurement information collection for a single UE of interest from an E2 Node.

7.4.3.2	REPORT Service RIC Action Definition IE contents

This REPORT Service style uses the RIC Action Definition IE Format 2 (8.2.1.2.2), where the included UE ID indicates a specific UE of interest for measurement collection.

The rest of the subscription information follows the same as described in 7.4.2.2.

7.4.3.3	REPORT Service RIC Indication Header IE contents

This REPORT Service style uses the RIC Indication Header IE Format 1 (8.2.1.3.1) as described in 7.4.2.3.

7.4.3.4	REPORT Service RIC Indication Message IE contents

This REPORT Service style uses the RIC Indication Message IE Format 1 (8.2.1.4.1) as described in 7.4.2.4, where the measurement data reported is associated only to a specific UE that was subscribed.

7.4.4	REPORT Service Style 3: Condition-based, UE-level E2 Node Measurement

7.4.4.1	REPORT Service Style description

The REPORT Service style 3 provides the UE-level performance measurement information collection for a group of UEs per measurement type matching subscribed conditions from an E2 Node.

7.4.4.2	REPORT Service RIC Action Definition IE contents

This REPORT Service style uses the RIC Action Definition IE Format 3 (8.2.1.2.3), where, for each requested measurement within the Measurement Information Condition List IE, the Matching Condition IE serves as a condition to include the matched UEs’ measurement values into the reporting. The Matching Condition IE can be expressed by a list of subcounters to be measured (i.e. as a list of labels), or by a list of test conditions that need to be passed, or by a combination of both.

The rest of the subscription information follows the same as described in 7.4.2.2.

7.4.4.3	REPORT Service RIC Indication Header IE contents

This REPORT Service style uses the RIC Indication Header IE Format 1 (8.2.1.3.1) as described in 7.4.2.3.

7.4.4.4	REPORT Service RIC Indication Message IE contents

This REPORT Service style uses the RIC Indication Message IE Format 2 (8.2.1.4.2).

The REPORT Service RIC Indication Message IE carries a set of UE-level measurement data matching subscribed conditions. The included Measurement Information Condition UE List IE indicates the order of measured values for each measurement record in the reported data – a list of all the UE ID(s) satisfying the subscribed Matching Condition IE for each requested measurement within a Reporting Period.

In every granularity period during which a UE matching a subscribed condition stays in the E2 Node and maintains the  RRC_CONNECTED or RRC_INACTIVE state, the E2 Node collects the related data and reports it at the end of the reporting period.

The List of matched UE IDs IE for a certain measurement type in the Measurement Information Condition UE List IE indicates all the UE ID(s) that satisfied the subscribed Matching Condition IE for that measurement type and maintained the RRC_CONNECTED or RRC_INACTIVE state at least for one granularity period during the reporting period. The List of matched UE IDs IE can be omitted for a certain subscribed measurement type if none of the UEs were matched during the reporting period. If the List of matched UE IDs IE is used for a measurement type, then the same IE shall be used for all the measurement types in the Measurement Information Condition UE List IE.

If the List of matched UE IDs IE is used, in the granularity periods where the UE does not appear in the RRC_CONNECTED or RRC_INACTIVE state (e.g. transitioned to RRC_IDLE or UE identity track is lost), the E2 Node does not collect the related data and NULL is reported for those granularity periods until the end of the Reporting Period. In this case, the E2 Node stops reporting measurements related to this UE in the subsequent reporting periods. If the List of matched UE IDs IE is used and a UE whose ID is included in the IE appeared in the middle of the reporting period, then NULL should be reported for the granularity periods priori to the UE appearing in the E2 Node.

On the other hand, the Sequence of Matched UE IDs for Granularity Periods IE for a certain measurement type in the Measurement Information Condition UE List IE can be used to indicate the UE ID(s) that satisfied the subscribed Matching Condition IE for the corresponding measurement type and maintained the RRC_CONNECTED or RRC_INACTIVE state, separately for each and every granularity period in chronological order. If the Sequence of Matched UE IDs for Granularity Periods IE is used for a measurement type, then the same IE shall be used for all the measurement types in the Measurement Information Condition UE List IE, and the List of matched UE IDs IE, if included for any measurement type, shall be ignored.

The rest of the information follows the same as described in 7.4.2.4.

7.4.5	REPORT Service Style 4: Common condition-based, UE-level Measurement

7.4.5.1	REPORT Service Style description

The REPORT Service style 4 provides the UE-level performance measurement information collection for a group of UEs across a set of measurement types matching common subscribed conditions from an E2 Node.

7.4.5.2	REPORT Service RIC Action Definition IE contents

This REPORT Service style uses the RIC Action Definition IE Format 4 (8.2.1.2.4), where a Matching Condition IE serves as a condition to include the matched UEs’ measurement values into the reporting, common for each requested measurement within the Measurement Information List IE. The Matching Condition IE is expressed by a list of test conditions to filter matching UEs.

The rest of the subscription information follows the same as described in 7.4.2.2.

7.4.5.3	REPORT Service RIC Indication Header IE contents

This REPORT Service style uses the RIC Indication Header IE Format 1 (8.2.1.3.1) as described in 7.4.2.3.

7.4.5.4	REPORT Service RIC Indication Message IE contents

This REPORT Service style uses the RIC Indication Message IE Format 3 (8.2.1.4.3).

The REPORT Service RIC Indication Message IE Format 3 carries a list of measurement data for UE(s) matching subscribed conditions.

In every granularity period during which a UE matching a subscribed condition stays in the E2 Node and maintains the  RRC_CONNECTED or RRC_INACTIVE state, the E2 Node collects the related data and reports it at the end of the reporting period. In the granularity periods where the UE does not appear in the RRC_CONNECTED or RRC_INACTIVE state (e.g. transitioned to RRC_IDLE or UE identity track is lost), the E2 Node does not collect the related data and NULL is reported for those granularity periods until the end of the Reporting Period. In this case, the E2 Node stops reporting measurements related to this UE in the subsequent reporting periods.

If none of the UEs were matched during the reporting period, then E2 Node does not report measurements for that reporting period.

The rest of the information follows the same as described in 7.4.2.4.

7.4.6	REPORT Service Style 5: E2 Node Measurement for Multiple UEs

7.4.6.1	REPORT Service Style description

The REPORT Service style 5 provides the performance measurement information collection for multiple UEs of interest from an E2 Node.

7.4.6.2	REPORT Service RIC Action Definition IE contents

This REPORT Service style uses the RIC Action Definition IE Format 5 (8.2.1.2.5), where the included UE Identifiers indicates UEs of interest for measurement collection.

The rest of the subscription information follows the same as described in 7.4.2.2.

7.4.6.3	REPORT Service RIC Indication Header IE contents

This REPORT Service style uses the RIC Indication Header IE Format 1 (8.2.1.3.1) as described in 7.4.2.3.

7.4.6.4	REPORT Service RIC Indication Message IE contents

This REPORT Service style uses the RIC Indication Message IE Format 3 (8.2.1.4.3) as described in 7.4.5.4, where the measurement data reported is associated to multiple UEs that was subscribed and available in the system.

7.5	Supported RIC INSERT Service Styles

Note: Not used in this service model

7.6	Supported RIC CONTROL Service Styles

Note: Not used in this service model

7.7	Supported RIC POLICY Service Styles

Note: Not used in this service model

7.8	Supported RIC Styles and E2SM IE Formats

Table 7.8-1 and 7.8-2 provide a summary of the E2SM IE Formats defined to support this E2SM specification.

Table 7.8-1: Summary of the E2SM IE Formats defined to support RIC Event Trigger Styles

RIC Event Trigger Style

Event Trigger Definition Format

Style 1

1

Table 7.8-1: Summary of the E2SM IE Formats defined to support RIC Service Styles

RIC Service Style

Action Definition Format

Indication Header Format

Indication Message Format

Call Process ID Format

Control Header Format

Control Message Format

Control Outcome Format

REPORT

Style 1

1

1

1

Style 2

2

1

1

Style 3

3

1

2

Style 4

4

1

3

Style 5

5

1

3

INSERT

CONTROL

POLICY

7.9	Conversion for UE-level and QoS flow-level measurements derived from 3GPP defined measured values

The conversion of the measurements’ definitions provided in TS 28.552 [4], TS 32.425 [8], and O-RAN specific measurement defined in Section 7.10 is performed according to the following rules:

The type of the original measurements

The corresponding per-UE and per-UE-per-slice measurements

The corresponding per-QoS flow and per-slice-per-QoS flow measurements

Notes

Throughput

Delay

Data volume

In-session activity time

Measured per UE

Measured per QoS flow

For the Throughput and Data volume measurements, the formulas specified in 3GPP are used with restriction to the individual UE or individual QoS flow , and also based on Section 7.9.1.

PDCP drop rate

IP latency

Measured per UE

Measured per QoS flow

For the Throughput and  Data volume measurements, the formulas specified in 3GPP are used with restriction to the individual UE or individual QoS flow.

Radio resource utilization

Measured per UE

N/A

The formulas specified in 3GPP are used with restriction to the individual UE.

RRC connections related

PDU sessions related

DRBs related

QoS flows related

Measured per UE

N/A

Mobility management

Measured per UE

N/A

CQI related

MCS related

Measured per UE

N/A

PEE related

N/A

N/A

Distribution of Normally/Abnormally  Released Calls

Measured per UE

N/A

7.9.1	Changes in the units of measurements while adopting for E2SM-KPM

The units of the following measurements in TS 28.552 [4] and TS 32.425 [8] are replaced with newer units, as shown in the table below.

Measurement Type

Measurement Name

Data Type

Unit used in 3GPP

Unit used in E2SM-KPM

DL Cell PDCP SDU Data Volume, defined in TS 28.552 [4] clause 5.1.2.1.2.1.

DRB.PdcpSduVolumeDL_Filter

INTEGER

Mbit

Kbit

UL Cell PDCP SDU Data Volume, defined in TS 28.552 [4] clause 5.1.2.1.2.2.

DRB.PdcpSduVolumeUL_Filter

INTEGER

Mbit

Kbit

DL PDCP PDU Data Volume, defined in TS 28.552 [4] clause 5.1.3.6.1.1.

QosFlow.PdcpPduVolumeDL_Filter

INTEGER

Mbit

Kbit

UL PDCP PDU Data Volume, defined in TS 28.552 [4] clause 5.1.3.6.1.2.

QosFlow.PdcpPduVolumeUL_Filter

INTEGER

Mbit

Kbit

DL PDCP SDU Data Volume, defined in TS 28.552 [4] clause 5.1.3.6.2.1.

QosFlow.PdcpSduVolumeDl_Filter

INTEGER

Mbit

Kbit

UL PDCP SDU Data Volume, defined in TS 28.552 [4] clause 5.1.3.6.2.2.

QosFlow.PdcpSduVolumeUl_Filter

INTEGER

Mbit

Kbit

DL Cell PDCP SDU Data Volume on X2 interface, defined in TS 28.552 [4] clause 5.1.2.1.1.2.

DRB.PdcpSduVolumeX2DL_Filter

INTEGER

Mbit

Kbit

UL Cell PDCP SDU Data Volume on X2 interface, defined in TS 28.552 [4] clause 5.1.2.1.2.2.

DRB.PdcpSduVolumeX2UL_Filter

INTEGER

Mbit

Kbit

DL Cell PDCP SDU Data Volume on Xn interface, defined in TS 28.552 [4] clause 5.1.2.1.1.3.

DRB.PdcpSduVolumeXnDL_Filter

INTEGER

Mbit

Kbit

UL Cell PDCP PDU Data Volume on Xn interface, defined in TS 28.552 [4] clause 5.1.2.1.2.3.

DRB.PdcpSduVolumeXnUL_Filter

INTEGER

Mbit

Kbit

DL PDCP SDU Data Volume per interface, defined in TS 28.552 [4] clause 5.1.3.6.2.3.

DRB.F1uPdcpSduVolumeDl.QoS, DRB.X2uPdcpSduVolumeDl.QoS, DRB.XnuPdcpSduVolumeDl.QoS

INTEGER

Mbit

Kbit

UL PDCP SDU Data Volume per interface, defined in TS 28.552 [4] clause 5.1.3.6.2.4.

DRB.F1uPdcpSduVolumeUl.QoS, DRB.X2uPdcpSduVolumeUl.QoS, DRB.XnuPdcpSduVolumeUl.QoS

INTEGER

Mbit

Kbit

DL cell PDCP SDU Data Volume, defined in TS 32.425 [8] clause 4.4.7.1.

DRB.PdcpSduVolumeDl_Filter

INTEGER

Mbit

Kbit

UL cell PDCP SDU Data Volume, defined in TS 32.425 [8] clause 4.4.7.2.

DRB.PdcpSduVolumeUl_Filter

INTEGER

Mbit

Kbit

In-session activity time for UE, defined in TS 28.552 [4] clause 5.1.1.13.2.2.

QF.SessionTimeUE

INTEGER

s

ms

In-session activity time for DRB, defined in TS 28.552 [4] clause 5.1.1.10.4.

DRB.SessionTime.5QI, DRB.SessionTime.SNSSAI

INTEGER

s

ms

In-session activity time for QoS flow, defined in TS 28.552 [4] clause 5.1.1.13.2.1.

QF.SessionTimeQoS.QoS

INTEGER

s

ms

In-session activity time for UE, defined in TS 32.425 [8] clause 4.2.4.1.

ERAB.SessionTimeUE

INTEGER

s

ms

In-session activity time for E-RABs, defined in TS 32.425 [8] clause 4.2.4.2.

ERAB.SessionTimeQCI.QCI

INTEGER

s

ms

IP throughput in UL, defined in TS 32.425 [8] clause 4.4.6.2.

DRB.IPThpUl.QCI

REAL

Kbit

Kbit/s

The changes in the units of the measurements shown in the above table are to prevent the reported values from being reported as 0 caused by rounding off the precision in the decimals to report them as INTEGER, except the last row of “IP throughput in UL”, which is to fix the erroneous unit.

7.10	O-RAN specific Performance Measurement

7.10.1	DL Transmitted Data Volume

Measurement Name

DL Transmitted Data Volume

a) Description

This measurement provides the transmitted data volume in the downlink in a measurement time. The measurement is split into subcounters per QoS level (mapped 5QI or QCI in NR option 3), and subcounters per supported S-NSSAI.

The unit is kbit.

b) Collection Method

CC

c) Condition

This measurement is obtained by counting the data volume counted on RLC SDU level, in kbit successfully transmitted (acknowledged by UE) in DL for one DRB during measurement time T. Separate counters are maintained for each mapped 5QI (or QCI for option 3) and for each supported S-NSSAI.

d) Measurement Result

Each measurement is an integer value representing the number of bits measured in kbits (1kbits=1000 bits). The number of measurements is equal to the number of PLMNs multiplied by the number of QoS levels multiplied by the number of S-NSSAIs.

e) Measurement Type

The measurement name has the form DRB.RlcSduTransmittedVolumeDL_Filter.

Where filter is a combination of PLMN ID and QoS level and S-NSSAI.

Where PLMN ID represents the PLMN ID, QoS represents the mapped 5QI or the QCI level, and SNSSAI represents S-NSSAI.

f) Measurement Object Class

NRCellDU

g) Switching Technology

Valid for packet switched traffic

h) Generation

5GS

i) Purpose

One usage of this measurement is for performance assurance within integrity area (user plane connection quality).

7.10.2	UL Transmitted Data Volume

Measurement Name

UL Transmitted Data Volume

a) Description

This measurement provides the transmitted data volume in the uplink in a certain period. The measurement is split into subcounters per QoS level (mapped 5QI or QCI in NR option 3), and subcounters per supported S-NSSAI.

The unit is kbit.

b) Collection Method

CC

c) Condition

This measurement is obtained by counting the data volume counted on RLC SDU level, in kbit successfully transmitted (acknowledged by E2 Node) in UL for one DRB during measurement time T. Separate counters are maintained for each mapped 5QI (or QCI for option 3) and for each supported S-NSSAI.

d) Measurement Result

Each measurement is an integer value representing the number of bits measured in kbits (1kbits=1000 bits). The number of measurements is equal to the number of PLMNs multiplied by the number of QoS levels multiplied by the number of S-NSSAIs.

e) Measurement Type

The measurement name has the form DRB.RlcSduTransmittedVolumeUL_Filter.

Where filter is a combination of PLMN ID and QoS level and S-NSSAI.

Where PLMN ID represents the PLMN ID, QoS represents the mapped 5QI or the QCI level, and SNSSAI represents S-NSSAI.

f) Measurement Object Class

NRCellDU

g) Switching Technology

Valid for packet switched traffic

h) Generation

5GS

i) Purpose

One usage of this measurement is for performance assurance within integrity area (user plane connection quality).

7.10.3	Distribution of Percentage of DL Transmitted Data Volume to Incoming Data Volume

Measurement Name

Distribution of Percentage of DL Transmitted Data Volume to Incoming Data Volume

a) Description

This measurement provides the distribution of the percentage of successfully transmitted data volume to incoming data volume in downlink for UEs. The measurement is split into subcounters per QoS level (mapped 5QI or QCI in NR option 3), and subcounters per supported S-NSSAI.

b) Collection Method

CC

c) Condition

The Measurement is calculated by 100*x/y for each UE.

x is incremented by counting the number of bits counted on RLC SDU level  successfully transmitted (acknowledged by UE) in DL for one DRB during measurement time T.

y is incremented by counting the number of bits entering the RLC layers in DL for one DRB during measurement time T.

For each UE, the bin corresponding to the percentage of transmitted data volume to incoming data volume (100*x/y) experienced by the UE is incremented by one.

Separate counters are maintained for each mapped 5QI (or QCI for option 3) and for each supported S-NSSAI.

d) Measurement Result

A set of integers, each representing the (integer) number of samples with a percentage of DL transmitted data volume to incoming data volume in the range represented by that bin. If the optional QoS level subcounter and S-NSSAI subcounter and PLMN ID subcounter measurements are performed, the number of measurements is equal to the number of mapped 5QIs and the number of supported S-NSSAIs, and the number of PLMN IDs.

e) Measurement Type

The measurement name has the form DRB.PerDataVolumeDLDist.Bin where Bin represents the bin, or optionally DRB.PerDataVolumeDLDist.Bin.QOS, where QOS identifies the target quality of service class, and DRB.PerDataVolumeDLDist.Bin.SNSSAI, where SNSSAI identifies the S-NSSAI, and DRB.PerDataVolumeDLDist.Bin.PLMN, where PLMN identifies the PLMN ID.

f) Measurement Object Class

NRCellDU

g) Switching Technology

Packet Switched

h) Generation

5GS

i) Purpose

Network Operator’s Traffic Engineering Community

7.10.4	Distribution of Percentage of UL Transmitted Data Volume to Incoming Data Volume

Measurement Name

Distribution of Percentage of UL Transmitted Data Volume to Incoming Data Volume

a) Description

This measurement provides the distribution of the percentage of successfully transmitted data volume to incoming data volume in uplink for UEs. The measurement is split into subcounters per QoS level (mapped 5QI or QCI in NR option 3), and subcounters per supported S-NSSAI.

b) Collection Method

CC

c) Condition

The Measurement is calculated by 100*x/y for each UE.

x is incremented by counting the number of bits counted on RLC SDU level successfully transmitted (acknowledged by E2 Node) in UL for one DRB during measurement time T.

y is incremented by counting the number of bits entering the RLC layers in UL for one DRB during measurement time T. It is up to implementation how to measure y reliably during T.

For each UE, the bin corresponding to the percentage of transmitted data volume to incoming data volume (100*x/y) experienced by the UE is incremented by one.

Separate counters are maintained for each mapped 5QI (or QCI for option 3) and for each supported S-NSSAI.

d) Measurement Result

A set of integers, each representing the (integer) number of samples with a percentage of UL transmitted data volume to incoming data volume in the range represented by that bin. If the optional QoS level subcounter and S-NSSAI subcounter and PLMN ID subcounter measurements are performed, the number of measurements is equal to the number of mapped 5QIs and the number of supported S-NSSAIs, and the number of PLMN IDs.

e) Measurement Type

The measurement name has the form DRB.PerDataVolumeULDist.Bin where Bin represents the bin, or optionally DRB.PerDataVolumeULDist.Bin.QOS, where QOS identifies the target quality of service class, and DRB.PerDataVolumeULDist.Bin.SNSSAI, where SNSSAI identifies the S-NSSAI, and DRB.PerDataVolumeUlDist.Bin.PLMN, where PLMN identifies the PLMN ID.

f) Measurement Object Class

NRCellDU

g) Switching Technology

Packet Switched

h) Generation

5GS

i) Purpose

Network Operator’s Traffic Engineering Community

7.10.5	Distribution of DL Packet Drop Rate

Measurement Name

Distribution of DL Packet Drop Rate

a) Description

This measurement provides the fraction of RLC SDU packets which are dropped on the downlink, due to high traffic load, traffic management etc in the gNB-DU. Only user-plane traffic (DTCH) is considered. A dropped packet is one without any part of it having been transmitted on the air interface. The measurement is optionally split into subcounters per QoS level (mapped 5QI or QCI in NR option 3), and subcounters per supported S-NSSAI.

b) Collection Method

SI

c) Condition

This attribute is created by counting the number of UEs experiencing a certain packet loss rate in each range.

d) Measurement Result

Each measurement is an integer value representing the drop rate multiplied by 1E6 of each UE within the range of the bin. The number of measurements is equal to one. If the optional QoS and S-NSSAI level measurement are performed, the measurements are equal to the number of mapped 5QIs and the number of supported S-NSSAIs.

e) Measurement Type

The measurement name has the form DRB.RlcPacketDropRateDLDist and optionally DRB.RlcPacketDropRateDLDist.QOS where QOS identifies the target quality of service class, and DRB.RlcPacketDropRateDLDist.SNSSAI where SNSSAI identifies the S-NSSAI.

f) Measurement Object Class

NRCellDU

g) Switching Technology

Valid for packet switched traffic

h) Generation

5GS

i) Purpose

One usage of this measurement is for performance assurance within integrity area (user plane connection quality).

7.10.6	Distribution of UL Packet Loss Rate

Measurement Name

Distribution of UL Packet Loss Rate

a) Description

This measurement provides the distribution of the fraction of PDCP SDU packets which are not successfully received at gNB-CU-UP. It is a measure of the UL packet loss including any packet losses in the air interface, in the gNB-CU and on the F1-U interface. Only user-plane traffic (DTCH) and only PDCP SDUs that have entered PDCP (and given a PDCP sequence number) are considered.  The measurement is optionally split into subcounters per QoS level (mapped 5QI or QCI in NR option 3), and subcounters per supported S-NSSAI.

b) Collection Method

SI

c) Condition

This attribute is created by counting the number of UEs experiencing a certain packet loss rate in each range.

d) Measurement Result

Each measurement is an integer value representing the loss rate multiplied by 1E6 of each UE within the range of the bin. If the optional QoS and S-NSSAI level measurement are performed, the measurements are equal to the number of mapped 5QIs and the number of supported S-NSSAIs.

e) Measurement Type

The measurement name has the form DRB.PacketLossRateULDist and optionally DRB.PacketLossRateULDist.QOS where QOS identifies the target quality of service class, and DRB. PacketLossRateULDist.SNSSAI where SNSSAI identifies the S-NSSAI.

f) Measurement Object Class

GNBCUUPFunction.

NRCellCU.

g) Switching Technology

Valid for packet switched traffic.

h) Generation

5GS.

i) Purpose

One usage of this measurement is for performance assurance within integrity area (user plane connection quality).

7.10.7	DL Synchronization Signal based Reference Signal Received Power (SS-RSRP)

Measurement Name

DL Synchronization Signal based Reference Signal Received Power (SS-RSRP)

a) Description

This measurement provides the average of the DL SS-RSRP (see TS 38.215 [16]) values reported from UEs in the cell when SS-RSRP is used for L1-RSRP as configured by reporting configurations as defined in TS 38.214 [18], in case the L1-RSRP report function is enabled. Separate counters are maintained for each SSB in the cell.

b) Collection Method

DER (N=1)

c) Condition

This measurement is obtained by taking the average of the reported DL SS-RSRP values (i.e. between RSRP_0 and RSRP_126, see Table 10.1.6.1-1 in TS 38.133 [17]) from UEs in the cell per SSB during a granularity period.

d) Measurement Result

Each counter is an real value representing the average of the reported DL SS-RSRP values (i.e. between RSRP_0 and RSRP_126, see Table 10.1.6.1-1 in TS 38.133 [17]) for each SSB. The number of measurements is equal to the number of SSB beams defined in the cell.

e) Measurement Type

The measurement name has the form L1M.DL-SS-RSRP.SSB, where SSB represents the counter associated with SSB.

f) Measurement Object Class

NRCellDU

g) Switching Technology

Valid for packet switched traffic

h) Generation

5GS

i) Purpose

One usage of this measurement is for mMIMO Non-GoB optimization in [21].

7.10.8	DL Synchronization Signal based Signal to Noise and Interference Ratio (SS-SINR)

Measurement Name

DL Synchronization Signal based Signal to Noise and Interference Ratio (SS-SINR)

a) Description

This measurement provides the average of the DL SS-SINR (see TS 38.215 [16]) values reported from UEs in the cell when SS-SINR is used for L1-SINR as configured by reporting configurations as defined in TS 38.214 [18], in case the L1-SINR report function is enabled. Separate counters are maintained for each SSB in the cell.

b) Collection Method

DER (N=1)

c) Condition

This measurement is obtained by taking the average of the reported DL SS-SINR values (i.e. between SINR_0 and SINR_127, see Table 10.1.16.1-1 in TS 38.133 [17]) from UEs in the cell per SSB during a granularity period.

d) Measurement Result

Each counter is an real value representing the average of the reported DL SS-SINR values (i.e. between SINR_0 and SINR_127, see Table 10.1.16.1-1 in TS 38.133 [17]) for each SSB. The number of measurements is equal to the number of SSB beams defined in the cell.

e) Measurement Type

The measurement name has the form L1M.DL-SS-SINR.SSB, where SSB represents the counter associated with SSB.

f) Measurement Object Class

NRCellDU

g) Switching Technology

Valid for packet switched traffic

h) Generation

5GS

i) Purpose

One usage of this measurement is for mMIMO Non-GoB optimization in [21].

7.10.9	UL Sounding Reference Signal based Reference Signal Received Power (SRS-RSRP)

Measurement Name

UL Sounding Reference Signal based Reference Signal Received Power (SRS-RSRP)

a) Description

This measurement provides the average of the UL SRS-RSRP (see TS 38.215 [16]) values measured for UEs in the cell.

b) Collection Method

DER (N=1)

c) Condition

This measurement is obtained by taking the average of the measured UL SRS-RSRP  values in [W] for UEs in the cell during a granularity period.

d) Measurement Result

The measurement is an real value representing the average of the measured UL SRS-RSRP values in [W].

e) Measurement Type

The measurement name has the form L1M.UL-SRS-RSRP.

f) Measurement Object Class

NRCellDU

g) Switching Technology

Valid for packet switched traffic

h) Generation

5GS

i) Purpose

One usage of this measurement is for mMIMO Non-GoB optimization in [21].

8	Elements for E2SM Service Model

8.1	General

Sub-clause 8.2 describes the structure of the information elements as required for E2SM-KPM in tabular format. Sub-clause 8.3 presents individual information elements. Sub-clause 8.4 provides the corresponding ASN.1 definition of each information element.

The following attributes are used for the tabular description of the messages and information elements:

NOTE:	The messages have been defined by the guidelines specified in 3GPP TR 25.921 [11].

8.2	Message Functional Definition and Content

8.2.1	Messages for RIC Functional procedures

8.2.1.1	RIC EVENT TRIGGER DEFINITION IE

This information element is part of the RIC SUBSCRIPTION REQUEST message sent by the Near-RT RIC to an E2 Node and is required for event triggers used to initiate REPORT actions.

Direction: NEAR-RT RIC  E2 Node.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

CHOICE Event Trigger Format

>E2SM-KPM Event Trigger Definition Format 1

M

8.2.1.1.1

8.2.1.1.1	E2SM-KPM Event Trigger Definition Format 1

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Reporting Period

M

INTEGER (1..4294967295)

The reporting period is expressed in unit of 1 millisecond.

8.2.1.2	RIC ACTION DEFINITION IE

This information element is part of the RIC SUBSCRIPTION REQUEST message sent by the Near-RT RIC to an E2 Node. In this service model, this information element provides additional information for the nominated Action (Report).

Direction: NEAR-RT RIC  E2 Node.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

RIC Style Type

M

8.3.3

CHOICE Action Definition Format

>E2SM-KPM Action Definition Format 1

M

8.2.1.2.1

>E2SM-KPM Action Definition Format 2

M

8.2.1.2.2

>E2SM-KPM Action Definition Format 3

M

8.2.1.2.3

>E2SM-KPM Action Definition Format 4

M

8.2.1.2.4

>E2SM-KPM Action Definition Format 5

M

8.2.1.2.5

8.2.1.2.1	E2SM-KPM Action Definition Format 1

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Measurement Information List

1.. <maxnoofMeasurementInfo>

>CHOICE Measurement Type

>>Measurement Name

M

8.3.9

Measurement Type Name

>>Measurement ID

M

8.3.10

Measurement Type ID

>List of Labels

1.. <maxnoofLabelInfo>

>>Label Information

M

8.3.11

Measurement Label

Granularity Period

M

8.3.8

Granularity Period

Collection interval of measurements

Cell Global ID

O

8.3.20 Cell Global ID

Points to a specific cell for generating measurements subscribed by the Measurement Information List IE

Distribution Measurement Bin Range Info List

0.. <maxnoofMeasurementInfo>

>CHOICE Measurement Type

>>Measurement Name

M

8.3.9

Measurement Type Name

>>Measurement ID

M

8.3.10

Measurement Type ID

>Bin Range Definition

M

8.3.26

Indicates the value ranges of bins for distribution type measurement

Range bound

Explanation

maxnoofMeasurementInfo

Maximum no. of measurement types that can be reported by a single report. Value is <65535>.

maxnoofLabelInfo

Maximum no. of measurements values that can be reported for a single measurement type. Value is <2147483647>.

8.2.1.2.2	E2SM-KPM Action Definition Format 2

IE/Group Name

Presence

Range

IE type and reference

Semantics description

UE ID

M

8.3.24

Points to a specific UE of interest

Subscription Information

M

8.2.1.2.1 E2SM-KPM Action Definition Format 1

8.2.1.2.3	E2SM-KPM Action Definition Format 3

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Measurement Information List

1.. <maxnoofMeasurementInfo>

>CHOICE Measurement Type

>>Measurement Name

M

8.3.9

Measurement Type Name

>>Measurement ID

M

8.3.10

Measurement Type ID

>Matching Condition

1.. <maxnoofConditionInfo>

The Matching Condition represents the Boolean expression, the logical connection to the next condition is AND if the Logical OR IE is not included

>>CHOICE Condition Type

M

>>>Label Information

8.3.11

Measurement Label

>>>Test Information

8.3.22 Test Condition Information

>>Logical OR

O

8.3.25

If included, logical connection to the next condition is “or”.

>Bin Range Definition

O

8.3.26

Indicates the value ranges of bins for distribution type measurement

Granularity Period

M

8.3.8

Granularity Period

Collection interval of measurements

Cell Global ID

O

8.3.20 Cell Global ID

Points to a specific cell for generating measurements subscribed by the Measurement Information List IE

Range bound

Explanation

maxnoofMeasurementInfo

Maximum no. of measurement types that can be reported by a single report. Value is <65535>.

maxnoofConditionInfo

Maximum no. of conditions that can be subscribed for a single measurement type. Value is <32768>.

8.2.1.2.4	E2SM-KPM Action Definition Format 4

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Matching Condition

1.. <maxnoofConditionInfoPerSub>

The Matching Condition represents the Boolean expression, the logical connection to the next condition is AND if the Logical OR IE is not included

>Test Information

M

8.3.22 Test Condition Information

Provides test condition to filter matching UEs

>Logical OR

O

8.3.25

If included, logical connection to the next condition is “or”.

Subscription Information

M

8.2.1.2.1 E2SM-KPM Action Definition Format 1

Range bound

Explanation

maxnoofConditionInfoPerSub

Maximum no. of conditions that can be subscribed for a single subscription. Value is <32768>.

8.2.1.2.5	E2SM-KPM Action Definition Format 5

IE/Group Name

Presence

Range

IE type and reference

Semantics description

List of Subscribed UE IDs

2.. <maxnoofUEIDPerSub>

Points to a list of UEs of interest

 >UE ID

M

8.3.24

Subscription Information

M

8.2.1.2.1 E2SM-KPM Action Definition Format 1

Range bound

Explanation

maxnoofUEIDPerSub

Maximum no. of UE IDs that can be subscribed for a single subscription. Value is <65535>.

8.2.1.3	RIC INDICATION HEADER IE

This information element is part of the RIC INDICATION message sent by the E2 Node to the Near-RT RIC and is required for REPORT action.

Direction: E2 Node  NEAR-RT RIC.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

CHOICE Indication Header Format

>E2SM-KPM Indication Header Format 1

M

8.2.1.3.1

8.2.1.3.1	E2SM-KPM Indication Header Format 1

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Collection Start Time

M

8.3.12 Time Stamp

File Format Version

O

PrintableString (SIZE (0..15), …)

Sender Name

O

PrintableString (SIZE (0..400), …)

Sender Type

O

PrintableString (SIZE (0..8), …)

Vendor Name

O

PrintableString (SIZE (0..32), …)

8.2.1.4	RIC INDICATION MESSAGE IE

This information element is part of the RIC INDICATION message sent by the E2 Node to the Near-RT RIC and is required for REPORT action.

Direction: E2 Node  NEAR-RT RIC.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

CHOICE Indication Message Format

>E2SM-KPM Indication Message Format 1

M

8.2.1.4.1

>E2SM-KPM Indication Message Format 2

M

8.2.1.4.2

>E2SM-KPM Indication Message Format 3

M

8.2.1.4.3

8.2.1.4.1	E2SM-KPM Indication Message Format 1

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Measurements Data

1.. <maxnoofMeasurementRecord>

Contains a set of Measurement Records, each collected at each Granularity Period.

>Measurements Record

1.. <maxnoofMeasurementValue>

Contains measured values in same order as in the

Measurements Information List IE if present, otherwise in the order defined in the subscription.

>>CHOICE Measured Value

>>>Integer Value

M

INTEGER (0..4294967295)

>>>Real Value

M

REAL

>>>No Value

M

NULL

>Incomplete Flag

O

ENUMERATED (true, …)

Indicates that the measurements record is not reliable.

Measurement Information List

0.. <maxnoofMeasurementInfo>

>CHOICE Measurement Type

>>Measurement Name

M

8.3.9

Measurement Type Name

>>Measurement ID

M

8.3.10

Measurement Type ID

>List of Labels

1.. <maxnoofLabelInfo>

>>Label Information

M

8.3.11

Measurement Label

Granularity Period

O

8.3.8

Granularity Period

Collection interval of measurements

Range bound

Explanation

maxnoofMeasurementInfo

Maximum no. of measurement types that can be reported by a single report. Value is <65535>.

maxnoofLabelInfo

Maximum no. of measurements values that can be reported for a single measurement type. Value is <2147483647>.

maxnoofMeasurementRecord

Maximum no. of measurement records that can be reported by a single report. Value is <65535>.

maxnoofMeasurementValue

Maximum no. of measurement values that can be carried by a single measurement record. Value is <2147483647>.

8.2.1.4.2	E2SM-KPM Indication Message Format 2

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Measurements Data

1.. <maxnoofMeasurementRecord>

Contains a set of Measurement Records, each collected at each Granularity Period.

>Measurements Record

1.. <maxnoofMeasurementValue>

Contains measured values in same order as in the

Measurements Information Condition UE List IE.

>>CHOICE Measured Value

>>>Integer Value

M

INTEGER (0..4294967295)

>>>Real Value

M

REAL

>>>No Value

M

NULL

>Incomplete Flag

O

ENUMERATED (true, …)

Indicates that the measurements record is not reliable.

Measurement Information Condition UE List

1.. <maxnoofMeasurementInfo>

>CHOICE Measurement Type

>>Measurement Name

M

8.3.9

Measurement Type Name

>>Measurement ID

M

8.3.10

Measurement Type ID

>Matching Condition

1.. <maxnoofConditionInfo>

>>CHOICE Condition Type

M

>>>Label Information

8.3.11

Measurement Label

>>>Test Information

8.3.22 Test Condition Information

>>Logical OR

O

8.3.25

>List of matched UE IDs

0.. <maxnoofUEID>

Indicates the UE ID(s) matched for the corresponding measurement type during the Reporting Period.

>>UE ID

M

8.3.24

>Sequence of Matched UE IDs for Granularity Periods

0.. <maxnoofMeasurementRecord>

Indicates the UE ID(s) matched for the corresponding measurement type, separately for each and every Granularity Period in chronological order.

If included, the List of matched UE IDs IE shall be ignored if received.

>>CHOICE Matched UE for Granularity Period

M

>>>None

>>>>No UE matched for Granularity Period

M

ENUMERATED (true, …)

Indicates that none of UEs were matched for the corresponding measurement type for the corresponding Granularity Period.

>>>One or more

>>>>List of UE IDs for Granularity Period

1.. <maxnoofUEID>

Indicates the UE ID(s) matched for the corresponding measurement type for the corresponding Granularity Period.

>>>>>UE ID

M

8.3.24

Granularity Period

O

8.3.8

Granularity Period

Collection interval of measurements

Range bound

Explanation

maxnoofMeasurementInfo

Maximum no. of measurement types that can be reported by a single report. Value is <65535>.

maxnoofConditionInfo

Maximum no. of conditions that can be subscribed for a single measurement type. Value is <32768>.

maxnoofUEID

Maximum no. of UE IDs that can be reported for a single condition. Value is <65535>.

maxnoofMeasurementRecord

Maximum no. of measurement records that can be reported by a single report. Value is <65535>.

maxnoofMeasurementValue

Maximum no. of measurement values that can be carried by a single measurement record. Value is <2147483647>.

8.2.1.4.3	E2SM-KPM Indication Message Format 3

IE/Group Name

Presence

Range

IE type and reference

Semantics description

List of UE Measurement Reports

1.. <maxnoofUEMeasReport>

>UE ID

M

8.3.24

>Measurements Report

M

8.2.1.4.1 E2SM-KPM Indication Message Format 1

Contains Measurement Data for a UE for a Reporting Period.

Range bound

Explanation

maxnoofUEMeasReport

Maximum no. of UE Measurement Reports that can be reported. Value is <65535>.

8.2.1.5	RIC CALL PROCESS ID

Note: Not used in this service model

8.2.1.6	RIC CONTROL HEADER IE

Note: Not used in this service model

8.2.1.7	RIC CONTROL MESSAGE IE

Note: Not used in this service model

8.2.1.8	RIC CONTROL OUTCOME IE

Note: Not used in this service model

8.2.2	Messages for RIC Global Procedures

8.2.2.1	RAN Function Definition IE

This information element is part of the E2 SETUP REQUEST, and RIC SERVICE UPDATE message sent by the E2 Node to the Near-RT RIC and is used to provide all required information for the Near-RT RIC to determine how a given E2 Node has been configured to support a given RAN Function specific E2SM.

Direction: E2 Node  NEAR-RT RIC.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

RAN Function Name

M

8.3.2

Sequence of Event Trigger styles

0.. <maxnoofRICStyles>

>RIC Event Trigger Style Type

M

8.3.3

>RIC Event Trigger Style Name

M

8.3.4

>RIC Event Trigger Format Type

M

8.3.5

Sequence of Report styles

0.. <maxnoofRICStyles>

>RIC Report Style Type

M

8.3.3

>RIC Report Style Name

M

8.3.4

>RIC Report Action Format Type

M

8.3.5

>Sequence of Measurement Info for Action

1.. <maxnoofMeasurementInfo>

>>Measurement Type Name

M

8.3.9

>>Measurement Type ID

O

8.3.10

>>Bin Range Definition

O

8.3.26

Indicates the value ranges of bins for distribution type measurement

>RIC Indication Header Format Type

M

8.3.5

Indication header type used by Report style

>RIC Indication Message Format Type

M

8.3.5

Indication message type used by Report style

Range bound

Explanation

maxnoofCells

Maximum no. of cells supported by an E2 Node component. The value is <16384>.

maxnoofRICstyle

Maximum no. of Style of Report, Insert, Control or Policy actions supported by RAN Function. The value is <63>.

maxnoofMeasurementInfo

Maximum no. of measurement types that can be reported by a single report. The value is <65535>.

8.3	Information Element definitions

8.3.1	General

When specifying information elements which are to be represented by bit strings, if not otherwise specifically stated in the semantics description of the concerned IE or elsewhere, the following principle applies with regards to the ordering of bits:

-	The first bit (leftmost bit) contains the most significant bit (MSB);

-	The last bit (rightmost bit) contains the least significant bit (LSB);

-	When importing bit strings from other specifications, the first bit of the bit string contains the first bit of the concerned information.

8.3.2	RAN Function Name

This IE is defined in [12] clause 6.2.2.1.

8.3.3	RIC Style Type

This IE is defined in [12] clause 6.2.2.2.

8.3.4	RIC Style Name

This IE is defined in [12] clause 6.2.2.3.

8.3.5	RIC Format Type

This IE is defined in [12] clause 6.2.2.4.

8.3.6	Void

8.3.7	Void

8.3.8	Granularity Period

This IE defines the measurement collection interval within a reporting period.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Granularity Period

M

INTEGER (1..4294967295)

Measurement collection interval expressed in unit of 1 millisecond.

8.3.9	Measurement Type Name

This IE defines the name of a given measurement type.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Measurement Name

M

PrintableString(SIZE(1.. 150, ...))

One of the measurement names specified in TS 28.552 [4], TS 32.425 [8], or Section 7.10. The subcounters are represented by the Measurement Labels defined in 8.3.11.

8.3.10	Measurement Type ID

This IE defines the identifier of a given measurement type.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Measurement ID

M

INTEGER (1.. 65535, ...)

8.3.11	Measurement Label

This IE defines values of necessary subcounters applicable to an associated measurement type.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

No Label

O

ENUMERATED (true, …)

Indicates the associated measurement type without any subcounter. If included, other IEs in 8.3.11 shall not be included in the same Measurement Label (and vice versa).

PLMN ID

O

8.3.15

Represents the PLMN subcounter

Slice ID

O

8.3.14

Represents the SNSSAI subcounter. OCTET STRING of length 1 octet shall be provided for matching the SST value only. OCTET STRING of length 4 octets shall be provided for matching the SST + SD value. OCTET STRING of length 4 octets with the last 3 octets as 0xFFFFFF shall be provided if a S-NSSAI without SD value has to be explicitly matched. See 3GPP TS 23.003 [20] clause 28.4.2.

5QI

O

8.3.17

Represents the 5QI subcounter

QFI

O

8.3.21

Represents the QFI subcounter

QCI

O

8.3.18

Represents the QCI subcounter

QCImax

O

8.3.18

Used only when the name of the associated measurement type ends with ‘_Filter’

QCImin

O

8.3.18

Used only when the name of the associated measurement type ends with ‘_Filter’

ARPmax

O

INTEGER (1.. 15, …)

Used only when the name of the associated measurement type ends with ‘_Filter’

ARPmin

O

INTEGER (1.. 15, …)

Used only when the name of the associated measurement type ends with ‘_Filter’

Bitrate Range

O

INTEGER (1.. 65535, ...)

Used only when the name of the associated measurement type ends with ‘_Filter’

Layer at MU-MIMO

O

INTEGER (1.. 65535, ...)

Represents the MIMO layer subcounter

Sum

O

ENUMERATED (true, …)

Sum is calculated as cumulative sum from the start of the measurement.

Distribution Bin X

O

INTEGER (1.. 65535, ...)

An index of Bin X. Only applicable to distribution type measurement information.

Distribution Bin Y

O

INTEGER (1.. 65535, ...)

An index of Bin Y. Only applicable to distribution type measurement information. This IE may be present only when Distribution Bin X is present.

Distribution Bin Z

O

INTEGER (1.. 65535, ...)

An index of Bin Z. Only applicable to distribution type measurement information. This IE may be present only when Distribution Bin X and Distribution Bin Y are present.

Precedent Label Override Indication

O

ENUMERATED (true, …)

Indicates that subcounters and their values of the precedent label applies in the same way except for the included subcounters. For included subcounters, new values shall apply.

Start End Indication

O

ENUMERATED (start, end, …)

Used to indicate a range of values. If “start” is used for a label, the subsequent label should include this IE with “end”.

If included together with Distribution Bin type subcounter(s), it can be used to indicate a range of multi-dimensional values in the ascending order of numbers from Bin Z (if included), then from Bin Y (if included), then from Bin X (if included). In this case, information of a label with “start” should be identical to that of the subsequent label with “end”, except Distribution Bin type subcounter(s) used.

Otherwise (included together with subcounter other than Distribution Bin type subcounter), it can be used to indicate one-dimensional range of values in the ascending order, and information of a label with “start” should be identical to that of the subsequent label with “end”, except only one subcounter.

Min

O

ENUMERATED (true, …)

Minimum of the measured values over a granularity period.

Max

O

ENUMERATED (true, …)

Maximum of the measured values over a granularity period.

Avg

O

ENUMERATED (true, …)

Average of the measured values over a granularity period.

SSB Index

O

INTEGER (1.. 65535, ...)

Represents the SSB subcounter

Non-GoB Beamforming Mode Index

O

INTEGER (1.. 65535, ...)

Represents the non-GoB beamforming mode subcounter [21]

MIMO Mode Index

O

INTEGER (1..2, …)

Represents the MIMO mode subcounter. Value = 1 means the SU (single-user) MIMO mode. Value 2 means the MU (multi-user) MIMIO mode.

8.3.12	Time Stamp

This IE contains UTC time information

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Time Stamp

M

OCTET STRING (SIZE(4))

Encoded in the same format as the first four octets of the 64-bit timestamp format as defined in section 6 of IETF RFC 5905 [13].

8.3.13	Void

8.3.14	S-NSSAI

This IE is defined in [12] clause 6.2.3.12.

8.3.15	PLMN Identity

This IE is defined in [12] clause 6.2.3.1.

8.3.16	Void

8.3.17	5QI

This IE is defined in [12] clause 6.2.3.13.

8.3.18	QCI

This IE is defined in [12] clause 6.2.3.14.

8.3.19	Void

8.3.20	Cell Global ID

This IE is defined in [12] clause 6.2.2.5.

8.3.21	QFI

This IE is defined in [12] clause 6.2.3.15.

8.3.22	Test Condition Information

This IE defines a test condition for identifying UEs.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

CHOICE Test Condition Type

M

>GBR

ENUMERATED (true, …)

Identifies UEs with the GBR QoS flows or within the specified bitrate range. The definition of GBR QoS flow is in TS 23.501 [14].

>AMBR

ENUMERATED (true, …)

Identifies UEs with the Session-AMBR within the specified bitrate range. The definition of Session-AMBR is in TS 23.501 [14].

>IsStat

ENUMERATED (true, …)

This IE is not used in this version of specification.

>IsCatM

ENUMERATED (true, …)

This IE is not used in this version of specification.

>DL RSRP

ENUMERATED (true, …)

Identifies UEs with the latest reported DL RSRP measurement for this cell within the specified range. For EUTRAN, the definition of DL RSRP is in TS 36.214 [15]. For NR, the definition of DL RSRP is in TS 38.215 [16].

>DL RSRQ

ENUMERATED (true, …)

Identifies UEs with the latest reported DL RSRQ measurement for this cell within the specified range. For EUTRAN, the definition of DL RSRP is in TS 36.214 [15].  For NR, the definition of DL RSRQ is in TS 38.215 [16].

>UL RSRP

ENUMERATED (true, …)

Identifies UEs with the latest measured UL SRS-RSRP for this cell by the E2 Node within the specific range. The definition of UL SRS-RSRP is defined in TS 38.215 [16]. The mapping of measured quantity is described similarly to DL RSRP using the TS 38.133 [17] Table 10.1.6.1-1.

>CQI

ENUMERATED (true, …)

Identifies UEs with the latest reported wideband CQI for this cell in the Layer 1 within the specific range. The definition of wideband CQI is defined in TS 38.214 [18].

>5QI

ENUMERATED (true, …)

Identifies UEs with the 5QI of QoS flows within the specified range. The definition of 5QI is in TS 23.501 [14].

>QCI

ENUMERATED (true, …)

Identifies UEs with the QCI of Service Data Flows within the specified range. The definition of QCI is in TS 23.203 [19].

>S-NSSAI

ENUMERATED (true, …)

Identifies UEs with the S-NSSAI [12] within the specified range. OCTET STRING of length 1 octet shall be provided for matching the SST value only. OCTET STRING of length 4 octets shall be provided for matching the SST + SD value. OCTET STRING of length 4 octets with the last 3 octets as 0xFFFFFF shall be provided if a S-NSSAI without SD value has to be explicitly matched. See 3GPP TS 23.003 [20] clause 28.4.2.

Test Condition

O

ENUMERATED (equal, greaterthan, lessthan, contains, present, …)

Test Condition Value

O

8.3.23

8.3.23	Test Condition Value

This IE defines the target value for a particular Test Condition Type IE element.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

CHOICE Test Value

M

>INTEGER

INTEGER

>ENUMERATED

INTEGER

>BOOLEAN

BOOLEAN

>BIT STRING

BIT STRING

>OCTET STRING

OCTET STRING

>PRINTABLE STRING

PrintableString

>REAL

REAL

8.3.24	UE ID

This IE is defined in [12] clause 6.2.2.6.

8.3.25	Logical OR

This IE indicates a logical “or” connection of the current condition to the next condition in a given sequence of conditions.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

Logical OR

M

ENUMERATED (true, …)

If set to “true”, logical connection to the next condition is “or”.

8.3.26		Bin Range Definition

This IE defines the value range of bins for distribution type measurements.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

List of Bins for Distribution Bin X

1.. <maxnoofBin>

>Bin Index

M

INTEGER (1.. 65535, ..)

Index of a bin to be used when subscribed

>Start Value

M

8.3.27

>End Value

M

8.3.27

List of Bins for Distribution Bin Y

0.. <maxnoofBin>

Shall not be included for a distribution measurement type that doesn't use Distribution Bin Y.

>Bin Index

M

INTEGER (1.. 65535, ..)

Index of a bin to be used when subscribed

>Start Value

M

8.3.27

>End Value

M

8.3.27

List of Bins for Distribution Bin Z

0.. <maxnoofBin>

Shall not be included for a distribution measurement type that doesn't use Distribution Bin Z.

>Bin Index

M

INTEGER (1.. 65535, ..)

Index of a bin to be used when subscribed

>Start Value

M

8.3.27

>End Value

M

8.3.27

Range bound

Explanation

maxnoofBin

Maximum no. of bins that can be defined for a distribution type measurement. Value is <65535>.

8.3.27		Bin Range Value

This IE defines either the start or end value of a bin for distribution type measurements.

IE/Group Name

Presence

Range

IE type and reference

Semantics description

CHOICE Bin Range Value

M

>INTEGER

INTEGER

>REAL

REAL

8.4	Information Element Abstract Syntax (with ASN.1)

8.4.1	General

E2SM-KPM ASN.1 definition conforms to ITU-T Rec. X.680 [5] and ITU-T Rec. X.681 [6].

Sub clause 8.4.2 presents the Abstract Syntax of the E2SM information elements to be carried within the E2AP [3] protocol messages with ASN.1. In case there is contradiction between the ASN.1 definition in this sub clause and the tabular format in sub clause 8.2 and 8.3, the ASN.1 shall take precedence, except for the definition of conditions for the presence of conditional elements, in which the tabular format shall take precedence.

If an E2SM information element carried as an OCTET STRING in an E2AP [3] message that is not constructed as defined above is received, this shall be considered as Abstract Syntax Error, and the message shall be handled as defined for Abstract Syntax Error in clause 9.

8.4.2	Information Element definitions

-- ASN1START

-- **************************************************************

-- E2SM-KPM Information Element Definitions

-- **************************************************************

E2SM-KPM-IEs {

iso(1) identified-organization(3) dod(6) internet(1) private(4) enterprise(1) oran(53148) e2(1) version2(2) e2sm(2) e2sm-KPMMON-IEs (2)}

DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

-- **************************************************************

--   IEs

-- **************************************************************

IMPORTS

	CGI,

	FiveQI,

	PLMNIdentity,

	QCI,

	QosFlowIdentifier,

	RANfunction-Name,

	RIC-Format-Type,

	RIC-Style-Name,

	RIC-Style-Type,

	S-NSSAI,

	UEID

FROM E2SM-COMMON-IEs;

TimeStamp ::= OCTET STRING (SIZE(4))

BinIndex ::= INTEGER (1.. 65535, ...)

BinRangeValue ::= CHOICE {

	valueInt				INTEGER,

	valueReal			REAL,

	...

}

GranularityPeriod ::= INTEGER (1.. 4294967295)

LogicalOR ::= ENUMERATED {true, ...}

MeasurementType ::= CHOICE {

	measName				MeasurementTypeName,

	measID				MeasurementTypeID,

	...

}

MeasurementTypeName ::= PrintableString(SIZE(1.. 150, ...))

MeasurementTypeID ::= INTEGER (1.. 65536, ...)

MeasurementLabel ::= SEQUENCE {

	noLabel					ENUMERATED {true, ...}				OPTIONAL,

	plmnID					PLMNIdentity							OPTIONAL,

	sliceID					S-NSSAI									OPTIONAL,

	fiveQI					FiveQI									OPTIONAL,

	qFI						QosFlowIdentifier						OPTIONAL,

	qCI						QCI										OPTIONAL,

	qCImax					QCI										OPTIONAL,

	qCImin					QCI										OPTIONAL,

	aRPmax					INTEGER (1.. 15, ...)				OPTIONAL,

	aRPmin					INTEGER (1.. 15, ...)				OPTIONAL,

	bitrateRange			INTEGER (1.. 65535, ...)			OPTIONAL,

	layerMU-MIMO			INTEGER (1.. 65535, ...)			OPTIONAL,

	sUM						ENUMERATED {true, ...}				OPTIONAL,

	distBinX					INTEGER (1.. 65535, ...)			OPTIONAL,

	distBinY					INTEGER (1.. 65535, ...)			OPTIONAL,

	distBinZ					INTEGER (1.. 65535, ...)			OPTIONAL,

	preLabelOverride		ENUMERATED {true, ...}				OPTIONAL,

	startEndInd				ENUMERATED {start, end, ...}		OPTIONAL,

	min						ENUMERATED {true, ...}				OPTIONAL,

	max						ENUMERATED {true, ...}				OPTIONAL,

	avg						ENUMERATED {true, ...}				OPTIONAL,

	...,

	ssbIndex					INTEGER (1.. 65535, ...)			OPTIONAL,

	nonGoB-BFmode-Index	INTEGER (1.. 65535, ...)			OPTIONAL,

	mIMO-mode-Index		INTEGER (1.. 2, ...)					OPTIONAL

}

TestCondInfo ::= SEQUENCE{

	testType				TestCond-Type,

	testExpr				TestCond-Expression						OPTIONAL,

	testValue			TestCond-Value								OPTIONAL,

	...

}

TestCond-Type ::= CHOICE{

	gBR					ENUMERATED {true, ...},

	aMBR					ENUMERATED {true, ...},

	isStat				ENUMERATED {true, ...},

	isCatM				ENUMERATED {true, ...},

	rSRP					ENUMERATED {true, ...},

	rSRQ					ENUMERATED {true, ...},

	...,

	ul-rSRP				ENUMERATED {true, ...},

	cQI					ENUMERATED {true, ...},

	fiveQI				ENUMERATED {true, ...},

	qCI					ENUMERATED {true, ...},

	sNSSAI				ENUMERATED {true, ...}

}

TestCond-Expression ::= ENUMERATED {

equal,

greaterthan,

lessthan,

contains,

present,

...

}

TestCond-Value ::= CHOICE{

	valueInt				INTEGER,

	valueEnum			INTEGER,

	valueBool			BOOLEAN,

	valueBitS			BIT STRING,

	valueOctS			OCTET STRING,

	valuePrtS			PrintableString,

	...,

	valueReal			REAL

}

-- **************************************************************

--   Lists

-- **************************************************************

maxnoofCells					INTEGER ::= 16384

maxnoofRICStyles				INTEGER ::= 63

maxnoofMeasurementInfo		INTEGER ::= 65535

maxnoofLabelInfo				INTEGER ::= 2147483647

maxnoofMeasurementRecord	INTEGER ::= 65535

maxnoofMeasurementValue		INTEGER ::= 2147483647

maxnoofConditionInfo			INTEGER ::= 32768

maxnoofUEID						INTEGER ::= 65535

maxnoofConditionInfoPerSub	INTEGER ::= 32768

maxnoofUEIDPerSub				INTEGER ::= 65535

maxnoofUEMeasReport			INTEGER ::= 65535

maxnoofBin						INTEGER ::= 65535

BinRangeDefinition ::= SEQUENCE {

binRangeListX		BinRangeList,

binRangeListY		BinRangeList			OPTIONAL -- This IE shall not be present for a distribution measurement type that doesn't use Distribution Bin Y --,

binRangeListZ		BinRangeList			OPTIONAL -- This IE shall not be present for a distribution measurement type that doesn't use Distribution Bin Z --,

...

}

BinRangeList ::= SEQUENCE (SIZE(1..maxnoofBin)) OF BinRangeItem

BinRangeItem ::= SEQUENCE {

	binIndex				BinIndex,

	startValue			BinRangeValue,

	endValue				BinRangeValue,

	...

}

DistMeasurementBinRangeList ::= SEQUENCE (SIZE(1..maxnoofMeasurementInfo)) OF DistMeasurementBinRangeItem

DistMeasurementBinRangeItem ::= SEQUENCE {

	measType				MeasurementType,

	binRangeDef			BinRangeDefinition,

	...

}

MeasurementInfoList ::= SEQUENCE (SIZE(1..maxnoofMeasurementInfo)) OF MeasurementInfoItem

MeasurementInfoItem ::= SEQUENCE {

	measType				MeasurementType,

	labelInfoList		LabelInfoList,

	...

}

LabelInfoList ::= SEQUENCE (SIZE(1..maxnoofLabelInfo)) OF LabelInfoItem

LabelInfoItem ::= SEQUENCE {

	measLabel			MeasurementLabel,

	...

}

MeasurementData ::= SEQUENCE (SIZE(1..maxnoofMeasurementRecord)) OF MeasurementDataItem

MeasurementDataItem ::= SEQUENCE {

measRecord				MeasurementRecord,

incompleteFlag			ENUMERATED {true, ...}					OPTIONAL,

...

}

MeasurementRecord ::= SEQUENCE (SIZE(1..maxnoofMeasurementValue)) OF MeasurementRecordItem

MeasurementRecordItem ::= CHOICE {

	integer				INTEGER (0.. 4294967295),

	real					REAL,

	noValue				NULL,

	...

}

MeasurementInfo-Action-List ::= SEQUENCE (SIZE(1..maxnoofMeasurementInfo)) OF MeasurementInfo-Action-Item

MeasurementInfo-Action-Item ::= SEQUENCE {

	measName				MeasurementTypeName,

	measID				MeasurementTypeID				OPTIONAL,

	...,

	binRangeDef			BinRangeDefinition			OPTIONAL

}

MeasurementCondList ::= SEQUENCE (SIZE(1..maxnoofMeasurementInfo)) OF MeasurementCondItem

MeasurementCondItem ::= SEQUENCE {

	measType				MeasurementType,

	matchingCond		MatchingCondList,

	...,

	binRangeDef			BinRangeDefinition			OPTIONAL

}

MeasurementCondUEidList ::= SEQUENCE (SIZE(1..maxnoofMeasurementInfo)) OF MeasurementCondUEidItem

MeasurementCondUEidItem ::= SEQUENCE {

	measType					MeasurementType,

	matchingCond			MatchingCondList,

	matchingUEidList		MatchingUEidList			OPTIONAL,

	...,

	matchingUEidPerGP		MatchingUEidPerGP			OPTIONAL

}

MatchingCondList ::= SEQUENCE (SIZE(1..maxnoofConditionInfo)) OF MatchingCondItem

MatchingCondItem ::= SEQUENCE {

matchingCondChoice	MatchingCondItem-Choice,

logicalOR				LogicalOR						OPTIONAL,

...

}

MatchingCondItem-Choice ::= CHOICE{

	measLabel			MeasurementLabel,

	testCondInfo		TestCondInfo,

	...

}

MatchingUEidList ::= SEQUENCE (SIZE(1..maxnoofUEID)) OF MatchingUEidItem

MatchingUEidItem ::= SEQUENCE{

	ueID					UEID,

	...

}

MatchingUEidPerGP ::= SEQUENCE (SIZE(1..maxnoofMeasurementRecord)) OF MatchingUEidPerGP-Item

MatchingUEidPerGP-Item ::= SEQUENCE{

	matchedPerGP				CHOICE{

		noUEmatched 				ENUMERATED {true, ...},

		oneOrMoreUEmatched		MatchingUEidList-PerGP,

		...

	},

	...

}

MatchingUEidList-PerGP ::= SEQUENCE (SIZE(1..maxnoofUEID)) OF MatchingUEidItem-PerGP

MatchingUEidItem-PerGP ::= SEQUENCE{

	ueID					UEID,

	...

}

MatchingUeCondPerSubList ::= SEQUENCE (SIZE(1..maxnoofConditionInfoPerSub)) OF MatchingUeCondPerSubItem

MatchingUeCondPerSubItem ::= SEQUENCE{

	testCondInfo		TestCondInfo,

	...,

	logicalOR			LogicalOR				OPTIONAL

}

MatchingUEidPerSubList ::= SEQUENCE (SIZE(2..maxnoofUEIDPerSub)) OF MatchingUEidPerSubItem

MatchingUEidPerSubItem ::= SEQUENCE{

	ueID					UEID,

	...

}

UEMeasurementReportList ::= SEQUENCE (SIZE(1..maxnoofUEMeasReport)) OF UEMeasurementReportItem

UEMeasurementReportItem ::= SEQUENCE{

	ueID				UEID,

	measReport		E2SM-KPM-IndicationMessage-Format1,

	...

}

-- **************************************************************

-- E2SM-KPM Service Model IEs

-- **************************************************************

-- **************************************************************

--   Event Trigger Definition OCTET STRING contents

-- **************************************************************

E2SM-KPM-EventTriggerDefinition ::= SEQUENCE{

	eventDefinition-formats			CHOICE{

		eventDefinition-Format1			E2SM-KPM-EventTriggerDefinition-Format1,

		...

	},

	...

}

E2SM-KPM-EventTriggerDefinition-Format1 ::= SEQUENCE{

	reportingPeriod					INTEGER (1.. 4294967295),

	...

}

-- **************************************************************

--   Action Definition OCTET STRING contents

-- **************************************************************

E2SM-KPM-ActionDefinition ::= SEQUENCE{

	ric-Style-Type					RIC-Style-Type,

	actionDefinition-formats 	CHOICE{

		actionDefinition-Format1		E2SM-KPM-ActionDefinition-Format1,

		actionDefinition-Format2		E2SM-KPM-ActionDefinition-Format2,

		actionDefinition-Format3		E2SM-KPM-ActionDefinition-Format3,

		...,

		actionDefinition-Format4		E2SM-KPM-ActionDefinition-Format4,

		actionDefinition-Format5		E2SM-KPM-ActionDefinition-Format5

	},

	...

}

E2SM-KPM-ActionDefinition-Format1 ::= SEQUENCE {

	measInfoList					MeasurementInfoList,

	granulPeriod					GranularityPeriod,

	cellGlobalID					CGI							OPTIONAL,

	...,

	distMeasBinRangeInfo			DistMeasurementBinRangeList		OPTIONAL

}

E2SM-KPM-ActionDefinition-Format2 ::= SEQUENCE {

	ueID								UEID,

	subscriptInfo					E2SM-KPM-ActionDefinition-Format1,

	...

}

E2SM-KPM-ActionDefinition-Format3 ::= SEQUENCE {

	measCondList					MeasurementCondList,

	granulPeriod					GranularityPeriod,

	cellGlobalID					CGI							OPTIONAL,

	...

}

E2SM-KPM-ActionDefinition-Format4 ::= SEQUENCE {

	matchingUeCondList			MatchingUeCondPerSubList,

	subscriptionInfo				E2SM-KPM-ActionDefinition-Format1,

	...

}

E2SM-KPM-ActionDefinition-Format5 ::= SEQUENCE {

	matchingUEidList				MatchingUEidPerSubList,

	subscriptionInfo				E2SM-KPM-ActionDefinition-Format1,

	...

}

-- **************************************************************

--   Indication Header OCTET STRING contents

-- **************************************************************

E2SM-KPM-IndicationHeader ::= SEQUENCE{

	indicationHeader-formats		CHOICE{

		indicationHeader-Format1		E2SM-KPM-IndicationHeader-Format1,

		...

	},

	...

}

E2SM-KPM-IndicationHeader-Format1 ::= SEQUENCE{

	colletStartTime				TimeStamp,

	fileFormatversion				PrintableString (SIZE (0..15), ...)		OPTIONAL,

	senderName						PrintableString (SIZE (0..400), ...)	OPTIONAL,

	senderType						PrintableString (SIZE (0..8), ...)		OPTIONAL,

	vendorName						PrintableString (SIZE (0..32), ...)		OPTIONAL,

	...

}

-- **************************************************************

--   Indication Message OCTET STRING contents

-- **************************************************************

E2SM-KPM-IndicationMessage ::= SEQUENCE{

	indicationMessage-formats		CHOICE{

		indicationMessage-Format1		E2SM-KPM-IndicationMessage-Format1,

		indicationMessage-Format2		E2SM-KPM-IndicationMessage-Format2,

		...,

		indicationMessage-Format3		E2SM-KPM-IndicationMessage-Format3

	},

	...

}

E2SM-KPM-IndicationMessage-Format1 ::= SEQUENCE {

	measData							MeasurementData,

	measInfoList					MeasurementInfoList						OPTIONAL,

	granulPeriod					GranularityPeriod 						OPTIONAL,

	...

}

E2SM-KPM-IndicationMessage-Format2 ::= SEQUENCE {

	measData							MeasurementData,

	measCondUEidList				MeasurementCondUEidList,

	granulPeriod					GranularityPeriod 						OPTIONAL,

	...

}

E2SM-KPM-IndicationMessage-Format3 ::= SEQUENCE {

	ueMeasReportList				UEMeasurementReportList,

	...

}

-- ***************************************************************

--   RAN Function Definition OCTET STRING contents

-- ***************************************************************

E2SM-KPM-RANfunction-Description ::= SEQUENCE{

	ranFunction-Name					RANfunction-Name,

	ric-EventTriggerStyle-List		SEQUENCE (SIZE(1..maxnoofRICStyles)) OF RIC-EventTriggerStyle-Item 		OPTIONAL,

	ric-ReportStyle-List				SEQUENCE (SIZE(1..maxnoofRICStyles)) OF RIC-ReportStyle-Item 				OPTIONAL,

	...

}

RIC-EventTriggerStyle-Item ::= SEQUENCE{

	ric-EventTriggerStyle-Type			RIC-Style-Type,

	ric-EventTriggerStyle-Name			RIC-Style-Name,

	ric-EventTriggerFormat-Type		RIC-Format-Type,

	...

}

RIC-ReportStyle-Item ::= SEQUENCE{

	ric-ReportStyle-Type						RIC-Style-Type,

	ric-ReportStyle-Name						RIC-Style-Name,

	ric-ActionFormat-Type					RIC-Format-Type,

	measInfo-Action-List						MeasurementInfo-Action-List,

	ric-IndicationHeaderFormat-Type		RIC-Format-Type,

	ric-IndicationMessageFormat-Type		RIC-Format-Type,

	...

}

END

-- ASN1STOP

9	Handling of Unknown, Unforeseen and Erroneous Protocol Data

Section 10 of TS 36.413 [13] is applicable for the purposes of the present document.

Annex A (normative or informative):
Further information on RAN Function Network KPM Monitor

A.1	Background Information

The RAN function “Key Performance Measurement” is used to provide RIC Service exposure of the performance measurement logical function of the E2 Nodes. Based on the O-RAN deployment architecture, available measurements could be different. Figure A.1-1 shows the target deployment architecture for E2SM-KPM.

Figure A.1-1 E2SM-KPM Architecture

For each logical function the E2 Node shall use the RAN Function Definition IE to declare the list of available measurements and a set of supported RIC Services (REPORT).

Revision history

Date

Revision

Description

2018.11.25

00.00.0

Applied skeleton 00.01.04 to build KPM Monitor E2SM

2018.12.01

00.00.1

Applied change from E2SM-NI-v000.01.05

2018.12.09

00.00.2

Removed Policy section, specifies detail list of container IE

2018.12.11

00.00.3

Align with E2SM-NI as per comments from A. Urie

2018.12.12

00.00.4

Add E2 Node ID, O-CU-CP/O-CU-UP container as per comments from WG3

2018.12.18

00.00.5

Updated Style Type and Format Type definition aligned with Nokia E2SM-NI v00.01.08

2019.01.14

00.00.6

Change name from KPIMON to KPMMON, additional alignment with Nokia E2SM-NI v00.01.08 and ASN.1 message addition

2019.01.16

00.00.7

ASN.1 update

2019.01.17

00.00.8

Add RIC Style Type in RIC Indication message IE with a corresponding change to the ASN.1 encoding

2019.01.19

00.00.9

Change the name to E2SM-KPM, add Action Definition with RIC style list, made section 7.8 update for additional alignment with E2SM-NI, add Annex A.

2019.01.20

00.00.10

Update Scope, rename Slice ID to S-NSSAI, add Action Definition to each style definition, remove EPC and 5GC style, add CU-CP EPC style, fix the use of 5QI and QCI for E2 indication header, and correctly reference 28.552 for 5GC IEs

2019.01.20

00.00.11

Remove Report Period IE Test Condition and Report Period IE Value from trigger definition and ASN.1. Reference 28.552 for Active UE and PDCP DL/UL data volume

2019.01.22

00.00.11a

Removed en-gNB definition

2019.01.22

00.00.12

E2SM-KPM-IEs {

iso(1) identified-organization(3) dod(6) internet(1) private(4) enterprise(1) 53148 e2(1) version1 (1) e2sm(2) e2sm-KPM-IEs (2)}

2019.01.22

00.00.13

Section 6.1 update, Change E2 Node ID to KPM Node ID

2019.01.22

00.00.13a

Change E2SM-NI-IndicationMessage to E2SM-KPM-IndicationMessage

2020.01.29

v01.00

Adopt Jio’s comments, change the number of NR DL/UL PRB from 100 to 273.

2020.12.16

02.00.00

Adopt INTEL.AO’s CR-0001 and CR-0002 for E2SM-KPM with cleaning up old texts and ASN.1 in v01.00

2021.02.24

02.00.01

Adopt ATT.AO’s CR-0001 for UE-level measurements subscription and retrieval

2021.03.03

02.00.02

Adopt CSP.AO’s CR-0001 for Incomplete Flag

2021.03.30

02.00.03

Adopt INTEL’s CR-0003 for clean-up

2021.06.09

02.00.04

Adopt (1) INT’s CR-0006; (2) INT’s CR-0008; (3) RSYS’s CR-0004

2021.07.09

02.00.05

Adopt (1) INT’s CR-0009; (2) NEU.AO’s CR-0001

2021.08.10

02.00

TSC Approved

2021.10.13

02.01.00

Adopt (1) INTEL.AO's CR-0011; (2) RSYS.AO's CR-0002

2021.10.27

02.01.01

Adopt KDDI's CR-0001.

2021.11.22

02.01.02

Editorial Updates based on review comments during WG3 approval process

2022.02.07

02.01

Version ready for Nov21 publication

2022.03.23

02.02.00

Adopt (1) TIM.AO's CR-0003; (2) CMCC.AO's CR-0001; (3) CMCC.AO's CR-0002

2022.04.14

02.02

Version ready for Mar22 publication

2022.05.11

02.02.01

Adopt (1) INT's CR-0015; (2) INT's CR-0016; (3) INT's CR-0017

2022.07.20

02.02.02

Adopt INT's CR-0022

2022.07.24

02.02.03

Aligned to new template

02.03

TSC Approved

History

Date

Revision

Description

2020.01.29

v01.00

Published as Final version 01.00

2021.08.10

v02.00

Published as Final version 02.00

2022.02.07

v02.01

Published as Final version 02.01

2022.04.14

v02.02

Published as Final version 02.02

________________________________________________________________________________________________ © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.		    	40

________________________________________________________________________________________________ © 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   		 31