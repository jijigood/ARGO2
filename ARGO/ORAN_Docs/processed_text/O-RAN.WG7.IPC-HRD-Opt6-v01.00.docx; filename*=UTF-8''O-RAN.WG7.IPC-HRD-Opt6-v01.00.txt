O-RAN.WG7.IPC-HRD-Opt6.0-v01.00

	O-RAN.WG7.IPC-HRD-Opt6.0-v01.00

	O-RAN.WG7.IPC-HRD-Opt6.0-v01.00

									 O-RAN.WG7.IPC-HRD-Opt6.0-v01.00

Technical Specification

O-RAN White Box Hardware Working Group

Hardware Reference Design Specification for Indoor Pico Cell with Fronthaul Split Option 6

	This is a re-published version of the attached final specification.

	For this re-published version, the prior versions of the IPR Policy will apply, except that the previous requirement for Adopters (as defined in the earlier IPR Policy) to agree to an O-RAN Adopter License Agreement to access and use Final Specifications shall no longer apply or be required for these Final Specifications after 1st July 2022.

	The copying or incorporation into any other work of part or all of the material available in this specification in any form without the prior written permission of O-RAN ALLIANCE e.V.  is prohibited, save that you may print or download extracts of the material on this site for your personal use, or copy the material on this site for the purpose of sending to individual third parties for their information provided that you acknowledge O-RAN ALLIANCE as the source of the material and that you inform the third party that these conditions apply to them and that they must comply with them.

									 O-RAN.WG7.IPC-HRD-Opt6.0-v01.00

 Technical Specification

O-RAN White Box Hardware Working Group

Hardware Reference Design Specification for Indoor Pico Cell with Fronthaul Split Option 6

Copyright © 2021 by the O-RAN ALLIANCE e.V.

By using, accessing or downloading any part of this O-RAN specification document, including by copying, saving, distributing, displaying or preparing derivatives of, you agree to be and are bound to the terms of the O-RAN Adopter License Agreement contained in Annex ZZZ of this specification. All other rights reserved.

O-RAN ALLIANCE e.V.

Buschkauler Weg 27, 53347 Alfter, Germany

Register of Associations, Bonn VR 11238

VAT ID DE321720189

											1

Revision History

Date

Revision

Author

Description

2020.10.21

01.00

WG7

Final version for publication

Contents

Revision History	2

	Chapter 1	Introductory Material	8

1.1	Scope	8

1.2	References	8

1.3	Definitions and Abbreviations	9

1.3.1	Definitions	9

1.3.2	Abbreviations	9

	Chapter 2	Hardware Reference Design	12

2.1	O-CU Hardware Reference Design	12

2.2	O-DU Hardware Reference Design	12

2.2.1	O-DU High-Level Functional Block Diagram	12

2.2.2	O-DU6 Hardware Components	13

2.2.2.1	Digital Processing Unit	13

	Memory Channel Interfaces	14

	PCIe	14

	Ethernet	14

2.2.2.2	Hardware Accelerator	15

2.2.3	Synchronization and Timing	15

2.2.3.1	Synchronization and Timing Design 1	15

2.2.4	External Interface Ports	16

2.2.5	Mechanical	17

	Mother Board	17

	Cooling	18

2.2.6	Power Unit	18

2.2.7	Thermal	19

2.2.8	Environmental and Regulations	19

2.3	O-RU6 Hardware Reference Design	20

2.3.1	O-RU6 High-Level Functional Block Diagram	20

2.3.2	O-RU6 Hardware Components	20

2.3.3	O-RU6 Functional Module Description	22

2.3.3.1	Network Processing Unit (NPU)	22

2.3.3.1.1	Networking I/O	22

2.3.3.1.2	Low-speed connectivity and boot	23

2.3.3.1.3	DDR	24

2.3.3.1.4	Processor subsystem	25

2.3.3.1.5	Modem I/O	25

2.3.3.1.6	Security	26

2.3.3.2	PHY Layer ASIC	26

2.3.3.3	RF Front End	28

2.3.3.4	Power Management	28

2.3.4	Synchronization and Timing	28

2.3.4.1	Hardware Requirements	28

2.3.4.2	Synchronization and Timing Design 1	29

2.3.4.3	Synchronization and Timing Design 2	30

2.3.5	External Interface Ports	31

2.3.6	Power Unit	31

2.3.7	Environmental and Regulations	31

2.4	Integrated gNB-DU Reference Design Solution	31

2.4.1	Power Unit	32

2.4.1.1	Power Management	33

2.4.2	Synchronization and Timing	33

2.4.3	External Interface Ports	33

2.4.4	Power Unit	33

2.4.5	Environmental and Regulations	33

2.5	FHGW Hardware Reference Design	33

Annex 1: Example Hardware Bill of Materials	34

Annex 2:	36

Annex ZZZ: O-RAN Adopter License Agreement	37

Section 1: DEFINITIONS	37

Section 2: COPYRIGHT LICENSE	38

Section 3: FRAND LICENSE	38

Section 4: TERM AND TERMINATION	39

Section 5: CONFIDENTIALITY	39

Section 6: INDEMNIFICATION	39

Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY	40

Section 8: ASSIGNMENT	40

Section 9: THIRD-PARTY BENEFICIARY RIGHTS	40

Section 10: BINDING ON AFFILIATES	40

Section 11: GENERAL	40

Tables

	Table 21: Processor Feature List	12

	Table 22: Memory Channel Feature List	13

	Table 23 External Port List	15

	Table 24 Power Supply Features	18

Figures

	Figure 21 O-DU6 Architecture Diagram	12

	Figure 22 Digital Processing Unit Block Diagram	14

	Figure 23 O-DU6 Timing Synchronization	15

	Figure 24 Mother Board Layout	16

	Figure 25 Chassis Mechanical Diagram	17

	Figure 26 General Block Diagram for O-RU6	19

	Figure 27 O-RU6 Architecture Diagram	19

	Figure 28 O-RU6 Functional Module Diagram	20

	Figure 29 Sub-6 GHz Indoor Pico O-RU6 Functional Modules (Split Option 6)	21

	Figure 210 O-RU6 Networking I/O	22

	Figure 211 O-RU6 SFP Connectivity	22

	Figure 212 O-RU6 Low-speed NPU Connectivity	23

	Figure 213 O-RU6 DDR	24

	Figure 214 O-RU6 Modem I/O	24

	Figure 215 O-RU6 NPU Security	25

	Figure 216 O-RU6 PHY ASIC block diagram	26

	Figure 217 O-RU6 5G Modem Subsystem	27

	Figure 218 Timing Modules	28

	Figure 219 Ethernet Synchronization I	28

	Figure 220 Ethernet Synchronization II	29

	Figure 221 Sub-6 GHz Indoor Pico Integrated O-DU&O-RU Functional Modules	31

	Figure A1: Sub-6 Split (O-RU6) and Integrated Picocell Reference Design	33

Introductory Material

Scope

This Technical Specification has been produced by the O-RAN.org.

The contents of the present document are subject to continuing work within O-RAN WG7 and may change following formal O-RAN approval. Should the O-RAN.org modify the contents of the present document, it will be re-released by O-RAN ALLIANCE with an identifying change of release date and an increase in version number as follows:

Release x.y.z

where:

x	the first digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc. (the initial approved document will have x=01).

y	the second digit is incremented when editorial only changes have been incorporated in the document.

z	the third digit included only in working versions of the document indicating incremental changes during the editing process. This variable is for internal WG7 use only.

The present document specifies system requirements and high-level architecture for the Indoor Pico Cell Hardware Reference Design with Fronthaul Split Option 6 deployment scenario as specified in the Deployment Scenarios and Base Station Classes document [1].

References

The following documents contain provisions which, through reference in this text, constitute provisions of the present document.

ORAN-WG7.DSC.0-V01.00 Technical Specification, Deployment Scenarios and Base Station Classes for White Box Hardware

3GPP TR 21.905: Vocabulary for 3GPP Specifications

3GPP TR 38.104: NR; Base Station (BS) radio transmission and reception

3GPP TR 38.913: Study on Scenarios and Requirements for Next Generation Access Technologies

3GPP TS 38.401: NG-RAN; Architecture description

ORAN-WG7.IPC.HAR-v01.00 Technical Specification: O-RAN Indoor Pico Cell Hardware Architecture and Requirement Specification

SCF 222.10.02: 5G FAPI PHY API Specification

SCF 082.09.05: nFAPI and FAPI Specifications

SCF 223.10.01: RF and Digital Front End Control API

SCF 224.10.01: 5G FAPI Network Monitor Mode API

SCF 225.1.0: 5G nFAPI Specifications https://scf.io/en/documents/225_5G_nFAPI_specifications.php

Definitions and Abbreviations

Definitions

For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [2]. For the base station classes of Pico, Micro and Macro, the definitions are given in 3GPP TR 38.104 [3].

Carrier Frequency:  Center frequency of the cell.

F1 interface:  The open interface between O-CU and O-DU defined by 3GPP TS 38.473.

Integrated architecture:  In the integrated architecture, the O-RU and O-DU are implemented on one platform. Each O-RU and RF front end is associated with one O-DU. They are then aggregated to O-CU and connected by F1 interface.

Split architecture:  The O-RU and O-DU are physically separated from one another in this architecture. A switch may aggregate multiple O-RUs to one O-DU.  O-DU, switch and O-RUs are connected by the fronthaul interface.

Transmission Reception Point (TRxP):  Antenna array with one or more antenna elements available to the network located at a specific geographical location for a specific area.

Abbreviations

For the purposes of the present document, the abbreviations given in [2] and the following apply.
An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, as in [2].

3GPP	Third Generation Partnership Project

5G	Fifth-Generation Mobile Communications

ADC	Analog to Digital Converter

ASIC	Application Specific Integrated Circuit

BS	Base Station

CFR	Crest Factor Reduction

CISPR	Comité International Spécial des Perturbations Radioélectriques

CU	Centralized Unit as defined by 3GPP

DAC	Digital to Analog Converter

DDC	Digital Down Conversion

DDR	Double Data Rate

DL	Downlink

DPD	Digital Pre-Distortion

DPU	Digital Processing Unit

DSP	Digital Signal Processor

DU	Distributed Unit as defined by 3GPP

DUC	Digital Up Conversion

ECC	Error-Correcting Code

FAPI	Functional Application Platform Interface

FCC	Federal Communications Commission

FDD	Frequency Division Duplex

FFT	Fast Fourier Transform

FH	Fronthaul

FHGW	Fronthaul Gateway

FPGA	Field Programmable Gate Array

GbE	Gigabit Ethernet

GMC	Grand Master Clock

GNSS	Global Navigation Satellite System

GPS	Global Positioning System

HSUART 	High-Speed Universal Asynchronous Receiver/Transmitter

IEEE	Institute of Electrical and Electronics Engineers

IMC	Integrated Memory Controller

I/O	Input/Output

JTAG	Joint Test Action Group

L2	Layer 2

L3	Layer 3

LDPC	Low-Density Parity-Check

LTE	Long Term Evolution

LRDIMM 	Load-Reduced Dual In-Line Memory Module

MAC	Media Access Control

MIMO	Multiple Input Multiple Output

MCP	Multi-Chip Package

MU-MIMO	Multiple User MIMO

nFAPI	network Functional Application Platform Interface

NFV	Network Function Virtualization

NMEA 	National Marine Electronics Association

NPU	Network Processing Unit

NR	New Radio

O-CU	O-RAN Centralized Unit as defined by O-RAN

O-DU6	A specific O-RAN Distributed Unit having fronthaul split option 6

O-RU6	A specific O-RAN Radio Unit having fronthaul split option 6

PCIe	Peripheral Component Interface Express

PCH	Platform Controller Hub

PDCP	Packet Data Convergence Protocol

PHY	Physical layer

PLL	Phase Locked Loop

PMBus	Power Management Bus

PoE	Power over Ethernet

PWM	Pulse Width Modulation

RAN	Radio Access Network

RDIMM 	Registered Dual In-Line Memory Module

RFFE	Radio Frequency Front End

RGMII	Reduced Gigabit Media-Independent Interface

RF	Radio Frequency

RFFE	RF Front End

RoHS	Restriction of Hazardous Substances

RU	Radio Unit as defined by 3GPP

RX	Receiver

SFP	Small Form-factor Pluggable

SFP+	Small Form-factor Pluggable Transceiver

SOC	System On Chip

SPI	Serial Peripheral Interface

TDP	Thermal Design Power

TR	Technical Report

TS	Technical Specification

TX	Transmitter

UART 	Universal Asynchronous Receiver/Transmitter

UL	Uplink

USB	Universal Serial Bus

WG	Working Group

Hardware Reference Design

O-CU Hardware Reference Design

The O-CU white box is the hardware platform that performs the CU function of upper L2 and L3. The hardware systems specified in this document meet the computing, power and environmental requirements for O-RAN deployment scenarios. These requirements are described in the hardware requirement specification as well as in the deployment scenarios. The O-CU hardware includes the chassis platform, mother board, peripheral devices and cooling devices. The mother board contains processing unit, memory, the internal I/O interfaces, and external connection ports. The midhaul and backhaul interfaces are used to carry the traffic between O-CU and O-DU6 as well as O-CU and core network. Other hardware functional components include storage for software, debugging interfaces, and board management controller just to name a few.  The O-CU designer will make decisions based on the specific needs of the implementation.

As discussed in the hardware architecture requirements [6], the O-CU white box hardware is similar to O-DU6 on interfaces and processing unit. Rather than specifying a dedicated O-CU reference design, we reuse O-DU6 hardware reference design for O-CU.

O-DU Hardware Reference Design

The terms “O-DU6” and “O-RU6” are used here for O-DU and O-RU that use split option 6.  O-DU6 hardware systems specified in this document meet the computing, power and environmental requirements of the indoor picocell deployment scenario configuration. The O-DU6 hardware includes the chassis platform, mother board, peripheral devices and cooling devices. The mother board contains processing unit, memory, the internal I/O interfaces, and external connection ports. The front haul and back haul interface are used to carry the traffic between O-DU6 and O-RU6 as well as O-CU and O-DU6.

The O-DU6 white box is the hardware platform that performs MAC functions while PHY is done in the O-RU6. The O-DU6 design may also provide an interface for hardware accelerator(s) if that option is preferred.  However, this design does not specify accelerator hardware.  Other hardware functional components include storage for software, debugging interfaces, and board management controller.  The O-DU6 designer will make decisions based on the specific needs of the implementation.

Note that the O-DU6 HW reference design is also reusable for O-CU and integrated O-CU/ O-DU6.

O-DU High-Level Functional Block Diagram

O-DU6 and O-RU6 are connected via nFAPI interfaces over fiber/ethernet transport. With an option 6 MAC/PHY fronthaul split, the O-RU6 includes complete physical layer processing functions and the O-DU6 handles higher layer processing functions. The O-DU6 hardware architecture is shown in Figure 2-1.  Note that O-DU6 does not require an accelerator module since physical layer functions are handled by O-RU6.

Figure 21 O-DU6 Architecture Diagram

O-DU6 Hardware Components

The sections below describe the functionality, interface and performance for each respective block of the O-DU6.  As device integration is an ongoing activity, chip boundaries may be fluid and some functionalities may move from one block to another or entire functionalities may be absorbed into other blocks.  The sections below describe the functional blocks independent of which physical device they may reside in.

Digital Processing Unit

Digital Processing Unit Requirement

General purpose processor performance and other related information are listed in Table 21.

Table 21: Processor Feature List

Item Name

Description

# of  Cores

16

# of  Threads

32

Base Frequency

2.20 GHZ

Max Turbo Frequency

3.00 GHz

Cache

22 MB

TDP

100W

Max Memory Size (dependent on memory type)

512 GB

Memory Types

DDR4

Max # of Memory Channels

4

Interfaces

The interface specification in main board are as follows:

Memory Channel Interfaces

The system memory capacity, type and related information are described in Table 22.

Table 22: Memory Channel Feature List

Item Name

Description

Memory Types

DDR4

# of Memory Channels

4

ECC LRDIMM

Up to 512GB

ECC RDIMM

Up to 256GB

Memory Speed

2666/2400/2133MHz

DIMM Sizes

128GB, 64GB, 32GB, 16GB

Memory Voltage

1.2 V

PCIe

PCIe Gen 3 is supported by the processor.  There are a total of 32 PCIe lanes with 128 Gb/s bandwidth. The 32 PCIe lanes can be divided into two x16 slots by using a riser card.

Ethernet

The system should be capable to offer aggregated 48 Gb/s Ethernet bandwidth. When higher Ethernet bandwidth is required, an Ethernet card can be installed in one of the PCIe slots.

Digital Processing Unit Design

The digital processing unit is a system-on-a-chip (SOC) device which is a 64-bit, multi-core server class processor. This SoC includes an integrated Platform Controller Hub (PCH), integrated high-speed I/O, Integrated Memory Controllers (IMC), and four integrated 10 Gigabit Ethernet ports.

The SOC supports 512-bit wide vector processing instruction set. It also supports hardware virtualization to enable dynamic provisioning of services as communication service providers extend network function virtualization (NFV). Figure 22 shows the major functional blocks of the digital processing unit.

Figure 22 Digital Processing Unit Block Diagram

Hardware Accelerator

Hardware accelerators may be used in O-DU6 to offload computationally intensive functions and to optimize the performance under varying traffic and loading conditions. The acceleration functional requirements and implementation are system designer’s choice; however, the O-DU6 shall meet the minimum system performance requirements under various loading and deployment conditions. In most cases, an FPGA or ASIC based PCIe card can be used to optimize the system performance. Examples for O-DU6 could be security, network interface controller, and general packet acceleration.  Specific accelerator designs are not called out in this specification.

Synchronization and Timing

Synchronization and Timing Design 1

The timing synchronization of O-DU6 is achieved by utilizing IEEE1588 via Ethernet ports. The Network Interface Controllers (NIC) that are used for fronthaul and backhaul support the IEEE1588 protocol.

Hardware Requirements

The O-DU6 shall support at least one of following timing synchronization methods:

Ethernet based IEEE1588

GNSS based timing synchronization.

Hardware Design

Depending on the timing distribution topologies used, the O-DU6 system clock is able to synchronize with the Grand Master Clock (GMC) using IEEE1588 via either the fronthaul NIC or backhaul NIC, or synchronizing timing using Global Navigation Satellite System (GNSS). In the case of IEEE1588, the Physical Hardware Clock (PHC) within the NIC is synchronized with the GMC first, then the O-DU6 system clock is synchronized with the PHC. The O-DU6 is also capable to provide clock to the O-RU6 via fronthaul if needed. When GNSS is available to O-DU6, it is able to synchronize the system clock to Coordinated Universal Time (UTC).   Figure 2-3 outlines the O-DU6 timing synchronization mechanisms.

Figure 23 O-DU6 Timing Synchronization

External Interface Ports

Hardware Requirements

Table 2-3 shows the external ports or slots that the system provides.

Table 23 External Port List

Port Name

Feature Description

Ethernet

Octave Gigabit Ethernet LAN connectors

Dual 10GbE Base-T Ethernet connectors

Dual 10GbE SFP + Fiber Ethernet connectors

USB

2 USB 3.0 ports

Serial Port

1 COM port via RJ45

Antenna port

1 SMA connector for GNSS

Hardware Design

The digital processing unit is a SOC device which provides all the external ports described in the hardware requirement section. The system includes 2 USB 3.0 ports, and the serial RS232 port that can be used for Console Redirection, e.g. Out-of-Band Management/Windows Emergency Management Services (EMS). There are a total of four 10G Ethernet ports in system, among them are two RJ45 10GbE and two 10G SFP+ ports. The system also provides a RF interface to connect GNSS antenna.

Mechanical

Mother Board

The mechanical layout of the mother board in Figure 2-4 shows the location of major components and interface ports, and the dimension of the board.

Figure 24 Mother Board Layout

Chassis

The 1U rack mount chassis contains the layout of the power supply, SSD and fans. The chassis dimension is shown in Figure 2-5.

Figure 25 Chassis Mechanical Diagram

Cooling

The system has 4x 40x28mm PWM fans for cooling. Up to 6 fans can be installed if needed.

Power Unit

In a fully loaded system with two PCIe slots populated with 75W each, the system power consumption should be less than 400W.  The total system power shall be kept to less than 80% of the power supply capacity.

Hardware Requirements

The power is provided by 500W High-Efficiency power supply with PMBus 1.2. The power support input and output power rails are listed below.

AC Input:	 100-240V, 50-60Hz, 6.6A max

DC Output: 	+3.3V: 12A

+5V: 15A

+5V standby: 3A

+12V: 41A

-12V: 0.2A

Hardware Design

The O-DU6 chassis includes one 500W power supply unit. The power supply unit is auto-switching capable, which enables it to automatically sense and operate at a 100v to 240v input voltage. The power supply unit features are listed in Table 2-4.

Table 24 Power Supply Features

Features

Parameters

Output connectors

24pin/8pin/4+4pin/HDD/I2C

Dimension (W x D x H)

3.9 x 7.1 x 1.6 inch

Maximum Output Power

+3.3V: 12A

+5V: 15A

+12V: 41A

-12V: 0.2A

+5Vsb: 3A

Rated Input Voltage/Current

100-240Vac / 6.6A max

Rated Input Frequency

50-60HZ

Inrush current

Less than 30A

Thermal

Active cooling with up to 6 fans integrated in chassis.

Environmental and Regulations

The O-DU6 hardware system is RoHS Compliant. The power supply unit is EMC FCC/CISPR Class B compliant. Table 2-5 lists the environmental related features and parameters.

Table 25 Environmental Features

Features

Description

Operating Temperature

-5°C to 55°C

Non-operating Temperature

-40°C to 70°C (-40°F to 158°F)

Operating Relative Humidity

8% to 90% (non-condensing)

Non-operating Relative Humidity

5% to 95% (non-condensing)

O-RU6 Hardware Reference Design

This section provides a hardware reference design for O-RU6, that is an O-RU built using the MAC/PHY split and interfaces defined in the Small Cell Forum.  See references [7], [8], [9], [10] and [11].

O-RU6 High-Level Functional Block Diagram

Figure 2-6 shows a high-level functional block diagram depicting the major HW/SW components and internal/external interfaces for O-RU6.  In this design, PHY processing in the O-RU6 is handled by a specialized ASIC. O-RU6 can handle fiber or metallic ethernet transport interface ports.

Figure 26 General Block Diagram for O-RU6

O-RU6 Hardware Components

The generic hardware architecture for O-RU6 consists of three major parts: digital processing unit, RF processing unit and a timing unit as shown in Figure 2-7.  In the next section there is a brief mapping of modules within these major blocks of O-RU6.

Figure 27 O-RU6 Architecture Diagram

Dissimilar to option 7-2 or option 8, all L1 processing is performed by O-RU6. The processing unit handles transport and interface processing as well as all L1 modem processing. The DPU in O-RU6 is composed of an NPU to terminate transport layer and a PHY ASIC for L1 processing.  Figure 2-8 shows the major components used in O-RU6.

The digital processing unit handles transport/interface processing, complete PHY ( low and high PHY functions) modem processing, Digital Down Converter (DDC), Digital Up Converter (DUC), Crest Factor Reduction (CFR) and Digital Pre-Distortion (DPD).

The RF processing unit is comprised of the transceiver block which is responsible for functions such as Analog to Digital Converter (ADC), Digital to Analog Converter (DAC) and mixer; an amplification block which contains Power Amplifier (PA)/ Low Noise Amplifier (LNA), etc; and antenna subsystem that captures and/or transmits radio electromagnetic waves. O-RU6 may use Power over Ethernet (PoE) to simplify deployment complexity.

The Timing Unit may include Phase Locked Loop (PLL), local oscillator and timing synchronization circuitry.

Figure 28 O-RU6 Functional Module Diagram

O-RU6 Functional Module Description

Figure 29 Sub-6 GHz Indoor Pico O-RU6 Functional Modules (Split Option 6)

Mapping the generic hardware architecture to this hardware reference design, the DPU is split to an NPU and PHY ASIC, with an internal interface using FAPI over a PCIe interface.

Functional blocks shown in Figure 2-9 are discussed below.

Network Processing Unit (NPU)

The Network Processing Unit (NPU) for O-RU6 terminates the external nFAPI interfaces and provides the internal FAPI interface to the PHY ASIC.

Networking I/O

	Minimum I/O is a single 10GbE port that can be used with electrical or optical I/O

	Optionally, support can be added for

	OAM / maintenance port (1GbE) connecting over RGMII to the NPU

	An additional 10GbE port for chaining or failover connectivity. By implication, the NPU needs to support efficient local switch/routing functionality

Networking side connectivity is shown as below:

Figure 210 O-RU6 Networking I/O

 Example SFP connectivity is shown below:

Figure 211 O-RU6 SFP Connectivity

Low-speed connectivity and boot

This picture shows typical low-speed I/O associated with the NPU

Figure 212 O-RU6 Low-speed NPU Connectivity

In addition, the device can optionally be configured for secure boot.

DDR

Assuming a telecommunications-tuned Linux image and virtualization through containerization, accommodate for 512Mbyte for hosting the Linux OS from DDR

Buffering needs to be provided for FAPI messages, but this is expected to be limited to few Mbyte (marginal) as well as debug / OAM logging functionality

In aggregate, assume ~1Gbyte aggregate DDR dimensioning

For bandwidth estimation, assume ~5Gbps of Ethernet throughput with 2 paths to/from the DDR interface

Receive / Transmit from / to Ethernet MAC to DDR

Receive / Transmit from / to DDR to PCIe

Aggregate is ~10Gbps or 15Gbps with margin. Given a maximum utilization of the DDR interface of 50%, we require 30Gbps of raw memory throughput. A 1.6GTPS DDR memory controller with 32bits memory bus width provides 50Gbps throughput and is thus enough to support this use-case as well as additional bandwidth requirements for switch/routing functions to optional Ethernet ports.

ECC is assumed to be a required for a telecom-grade application.

Figure 213 O-RU6 DDR

Processor subsystem

The NPU needs to incorporate a processor subsystem that is capable of processing networked FAPI messages and convert them to PCI messages. Dimensioning of the CPU is outside of the scope.

Modem I/O

For bandwidth estimation, assume ~5Gbps of throughput. Adding 20% of signaling overhead, this becomes ~6Gbps.

Assuming PCIe gen3 operation, 2 lanes of PCIe @8Gbps provide sufficient overhead above this bandwidth.

Figure 214 O-RU6 Modem I/O

Security

The NPU needs to support high-speed ciphering and protocol processing capabilities to support a (IPSec) secured backhaul interface. This can be achieved through integrated networking acceleration or an external accelerator as shown below.

Figure 215 O-RU6 NPU Security

PHY Layer ASIC

The PHY Layer ASIC is an application specific integrated circuit that provides a highly integrated and power-efficient solution implementing the complete 5G-NR PHY layer.  It includes variants for both sub-6 GHz (FR1) and mmWave (FR2) frequency ranges. These ASICs can be used to implement self-contained, all-in-one small cells, as well as Option 6 radio units (RU) for disaggregated RAN systems. In either case, the ASIC connects to a co-located network processing unit (NPU) via a PCIe interface. In the case of a self-contained small cell, the NPU hosts the full L2/L3 protocol stack (i.e., RLC, MAC, PDCP) which connects to the PHY via the 5G FAPI logical interface over PCIe. In the case of an Option 6 RU, the NPU terminates the 5G nFAPI fronthaul connection between the CU/DU and the RU and connects to the PHY via the aforementioned 5G FAPI logical interface (over PCIe.)

Figure 216 O-RU6 PHY ASIC block diagram

Figure above provides a high-level diagram of the functional blocks that make up the PHY ASIC. External interfaces, including PCIe, USB, HS-UART, and GPIOs, are shown on the left-hand side. There are two embedded general-purpose CPUs available as well as a power management subsystem. The most important block is the 5G-NR Modem Subsystem.

Figure 217 O-RU6 5G Modem Subsystem

Figure above depicts a block diagram of the Modem Subsystem within the ASIC, which is predominantly software defined, leveraging a number of embedded DSPs and CPUs which together implement the transmit and receive functionalities of the 5G modem. The modem also includes hardware accelerators for computationally intensive tasks such as FFTs, demapping, and LDPC encoding/decoding. The various functional blocks are interconnected via a network-on-chip (NOC). The modem subsystem also includes a digital front-end responsible for signal conditioning in both the transmit (downlink) and receive (uplink) directions.

RF Front End

The Radio Frequency Front End (RFFE) is made up of all components between the modem and antennas.  These include RF transceivers, RF switches, filters, duplexers, power amplifiers, and low-noise amplifiers.

Power Management

The Power Management functional module controls the flow of electrical power to other parts of the O-RU6.

Synchronization and Timing

Hardware Requirements

O-RU timing synchronization sources include:

Ethernet based IEEE1588

Ethernet based Synchronous Ethernet

Optional Global Navigation Satellite System (GNSS) based timing synchronization

Timing functionality is shown in the diagram below:

Figure 218 Timing Modules

IEEE1588 time stamping can be done at the Ethernet PHY level (model 1 below) or at the Ethernet MAC/Network Processing Unit (NPU) level (model 2 below). Model 1 is expected to provide incremental precision.

Synchronization and Timing Design 1

Timing synchronization on Ethernet PHY based 1588 and Synchronous Ethernet received clock extraction support.

Figure 219 Ethernet Synchronization I

Notes:

Either (depending on mux / input control) GPS 10MHz or Synchronous Ethernet recovered output clock (ref_clk) are input to a clock synthesizer (fractional PLL) to generate the 38.4, 122.88 MHz (or similar) MHz reference clock (Frequency Synchronization)

The PPS pulse from the GPS provides a mechanism to manage local 122.88 (or similar) 3GPP clock through use of a Software PLL (servo) in absence of GPS/Synchronous Ethernet extracted reference frequency

On top of the GPS PPS pulse, the GPS UART output provides time synchronization to a universal clock through NMEA messages

The mux in the system allows the Network Processing Unit to control which input is used as PPS source (GPS module or Ethernet PHY)

All dashed lines are indicating optionality – GPS support is optional for this system

IEEE1588 provides both time synchronization and frequency synchronization of a local 122.88MHz clock through Ethernet time stamping such as supported in Layerscape devices. Synchronous Ethernet can be used in conjunction with this for local 3GPP clock generation.

Synchronization and Timing Design 2

Timing synchronization on Network Processing Unit based 1588 and Synchronous Ethernet received clock extraction support.

Figure 220 Ethernet Synchronization II

Notes:

Either (depending on mux / input control) GPS 10MHz or Synchronous Ethernet recovered output clock (ref_clk) are input to a clock synthesizer (fractional PLL) to generate the 38.4, 122.88 MHz (or similar) MHz reference clock (Frequency Synchronization)

The PPS pulse from the GPS provides a mechanism to manage local 122.88 (or similar) 3GPP clock through use of a Software PLL (servo) in absence of GPS/Synchronous Ethernet extracted reference frequency

On top of the GPS PPS pulse, the GPS UART output provides time synchronization to a universal clock through NMEA messages

All dashed lines are indicating optionality – GPS support is optional for this system

IEEE1588 provides both time synchronization and frequency synchronization of a local 122.88MHz clock through Ethernet time stamping such as supported in Layerscape devices. Synchronous Ethernet can be used in conjunction with this for local 3GPP clock generation.

External Interface Ports

The O-RU6 must have at least one RJ45 10 gigabit per second (Gbps) Ethernet interface or at least one 10 Gbps optical interface. In some cases, depending on the fronthaul throughput associated with smaller air interface bandwidths, a 1 or 2.5 Gbps Ethernet or optical interface may be sufficient, depending on system operator requirements. SCF 5G nFAPI should be supported.

At full load, the power consumption must not exceed the limit allowed by IEEE802.3at/PoE+, which is 25.5W.

Power Unit

O-RU6 can use power over Ethernet (PoE) to simplify deployment complexity.

Environmental and Regulations

O-RU6 IPC design is for indoor environments (nominal ambient temperature, humidity, altitude).  Suppliers must comply with any local regulatory requirements.

Integrated gNB-DU Reference Design Solution

This Section includes a reference design for an all-in-one, integrated gNB-DU solution.

This section provides an example white box design for integrated indoor picocells, using FAPI as the internal interface between PHY and MAC.   Typically, the MAC will run on an NPU while the PHY resides in a PHY Layer ASIC, connected via a PCIe interface.

Figure 221 Sub-6 GHz Indoor Pico Integrated O-DU&O-RU Functional Modules

Functional modules shown in Figure 2-21 for the integrated case are essentially the same as those in the O-RU6 split option.  The main difference is in the NPU, which now terminates the O-CU/gNB-DU interface.

The integrated gNB-DU may also include a GPS receiver to locally provide location and precise timing (as opposed to depending on the O-CU for those functions.)

The integrated Option 6 design does not require an accelerator.

As in the split design, the DPU is a combination of NPU and PHY ASIC (same parts whether split or integrated.)

Power Unit

If PoE is used, At full load, the power consumption must not exceed the limit allowed by IEEE802.3at/PoE+, which is 25.5W.

Power Management

The Power Management functional module controls the flow of electrical power to other parts of the integrated O-DU/O-RU.

Synchronization and Timing

Local 1588v2 or GPS Slave interfaces for acquiring timing and synchronization can be included according to operator use case and deployment environment.

External Interface Ports

The integrated O-DU/O-RU must have at least one RJ45 10 gigabit per second (Gbps) Ethernet interface or at least one 10 Gbps optical interface. In some cases, depending on the fronthaul throughput associated with smaller air interface bandwidths, a 1 or 2.5 Gbps Ethernet or optical interface may be sufficient, depending on system operator requirements. SCF 5G nFAPI should be supported.

Power Unit

Integrated O-DU/O-RU can use power over Ethernet (PoE) to simplify deployment complexity. At full load, the power consumption must not exceed the limit allowed by IEEE802.3at/PoE+, which is 25.5W.

Environmental and Regulations

Integrated O-DU/O-RU IPC design is for indoor environments (nominal ambient temperature, humidity, altitude).  Suppliers must comply with any local regulatory requirements.

FHGW Hardware Reference Design

A FHGW is not required for option 6 hardware reference design.

Annex 1: Example Hardware Bill of Materials

This annex shows example components used to build the reference design described above for split and integrated option 6 designs (note that the same components are used for either scenario.)

Figure A1: Sub-6 Split (O-RU6) and Integrated Picocell Reference Design

Figure A-1 shows an example hardware design based on the FSM100xx ASIC for a sub-6 Ghz Split (O-RU6) and Integrated picocell.  In both cases, this design implements the SCF FAPI protocol over an internal PCIe interface.

In the split Option 6 picocell case, the NPU implements the nFAPI control and data plane protocol encapsulation/decapsulation functions to provide the transport interface from the picocell to the O-DU6.  See SCF 225.1.0 [11].

In the integrated picocell case, the NPU implements higher layer protocol functions (L3 and portions or all of L2.)

Annex 2:

This document references the following specifications from the Small Cell Forum available at https://scf.io/en/documents/all_documents.php

SCF 222.10.02: 5G FAPI PHY API Specification

SCF 082.09.05: nFAPI and FAPI Specifications

SCF 223.10.01: RF and Digital Front End Control API

SCF 224.10.01: 5G FAPI Network Monitor Mode API

SCF 225.1.0: 5G nFAPI Specifications.

Annex ZZZ: O-RAN Adopter License Agreement

BY DOWNLOADING, USING OR OTHERWISE ACCESSING ANY O-RAN SPECIFICATION, ADOPTER AGREES TO THE TERMS OF THIS AGREEMENT.

This O-RAN Adopter License Agreement (the “Agreement”) is made by and between the O-RAN ALLIANCE and the entity that downloads, uses or otherwise accesses any O-RAN Specification, including its Affiliates (the “Adopter”).

This is a license agreement for entities who wish to adopt any O-RAN Specification.

Section 1: DEFINITIONS

1.1 “Affiliate” means an entity that directly or indirectly controls, is controlled by, or is under common control with another entity, so long as such control exists. For the purpose of this Section, “Control” means beneficial ownership of fifty (50%) percent or more of the voting stock or equity in an entity.

1.2 “Compliant Implementation” means any system, device, method or operation (whether implemented in hardware, software or combinations thereof) that fully conforms to a Final Specification.

1.3 “Adopter(s)” means all entities, who are not Members, Contributors or Academic Contributors, including their Affiliates, who wish to download, use or otherwise access O-RAN Specifications.

1.4 “Minor Update” means an update or revision to an O-RAN Specification published by O-RAN ALLIANCE that does not add any significant new features or functionality and remains interoperable with the prior version of an O-RAN Specification. The term “O-RAN Specifications” includes Minor Updates.

1.5 “Necessary Claims” means those claims of all present and future patents and patent applications, other than design patents and design registrations, throughout the world, which (i) are owned or otherwise licensable by a Member, Contributor or Academic Contributor during the term of its Member, Contributor or Academic Contributorship; (ii) such Member, Contributor or Academic Contributor has the right to grant a license without the payment of consideration to a third party; and (iii) are necessarily infringed by a Compliant Implementation (without considering any Contributions not included in the Final Specification). A claim is necessarily infringed only when it is not possible on technical (but not commercial) grounds, taking into account normal technical practice and the state of the art generally available at the date any Final Specification was published by the O-RAN ALLIANCE or the date the patent claim first came into existence, whichever last occurred, to make, sell, lease, otherwise dispose of, repair, use or operate a Compliant Implementation without infringing that claim. For the avoidance of doubt in exceptional cases where a Final Specification can only be implemented by technical solutions, all of which infringe patent claims, all such patent claims shall be considered Necessary Claims.

1.6 “Defensive Suspension” means for the purposes of any license grant pursuant to Section 3, Member, Contributor, Academic Contributor, Adopter, or any of their Affiliates, may have the discretion to include in their license a term allowing the licensor to suspend the license against a licensee who brings a patent infringement suit against the licensing Member, Contributor, Academic Contributor, Adopter, or any of their Affiliates.

Section 2: COPYRIGHT LICENSE

2.1 Subject to the terms and conditions of this Agreement, O-RAN ALLIANCE hereby grants to Adopter a nonexclusive, nontransferable, irrevocable, non-sublicensable, worldwide copyright license to obtain, use and modify O-RAN Specifications, but not to further distribute such O-RAN Specification in any modified or unmodified way, solely in furtherance of implementations of an ORAN

Specification.

2.2 Adopter shall not use O-RAN Specifications except as expressly set forth in this Agreement or in a separate written agreement with O-RAN ALLIANCE.

Section 3: FRAND LICENSE

3.1 Members, Contributors and Academic Contributors and their Affiliates are prepared to grant based on a separate Patent License Agreement to each Adopter under Fair Reasonable And Non- Discriminatory (FRAND) terms and conditions with or without compensation (royalties) a nonexclusive, non-transferable, irrevocable (but subject to Defensive Suspension), non-sublicensable, worldwide patent license under their Necessary Claims to make, have made, use, import, offer to sell, lease, sell and otherwise distribute Compliant Implementations; provided, however, that such license shall not extend: (a) to any part or function of a product in which a Compliant Implementation is incorporated that is not itself part of the Compliant Implementation; or (b) to any Adopter if that Adopter is not making a reciprocal grant to Members, Contributors and Academic Contributors, as set forth in Section 3.3. For the avoidance of doubt, the foregoing licensing commitment includes the distribution by the Adopter’s distributors and the use by the Adopter’s customers of such licensed Compliant Implementations.

3.2 Notwithstanding the above, if any Member, Contributor or Academic Contributor, Adopter or their Affiliates has reserved the right to charge a FRAND royalty or other fee for its license of Necessary Claims to Adopter, then Adopter is entitled to charge a FRAND royalty or other fee to such Member, Contributor or Academic Contributor, Adopter and its Affiliates for its license of Necessary Claims to its licensees.

3.3 Adopter, on behalf of itself and its Affiliates, shall be prepared to grant based on a separate Patent License Agreement to each Members, Contributors, Academic Contributors, Adopters and their Affiliates under Fair Reasonable And Non-Discriminatory (FRAND) terms and conditions with or without compensation (royalties) a nonexclusive, non-transferable, irrevocable (but subject to Defensive Suspension), non-sublicensable, worldwide patent license under their Necessary Claims to make, have made, use, import, offer to sell, lease, sell and otherwise distribute Compliant Implementations; provided, however, that such license will not extend: (a) to any part or function of a product in which a Compliant Implementation is incorporated that is not itself part of the Compliant Implementation; or (b) to any Members, Contributors, Academic Contributors, Adopters and their Affiliates that is not making a reciprocal grant to Adopter, as set forth in Section 3.1. For the avoidance of doubt, the foregoing licensing commitment includes the distribution by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ distributors and the use by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ customers of such licensed Compliant Implementations.

Section 4: TERM AND TERMINATION

4.1 This Agreement shall remain in force, unless early terminated according to this Section 4.

4.2 O-RAN ALLIANCE on behalf of its Members, Contributors and Academic Contributors may terminate this Agreement if Adopter materially breaches this Agreement and does not cure or is not capable of curing such breach within thirty (30) days after being given notice specifying the breach.

4.3 Sections 1, 3, 5 - 11 of this Agreement shall survive any termination of this Agreement. Under surviving Section 3, after termination of this Agreement, Adopter will continue to grant licenses (a) to entities who become Adopters after the date of termination; and (b) for future versions of ORAN Specifications that are backwards compatible with the version that was current as of the date of termination.

Section 5: CONFIDENTIALITY

Adopter will use the same care and discretion to avoid disclosure, publication, and dissemination of O-RAN Specifications to third parties, as Adopter employs with its own confidential information, but no less than reasonable care. Any disclosure by Adopter to its Affiliates, contractors and consultants should be subject to an obligation of confidentiality at least as restrictive as those contained in this Section. The foregoing obligation shall not apply to any information which is: (1) rightfully known by Adopter without any limitation on use or disclosure prior to disclosure; (2) publicly available through no fault of Adopter; (3) rightfully received without a duty of confidentiality; (4) disclosed by O-RAN ALLIANCE or a Member, Contributor or Academic Contributor to a third party without a duty of confidentiality on such third party; (5) independently developed by Adopter; (6) disclosed pursuant to the order of a court or other authorized governmental body, or as required by law, provided that Adopter provides reasonable prior written notice to O-RAN ALLIANCE, and cooperates with O-RAN ALLIANCE and/or the applicable Member, Contributor or Academic Contributor to have the opportunity to oppose any such order; or (7) disclosed by Adopter with O-RAN ALLIANCE’s prior written approval.

Section 6: INDEMNIFICATION

Adopter shall indemnify, defend, and hold harmless the O-RAN ALLIANCE, its Members, Contributors or Academic Contributors, and their employees, and agents and their respective successors, heirs and assigns (the “Indemnitees”), against any liability, damage, loss, or expense (including reasonable attorneys’ fees and expenses) incurred by or imposed upon any of the Indemnitees in connection with any claims, suits, investigations, actions, demands or judgments arising out of Adopter’s use of the licensed O-RAN Specifications or Adopter’s commercialization of products that comply with O-RAN Specifications.

Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY

EXCEPT FOR BREACH OF CONFIDENTIALITY, ADOPTER’S BREACH OF SECTION 3, AND ADOPTER’S INDEMNIFICATION OBLIGATIONS, IN NO EVENT SHALL ANY PARTY BE LIABLE TO ANY OTHER PARTY OR THIRD PARTY FOR ANY INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL DAMAGES RESULTING FROM ITS PERFORMANCE OR NON-PERFORMANCE UNDER THIS AGREEMENT, IN EACH CASE WHETHER UNDER CONTRACT, TORT, WARRANTY, OR OTHERWISE, AND WHETHER OR NOT SUCH PARTY HAD ADVANCE NOTICE OF THE POSSIBILITY OF SUCH DAMAGES. O-RAN SPECIFICATIONS ARE PROVIDED “AS IS” WITH NO WARRANTIES OR CONDITIONS WHATSOEVER, WHETHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE. THE O-RAN ALLIANCE AND THE MEMBERS, CONTRIBUTORS OR ACADEMIC CONTRIBUTORS EXPRESSLY DISCLAIM ANY WARRANTY OR CONDITION OF MERCHANTABILITY, SECURITY, SATISFACTORY QUALITY, NONINFRINGEMENT, FITNESS FOR ANY PARTICULAR PURPOSE, ERROR-FREE OPERATION, OR ANY WARRANTY OR CONDITION FOR O-RAN SPECIFICATIONS.

Section 8: ASSIGNMENT

Adopter may not assign the Agreement or any of its rights or obligations under this Agreement or make any grants or other sublicenses to this Agreement, except as expressly authorized hereunder, without having first received the prior, written consent of the O-RAN ALLIANCE, which consent may be withheld in O-RAN ALLIANCE’s sole discretion. O-RAN ALLIANCE may freely assign this Agreement.

Section 9: THIRD-PARTY BENEFICIARY RIGHTS

Adopter acknowledges and agrees that Members, Contributors and Academic Contributors (including future Members, Contributors and Academic Contributors) are entitled to rights as a third-party beneficiary under this Agreement, including as licensees under Section 3.

Section 10: BINDING ON AFFILIATES

Execution of this Agreement by Adopter in its capacity as a legal entity or association constitutes that legal entity’s or association’s agreement that its Affiliates are likewise bound to the obligations that are applicable to Adopter hereunder and are also entitled to the benefits of the rights of Adopter hereunder.

Section 11: GENERAL

This Agreement is governed by the laws of Germany without regard to its conflict or choice of law provisions.

This Agreement constitutes the entire agreement between the parties as to its express subject matter and expressly supersedes and replaces any prior or contemporaneous agreements between the parties, whether written or oral, relating to the subject matter of this Agreement.

Adopter, on behalf of itself and its Affiliates, agrees to comply at all times with all applicable laws, rules and regulations with respect to its and its Affiliates’ performance under this Agreement, including without limitation, export control and antitrust laws. Without limiting the generality of the foregoing, Adopter acknowledges that this Agreement prohibits any communication that would violate the antitrust laws.

By execution hereof, no form of any partnership, joint venture or other special relationship is created between Adopter, or O-RAN ALLIANCE or its Members, Contributors or Academic Contributors. Except as expressly set forth in this Agreement, no party is authorized to make any commitment on behalf of Adopter, or O-RAN ALLIANCE or its Members, Contributors or Academic Contributors.

In the event that any provision of this Agreement conflicts with governing law or if any provision is held to be null, void or otherwise ineffective or invalid by a court of competent jurisdiction, (i) such provisions will be deemed stricken from the contract, and (ii) the remaining terms, provisions, covenants and restrictions of this Agreement will remain in full force and effect.

________________________________________________________________________________________________

Copyright 2021 O-RAN ALLIANCE e.V.

Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ								6

________________________________________________________________________________________________

Copyright 2021 O-RAN ALLIANCE e.V.

Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ								7

________________________________________________________________________________________________ Copyright 2021 O-RAN ALLIANCE e.V.

Your use is subject to the terms of the O-RAN Adopter License Agreement in the Annex ZZZ 								2