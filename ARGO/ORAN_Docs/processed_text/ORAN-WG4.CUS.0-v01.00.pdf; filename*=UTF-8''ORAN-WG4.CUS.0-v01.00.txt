ORAN-WG4.CUS.0-v01.00
Technical Specification
O-RAN Fronthaul Working Group
Control, User and Synchronization Plane Specification
This is a re-published version of the attached final specification.
For this re-published version, the prior versions of the IPR Policy will apply, except that the previous
requirement for Adopters (as defined in the earlier IPR Policy) to agree to an O-RAN Adopter License
Agreement to access and use Final Specifications shall no longer apply or be required for these Final
Specifications after 1st July 2022.
The copying or incorporation into any other work of part or all of the material available in this
specification in any form without the prior written permission of O-RAN ALLIANCE e.V.  is prohibited,
save that you may print or download extracts of the material on this site for your personal use, or copy
the material on this site for the purpose of sending to individual third parties for their information
provided that you acknowledge O-RAN ALLIANCE as the source of the material and that you inform
the third party that these conditions apply to them and that they must comply with them.
                                 ORAN-WG4.CUS.0-v01.00
Technical Specification

O-RAN Fronthaul Working Group

Control, User and Synchronization Plane Specification

Prepared by the O-RAN Alliance. Copyright © 2019 by the O-RAN Alliance.
By using, accessing or downloading any part of this O-RAN specification document, including by copying, saving, distributing,
displaying or preparing derivatives of, you agree t o be and are bound to the terms of the O -RAN Adopter License Agreement
contained in Annex ZZZ of this specification. All other rights reserved.
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ             1

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        2
ORAN-WG4.CUS.0-v01.00
Revision History 1
Date Revision Author Description
2019.03.11 01.00 M. Garyantes Final version 01.00
 2
  3

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        3
ORAN-WG4.CUS.0-v01.00
Contents 1
Revision History ................................................................................................................................................. 2 2
Chapter 1 Introductory Material ......................................................................................................................... 6 3
1.1 Scope ................................................................................................................................................................. 6 4
1.2 References.......................................................................................................................................................... 6 5
1.2.1 Synchronization-specific Reference Documents .......................................................................................... 7 6
1.3 Definitions and Abbreviations ........................................................................................................................... 7 7
1.3.1 Definitions .................................................................................................................................................... 8 8
1.3.2 Abbreviations ............................................................................................................................................... 9 9
Chapter 2 Architecture & Requirements .......................................................................................................... 10 10
2.1 Functional Split ................................................................................................................................................ 10 11
2.1.1 Selected Split 7-2x (DL) ............................................................................................................................ 11 12
2.1.2 Selected Split 7-2x (UL) ............................................................................................................................ 14 13
2.2 Data Flows ....................................................................................................................................................... 15 14
2.3 Latency Requirements ..................................................................................................................................... 16 15
2.3.1 Timing Parameter Relationships ................................................................................................................ 17 16
2.3.2 U-Plane/ C-Plane Timing ........................................................................................................................... 19 17
2.3.3 Computed Latency Methods ...................................................................................................................... 21 18
2.3.4 Latency Categories for O-DU with dynamic timing advance .................................................................... 26 19
2.3.5 Latency Categories for O-DU with fixed timing advance .......................................................................... 28 20
2.3.6 Non-Delay Managed U-Plane Traffic ........................................................................................................ 29 21
2.4  Reception Window Monitoring ...................................................................................................................... 30 22
Chapter 3 Transport & Protocol Architecture .................................................................................................. 31 23
3.1 Transport Encapsulation Types ........................................................................................................................ 31 24
3.1.1 Ethernet Encapsulation ............................................................................................................................... 31 25
3.1.2 IP/UDP Encapsulation................................................................................................................................ 31 26
3.1.3 Transport Headers ...................................................................................................................................... 32 27
3.2 Protocol Architecture ....................................................................................................................................... 38 28
3.2.1 C-plane ....................................................................................................................................................... 38 29
3.2.2 U-plane ....................................................................................................................................................... 38 30
3.2.3 S-plane ....................................................................................................................................................... 38 31
3.3 Quality of Service ............................................................................................................................................ 38 32
3.4 Data Flow Identification .................................................................................................................................. 39 33
3.5 Fragmentation .................................................................................................................................................. 40 34
3.5.1 Application layer fragmentation ................................................................................................................. 40 35
3.5.2 Radio Transport layer (eCPRI or IEEE-1914.3) fragmentation ................................................................. 40 36
3.5.3 Fragmentation Guideline ............................................................................................................................ 41 37
Chapter 4 Security ............................................................................................................................................ 41 38
Chapter 5 C-plane Protocol .............................................................................................................................. 42 39
5.1 General ............................................................................................................................................................. 42 40
5.2 Function ........................................................................................................................................................... 42 41
5.2.1 C-Plane Transport ...................................................................................................................................... 42 42
5.3 Elementary Procedures .................................................................................................................................... 42 43
5.3.1 Scheduling and Beamforming Commands Transfer procedure .................................................................. 42 44
5.3.2 Mixed Numerology and PRACH Handling ............................................................................................... 43 45
5.3.3 DL Precoding configuration parameters and indications ........................................................................... 46 46
5.3.4 LAA Commands Transfer procedure ......................................................................................................... 47 47
5.3.5 Symbol Numbering and Duration ............................................................................................................................ 51 48
5.4 Elements for the C-plane Protocol ................................................................................................................... 52 49
5.4.1 General ....................................................................................................................................................... 52 50
5.4.2 Scheduling and Beamforming Commands ................................................................................................. 53 51
5.4.3 Coding of Information Elements – Transport Layer .................................................................................. 63 52
5.4.4 Coding of Information Elements – Application Layer, Common .............................................................. 63 53
5.4.5 Coding of Information Elements – Application Layer, Sections ............................................................... 67 54
5.4.6 Section Extension Commands .................................................................................................................... 75 55

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        4
ORAN-WG4.CUS.0-v01.00
5.4.7 Coding of Information Elements – Application Layer, Section Extensions ............................................... 77 1
Chapter 6 U-plane Protocol .............................................................................................................................. 87 2
6.1 General ............................................................................................................................................................. 87 3
6.1.1 U-plane Transport ...................................................................................................................................... 87 4
6.1.2 U-plane Data Compression ........................................................................................................................ 87 5
6.1.3 Digital Power Scaling................................................................................................................................. 87 6
6.2 Elementary Procedures .................................................................................................................................... 92 7
6.2.1 IQ Data Transfer procedure ........................................................................................................................ 92 8
6.3 Elements for the U-plane Protocol ................................................................................................................... 94 9
6.3.1 General ....................................................................................................................................................... 94 10
6.3.2 DL/UL Data ............................................................................................................................................... 94 11
6.3.3 UL/DL Data Coding of Information Elements ........................................................................................... 96 12
6.3.4 DL Data Precoding ..................................................................................................................................... 99 13
6.3.5 Data Transfer for Special Cases ................................................................................................................. 99 14
Chapter 7 Counters and KPIs ........................................................................................................................... 99 15
7.1 Counters ........................................................................................................................................................... 99 16
Chapter 8 Specification Mandatory and Optional Capabilities ...................................................................... 100 17
8.1 General ........................................................................................................................................................... 100 18
Chapter 9 S-Plane Protocol ............................................................................................................................ 103 19
9.1 General ........................................................................................................................................................... 103 20
9.1.1 Overview .................................................................................................................................................. 103 21
9.2 Synchronization Baseline .............................................................................................................................. 103 22
9.2.1 List of Reference Documents ................................................................................................................... 103 23
9.2.2 Clock Model and Synchronization Topology ........................................................................................... 103 24
9.2.3 Clock Synchronization ............................................................................................................................. 108 25
9.2.4 Profiles ..................................................................................................................................................... 108 26
9.2.5 Synchronization Accuracy ....................................................................................................................... 109 27
9.3 Time and Frequency Synchronization Requirements .................................................................................... 112 28
9.3.1 Allowed PTP and SyncE clock types and clock classes ........................................................................... 112 29
9.3.2 Frequency and Time Synchronization Requirements across fronthaul network elements  ....................... 113 30
9.4 Node Behavior Guidelines ............................................................................................................................. 118 31
9.4.1 Configurations C1 and C2 ........................................................................................................................ 118 32
9.4.2 Configurations C3 .................................................................................................................................... 120 33
9.4.3 Configurations C4 .................................................................................................................................... 122 34
9.5 S-Plane Handling in Multiple Link Scenarios ............................................................................................... 123 35
9.6 Announce Messages ...................................................................................................................................... 123 36
9.7 Elementary Procedures .................................................................................................................................. 123 37
9.7.1 PTP Time Synchronization procedure ..................................................................................................... 123 38
9.7.2 System Frame Number Calculation from GPS Time ............................................................................... 123 39
10 Beamforming Guidelines ..................................................................................................................... 124 40
10.1 General ........................................................................................................................................................... 124 41
10.2 Hierarchy of Radiation Structure in O-RU .................................................................................................... 124 42
10.3 Calibration ..................................................................................................................................................... 126 43
10.4 beamId Use for Various Beamforming Methods ........................................................................................... 126 44
10.4.1 Predefined-beam Beamforming ............................................................................................................... 127 45
10.4.2  Weight-based dynamic beamforming ................................................................................................................. 128 46
10.4.3 Attribute-based dynamic beamforming .................................................................................................... 131 47
10.4.4 Channel-information-based beamforming ................................................................................................ 132 48
10.5 O-RU Antenna Model supported by O-RAN ................................................................................................ 132 49
10.5.1 Coordinate Systems .................................................................................................................................. 132 50
10.5.2 O-RU Antenna Model Parameters ........................................................................................................... 133 51
10.5.3 Identification and Ordering of Array Elements ........................................................................................ 134 52
10.5.4 Relations Between Array Elements .......................................................................................................... 134 53
10.5.5 Model Usage ............................................................................................................................................ 134 54
Annex A  Compression Methods .............................................................................................................. 136 55
A.1 Block Floating Point Compression ................................................................................................................ 136 56
A.1.1 Block Floating Point Compression Algorithm ......................................................................................... 137 57

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        5
ORAN-WG4.CUS.0-v01.00
A.1.2 Block Floating Point Decompression Algorithm ..................................................................................... 138 1
A.2 Block Scaling Compression ........................................................................................................................... 138 2
A.2.1 Block Scaling Compression Algorithm .................................................................................................... 139 3
A.2.2 Block Scaling Decompression Algorithm ................................................................................................ 139 4
A.3 -Law Compression....................................................................................................................................... 139 5
A.3.1 -Law Compression Algorithm ............................................................................................................... 139 6
A.3.2 -Law Decompression Algorithm ............................................................................................................ 141 7
A.3.3 -Law udCompParam and IQ data format ............................................................................................... 142 8
A.4 Beamspace Compression and Decompression ............................................................................................... 142 9
A.4.1 Beamspace Compression Algorithm ........................................................................................................ 142 10
A.4.2 Beamspace Decompression Algorithm .................................................................................................... 143 11
A.5 Modulation Compression ............................................................................................................................... 144 12
Annex B Delay Management Use Cases ................................................................................................... 146 13
B.1 Latency categories and sub-categories ........................................................................................................... 151 14
B.2 Example Case: Evaluating O-DU / O-RU Combinations .............................................................................. 155 15
Annex C  M-Plane Impacts ....................................................................................................................... 158 16
Annex D IQ Sample and Exponent Packetization for Different Bitwidths ............................................... 158 17
Annex E  OFDM Phase Compensation ..................................................................................................... 163 18
Annex F Beamforming Attributes Frame of Reference ............................................................................ 163 19
Annex G  LAA Algorithms and Examples: ............................................................................................... 165 20
Annex H  S-Plane detailed frequency and phase error budget analysis, and future ITU-T clock types 21
and classes reference ............................................................................................................................ 168 22
H.1 Reference documents ..................................................................................................................................... 168 23
H.2 Frequency and time error budget analysis ..................................................................................................... 169 24
H.3 Frequency error budget for Network limit (C3) : ........................................................................................... 172 25
Annex I Precoding and Examples: ........................................................................................................... 175 26
Annex J Beamforming Methods Description: .......................................................................................... 182 27
Annex K: Layers of Array Elements .............................................................................................................. 185 28
K.1 Use Case A ............................................................................................................................................... 185 29
K.2 Use Case B ............................................................................................................................................... 186 30
Annex ZZZ : O-RAN Adopter License Agreement ....................................................................................... 187 31
Section 1: DEFINITIONS .............................................................................................................................................. 187 32
Section 2: COPYRIGHT LICENSE ............................................................................................................................... 187 33
Section 3: FRAND LICENSE ........................................................................................................................................ 187 34
Section 4: TERM AND TERMINATION ...................................................................................................................... 188 35
Section 5: CONFIDENTIALITY ................................................................................................................................... 188 36
Section 6: INDEMNIFICATION ................................................................................................................................... 188 37
Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY .................................................................................. 189 38
Section 8: ASSIGNMENT ............................................................................................................................................. 189 39
Section 9: THIRD-PARTY BENEFICIARY RIGHTS .................................................................................................. 189 40
Section 10: BINDING ON AFFILIATES ...................................................................................................................... 189 41
Section 11: GENERAL ................................................................................................................................................... 189 42
 43
 44
45

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        6
ORAN-WG4.CUS.0-v01.00
Chapter 1 Introductory Material 1
1.1 Scope 2
This Technical Specification has been produced by the O-RAN Alliance. 3
The contents of the present document are subject to continuing work within O-RAN and may change following formal 4
O-RAN approval. Should the O-RAN Alliance modify the contents of the present document, it will be re-released by O-5
RAN with an identifying change of release date and an increase in version number as follows:  6
Release x.y.z 7
where: 8
x the first digit is incremented for all changes of substance, i.e. technical enhancements, correcti ons, updates, 9
etc. (the initial approved document will have x=01). 10
y the second digit is incremented when editorial only changes have been incorporated in the document.  11
z the third digit included only in working versions of the document indicating incremental changes during the 12
editing process. 13
The present document specifies the control plane, user plane and synchronization plane protocols used over the 14
fronthaul interface linking the O-DU (O-RAN Distributed Unit) with the O-RU (O-RAN Radio Unit) with a Lower 15
Layer Functional Split-7-2x based architecture (explained below).  The scope of this document includes both LTE and 16
NR (5G).  A separate document contains the O-RAN M-Plane (management plane) specification. 17
In the following, “Layer 1” and “Physical Layer” are assumed to be synonymous. 18
In the main body of this specification (in any “chapter”) the information contained therein is normative meaning 19
binding on any compliant system, unless explicitly described as informative (a capability described as “option al” may 20
or may not be included in a compliant system but if it is included it must comply with the optional capability 21
description).  Information contained in an “Annex” to this specification is always informative.  22
1.2 References 23
The following documents contain provisions which, through reference in this text, constitute provisions of the present 24
document. 25
- References are either specific (identified by date of publication, edition number, version number, etc.) or 26
non-specific. 27
- For a specific reference, subsequent revisions do not apply. 28
- For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including 29
a GSM document), a non-specific reference implicitly refers to the latest version of that document in Release 15. 30
[1] 3GPP TR 21.905: “Vocabulary for 3GPP Specifications”. 31
[2] 3GPP TR 38.801: “Study on New Radio Access Technology; Radio Access Architecture and 32
Interfaces”. 33
[3] eCPRI Specification V1.0 “Common Public Radio Interface: eCPRI Interface Specificat ion”. 34
[4] IEEE Std 1588-2008 “Standard for a Precision Clock Synchronization Protocol for Networked 35
Measurement and Control Systems”. 36
[5] 3GPP TS 36.211: "Evolved Universal Terrestrial Radio Access (E-UTRA); LTE physical layer; 37
General description". 38
[6] 3GPP TS 38.211 V15.1.0 39
[7] R1-1800296, "NR OFDM Symbol Generation Option Analysis", Intel, 3GPP TSG RAN WG1 40
AH#18-01, Vancouver, Canada, Jan. 22-26, 2018 41
[8] R1-1800802, "OFDM signal generation", Nokia, 3GPP TSG RAN WG1 AH#18 -01, Vancouver, 42
Canada, Jan. 22-26, 2018 43

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        7
ORAN-WG4.CUS.0-v01.00
[9]  3GPP TS 36.213: "Evolved Universal Terrestrial Radio Access (E-UTRA); Physical layer 1
procedures". 2
[10] Small cell forum, “Document 082.09.05: FAPI and nFAPI specifications”, Release 9, May 2017.  3
[11] xRAN-FH-MP.0-v01.00: xRAN Fronthaul Working Group Management Plane Specification, 4
Release 01.00, July 2018. 5
[12] 3GPP TS 38.104 “Base Station (BS) radio transmission and reception”, Release 15, v15.2.0 (2018 -6
06). 7
[13] xRAN-FH-TUT.0-v01.00 xRAN Fronthaul Specification Tutorial, published December 2018. 8
 9
1.2.1 Synchronization-specific Reference Documents 10
• ITU-T G.781 (08/2017) Synchronization layer functions  11
• ITU-T G.810 (08/1996) Definitions and terminology for synchronization networks  12
• ITU-T G.810 (08/1996) Cor. 1 (11/2011) Definitions and terminology for synchronization networks  13
• ITU-T G.8260 (08/2015) Definitions and terminology for synchronization in packet networks  14
• ITU-T G.8260 (08/2015) Amd. 1 (04/2016) Definitions and terminology for synchronization in packet 15
networks  16
• ITU-T G.8261/Y.1361 (08/2013) Timing and synchronization aspects in packet networks  17
• ITU-T G.8261/Y.1361 (08/2013) Amd. 1 (01/2015) Timing and synchronization aspects in packet networks  18
• ITU-T G.8261/Y.1361 (08/2013) Cor. 1 (04/2016) Timing and synchronization aspects in packet n etworks  19
• ITU-T G.8262/Y.1362 (01/2015) Timing characteristics of a synchronous Ethernet equipment slave clock  20
• ITU-T G.8262/Y.1362 (01/2015) Cor. 1 (11/2016) Timing characteristics of a synchronous Ethernet equipment 21
slave clock  22
• ITU-T G.8264/Y.1364 (08/2017) Distribution of timing information through packet networks  23
• ITU-T G.8271/Y.1366 (08/2017) Time and phase synchronization aspects of telecommunication networks  24
• ITU-T G.8271.1/Y.1366.1 (10/2017) Network limits for time synchronization in packet networks  25
• ITU-T G.8272/Y.1367 (01/2015) Timing characteristics of primary reference time clocks  26
• ITU-T G.8272/Y.1367 (01/2015) Erratum 1 (08/2015) Timing characteristics of primary reference time clocks  27
• ITU-T G.8272/Y.1367 (01/2015) Amd 1 (04/2016) Timing characteristics of primary reference time clocks 28
• ITU-T G.8272.1/Y.1367. (11/2016) Timing characteristics of enhanced primary reference time clocks  29
• ITU-T G.8272.1/Y.1367. (11/2016) Amd 1 (04/2016) Timing characteristics of enhanced primary reference 30
time clocks 31
• ITU-T G.8273.2/Y.1368 (08/2013) Framework of phase and time clocks  32
• ITU-T G.8273/Y.1368 (08/2013) Corr 1(05/2014) Framework of phase and time clocks  33
• ITU-T G.8273/Y.1368 (01/2015) Amd. 1 (01/2015) Framework of phase and time clocks  34
• ITU-T G.8273/Y.1368 (08/2013) Amd 2 (08/2015) Framework of phase and time clocks 35
• ITU-T G.8273.2/Y.1368.2 (01/2017) Timing characteristics of telecom boundary clocks and telecom time 36
slave clocks  37
• ITU-T G.8273.2/Y.1368.2 (01/2017) Amd. 1 (08/2017) Timing characteristics of telecom boun dary clocks and 38
telecom time slave clocks  39
• ITU-T G.8273.3/Y.1368.3 (10/2017) Timing characteristics of telecom transparent clocks  40
• ITU-T G8275.1/Y.1369.1 (06/2016) Precision time protocol telecom profile for phase/time  41
• ITU-T G8275.1/Y.1369.1 (06/2016) Amd. 1 (08/2017) Precision time protocol telecom profile for phase/time  42
• eCPRI Transport Network V1.1 (01/2018) Requirements for the eCPRI transport network  43
• IEEE 802.1CM-2018 (06/2018) Time-Sensitive Networking for Fronthaul  44
 45
1.3 Definitions and Abbreviations 46
 47

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        8
ORAN-WG4.CUS.0-v01.00
1.3.1 Definitions 1
For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following 2
apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP 3
TR 21.905 [1]. 4
BMCA: Best Master Clock Algorithm  5
C-Plane: Control Plane: refers specifically to real-time control between O-DU and O-RU, and should not be confused 6
with the UE’s control plane 7
c_eAxC: component eAxC: a portion of an eAxC flow assigned to a specific O-DU processing element.    Includes the 8
fields BandSector_ID, CC_ID, RU_Port_ID and DU_Port_ID (see sections 3.1.3.1.6 and 3.1.3.2.4) 9
CA: Carrier Aggregation  10
DL: DownLink: data flow towards the radiating antenna (generally on the LLS interface) 11
eAxC: extended Antenna-Carrier: a data flow for a single antenna (or spatial stream) for a single carrier in a single 12
sector.  Includes the fields BandSector_ID, CC_ID and RU_Port_ID but not DU_Port_ID (see sections 3.1.3.1.6 and 13
3.1.3.2.4) 14
eEEC: enhanced Ethernet Equipment Clock  15
ePRTC: enhanced Primary Reference Time Clock 16
FFO: Fractional Frequency Offset.  This is defined as ∆f/f_norm which is used to describe frequency error, typically on 17
the output of the T-TSC filter in the O-RU. It is the same as the Fractional Frequency Deviation defined in ITU-T 18
G.810. 19
Hop: physical link between 2 s-plane nodes (where node can be O-DU, switch or O-RU) as defined in IEEE 802.1CM 20
LAA: Licensed-assisted access: Carrier aggregation with at least one secondary cell operating in the unlicensed 21
spectrum. 22
LLS: Lower Layer Split: logical interface between O-DU and O-RU when using a lower layer (intra-PHY based) 23
functional split. 24
LLS-U: Lower Layer Split User-plane: logical interface between O-DU and O-RU when using a lower layer functional 25
split. 26
LLS-C: Lower Layer Split Control-plane: logical interface between O-DU and O-RU when using a lower layer 27
functional split. 28
High-PHY: those portions of the PHY processing on the O-DU side of the fronthaul interface, including FEC 29
encode/decode, scrambling, and modulation/demodulation. 30
Low-PHY: those portions of the PHY processing on the O-RU side of the fronthaul interface, including FFT/iFFT, 31
digital beamforming, and PRACH extraction and filtering. 32
M-Plane: Management Plane: refers to non-real-time management operations between the O-DU and the O-RU 33
O-CU: O-RAN Control Unit – a logical node hosting PDCP, RRC, SDAP and other control functions 34
O-DU: O-RAN Distributed Unit: a logical node hosting RLC/MAC/High-PHY layers based on a lower layer functional 35
split. 36
O-RU: O-RAN Radio Unit: a logical node hosting Low-PHY layer and RF processing based on a lower layer functional 37
split.  This is similar to 3GPP’s “TRP” or “RRH” but more specific in including the Low-PHY layer (FFT/iFFT, 38
PRACH extraction).    39
OTA: Over the Air 40
OTDOA: Observed Time Delay Of Arrival 41
PRTC: Primary Reference Time Clock 42
PTP: Precision Time Protocol 43
Q<I.F>: denotes a signed two’s-complement I+F bit fixed point number with I signed integer bits, and F fractional bits.  44

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        9
ORAN-WG4.CUS.0-v01.00
S-Plane: Synchronization Plane: refers to traffic between the O-RU or O-DU to a synchronization controller which is 1
generally an IEEE 1588 Grand Master (however, Grand Master functionality may be embedded in the O-DU). 2
Slot: this is a group of 14 symbols, for LTE and NR.  LTE has a separate slot definition within 3GPP which is 7 3
symbols but that definition is not used in this specification.  So for NR, “slot” in this document means slot as 3GPP 4
defines it, but for LTE “slot” in this document correlates to the LTE “TT I” as defined by 3GPP. 5
Spatial stream: the data flow on the DL associated with precoded data (may be same as layers or different if there is 6
expansion in the precoding), and on UL associated with the number of outputs from the digital beamforming 7
(sometimes called “beams”).  8
SSM: Synchronization Status Message: part of ITU G.781 and G.8264 standards. 9
SYNCE: Synchronous Ethernet 10
T-BC: Telecom Boundary Clock 11
T-GM: Telecom Grand Master 12
T-TSC: Telecom Slave Clock  13
TAE: Time Alignment Error as defined by 3GPP TS36.104 and TS38.104 14
TE: Time Error as defined by eCPRI network requirement specification  15
TRX: Refers to the specific processing chain in an O-RU associated with D/A or A/D converters.  Due to digital 16
beamforming the number of TRXs may exceed the number of spatial streams, and due to analog beamforming the 17
number of TRXs may be lower than the number of antenna elements. 18
U-Plane: User Plane: refers to IQ sample data transferred between O-DU and O-RU 19
UL: UpLink : data flow away from the radiating antenna (generally on the LLS interface) 20
UNI: User Network Interface as defined by eCPRI network requirement specification  21
UQ<I.F>: denotes an unsigned I+F bit fixed point number with I unsigned integer bits and F fractional bits  22
1.3.2 Abbreviations 23
For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An 24
abbreviation defined in the present document takes precedence over the definition of the same abbre viation, if any, in 25
3GPP TR 21.905 [1]. 26
eNB e NodeB (applies to LTE) 27
gNB g NodeB (applies to NR) 28
O-DU O-RAN Distributed Unit (see definitions section) 29
O-RU O-RAN Radio Unit 30
 31
  32

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        10
ORAN-WG4.CUS.0-v01.00
Chapter 2 Architecture & Requirements 1
Architectural aspects 2
The architecture of eNB or gNB with O-DU and O-RUs is shown in Figure 2-1. LLS-C and LLS-U provide C-plane 3
and U-plane over LLS interface, respectively. 4
In this architecture, O-DU and O-RU can be defined as follows. 5
Lower Layer Split Central Unit (O-DU): a logical node that includes the eNB/gNB functions as listed in section 2.1 6
split option 7-2x, excepting those functions allocated exclusively to the O-RU. The O-DU controls the operation of O-7
RUs. 8
O-RAN Radio Unit (O-RU): a logical node that includes a subset of the eNB/gNB functions as listed in section 2.1 9
split option 7-2x. The real-time aspects of control & user plane communication with the O-RU are controlled by the O-10
DU. 11
O-DU
LLS-C
O-RU O-RU
LLS-U
LLS-C LLS-U
eNB/gNB
...
 12
Figure 2-1 : eNB/gNB architecture with O-DU and O-RUs 13
 14
2.1 Functional Split 15
When considering the functional split defining a fronthaul interface there are two competing interests: 16
a) There is a benefit in keeping an O-RU as simple as possible because size, weight, and power draw are primary 17
deciding considerations and the more complex an O-RU, the larger, heavier and more power-hungry the O-RU 18
tends to be; 19
b) There is a benefit in having the interface at a higher level which tends to reduce the interface throughput 20
relative to a lower-level interface – but the higher-level the interface, the more complex the O-RU tends to be. 21
To resolve this conundrum, O-RAN has selected a single split point, known as “7-2x” but allows a variation, with the 22
precoding function to be located either “above” the interface in the O-DU or “below” the interface in the O-RU.  For the 23
most part the interface is not affected by this decision, but there are some impacts namely to provide the necessary 24
information to the O-RU to execute the precoding operation.  O-RUs within which the precoding is not done (therefore 25
of lower complexity) are called “Category A” O-RUs while O-RUs within which the precoding is done are called 26
“Category B” O-RUs.  See Figure 2-2 for a depiction of this dual O-RU concept. 27

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        11
ORAN-WG4.CUS.0-v01.00

RE Mapping
Layer Mapping
Modulation
Scrambling
IQ Compression
O-DU
O-RU
Processing blocks with dotted blocks are not mandatory
for all O-RU categories. Precoding operation for certain
O-RU categories can be done within the O-RU and in this
case precoding in O-DU can be bypassed.
Non-precoding O-RAN
Radio Unit. Precoding in
radio is not supported.
O-RU Category A
Precoding O-RAN Radio
Unit. Precoding in radio is
supported.
Allows support for
modulation compression.
O-RU Category B
Digital Beamforming
iFFT and CP addition
Digital to Analog
Analog Beamforming
IQ Decompression
Digital and Analog
beamforming optional
Digital and Analog
beamforming optional
Precoding
Precoding
(bypass mode possible)
O-RAN FH
 1
Figure 2-2 : Split Point and Category A and Category B O-RAN Radio Units 2
The inclusion of these two O-RU categories has certain implications for the LTE and NR functional splits in both DL 3
and UL which are reflected in the following sections.  In particular, for a Category B O-RU to implement precoding for 4
LTE TM2-TM4 some special C-Plane instructions need to be provided to the O-RU from the O-DU; this is described in 5
a later section of this document.  For LTE TM5-10 and NR, no special instructions are needed because the precoding 6
may be included in a digital beamforming processing block within the O-RU for a Category B O-RU (even for analog 7
beamforming O-RUs), while for a Category A O-RU, the precoding would be executed in the O-DU and any 8
beamforming in the O-RU, if present, would exclude the precoding calculation. 9
 10
2.1.1 Selected Split 7-2x (DL) 11
DL functional split for various physical layer channels is illustrated in Figure 2-3 (LTE Category A O-RUs), Figure 12
2-4 (LTE Category B O-RUs), Figure 2-5 (NR Category A O-RUs), and Figure 2-6 (NR Category B O-RUs).  13
When O-RU Category A is supported by O-DU it is mandatory to support a total number of precoded streams of up to 14
8. Support for more than 8 precoded streams is optional. 15
For LTE (e.g. TM9) and NR PDSCH with UE specific reference signals, the DL processing chain specified by 3GPP 16
does not include a precoding operation. The detailed precoding operation referred to in Figure 2-3 and Figure 2-4 for 17
PDSCH with UE specific reference signals is not further described within this specification. 18
 19

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        12
ORAN-WG4.CUS.0-v01.00
 1
 2

 3
Figure 2-3 : Lower layer DL split description, LTE, Category A O-RUs 4
 5
 6

O-RAN FH
 7
Figure 2-4 : Lower layer DL split description, LTE, Category B O-RUs 8
Although not explicitly indicated in Figure 2-4, RE mapping operation is separated into two parts for precoding support 9
at O-RU for transmit diversity and spatial multiplexing modes in Category B radios: 10
1) RE mapping to frequency resources is performed at O-DU  11
2) RE mapping to antenna ports is performed at O-RU after precoding  12

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        13
ORAN-WG4.CUS.0-v01.00
 1
 2
Figure 2-5 : Lower layer DL split description, NR, Category A Radio 3
Note: the above figure illustrates some of the high level functionalities inside the O-RU and O-DU, and do not bind the 4
internal design of each of the O-RU and O-DU 5
 6
 7
Figure 2-6 : Lower layer DL split description, NR, Category B Radio 8
Note: the above figure illustrates some of the high level functionalities inside the O-RU and O-DU, and do not bind the 9
internal design of each of the O-RU and O-DU 10
 11
Split 7-2x 12
Description: 13
In the DL, OFDM phase compensation [3GPP TS38.211 clause 5.4], iFFT, CP addition, and digital beamforming 14
functions reside in the O-RU as well as precoding for Category B O-RUs. The rest of the PHY functions including 15
resource element mapping, precoding, layer mapping, modulation, scrambling, rate matching and coding reside in the 16
O-DU.  Precoding must be in the O-DU for Category A O-RU support but this only applies if the number of precoder 17
output spatial streams is 8 or less, otherwise precoding must be in the (Category B) O-RU. 18
The option of including some PHY functionality in a radio unit was not included in 3GPP TR 38.801 Rel 14 study. 19
Benefits and Justification: 20
O-RAN FH
O-RAN FH

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        14
ORAN-WG4.CUS.0-v01.00
- Interface simplicity: Transfer of user plane data is based on Resource Elements / Physical Resource Blocks, which 1
simplifies the data mapping and limits the required associated control messages  2
- Transport Bandwidth Scalability: Lower split options (e.g., splits 7-1 and 8) scale based on number of antennas. In 3
contrast, 7-2x interface scales based on “streams”, which allows using high number of antennas without higher 4
transport bandwidth. Further, user data transfer can be optimized to send only PRBs that contain user data for 5
purpose of reducing transport bandwidth 6
- Beamforming Support: The same interface design can support different beamforming techniques (digital, analog, 7
hybrid) as well as different beamforming algorithms. Likewise, deployments using only analog beamforming are 8
also possible with the same interface design. 9
- Interoperability: Less user specific parameters are used at split 7-2x (when compared to higher split options), 10
which can simplify specification. 11
- Advanced receivers and inter-cell coordination: this option allows implementation of advanced receivers and 12
coordination features, which are also easier to implement and less restricted when most functions are placed at 13
the O-DU.  For example, UL CoMP is not possible when the UL upper-PHY processing is in the O-RU. 14
- Lower O-RU complexity: Less functions at O-RU (when compared to higher split options) allow limiting the 15
number of required real time calculations as well as required memory requirement, especially for Category A O-16
RUs. 17
- Future proof-ness: Placing most functions at O-DU will allow introduction of new features via software upgrades 18
without inflicting HW changes at O-RU (e.g., specification changes due to URLLC or new modulation 19
schemes). 20
- Interface and functions symmetry: If the same interface and split point is use d for DL and UL, specification effort 21
can be reduced. 22
 23
2.1.2 Selected Split 7-2x (UL) 24
UL functional split for various physical layer channels and transmission modes are illustrated in Figure 2-7.  Likewise, 25
digital beamforming in this context, is the function of antenna port selection or antenna port combining. 26
Digital
Beamforming
Equalization, iDFT
Channel Estimation Detection
Demodulation
FFT and CP removal Filtering*
RE demapping
PRACH
RE demapping
Descrambling
PUxCH
Analog to Digital
Analog
Beamforming
Digital
Beamforming
IQ Decompression
IQ Compression
IQ
Decompression
Channel
Estimation
SRS
RE demapping
Digital
Beamforming
Analog
Beamforming
IQ
Decompression
IQ Compression IQ
Compression
Analog
Beamforming
O-DU
(PHY part)
O-RU
O-RAN FH
Dotted-line blocks
are optional
*for PRACH, Filtering
block includes CP
removal, decimation
filtering, and a
smaller FFT or a
larger FFT and
PRACH subcarrier
selection
 27
Figure 2-7 : Lower layer UL split description for LTE and NR 28
Note: the above figure illustrates some of the highlevel functionalities inside the O-RU and O-DU, and do not bind the 29
internal design of each of the O-RU and O-DU. 30
 31

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        15
ORAN-WG4.CUS.0-v01.00
Split 7-2x 1
Description: 2
In the UL, OFDM phase compensation (for all channels except PRACH) [3GPP TS38.211 c lause 5.4], FFT, CP 3
removal and digital beamforming functions reside in the O-RU. The rest of the PHY functions including resource 4
element de-mapping, equalization, de-modulation, de-scrambling, rate de-matching and de-coding reside in the O-DU. 5
The option of including some PHY functionality in a radio unit was not included in 3GPP TR 38.801 Rel 14 study. 6
Benefits and Justification: 7
- The benefits defined for Option 7-2x for DL are also applicable for Uplink (See Section 2.1.1). 8
 9
2.2 Data Flows 10
An overall reference of required inputs for some major functional blocks, their granularity and input originating source 11
is compiled in Table 2-1 and Table 2-2 for DL and UL respectively.  12
 13
Table 2-1 : Required information for each functional block (DL) 14
Function Required Information Signaling Granularity  Information source
Digital beamforming • Digital beamforming
information
• Number of TRXs or
Beams
Per RE per beam per slot Scheduler (O-DU)
iFFT and CP addition • FFT size
• SC spacing
• CP length
Per TRX per slot Scheduler (O-DU)
Analog beamforming • Analog beamforming
info
Per frequency band per slot Scheduler (O-DU)
Listen Before Talk (LBT) • LBT parameters Per MCOT Scheduler (O-DU)
 15
Table 2-2 : Required Information for each functional block (UL) 16
Function Required Information Signaling Granularity  Information source
Digital beamforming • Digital beamforming
information
• Number of TRXs or
Beams
Per RE per TRX per slot Scheduler (O-DU)
FFT and CP removal • FFT size
• SC spacing
• CP length
Per TRX per slot Scheduler (O-DU)
Analog beamforming • Analog beamforming
info
Per frequency band per slot Scheduler (O-DU)
 17
In case of lower layer fronthaul based on split option 7-2x for DL and UL, the required external data flows (excluding 18
M-plane) to exchange information between O-DU and O-RU can be categorized as follows.  Further, the data flow 19
contents mapping is described in Table 2-3.  20
• User-Plane 21
o Data Flow 1a: Flows of IQ Data in FFT frequency domain on DL 22
o Data Flow 1b: Flows of IQ Data in FFT frequency domain on UL 23
o Data Flow 1c: Flow of PRACH IQ data in FFT frequency domain 24
• C-Plane 25

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        16
ORAN-WG4.CUS.0-v01.00
o Data Flow 2a: Scheduling commands (DL and UL) & Beamforming commands 1
o Data Flow 2b: LAA Listen-Before-Talk (LBT) configuration commands and requests 2
o Data Flow 2c: LAA LBT status and response messages  3
• Synchronization-Plane 4
o Data Flow S: Timing and Synchronization data 5
 6

O-RU O-DU
1a: DL IQ data in FFT frequency domain
1b: UL IQ data in FFT frequency domain
1c: PRACH IQ
2a: Scheduling Commands (DL&UL) & Beamforming Commands
S: Timing & Synchronization
2b: LAA LBT configuration parameters and requests
2c: LAA LBT status and responses
Note: M-Plane flows not represented here
 7
Figure 2-8 : Lower layer fronthaul data flows 8
 9
Table 2-3 : Data Flow Information Mapping 10
Plane ID Name Contents Periodicity
U-Plane 1a DL Frequency Domain IQ
Data
DL user data (PDSCH), control channel
data (PDCCH, etc.), …
< slot

1b UL Frequency Domain IQ
Data
UL user data (PUSCH), control channel
data (PUCCH, etc.), …
< slot

1c  PRACH Frequency Domain
IQ Data
UL PRACH data

< slot

C-Plane 2a Scheduling Commands &
Beamforming Commands

Scheduling information, FFT size, CP
length, Subcarrier spacing, UL PRACH
scheduling
DL and UL Beamforming commands (e.g.,
beam index) and scheduling
~ slot

2b LAA LBT configuration
parameters and requests
LBT Configuration parameters such as
lbtHandle, lbtDeferFactor,
lbtBackoffCounter, lbtOffset, MCOT,
lbtMode, sfnSf, lbtCWconfig_H,
lbtCWconfig_T, lbtTrafficClass.

per
MCOT/DRS
2c LAA LBT status and
responses
LBT DL indication parameters such as
lbtHandle, lbtResult,  initialPartialSFs,
bufferError, lbtCWR_Result

S-Plane S Timing and Synchronization SyncE SSM & IEEE 1588 PTP packets
 11
2.3 Latency Requirements 12
Intra-PHY lower layer fronthaul split has characteristic of a stringent bandwidth and tight latency req uirement. This 13
implies use of a special “Fronthaul Service Profile” to be supported by the transport network, and which may differ 14
depending on the operating environment, topology and target use cases. The general concept and latency model is based 15
on eCPRI reference points for delay management definitions (See Figure 2-9). However, this specification provides 16
additional details for both DL and UL (Table 2-4) latency. The delay parameters and how these are determined are 17
explained below; note that in general it is expected a separate set of timing parameters applies to each O-RU attached to 18
an O-DU.  This chapter defines multiple approaches which can be used to provide an int er-operable timing solution. 19
The reference points defined for eCPRI are reflected below in Figure 2-9.  The reference points are: 20

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        17
ORAN-WG4.CUS.0-v01.00
• O-DU: R1/ R4 – Transmit/ Receive interface at O-DU 1
• O-RU: R2/ R3 – Receive/ Transmit interface at O-RU 2
• Ra: Antenna interface at O-RU 3
 4
 5
 6
Figure 2-9 : Definition of reference points for delay management (adapted from [3]) 7
Transmission delay between O-DU and O-RU are specified as T12 (downlink) and T34 (uplink).  The transmission 8
delay encompasses only the time from when a bit leaves the sender (R1/ R3) until it is received at the receiver (R2/ R4).  9
In an ethernet transport network, these delays may not be constant due to switching delays (i.e . PDV).  To account for 10
this, transport delay must be considered as a range with upper and lower bounds:  11
• Downlink transport delay: T12min/ T12max 12
• Uplink transport delay: T34min/ T34max 13
However, fixed timing at Ra is still required.  Therefore, Ra is used as a reference point for delay management in the 14
eCPRI model.  Therefore, transmission and reception at the reference points are measured relative to Ra, resulting in the 15
following parameters: 16
Table 2-4 : eCPRI O-DU/ O-RU Delay Model Latency Parameters 17
 eCPRI Latency eCPRI
Minimum Maximum
Downlink
O-DU T1a Measured from output at O-DU (R1) to
transmission over the air.
T1amin T1amax
O-RU T2a Measured from reception at O-RU (R2) to
transmission over the air
T2amin T2amax
Uplink
O-DU Ta4 Measured from reception at O-RU antenna to
reception at O-DU port (R4).
Ta4min Ta4max
O-RU Ta3 Measured from reception at O-RU antenna to
output at O-RU port (R3)
Ta3min Ta3max
 18
2.3.1 Timing Parameter Relationships 19
To ensure proper reception of data at the receiver over the packet interface, there are several relationships between the 20
parameters defined above which must be met.  First it is important to understand the nature of the transmission itself.  In 21
either direction (downlink/ uplink) it takes some amount of time for the sender to actually transmit the packets onto the 22
transmission media.  However, the amount of data for any interval (e.g symbol) can vary thus resulting differing 23
transmit times.  This transmission time can be affected by several factors including (but not limited to) transport media 24
rate, air interface bandwidth, and amount of data compression.   The maximum amount of time allowed for the 25
transmitter to send all data for an interval (Transmission Window) is defined by T1ama x – T1amin.  It is important to 26
note that this is the allowed time, based on transport and O-RU characteristics.  This is explained in greater detail, and 27
its impacts on O-DU in section 2.3.1.1.     28
To account for transport variation and transmission time the receiver implements a reception window.  This allows 29
packets containing samples for a specific symbol to be received within the window and still be transmitted at Ra at the 30
required time.  The size of the Reception Window must account for both the maximum transmission time at the sender 31
O-DU O-RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        18
ORAN-WG4.CUS.0-v01.00
and the transport variation through the fronthaul network.  The result is the first of the delay relationships which must 1
be met to ensure a working delay solution. 2
Reception Window ≥ Transmission Window + Transport Variation 3
Table 2-5 : eCPRI Delay Windows 4
 Reception Window Transmission Window Transport Variation
Downlink T2amax – T2amin T1amax – T1amin T12max – T12min
Uplink Ta4max – Ta4min Ta3max – Ta3min T34max – T34min
 5
The position (in time) of the reception/ transmission windows at the O-RU is fixed relative to the air interface.  6
However, the position of the corresponding windows at the O-DU is a function of the O-RU and transport parameters.  7
For guaranteed reception of packets sent from O-DU to O-RU within the O-RU reception window, the following 8
relationships must also be met1: 9
Table 2-6 : O-DU transmission/ reception window position (in time) 10
O-DU Timing Parameter O-DU Transmit Boundary Relationships
Downlink
(Transmit)
No earlier than T1amax T1amax ≤ T2amax + T12min
No later than T1amin T1amin ≥ T2amin + T12max
Uplink
(Receive)
No earlier than  Ta4min Ta4min ≤ Ta3min + T34min
No later than Ta4max Ta4max ≥ Ta3max + T34max
 11
2.3.1.1 O-DU Transmission Window 12
The O-DU transmission window (T1amax – T1amin) is defined by the relationships above based on the O-RU reception 13
window and max transport variation.  It does not define the exact timing of transmission from the O-DU.  Rather, it 14
defines the boundaries that the O-DU transmission must operate within.  The window merely represents the 15
mathematical boundaries imposed on the O-DU as a result of the O-RU and Transport constraints.  It is possible to 16
define the constraints for any one of O-DU, transport and O-RU based on knowledge of the other two.  However, 17
typically the O-RU constraint is predefined based on the equipment and transport is part of the overall network goals.  18
The window resulting from the relationships must be greater than or equal to the actual maximum time required by the 19
O-DU to transmit all data for a symbol (TXmaxO-DU).  That is, the window must be at least large enough that the O-DU 20
can transmit in the worst case within the window.  Where, within the window, the O-DU transmits (e.g. beginning, 21
middle, end) and how much of the window is consumed by the O-DU transmission is a matter of O-DU design. 22
The following downlink example illustrates the concept: 23
• O-RU parameters:  T2amin = 100 usec, T2amax = 260 usec 24
• Transport Parameters (direct fiber of known length):  T12min = 50 usec, T12max = 51 usec 25
The result indicates an O-DU transmission window as follows: 26
• T1amax ≤ 260 + 50  27
• T1amin ≥ 100 + 51 28
This provides a very large transmit window available to the O-DU.  If, for example, the TXmaxO-DU is only 30 usec, 29
then the O-DU can determine where within the window to start its transmission, so long as the transmission completes 30
prior to T1amin. 31
If, however, this same O-DU were paired with an O-RU with smaller reception window (e.g. T2amin = 100, T2amax = 32
150) using a transport network with the same T12min, but with 15 usec of PDV (T12max = 65), the result is:  33
• T1amax ≤ 150 + 50 34
• T1amin ≥ 100 + 65 35
The delay solution still works (200 – 165 ≥ 30), but with far less margin, and far less flexibility as to where within the 36
window the O-DU may begin transmission. 37

1 Refer to Annex B for explanation of these inequalities.

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        19
ORAN-WG4.CUS.0-v01.00
2.3.2 U-Plane/ C-Plane Timing 1
The basic delay parameters above describe the general delay model and characteristics of the O-RAN interface.  2
However, the ORAN interface is divided into C-Plane and U-Plane parts.  The C-Plane must be available in order to 3
process the corresponding U-Plane packets.  To support coordination of C-Plane and U-Plane timing, the O-RAN 4
interface specifies that C-Plane messages must arrive at the O-RU some amount of time in advance (Tcp_adv_dl) of the 5
corresponding U-Plane messages.  (Note that it is possible for Tcp_adv_dl to be set to 0, but the O-RAN delay model 6
does not assume this.)  As a result, O-RAN has defined the downlink timing relationships and parameters shown in 7
Figure 2-10. 8
 9
Figure 2-10 : Timing relations per symbol IQ in DL direction (U-Plane and C-Plane) 10
For simplicity O-RAN assumes that the transmission windows for C-Plane and U-Plane are the same size.  Tcp_adv_dl 11
allows for different alignment of the respective transmission/ reception windows as illustrated in the figure. 12
For uplink, the C-Plane is sent from O-DU to O-RU, while the U-Plane is from O-RU to O-DU.  Since uplink C-Plane 13
is from O-DU to O-RU, it uses the R1/ R2 reference points, and corresponding timing parameters.  H owever, the uplink 14
C-Plane timing is not characterized relative to the downlink C-Plane or U-Plane timing, but relative to Ra.  The 15
resulting O-RAN delay model is shown in Figure 2-11.  16
start of Tx window C-Plane DL end of Tx window C-Plane DL
Transmission
Window
C-Plane DL
Reception Window C-Plane DL
C-Plane data
for symbol #0
c
c
end of Rx window C-Plane DL
O-
DU
O-
RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        20
ORAN-WG4.CUS.0-v01.00
 1
Figure 2-11 : Timing relations per symbol IQ in UL direction (U-Plane and C-Plane) 2
The resulting O-RAN delay model parameters are summarized on Table 2-7.  The respective sections within the table 3
for O-RU and O-DU define the delay profile parameters for the equipment. 4
 5
Table 2-7 : O-RAN Delay Management Model Parameters 6
DL UL DL UL
T12min T12_min T12_min T12_min NA
T12max T12_max T12_max T12_max NA
T34min NA NA NA T34_min
T34max NA NA NA T34_max
T2amin T2a_min_cp_dl T2a_min_cp_ul T2a_min_up NA
T2amax T2a_max_cp_dl T2a_max_cp_ul T2a_max_up NA
Tadv_cp_dl NA NA NA
Ta3min NA NA NA Ta3_min
Ta3max NA NA NA Ta3_max
T1amin T1a_min_cp_dl T1a_min_cp_ul T1a_min_up NA
T1amax T1a_max_cp_dl T1a_max_cp_ul T1a_max_up NA
Ta4min NA NA NA Ta4_min
Ta4max NA NA NA Ta4_max
C-Plane U-Plane
Network
O-RU
O-DU
Model Parameters
 7
The relationships between the various delay model parameters are defined below: 8
Table 2-8 : Downlink Delay Relationships 9
 Earliest transmission from O-DU Latest Transmission from O-DU
U-Plane T1a_max_up ≤ T2a_max_up + T12_min T1a_min_up ≥ T2a_min_up + T12_max
C-Plane T1a_max_cp_dl ≤ T2a_max_cp_dl + T12_min T1a_min_cp_dl ≥ T2a_min_cp_dl + T12_max
 10
Table 2-9 : Uplink Delay Relationships 11
 Earliest Reception at O-DU Latest Reception at O-DU
U-Plane Ta4min ≤ Ta3min + T34min Ta4max ≥ Ta3max + T34max
C-Plane T1a_min_cp_ul ≥ T2a_min_cp_ul + T12_max T1a_max_cp_ul ≤ T2a_max_cp_ul + T12_min
Transmission
Window
C-Plane UL
Reception Window
C-Plane UL
c
c
O-
DU
O-
RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        21
ORAN-WG4.CUS.0-v01.00
 1
For the O-RAN interface to operate properly, the transmit and receive windows at the O-DU must be properly aligned.  2
(The O-RU window alignment is always based on Ra.)  For the O-DU to align transmit and receive windows, it needs 3
the following: 4
• O-RU Delay Characteristics 5
• Transport Network Delay Characteristics 6
The expected accuracy of the reported O-RU delay characteristics is 200ns.   The 200ns value was decided as a 7
compromise between a very high accuracy (tens of nanoseconds) which makes buffering in the O-RU easier and a more 8
modest accuracy (~0.5 microseconds) which is relatively easy for a well-controlled Ethernet network to accomplish.  9
This accuracy applies only to the reported start and end times of the reception and transmission windows relative to Ra.  10
Ra is a fixed reference point as defined by the respective air interface standards and supported features.  As an example, 11
if the O-RU reports T2a_min_up of 20 µs, the O-RU may begin processing the data from 19.8 µs to 20.2 µs prior to the 12
symbol over the air transmission time (Ra).  However, the O-RU MUST still transmit over the air with the precision as 13
defined by the air interface standards. 14
The remainder of this chapter addresses O-RAN supported methods for providing the O-DU with the required 15
information to properly align transmit and receive windows.  The following methods are supported:  16
Table 2-10 : O-DU transmit/ receive window alignment methods 17
Delay
Characteristics
Computed Methods
Defined Transport Measured Transport
O-RU Delay O-RU specific values available to O-
DU
O-RU specific values available to O-DU
Transport
Delay
Pre-defined Min/ Max Min – Measured; PDVmax - SLA
 18
2.3.3 Computed Latency Methods 19
As previously noted, the goal of delay management for O-RAN interfaces is to ensure that the transmission/ reception 20
windows as the O-DU are properly aligned to support the O-RU and transport network characteristics.  The computed 21
methods require the O-DU to compute the required transmit and receive windows based on O-RU delay and transport 22
network characteristics. The O-DU then determines if the O-DU can accommodate the required transmit and receive 23
windows.  If so, it sets its transmit and receive windows (based on O-DU design) to the most appropriate settings.  As 24
an example, an O-DU may have a fixed set of transmit and receive windows.  The O-DU may then select the fixed 25
settings that best fit the transport latency (T12/ T34) and O-RU delay characteristics for the connected O-RUs. 26
The O-DU should raise some notification if it is not capable of accommodating the required transmit and receive 27
windows.   28
Alignment of the transmit window at the O-DU requires that the following conditions be met based on the downlink 29
delay relationships defined in Table 2-8: 30
• The O-DU MUST be able to transmit DL U-Plane (T1a_min_up/ T1a_max_up) 31
• Early enough (e.g. before T1a_min_up) to ensure it is received at O-RU before T2a_min_up 32
• Late enough (e.g. after T1a_max_up) to ensure it is NOT received before T2a_max_up 33
• Similarly, the O-DU must be able to transmit C-Plane messages within their respective windows 34
Alignment of the receive window at the O-DU requires that the following conditions be met based on the uplink delay 35
relationships defined in Table 2-9 : 36
• The O-DU MUST set its receive window for UL U-Plane (Ta4_min, Ta4_max) 37
• Early enough to ensure UL U-Plane is not received before Ta4_min 38
• Late enough to ensure UL U-Plane is not received after Ta4_max 39
The following O-DU constraints must be met for delay management to operate properly: 40
 41
 42

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        22
ORAN-WG4.CUS.0-v01.00
Table 2-11 : O-DU Constraints 1
O-DU  Constraint
Description Parameter Relationship
Transmit
Window
maximum required transmit
window
TXmaxO-DU T1a_max_up – T1a_min_up ≥ TXmaxO-DU
Maximum supported
T1a_max_up
T1a_max_upO-DU T1a_max_upO-DU ≥ T1a_max_up
Receive
Window
Maximum supported receive
window
RXmaxO-DU RXmaxO-DU ≥ Ta4_max - Ta4_min
Maximum supported uplink
latency relative to Ra
Ta4_maxO-DU Ta4_maxO-DU ≥ Ta4_max
 2
If any of the O-DU constraints is violated, then proper delay operation cannot be assured.   3
2.3.3.1 Fronthaul Timing Domain 4
When using a computed delay approach, the domain over which the O-DU delay parameters apply must be considered.  5
A timing domain is defined as the set of CU and O-RU ports to which the computed O-DU delay parameters apply.  6
The O-DU timing domain may encompass a single CU port, or may encompass multiple CU ports, where the O-DU 7
requires the same O-DU timing parameters to apply to all CU ports in the domain. 8
Similarly, each CU port in the domain may support O-RAN C/U-Plane traffic to 1 or more O-RU ports.  Therefore, a 9
fronthaul timing domain encompasses one or more DU_Port_IDs and one or more RU_port_IDs. 10
When computing the O-DU transmit/ receive windows, the single set of delay parameters for the O-DU must 11
encompass the worst case of Transport and O-RU delay characteristics within the domain.  The following definitions 12
are used: 13
• Transport Network Parameters for timing domain 14
 T12_minij : T12_min between DU_Port_ID(i) and RU_Port_ID(j) 15
T34_minij : T34_min between DU_Port_ID(i) and RU_Port_ID(j) 16
Note: it is assumed that if a timing domain has multiple T12_min/ T34_min values, then the transport delay 17
characteristics are measured.  For measured transport delay it is not possible to measure the maximum delay.  T12_max 18
and T34_max in this case is computed by adding an a pre-defined (e.g. via SLA) worst case variation (PDVmax) to the 19
corresponding transport minimum delay values. 20
Table 2-12: Radio Delay Parameters for O-RU Port "j" within timing domain 21
 Downlink U-Plane Uplink U-Plane Downlink C-Plane2 Uplink C-Plane
Minimum T2a_min_upj Ta3_minj T2a_min_cp_dlj T2a_min_cp_ulj
Maximum T2a_max_upj Ta3_maxj T2a_max_cp_dlj T2a_max_cp_ulj
  22
The resulting parameters to be used for determining the O-DU window for the timing domain are: 23
Table 2-13 : Transport Network Parameters for Timing Domain 24
 Downlink Uplink
Minimum T12_min = MIN(T12_minij) T34_min = MIN(T34_minij)
Maximum T12_max = MAX(T12_minij) + PDVmax T34_max = MAX(T34_minij) + PDVmax
 25
Table 2-14 : O-RU Delay Parameters for Timing Domain 26
  U-Plane C-Plane
Downlink Minimum T2a_min_up = MAX(T2a_min_upj) T2a_min_cp_dl = MAX(T2a_min_cp_dlj)
Maximum T2a_max_up = MIN(T2a_max_upj) T2a_max_cp_dl = MIN(T2a_max_cp_dlj)
Uplink Minimum Ta3_min = MIN(Ta3_minj) T2a_min_cp_ul = MAX(T2a_min_cp_ulj)
Maximum Ta3_max = MAX(Ta3_maxj) T2a_max_cp_ul = MIN(T2a_max_cp_ulj)

2 Tcp_adv_dl may be different across RUs within a domain, therefore T2a_min_cp_dl and T2a_max_cp_dl must be used to determine
downlink C-Plane window.

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        23
ORAN-WG4.CUS.0-v01.00
The tables defined above are used to derive the corresponding delay parameters to be used in the timing relationships 1
defined in Table 2-8 and Table 2-9  to support the computed methods defined below. 2
When using a computed delay approach, there are two situations that are considered within O-RAN: 3
• Defined Transport Method: the network delay is pre-defined (usually by the network operator) and the 4
delays are computed based on that definition.  The definition generally considers the maximum network 5
latency, with an assumption that a smaller delay can more easily be accommodated. 6
• Measured Transport method: the network delay is estimated based on actual measurements of packet latency 7
on the downlink and uplink (sometimes a symmetric delay is assumed but this is not necessary).  8
 9
Regardless of whether the Defined Transport Method or Measured Transport Method is used, the calculations are 10
mainly the same.  The next two sub-sections describe in more detail these two methods. 11
 12
2.3.3.2 Defined Transport Method 13
With the Defined Transport method, the O-DU transmit and receive windows are determined based on pre-defined 14
transport network characteristics, and the delay characteristics of the O-RUs within the timing domain.  For this 15
approach to work, the O-RU delay characteristics as defined in Table 2-14 for each O-RU in the timing domain must be 16
available to the O-DU.  The O-DU can adapt its transmit and receive windows to accommodate the O-RU delay 17
characteristics if CU has that capability.   The adaptation of the O-DU transmission and reception windows may be 18
limited based on the O-DU design. 19
Table 2-15 : Delay Profiles 20
 O-RU delay profile O-DU delay profile
Downlink
T2a_min_up, T2a_max_up,
T2a_min_cp_dl, T2a_max_cp_dl,
Tcp_adv_dl
T1a_max_upO-DU, TXmaxO-DU
Uplink Ta3_min, Ta3_max, T2a_min_cp_ul,
T2a_max_cp_ul
Ta4_maxO-DU, RXmaxO-DU
 21
Refer to M-Plane specification for details on how O-RU parameters are obtained.  Optionally, an O-RU may adapt its 22
delay profile information, especially for uplink, based on O-DU delay profile and transport delay (T12_min/ T34_min).  23
If this option is supported, then the O-DU must provide its delay profile as well as the T12_min to the O-RU.  The 24
exchange of this information should use the same approach as defined for exchange of O-RU delay profile.  With this 25
option, the O-RU receives the O-DU delay profile before sending its delay profile to the O-DU.  The O-DU is unaware 26
that the O-RU delay profile information has been modified.   It simply uses the delay profile provided by the O-RU as it 27
would without this option. 28
As previously noted, delay characteristics for an O-RU may vary based on air interface properties.  To ensure 29
interoperability, O-RAN supported air interface properties which may be used as the basis for supporting different delay  30
characteristics are limited to: 31
- Channel Bandwidth 32
- SCS 33
 34
A set of delay characteristics which applies to a combination of the above properties is referred to as a delay profile.  35
For each supported combination of the above properties that an O-RU supports, a delay profile must be identified.  Note 36
it is possible for multiple combinations of the above properties to utilize the same O-RU delay profile.  These delay 37
profiles are O-RU specific, and are not within the scope of the O-RAN specification.   38
When calculating the O-DU transmit and receive window for a timing domain, the O-DU must use the delay profile 39
applicable for each O-RU based on the air interface properties used by the O-RU in the specific network configuration.  40
As previously noted, it is possible that the O-DU design is not capable of adjusting its transmit/ delay windows to meet 41
the required transmit or receive windows.   42
The O-RU and O-DU may have multiple delay profiles depending on the design. The following Table 2-16 indicates 43
the contents of each profile.   44
 45

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        24
ORAN-WG4.CUS.0-v01.00
Table 2-16 : DL and UL Delay Profiles 1
 O-RU delay profile O-DU delay profile
Downlink T2a_min_up, T2a_max_up,
T2a_min_cp_dl, T2a_max_cp_dl,
Tcp_adv_dl
T1a_max_upO-DU
TXmaxO-DU
Uplink Ta3_min, Ta3_max, T2a_min_cp_ul,
T2a_max_cp_ul
Ta4_maxO-DU
RXmaxO-DU
 2
Using the delay parameters specified for the corresponding profile for each O-RU in the timing domain, the uplink and 3
downlink O-RU parameters to use for the timing domain can be determined as specified in section 2.3.3.1 Table 2-12.  4
The transport delay parameters are constant for this method and specified as part of the network.  The delay 5
relationships as previously defined in Table 2-8 and Table 2-9 can then be applied to determine the O-DU transmit and 6
receive delay parameters.  Finally, the O-DU uplink and downlink constraints as defined in Table 2-11 are applied to 7
ensure that the calculated windows can be supported. 8
2.3.3.3 Measured Transport Method 9
With the Measured Transport method, the O-DU transmit and receive windows are determined based on the delay 10
characteristics of the O-RUs as defined in section 2.3.3.2, and measured transport delays between all O-DU ports and 11
O-RU ports in the timing domain.  The O-DU must measure the transport delay(s) for all O-RU/O-DU port pairs in the 12
timing domain and adapt its transmit and receive windows to accommodate the measured transport delay 13
characteristics. 14
O-RAN specifies the use of the One-Way Delay Measurement messages as defined in the eCPRI specification.  While 15
other methods are possible, both endpoints must support a common approach.  Some of the benefits of using the eCPRI 16
approach are: 17
• Same ethernet type and address (and IP address/ UDP port) between O-DU and O-RU as used for C-Plane and 18
U-Plane in order to obtain consistent measurements. 19
• eCPRI One-Way Delay Measurement allows for varying packet sizes to better simulate real traffic.  20
• eCPRI approach allows for separate T12 and T34 measurements, and measurements in both directions may be  21
initiated by either communication peer. 22
Note that for this delay measurement eCPRI must be used because no other specified transport mechanism supports 23
one-way delay measurements – this is true even if RoE is used as the C-Plane and U-Plane transport mechanism. 24
 25
Table 2-17 : eCPRI One-Way Delay Measurement Message 26
One-Way Delay Measurement (Type 5)
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

ecpriVersion ecpriReserved ecpriConcat
enation
1 Octet 1
ecpriMessage = 5 1 Octet 2
ecprPayload 2 Octet 3
Measurement ID 1 Octet 5
Action Type 1 Octet 6
TimeStamp (seconds) 6 Octet 7
TimeStamp (nanoseconds) 4 Octet 13
Compensation value (nanoseconds) 8 Octet 17
Dummy bytes L Octet 25
                  Octet M
 27
The O-DU initiates the measurements for T12 by sending a One-Way Delay Measurement request to the O-RU.  The O-28
RU responds to the One-Way Delay Measurement response message.  The request has a timestamp based on the 29
transmission time at the O-DU (t1) and a Compensation value to account for expected processing time from t1 until 30
actual packet transmission at R1. 31

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        25
ORAN-WG4.CUS.0-v01.00
The O-RU timestamps the received request message (t2).  The O-RU creates a response message which contains the 1
receive timestamp (t2) and a compensation value to account for expected delay from packet receipt at R2 to 2
timestamping in the O-RU.  O-DU then computes T12 using the formula indicated in Figure 2-12.  tcv1 and tcv2 are 3
implementation-specific “compensation” values an O-DU and O-RU may use to accommodate known timestamp 4
processing delays.  Note that this measurement process including the definition of the terms in the figure is described in 5
the eCPRI specification [3].   6
 7
Figure 2-12 : eCPRI One-Way Delay Measurement procedure (Figure 25 of [3]) 8
Note that when measuring the one-way delay, the goal is to determine the minimum transport delay.  Since any 9
individual packet can experience different delays through the network due to PDV, it is necessary to perform multiple 10
measurements.  Since the desired value is the minimum (T12_min or T34_min), the minimum delay measurement 11
among the various measurements is used to estimate the minimum transport delay.   The O-DU may use the estimated 12
T12_min value as the T34_min value.  It is optional for the O-DU to request the O-RU to perform a measurement of 13
T34 using the One-Way Delay Measurement remote request.   14
There is no theoretical upper bound for transport delay.  The maximum values ar e determined based on the measured 15
minimum values plus a maximum allowed transport variation (PDVmax) defined as part of the SLA for the transport 16
network. 17
The O-DU must measure the delay corresponding to each O-DU/ O-RU port pair within the timing domain.  The per 18
port pair minimum delay are then used as per Table 2-12 to provide the transport parameters to be used in the delay 19
relationships specified in Table 2-8 and Table 2-9 .  The resulting delay configuration must meet the O-DU constraints 20
defined in Table 2-11. 21
Since the transport delay is necessary to establish correct timing, this measurement is performed initially before sending 22
of C/U-Plane traffic.  The measurement should be performed with packets using the same L2 Cos Priority or L3 DSCP 23
Code as the U-Plane data uses, to ensure the measurement accurately reflects the U-Plane transport latency. This could 24
also be done periodically to verify delay if desired.  Note however that section 2.4 describes traffic counts which can 25
also be used for error detection.  If an error is detected, it may be necessary to re-measure the delay and update the O-26
DU timing based on the new measurements. 27

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        26
ORAN-WG4.CUS.0-v01.00
2.3.4 Latency Categories for O-DU with dynamic timing advance  1
As an aide to selection of equipment for use in specific transport network use cases, O-RAN O-DU and O-RU are 2
categorized based on delay capabilities.  Equipment is categorized with a Category [A-Z] and Sub-category [.00-.40].  3
The category can be used to determine the maximum T12max/ T34max which the equipment can support.  Categories 4
are determined as follows: 5
• T1a_maxO-DU ≥ T12max + T2a_min_up 6
• Ta4_maxO-DU ≥ T34max + Ta3_max_up 7
 8
By definition T1a_max_upO-DU  is the earliest that the O-DU can begin transmission.  This results in that the earliest 9
that the O-DU can be guaranteed to complete transmission is T1a_max_upO-DU - TXmaxO-DU.  The result is that: 10
• T1a_max_upO-DU - TXmaxO-DU - T2a_min_up ≥ T12max  11
Similarly, for uplink Ta4_maxO-DU is the latest that the O-DU may receive any packet from the O-RU.  Therefore: 12
• Ta4_maxO-DU - Ta3_max_up ≥ T34max  13
 14
Both of these are illustrated in the Figure 2-13 below: 15
 16
Figure 2-13 : Uplink and Downlink Timing Parameter Relationship 17
 Using these inequalities, O-DU and O-RU can be categories based the following constraints: 18
 19
Note that the maximum range that can be supported is based on the minimum value of T12_max/ T34_max from above.  20
This requires separate categorization for UL and DL for each O-DU and O-RU.  Therefore, an uplink category pair 21
(AX) and downlink category pair (BY) must be evaluated for each pairing of O-DU and O-RU.  The minimum distance 22
(T12_max/ T34_max) represented by the corresponding pairs (AX/ BY) then identifies the maximum transport latency 23
which can be supported by the pair. 24
Each endpoint has a specific value for the characteristics defined in the table immediately above.  In order to categorize 25
endpoints, the endpoints are grouped based on the range in which the maximum transport characteristic falls.  The 26
category identification then means that the maximum transport characteristic for the endpoint falls somewhere between 27
the maximum and minimum values for the category.   28
Since the category identifies that the maximum latency supported for the endpoint falls somewhere within the category 29
range, the resulting category pair (AX) defines a range of T12_max/ T34_max for the combination.  The combination 30
can be used to identify a maximum T12_max/ T34_max and minimum T12_max/ T34_max that the combination can 31
support.  The category pair identifies a best and worst case for the maximum range the combination can support.  The 32
actual maximum range supported by a specific O-DU/ O-RU with a given category combination will fall somewhere 33
O-DU
O-DU
O-DU
O-DU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        27
ORAN-WG4.CUS.0-v01.00
within the range.  That is, for a given O-DU with category A and O-RU with category X, the T12_max/ T34_max 1
supported by the pair is defined as: 2
• Latency_minAX ≤ (T12_max = T34_max) ≤ Latency_maxAX 3
Additionally, the paired combination can be mapped to supported use cases.  Annex B. 1 contains the category 4
definitions, Latency_min, Latency_max, and use case tables. 5
Note that categories are only useful for identifying the maximum possible range (T12_max/ T34_max) values.  To be 6
able to usefully identify equipment for a given use-case, it is also necessary to be able to identify T12_min/ T34_min 7
values.  This can be defined in terms of variation, where variation indicates how much lower T12_min/ T34_min can be 8
relative to T12_max/ T34_max respectively.  That is: 9
• DL Variation = T12_max – T12_min 10
• UL Variation = T34_max – T34_min 11
An additional level of categorization is required to address the transport delay variation (e.g. T12max – T12min) that a 12
given equipment type pair can support.  This is addressed using sub-categories.  Note that the total variation that can be 13
supported is a combination of the receive window at the receiver, and the transmit variation.  However, the receive 14
window will likely be much larger than the transmit variation.  Each endpoint is assigned to both an uplink and 15
downlink category.  The O-DU DL sub-category is based on transmit variation, while the O-DU UL sub-category is 16
based on receive window.  For UL, the roles are reversed and the O-RU DL sub-category is based on receive window, 17
and the UL sub-category is based on transmit variation.   18
As a result, sub-categories are defined based on the role for the endpoint in the given transmission dire ction (UL/ DL). 19
Downlink variation (Tvarition_DL) is defined in Figure 2-14 as follows: 20
 21
Figure 2-14 : Downlink Transport Variation 22
Tvariation_DL ≤ T2a_max_up – T2a_min_up – TXmaxO-DU 23
 24
Uplink variation (Tvarition_UL) is defined in Figure 2-15 as follows: 25
 26
Figure 2-15 : Uplink Transport Variation 27
Tvariation_UL ≤  RXmaxO-DU – (Ta3_max – Ta3_min) 28
O-DU
O-DU
O-DU
O-DU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        28
ORAN-WG4.CUS.0-v01.00
 1
Using the respective constraints, the variability can be defined based on O-DU and O-RU delay characteristics as 2
follows: 3
 4
Sub-categories for each direction are defined using the endpoint characteristi cs.  Similar to categories, sub-categories 5
indicate that the endpoint has a variation characteristic that falls somewhere in the specified sub -category range.  Since 6
transmit variability and receive windows are expected to have different ranges, separate tables are created.   However, 7
since sub-categories are numeric [.##], to simplify these values are assigned in a similar way.  The ## value represents 8
the time in 10’s of µsec for the given endpoint property. 9
For example, if an O-RU with a category X has a T2a_min – T2a_max = 163 µsec, the sub-category for the O-RU 10
would be [.16].  Making the full category for the O-RU X.16.  Note that by using this approach, the receiver sub-11
category and transmitter sub-category can be directly used to determine the dynamic range in either d irection: 12
TX sub-category: .06 13
RX sub-category: .16 14
Resulting Tvariability = .16 * 1000 - .06 * 1000 = 100 µsec.  Note that this provides a lower bound on the maximum 15
dynamic range supported in one direction.  The minimum of the UL and DL T variability is used to determine the maximum 16
dynamic range for the combination (e.g. maximum difference between T12_max and T12_min that can be supported) . 17
Annex B.2 contains the sub-category definitions and resulting combination dynamic range use case tables.  18
With dynamic timing advance, since the O-DU can set its earliest transmission time based on the measured T12_max, 19
the full range of variability is available regardless of the T12_max.  For example, if an O-DU/ O-RU combination has 20
100 usec worth of variability, and a maximum range T12_max of 250 usec, the combination can support the measured 21
T12_max (≤ 250 usec) and T12_min of T12_max – 100 usec.  So, if the measured T12_max is 200 usec, the 22
combination can support T12_max of 200 usec and T12_min of 100 usec.  23
2.3.5 Latency Categories for O-DU with fixed timing advance  24
The same category concepts apply for O-DU which support fixed transmit/ receive windows.  The earliest transmit 25
window and latest receive window timing defines the maximum range that the O-DU can support.  T1a_max_upO-DU   26
for the O-DU is equal to the T1a_max_up of the earliest fixed transmit window.  Similarly , Ta4_maxO-DU  is equal to the 27
Ta4_max of the latest receive window.  The O-DU category is then assigned based on this value.   28
Fixed transmit and receive windows do however impact variability.  The fixed transmit time results in sending packets 29
earlier than absolutely needed to achieve the actual T12_max (i.e. the T12_max value that is either measured or 30
configured by the service provider).  The following figure Figure 2-16 illustrates: 31
 32

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        29
ORAN-WG4.CUS.0-v01.00
 1
Figure 2-16 : Fixed Transmit Time Illustration 2
Note that since the TXDL_Start is earlier than required for T12_max by T1a_offset, the latest packets arrive at least 3
T1a_offset before T2a_min_up.  This results in T1a_offset worth of O-RU receive buffer being always used, implying 4
that the O-RU needs additional buffer to compensate T1a_offset.  Since the TXDL_Start is fixed, the T12min is also fixed 5
at: 6
T12min = TXDL_Start  – (T2a_max_up – TXmaxO-DU) 7
Since T12min is unaffected, the resulting Tvariation is reduced by T1a_offset.  To support T12min, O-RU need to provide 8
T1a_offset + T12max – T12min + TXmax_O_CU  9
It should also be noted that when T12_max + T2a_min_up = T1a_max_upO-DU (e.g. at maximum range), then 10
T1a_offset = 0.  But as the actual T12_max decreases, the amount of receive buffer consumed by T1a_offset increases 11
by the corresponding amount. 12
Note that the same applies for UL.  The result is that the T34_min is defined relative to the T34_max for the 13
combination, not relative to the measured T34_max.   14
2.3.6 Non-Delay Managed U-Plane Traffic 15
While most U-Plane data must meet the delay constraints described above, there are cer tain types of U-Plane traffic for 16
which the reception windows may not be applicable.  Not applying the transmission/ reception window constraints to 17
such data allows the transmission of the data over the fronthaul interface to be spread to reduce the peak bandwidth 18
required by the interface.   19
Figure 2-17 uses SRS to illustrate an example non-delay managed U-Plane traffic. 20
O-DU
O-DU
O-DU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        30
ORAN-WG4.CUS.0-v01.00
 1
Figure 2-17 : SRS as non-delay managed U-Plane traffic 2
In the example, a large amount of SRS data is received during a special slot on the air interface.  By allowing the SRS 3
data to be transmitted from the O-RU to the O-DU outside of the normal transmit window, and instead allowing it to 4
use otherwise un-used fronthaul interface bandwidth, the required peak fronthaul bandwidth requirement can be 5
substantially reduced.   6
Non-delay managed U-Plane traffic flows must be uniquely identified from delay managed U -Plane traffic flows.  The 7
identification of U-Plane traffic flows using eAxC identifiers is described in section 3.4 , and the eAxC must be used to 8
indicate delay-managed versus non-delay-managed traffic (e.g. some eAxC or Pcid-identified packets may carry delay-9
managed U-Plane traffic while other eAxC or Pcid-identified packets may carry non-delay-managed U-Plane traffic).  10
Non-delay managed U-Plane traffic flows may not use the same eAxC identifiers as delay managed U -Plane traffic 11
flows.  Different RU_Port_IDs are allocated within the c_eAxC ID for non-delay managed U-Plane flows from those 12
used for delay managed U-Plane traffic flows in the same direction (UL/DL).  It is not required that the RU_Port_IDs 13
used in UL for non-delay managed traffic be the same as those used in the DL.  14
Non-delay managed traffic may be sent by the sender without regard to the transmission window for the corresponding 15
air interface symbol.  Similarly, the receiver will not discard received non-delay managed traffic received outside the 16
normal reception window for the corresponding air interface symbol.  However, the air interface symbol time is still 17
contained within the U-Plane packets for reference.   18
Note that the status of traffic flows being delay-managed versus non-delay-managed (which is managed within the 19
application) is independent of any transport prioritization that may be configured.  20
 2.4  Reception Window Monitoring 21
The reception window can be used for purpose of error detection. The reception windows at O-RU and O-DU absorb 22
delay variation in the fronthaul. Although its maximum size may vary depending on implementation, the position of 23
windows at O-DU may be adjustable via parametrization as described in section 2.3.  24
Data flow error detection during fronthaul operation is monitored and reported via counters b ased on receipt of packets 25
relative to the reception window. The receiving node monitors the actual reception timing and generates counters 26
regarding the status and whether packets were successfully received in proper timing.  27
The following counters are expected to be supported: 28
 29
• Data was received on time (within reception window) – no action needed 30
• Data was received too early – link latency re-measurement may be needed 31

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        31
ORAN-WG4.CUS.0-v01.00
• Data was received too late – link latency re-measurement may be needed 1
• Corrupt/Incorrect header packet – alarm may need to be raised 2
• Duplicated packet – alarm may need to be raised 3
• Total messages received – allows easier calculation of link statistics 4
In the above list are listed several system reactions that “may’ be needed.   The specific r eaction will be 5
implementation-specific and depend on such considerations as the number of instances needed before justifying sending 6
an alarm, the ability of the system to measure link latencies, or other design -dependent judgments.  Additional details 7
regarding the counts, alarms, and fault handling is outside of the scope of this current document.  8
Dynamic adaptation of windows at Tx side to handle larger delay values may be employed.  For instance, fronthaul 9
distance may be extended by handling a portion (or most) of the fixed delay component at Tx buffer side by adapting 10
the transmission timing based on information provided by Rx side. In other words, rather than accommodating a latency 11
range of zero to “max”, it is possible to instead accommodate a longer latency of “offset” to “max+offset” (longer 12
latency but same range).  This is described in detail in section 2.3. 13
 14
Chapter 3 Transport & Protocol Architecture 15
3.1 Transport Encapsulation Types 16
3.1.1 Ethernet Encapsulation 17
Ethernet can be used as transport mechanism for both U-plane and C-plane. In this case, messages are transmitted over 18
standard Ethernet frames (See Figure 3-1). Further, both the eCPRI header and payload are contained within the 19
Ethernet data field.  For this encapsulation, either the eCPRI Ethertype or the IEEE 1914.3 Ethertype shall be used. 20
 21
Figure 3-1 : Native Ethernet frame with VLAN 22
 23
3.1.2 IP/UDP Encapsulation 24
IP/UDP can be used as transport mechanism for both U-plane and C-plane. In this case, messages are transmitted over 25
standard IP packets and the encapsulation mechanism is identified by “IP” or “Jumbo” Ethertype (See Figure 3-2 and 26
Figure 3-3). 27
 28
 29
Figure 3-2 : Native IPv4 packet with VLAN 30
 31
 32
Figure 3-3 : Native IPv6 packet with VLAN 33
Note that while the numbers in Figure 3-1, Figure 3-2 and Figure 3-3 imply standard Ethernet packets, use of Jumbo 34
frames (up to 9000 bytes in length) is not precluded in this specification. 35
Destination MAC
Address
(6 Bytes)
Source MAC
Address
(6 Bytes)
Type/Length
(Ethertype)
(2 Bytes)
Payload
(42…1500 Bytes)
FCS
(4 Bytes)
VLAN Tag
(4 Bytes)
Preamble
(8 Bytes)
IFG
(12 Bytes)
Destination MAC
Address
(6 Bytes)
Source MAC
Address
(6 Bytes)
Type/Length
(Ethertype)
(2 Bytes)
Payload
(0…1452 Bytes)
FCS
(4 Bytes)
VLAN Tag
(4 Bytes)
UDP
(8 Bytes)
IPv6
(40 Bytes)
Preamble
(8 Bytes)
IFG
(12 Bytes)

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        32
ORAN-WG4.CUS.0-v01.00
3.1.3 Transport Headers 1
O-RAN allows for multiple different transport headers within the Ethernet payload to further describe how the application 2
data is to be handled in the C-Plane and U-Plane.  In each case the transport header is 8 bytes in length and provides basic 3
data routing capabilities, including description of the data flow type, sending and reception port identifiers, ability to 4
support concatenation of multiple application messages in a single Ethernet packet, and sequence num bering.  The 5
following sections describe the possible transport headers. 6
3.1.3.1 eCPRI Transport Header 7
The definition of the eCPRI transport header is shown in Table 3-1 below. 8
Table 3-1 : eCPRI Transport Header Field Definitions 9
Section Type : any
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

ecpriVersion ecpriReserved ecpriConcat
enation
1 Octet 1
ecpriMessage 1 Octet 2
ecpriPayload 2 Octet 3
ecpriRtcid / ecpriPcid 2 Octet 5
ecpriSeqid 2 Octet 7
 10
Each field within the eCPRI Transport Header is further described in the following sub -sections. 11
3.1.3.1.1 ecpriVersion (eCPRI protocol revision) 12
Description: This parameter indicates the eCPRI protocol version. NOTE: This parameter is part of the eCPRI common 13
header. 14
Value range: {0001b=eCPRI version 1.0, 0010b-1111b=Reserved for future eCPRI protocol revisions, 0000b= 15
Reserved for future eCPRI protocol revisions}. 16
Type: unsigned integer. 17
Field length: 4 bits 18
Default Value: 0001b (eCPRI version 1.0). 19
 20
3.1.3.1.2 ecpriReserved (eCPRI reserved) 21
Description: This parameter is reserved for eCPRI future use. NOTE: This parameter is part of the eCPRI common 22
header. 23
Value range: {001b-111b=Reserved}. 24
Type: unsigned integer 25
Field length: 3 bits. 26
Default Value: 000b (reserved fields should always be set to all zeros). 27
 28
3.1.3.1.3 ecpriConcatenation (eCPRI concatenation indicator) 29
Description: This parameter indicates when eCPRI concatenation is in use (allowing multiple eCPRI messages  in a 30
single Ethernet payload). NOTE: This parameter is part of the eCPRI common header. 31
Value range: {0b=No concatenation, 1b=Concatenation}. 32
Type: binary bit. 33

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        33
ORAN-WG4.CUS.0-v01.00
Field length: 1 bits. 1
Default Value: 0b (no concatenation). 2
 3
3.1.3.1.4 ecpriMessage (eCPRI message type) 4
Description: This parameter indicates the type of service conveyed by the message type. NOTE: This parameter is part 5
of the eCPRI common header. NOTE: In this version of the specification, only values “0000 0000 b” and “0000 0010b” 6
and “0000 0101b” are used. 7
Value range:  8
0000 0000b = IQ data message; 9
0000 0010b = Real-time control data message; 10
0000 0101b = transport network delay measurement message (see section 2.3.3.3 for full message format); 11
other values not recognized within this version of the specification. 12
Type: unsigned integer. 13
Field length: 8 bits. 14
Valid Values: 0x0 (U-Plane data) or 0x2 (C-Plane data) or 0x5 (network delay measurement messages). 15
 16
3.1.3.1.5 ecpriPayload (eCPRI payload size) 17
Description: This parameter is the size in bytes of the payload part of the corresponding eCPRI message. It does not 18
include any padding bytes following the eCPRI message. The maximum supported payload size is 216-1, but the actual 19
size may be further limited by the maximum payload size of the underlying transport network. NOTE: This parameter is 20
part of the eCPRI common header. 21
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b}. 22
Type: unsigned integer. 23
Field length: 16 bits. 24
 25
Figure 3-4 : eCPRI payload - no concatenation (source: [3]) 26
 27
3.1.3.1.6 ecpriRtcid / ecpriPcid (real time control data / IQ data transfer message series 28
identifier) 29
Description: This parameter is a component_eAxC identifier (c_eAxC ID) and identifies the specific data flow 30
associated with each C-Plane (ecpriRtcid) or U-Plane (ecpriPcid) message.  It is the analog of CPRI’s “AxC” (antenna-31
carrier) value so is designated here as “eAxC” (“e” for “extended” to accommodate multiple bands and multiple 32
component carriers).  In addition, the “eAxC” is divided into “component eAxC” parts (c_eAxC) because multiple O-33
DU processors may contribute to a single eAxC and must be identified for correct data routing.  34
The data marked by an eAxC value has certain common characteristics, including hav ing the same values of the 35
parameters filterIndex, frame structure (from frameStructure or conveyed via M-plane) and cyclic prefix type 36

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        34
ORAN-WG4.CUS.0-v01.00
(determined from frameStructure and cpLength or conveyed via M-plane)..  This means that data streams having unique 1
values for those parameters have unique eAxC values.  In practical terms this means that PRACH data, SRS data, and 2
mixed-numerology channels have specific eAxC values not shared with other types of data.  3
One eAxC identifier (eAxC ID) comprises a band and sector identifier (BandSector_ID), a component-carrier identifier 4
(CC_ID) and a spatial stream identifier (RU_Port_ID).  One eAxC identifier can consist of one or several c_eAxC IDs 5
having same BandSector_ID, CC-ID, and RU_Port_ID, but different values of DU_Port_ID, the different values 6
correlating with different O-DU processors.   7
Note: This parameter is specific to eCPRI Message Type = 2 (C-Plane) and Message Type 0 (U-Plane) messages. In 8
this version of the specification, one eAxC contains only one spatial stream (i.e. one beam per subcarrier) at a time.  9
When precoding in the O-RU, then each eAxC contains one layer at a time, except for TxD (LTE TM2) when a single 10
eAxC (single ecpriRtcid and ecpriPcid) represents all TxD layers. 11
Bit allocation is subdivided as follows: 12
o DU_Port_ID: Used to differentiate processing units at O-DU (e.g., different baseband cards).  It is expected the 13
O-DU will assign these bits, and the O-RU will attach the same value to the UL U-Plane messages carrying the 14
same sectionId data. 15
o BandSector_ID: Aggregated cell identifier (distinguishes bands and sectors supported by the O-RU). 16
o CC_ID: distinguishes Carrier Components supported by the O-RU. 17
o RU_Port_ID: designates logical flows such as data layers or spatial streams, and logical flows such as separate 18
numerologies (e.g. PRACH) or signaling channels requiring special antenna assignments such as SRS.   The 19
assignment of RU_Port_ID as part of the eAxC is done by the O-DU via the M-plane. 20
The bitwidth of each of the above fields is variable and set via M-Plane messaging.   This is to allow flexibility given it 21
is expected that not all fields will simultaneously need their maximum range for any given O-RU.  It is expected the M-22
Plane message will configure the O-RU and O-DU with the appropriate bitwidth of each of the four fields, and the NMS 23
that does the actual assignment will assure all 16 bits are allocated (with or without padding).  24
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b = eAxC ID} 25
Bit allocations: 26
0
(msb)
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15
(lsb)
Number of
Octets
DU_Port_ID BandSector_ID CC_ID RU_Port_ID 2
 27
Type: unsigned integer (concatenated bit fields). 28
Field length: 16 bits. 29
 30
3.1.3.1.7 ecpriSeqid (message identifier) 31
Description: This parameter provides unique message identification and ordering on two different levels. The first octet 32
of this parameter is the Sequence ID, which is used to identify ordering of messages within an eAxC message stream.  33
The Sequence ID field increments and wraps independently for each U-Plane eAxC DL, U-Plane eAxC UL, C-Plane 34
eAxC DL, and C-Plane eAxC UL, even if they share the same eAxC ID. The Sequence ID is used to verify that all 35
messages are received and also to reorder messages that are received out of order. The second octet of th is parameter is 36
the Subsequence ID. The Subsequence ID is used to verify ordering and implement reordering when radio -transport-37
level (eCPRI or IEEE-1914.3) fragmentation occurs.  Radio-transport (eCPRI or IEEE-1914.3) fragmentation is a 38
method of splitting U-plane messages containing one or more sections whose length exceeds the maximum packet or 39
message length of the underlying protocol.  The Subsequence ID field consists of a 7 bit Subsequence counter and a 40
single bit field, called E-bit. The Subsequence number increments starting from zero for each fragment of a U-plane 41
message.  The E bit is used to indicate the last message of the radio-transport level fragments.  It is always set to zero 42
except for the last message of the U-plane fragment. In the case of C-plane messages radio-transport fragmentation is 43
not allowed, therefore the Subsequence ID shall be set to zero, and the E bit set to one.   See Section 3.5 for a 44
description of the fragmentation process. 45
NOTE: As an alternative to radio-transport-level fragmentation, application fragmentation can be implemented.  In this 46
case the application can take the responsibility to ensure all transport messages are not too long (fit within the necessary 47

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        35
ORAN-WG4.CUS.0-v01.00
transport payload size).  When this “application layer fragmentation” is used, the subsequence identifier shall always be 1
set to “0”, and the E-bit set to “1” (See Section 3.5). 2
Figure 3-5 shows how the sequence numbers are intended to be generated and checked by C-Plane and U-Plane 3
messaging. 4

tx-array
rx-array
                tx-endpoint
                rx-endpoint
eAxC=, DL
eAxC=, UL
C-Plane message
Rtcid=
dataDirection bit=1
C-Plane message
Rtcid=
dataDirection bit=0
U-Plane message
Pcid=
dataDirection bit=1
U-Plane message
Pcid=
dataDirection bit=0
seq count
generator
seq count
generator
seq count
generator
seq count
generator
seq count
checker
seq count
checker
seq count
checker
O-DU must generate separate
sequence counters for
dataDirection bit =0 and =1
O-RU generates and checks sequence
counters per endpoint but separate for
C-Plane and U-Plane
seq count
checker
seq count
generator
C-Plane message
Rtcid=
dataDirection bit=0
seq count
checker
LAA LBT
 5
Figure 3-5 : Sequence Count Generation and Checking for C-Plane and U-Plane in O-DU and O-RU 6
Implications of Figure 3-5 are as follows: 7
a) Sequence ID is unique per eAxC (ecpriRtcid or ecpriPcid): different eAxC values have their own Sequence ID 8
generation 9
b) Sequence ID is generated by the fronthaul interface transmitter in either the O-DU or O-RU 10
c) The sequence generator and checker for a C-Plane message describing U-Plane DL is independent of the 11
sequence generator and checker for a C-Plane message describing U-Plane UL. 12
 13
Table 3-2 summarizes this situation consistent with Figure 3-5: 14
Table 3-2 : Description of Shared or Independent Sequence Generators 15
direction of
message flow
type of
flow
U-Plane data direction Same/different eAxC
between DL & UL
shared/independent
sequence generator
O-DU → O-RU C-plane DL (dataDirection bit =1) same or different independent
O-DU → O-RU C-plane UL (dataDirection bit =0) same or different independent
O-RU → O-DU C-plane UL (dataDirection bit =0) same or different independent
O-DU → O-RU U-plane DL (dataDirection bit =1) same or different independent
O-RU → O-DU U-plane UL (dataDirection bit =0) same or different independent
 16
 17
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b} 18
Bit allocations: 19
msb       lsb
0 1 2 3 4 5 6 7 Number of
Octets

Sequence ID 1 Octet 1
E bit Subsequence ID 1 Octet 2

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        36
ORAN-WG4.CUS.0-v01.00
Type: unsigned integer (concatenated bit fields) 1
Field length: Sequence ID: 8 bits; subsequence ID: 7 bits; E-bit: 1 bit. 2
 3
3.1.3.2 1914.3 Transport Header 4
As an alternative to eCPRI as a transport header, IEEE 1914.3 may be used.  The definition of the 1914.3 transport header 5
is shown in Table 3-3 below. 6
Table 3-3 : 1914.3 Transport Header Field Definitions 7
Section Type : any
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

RoEsubType 1 Octet 1
RoEflowId 1 Octet 2
RoElength 2 Octet 3
RoEorderInfo 4 Octet 5
 8
Each field within the 1914.3 Transport Header is further described in the following sub -sections. 9
 10
3.1.3.2.1 RoEsubType (sub type / message type) 11
Description: This field indicates the payload type within the IEEE 1914.3 Standard for Radio over Ethernet 12
Encapsulations and Mappings (RoE) subType range. RoE allows RoE subTypes in the range 128 to 191 to be mapped 13
to external organizations and companies using a subtype mapping table (below). This table has two fields. The 14
OUI/CID field uses a unique Company ID (CID) value. For O-this version of this specification, the OUI/CID assigned 15
by IEEE to xRAN (0xFAEB6E) shall be used.  The payload structure mapping field assigns the RoE subtype to O-RAN 16
message types. When the payload structure mapping field is set to 0xFFFF, this indicates that that RoE subtype is not 17
mapped to an O-RAN message type.  18
A given O-RAN implementation may choose to have fixed (default) mappings, or alternatively, it may choose to 19
configure the subType mapping table using control packets as described in IEEE 1914.3.  20
NOTE: The table below indicates the use by O-RAN of the IEEE-defined xRAN subtype mapping; future discussions 21
with IEEE are needed to convert these to O-RAN subtype mapping. 22
 23
Table 3-4 : RoE Subtype Mapping 24
RoE
subType
OUI/CID subType mapping table (.mapSubtype)
OUI/CID Mapping (3 bytes)
bit39  <-----------------------------------
Payload structure mapping (2 bytes)
  --------------------------------------------------> bit 0
128 xRAN=0xFAEB6E 0x0001, IQ (No concatenation)
129 xRAN=0xFAEB6E 0x0002, IQ (With concatenation)
130 xRAN=0xFAEB6E 0x0003, Ctrl (No concatenation)
131 xRAN=0xFAEB6E 0x0004, Ctrl (With concatenation)
132 to 191 xRAN=0xXXXXXX (don’t care) 0xFFFF (IEEE1914.3 default), unused/unmapped
by xRAN in this version of the O-RAN
specification.
 25
Value range: 128 to 191. Default values are shown below. 26
Type: unsigned integer. 27
Field length: 8 bits. 28

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        37
ORAN-WG4.CUS.0-v01.00
Valid Values: 128 (U-Plane, no concat), 129 (U-Plane, with concat), 130 (C-Plane, no concat), 131 (C0-Plane, with 1
concat). 2
 3
3.1.3.2.2 RoEflowID (flow identifier) 4
Description: The RoEflowID is a mechanism which can identify specific flows between end-points. RoEflowID, 0xFF 5
is reserved for RoE control packets. O-RAN has no current use for this field. 6
Value range: 0 – 0xFE. 7
Type: unsigned integer. 8
Field length: 8 bits. 9
Description: This field is currently unused. 10
 11
3.1.3.2.3 RoElength (length) 12
Description: This field is the size in bytes of the payload part of the message. The payload length field value is the total 13
number of octets following the O-RAN common header. It does not include the Ethernet FCS or following bytes. 14
Value range: 0 – 0xFFFF. 15
Type: unsigned integer. 16
Field length: 16 bits. 17
 18
3.1.3.2.4 RoEorderInfo (order information) 19
Description: This field is split into seven sub-fields. 20
Table 3-5 : RoE RoEorderInfo MappingField 21
Field Length Note
DU_Port_ID
16 bits
Used to differentiate processing units at O-DU (e.g., different
baseband cards). It is expected the O-DU will assign these bits, and
the O-RU will attach the same value to the UL U-Plane messages
carrying the same sectionId data. See sub-clause 3.1.3.1.6 for further
information.
BandSector_ID Aggregated cell identifier (distinguishes bands and sectors supported
by the O-RU). See sub-clause 3.1.3.1.6 for further information.
CC_ID Distinguishes Carrier Components supported by the O-RU. See sub-
clause 3.1.3.1.6 for further information.
RU_Port_ID Used to differentiate spatial streams or beams on the O-RU. See sub-
clause 3.1.3.1.6 for further information.
Sequence_ID 8 bits Unique message ordering sequence. See sub-clause 3.1.3.1.7 for
further information.
E_Bit 1 bit Marks the last message pertaining to the section. See sub-clause
3.1.3.1.7 for further information.
Subsequence_ID 7 bits Unique message ordering sub-sequence. See sub-clause 3.1.3.1.7 for
further information.
 22
Value range: 0 to 0xFFFF FFFF. 23
Type: unsigned integer (concatenated bit fields). 24
Field length: 32 bits. 25
 26

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        38
ORAN-WG4.CUS.0-v01.00
3.2 Protocol Architecture 1
3.2.1 C-plane 2
Figure 3-6 depicts the protocol stack for C-Plane. Data can be optionally transmitted over IP Layer 3 if supported by 3
the transmitting and receiving nodes. 4
 5
 6
 7
 8
 9
Figure 3-6 : C-plane protocol structure 10
 11
3.2.2 U-plane 12
Figure 3-7 depicts the protocol stack for U-Plane. Data can be optionally transmitted over IP Layer 3 if supported by 13
the transmitting and receiving nodes. 14
  15
 16
 17
 18
 19
 20
Figure 3-7 : U-plane protocol structure 21
 22
3.2.3 S-plane 23
Frequency and time synchronization of O-DUs and O-RUs via Ethernet use Synchronous Ethernet and IEEE 1588-2008 24
Precision Time Protocol (PTP). Transport of PTP directly over L2 Ethernet (ITU-T G.8275.1 full timing on-path 25
support) is assumed in this version of the specification, whilst transport of PTP over UDP/IP (ITU-T G.8275.2 partial 26
timing support from the network) is also possible albeit with unassured synchronization performance. Security 27
mechanisms will not be used for this plane. The protocol stack for PTP and SyncE over L2 Ethernet is depicted in 28
Figure 3-8. 29
    30
Figure 3-8 : S-plane protocol structure 31
 32
3.3 Quality of Service 33
The LLS interface needs to support the ability to distinguish between data flows with different QoS requirements.   34
Configurable priority levels (via the M-Plane) for traffic prioritization of flows that shall be supported on each node on 35
the network path.  Default values for the respective O-RAN planes are indicated on Table 3-6. Priority marking per 36
packet is needed in each protocol layer. For operation at Layer 2, prioritization is performed by specifying a 37
configurable value for the Priority Code Point (PCP) tag in the IEEE 802.1q VLAN header on the outgoing traffic. 38
Eth L1
Eth L2
PTP SyncE
Eth L1
Eth L2 + VLAN
IP (optional)
UDP (optional)
eCPRI / RoE
Eth L1
Eth L2 + VLAN
IP (optional)
UDP (optional)
eCPRI / RoE

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        39
ORAN-WG4.CUS.0-v01.00
Table 3-6 : Quality of service classes 1
Plane L2 CoS Priority (range 0-7) L3 DSCP Code Preemption(2)
S-Plane Default: 7 (1) Not applicable non-preemptable
U-Plane Default: 7 EF (Expedited Forwarding) non-preemptable
C-Plane Default: 7 EF (Expedited Forwarding) non-preemptable
M-Plane Default: 2 AF2x (Assured Forwarding) preemptable
Other traffic Default: 1 BE (Best Effort) preemptable
(1) Applicable if vLAN is applied which will be possible in the future.
(2) Not all networks will support preemption so this only applies to networks supporting preemption
  2
For U-Plane separate priorities can be supported based on ecpriRtcid / ecpriPcid (or the equivalent fields in RoE packet 3
headers).  This allows for different prioritization of some channels (e.g. PRACH/ SRS), or services (URLLC).  This 4
requires the ability to configure priority assignments to ecpriRtcid / ecpriPcid via M-Plane messages.   The default U-5
Plane priority can be applied to flows not specifically configured with a different value via the M -Plane.  If a node does 6
not support configurable ecpriRtcid / ecpriPcid priorities, then all U-Plane traffic will use the default value. 7
QoS failure (dropped packets) may be detected using the sequence numbers that make up part of the transport header.  8
Loss of a packet in the U-Plane will generally impact only a specific symbol except in rare cases where a m ulti-symbol 9
U-Plane message is sent (using the “symInc” field).  Loss of a C-Plane packet is more serious, with the possibility of 10
impacting an entire slot’s worth of data.  A broader impact is also possible with C-Plane packet loss: if downloaded 11
beamforming weights, beamforming attributes, or channel information is lost then a beamId may be incorrectly 12
associated with an “old” set of beamforming weights thereby possibly impacting multiple slots.  However, packet loss 13
can be detected via the sequence number so a recovery action may be taken to re-send messages that may have a 14
persistent impact. 15
3.4 Data Flow Identification 16
Differentiation between U/C-Plane and Management Plane traffic can be achieved using the following options:  17
• Data flow separation based on TCP/UDP (applicable when layer 3 transport is used for the C/U-plane) 18
• Data flow separation based on VLAN (applicable when layer 2 or layer 3 is used for the C/U -plane transport) 19
o Note: The mechanism for assigning VLAN ID to U-Plane and C-Plane is assumed to be via the M-Plane 20
• Data flow separation based on usage of different MAC addresses (applicable when Layer 2 is used for C/U plane 21
transport) 22
o e.g., separate MAC address used for M-Plane and U-Plane, or for baseband load sharing purposes 23
• Data flow separation based on different EtherTypes (applicable when Layer 2 is used for C/U plane transport)  24
The U-plane application also needs to uniquely associate different data flows (e.g. spatial streams) each with a unique 25
U/C plane endpoint address. This can be achieved un an O-RU using the eAxC identifier, and in the O-DU using the 26
eAxC identifier in combination with transport-based endpoint identifiers to differentiate O-RUs. Different transport 27
identifiers (e.g. UDP/IP, VLAN, MAC) can be used based on whether layer 2 or layer 3 transport is used for the U/C 28
plane: 29
• U/C-plane data flow separation using UDP-port identifiers (applicable when layer 3 transport is used for the C/U -30
plane) 31
• U/C-plane data flow separation using on VLAN identities (applicable when layer 2 or l ayer 3 is used for the C/U-32
plane transport) 33
• U/C-plane data flow separation based on usage of different MAC addresses (applicable when Layer 2 is used for 34
C/U plane transport) 35
 36

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        40
ORAN-WG4.CUS.0-v01.00
3.5 Fragmentation 1
Fragmentation is applied in case data (U-Plane or C-Plane data) with Ethernet transport overheads to be transferred 2
exceed maximum transmission unit (MTU) of the network. This specification allows two methods for fragmentation, 3
application layer fragmentation and transport layer fragmentation: 4
3.5.1 Application layer fragmentation 5
• Application creates C-plane or U-Plane messages, which when including overheads can fit to MTU 6
requirements set by network 7
• Sequence ID: Sequence ID increases for every message, E=1, Subsequence ID=0  8
An example of application fragmentation is provided in Figure 3-9, wherein a long data section is split between 9
multiple U-Plane messages.  In the example it is a single data section (0xABC) so described as such in the C -Plane, and 10
in the U-Plane the sectionId is cited multiple times in the multiple U-Plane messages but with differing and consecutive 11
groups of PRBs as indicated by the startPrbu and numPrbu fields.  The I and Q word width in the example is 14 bits, 12
which for such a large data section requires multiple U-Plane messages.  The ecpriRtcid / ecpriPcid (0xDEF3) is shown 13
with a random example value, as is the sequence ID in the C-Plane (0x99) and independently in the U-Plane (0x40-14
0x48). 15
 16
 17
Figure 3-9 : Example of Application-Level Fragmentation of U-Plane Messages 18
 19
3.5.2 Radio Transport layer (eCPRI or IEEE-1914.3) fragmentation 20
o Application creates U-Plane messages, which when including overhead may exceed MTU 21
requirements set by network 22
o Radio transport layer splits message which may contain more than one section into pieces such that 23
the fragments with overheads fit to MTU requirements set by network. 24
o Sequence ID: Sequence ID remains same for all the fragments. Subsequence ID starts from 0 for the 25
first fragment and counts up for each fragment. Last fragment flagged with E=1, others E=0.  26
 27
 28
 29
 30
 31

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        41
ORAN-WG4.CUS.0-v01.00
Table 3-7 : Example of Sequence Numbers Usage 1
Application Layer Fragmentation  eCPRI Layer Fragmentation
eAxC SeqId E Sub-SeqId  eAxC SeqId E Sub-SeqId
 0 1 0   0 0 0
 1 1 0   0 1 1
 2 1 0   1 0 0
 3 1 0   1 0 1
 4 1 0   1 0 2
 5 1 0   1 1 3
 6 1 0   2 0 0
 7 1 0   2 0 1
 8 1 0   2 1 2
 9 1 0   3 1 0
 2
3.5.3 Fragmentation Guideline 3
Application layer fragmentation should be applied so that maximum size standard IEEE 802.3 Ethernet frames can be 4
used. (Jumbo frames, if used, increase the maximum MTU size). 5
• In case of L2 only solution, application layer maximum transmission unit size is standard IEEE 802.3 Ethernet 6
frame payload size (1500 bytes) – transport overhead (8 bytes) = 1492 bytes (or larger for Jumbo frames) 7
When a U-plane section payload is fragmented due to large number of PRBs, it will be divided into multiple groups of 8
PRBs such that each group (including the application headers) can fit to the MTU requirements. Each group of PRBs 9
shall have its respective control fields including the same section ID from the C-plane and startPrbu and numPrbu to 10
identify its contents (See Figure 3-9).  When an application layer message exceeds the MTU size set via the M-Plane 11
configuration, radio-transport layer fragmentation can be applied at the transport layer and has the advantage of 12
allowing application layer messages to fit whatever is the MTU size without the application having t o know about 13
transport-level details.  14
Chapter 4 Security 15
Security requirements are depicted in Table 4-1. 16
Table 4-1 : Security requirements for User-Plane, Control-Plane, and Synchronization-Plane 17
Plane Integrity (protection
from modifications)
Confidentiality
(encryption
protection)
Availability
(protection from
packet insertion)
Remarks
U-Plane No requirement No requirement No requirement User data protected end to end
via PDCP protocol
C-Plane No requirement No requirement No requirement
S-Plane No requirement No requirement No requirement Optional in IEEE 1588 (PTP).
However, not feasible at a
reasonable cost.
 18

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        42
ORAN-WG4.CUS.0-v01.00
Chapter 5 C-plane Protocol 1
5.1 General 2
5.2 Function 3
5.2.1 C-Plane Transport 4
Either eCPRI or IEEE 1914.3 is used as an encapsulation mechanism for the control-plane messages. Due to the nature 5
of these messages (very strict delay constraints), it is assumed that message acknowledgements are not possible . 6
Likewise, it is assumed that a different data flow is used other than the U-Plane channel. Further, C-Plane messages are 7
not concatenated with U-Plane messages within same Ethernet frame. 8
5.3 Elementary Procedures 9
5.3.1 Scheduling and Beamforming Commands Transfer procedure 10
This procedure is used to exchange C-Plane messages between O-DU and O-RU. The main purpose of these messages 11
is to transmit data-associated control information required for processing of user data (e.g., scheduling  and 12
beamforming commands). Messages are sent separately for DL related commands and UL related commands (see 13
Figure 5-1).  See also Figure 5-7. 14
 for the special case of LTE LAA wherein there are UL as well as DL C-Plane message flows.  For purpose of increased 15
flexibility, C-Plane messages may be sent either jointly or separately depending on the channel for which information is 16
conveyed. For example, PUCCH and PUSCH may be bundled or not bundled into a single C -Plane message depending 17
on implementation.  18
O-DU
(@ FH interface)
O-DU
(@ FH interface)
tadv_cp_dl
C-Plane and DL U-Plane C-Plane and UL U-PlaneO-RU
(@ antenna)
O-RU
(@ FH interface)
t2a_min_cp_ul
ta3_min
min. time the RU
has to prepare to
process DL data
from the lls-CU
air interface signals for slot #n, initial symbol arrives at the antenna
ta3_min
air interface signals for slot #n+1, initial symbol arrives at the antenna
min. time the RU
has to prepare to
process UL signals
at the antenna
network delay network delay
tadv_cp_dl
network delay
t2a_min_cp_ul
network delay
time flow
*for a multi-symbol C-Plane message, the message must be received
by the RU “tadv_cp_dl” before the receipt by the RU of the U -Plane’s
lowest-numbered symbol in the C -Plane message
**for a multi-symbol C-Plane message, the message must be received by
the RU “t2a_min_cp_ul” before the receipt by the RU’s antenna of the
lowest-numbered symbol in the C -Plane message
 19
- 20
Figure 5-1 : Scheduling and beamforming commands transfer procedure 21
 22

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        43
ORAN-WG4.CUS.0-v01.00
5.3.2 Mixed Numerology and PRACH Handling 1
5G NR defines Physical Resource Block (PRB) where the number of subcarriers per PRB is the same for all 2
numerologies (twelve). However, subcarrier spacing may differ, resulting in mixed numerology used in time and 3
frequency domains respectively. Likewise, mixed numerologies may be applied to both DL and UL respectively 4
(Figure 5-2). 5
 6
Figure 5-2 : Mixed Numerology in Time and Frequency Domain 7
Frequency indexing across multiple numerologies  8
• RB indexing (i.e. the physical resource block) is always dependent on the used numerology. For PRACH and 9
SSB the relation is with the physical channel. In case of PRACH, indexing of RBs inside of each PRACH 10
frequency block follows 3GPP specifications and PRACH subcarrier extraction is performed in the CU. In 11
particular, the first RE of the first RB addressed inside section Id shall corresponds with the first guard tone 12
used at the lower edge of the PRACH block frequency block and based on the PRACH SCS. The  O-RU, using 13
the filter index knows the PRACH subcarrier position and guard tones and can then adjust its filtering 14
parameters (e.g. filter center, passband). For the SSB case, its own separate frequency offset is assigned.  15
• For each numerology (and PRACH/SSB), the freqOffset IE defines the relative spacing between the center of 16
RE#0 of RB#0 to the component carrier center (i.e. equivalently DC=0Hz when normalized with regard to the 17
component carrier center), and using resolution of half the SCS of the respective numerology. This concept is 18
depicted in Figure 5-3, Figure 5-4 and Figure 5-5. 19
o The component carrier center (RF frequency in Hz) is the common reference to all numerologies and 20
PRACH/SSB channels. Further, the relation between DC=0Hz of the carrier and ARFCN (RF 21
frequency in Hz of the carrier center) is to be defined at carrier setup over M -Plane. 22
o Spacing resolution of 0.5 x SCS allows DC to be aligned with an RE center, or and RE edge.  23
 24
 25
 26
Figure 5-3 : RB Mapping– PRACH Example 27
 28

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        44
ORAN-WG4.CUS.0-v01.00
 1
Figure 5-4 : RB Mapping and Support of Mixed Numerologies - Example with Mixed Numerologies 2
 3
 4
Figure 5-5 : RB Mapping and Support of Mixed Numerologies - Example SSB 5
 6
Slot indexing with mixed numerologies 7
For a given frequency range FR1 or FR2, the highest possible numerology supported by the O-RU shall be used as the 8
common reference per component carrier for the start of the slot identified by slotId.  If the highest numerology 9
supported by the O-RU allows both normal and extended CP then normal CP shall be used as reference. Note that the 10
O-RU shall advance slots with extended CP against the reference.  The symbol duration and position in time is 11
calculated from the µ value (SCS from frameStruture in message field or configured via M -plane) and the slotId field in 12
the CU-Plane message.   The value of the sectionId field in CU-Plane messages addressed per eAxC shall be unique per 13
slot identified by slotId value. 14
For example, in FR1 case, the maximum slot numbers per subframe is four, since the maximum SCS is 60k Hz 15
• µ= 0 → slot #0; µ=1 → slot #0 & #2; µ=2 → slot #0, #1, #2, #3 (see Table 5-1) 16
 17

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        45
ORAN-WG4.CUS.0-v01.00
Table 5-1 : cpLength Use 1
µ=2
60 kHz
slotId symbolId
µ=1
30 kHz
slotId symbolId
µ=0
15 kHz
slotId symbolId
0 0
1
2
...
11
12
13
1 0
1
2
...
11
12
13
2 0
1
2
...
11
12
13
3 0
1
2
...
11
12
13
0 0
1
2
...
11
12
13
0
0
1
2
...
11
12
13
2 0
1
2
...
11
12
13
0
0
1
...
12
13
1
0
1
...
12
13
µ=3
120 kHz
slotId symbolId
2
0
1
...
12
13
3
0
1
...
12
13
4
0
1
...
12
13
5
0
1
...
12
13
6
0
1
...
12
13
7
0
1
...
12
13
µ=2
60 kHz
slotId symbolId
µ=1
30 kHz
slotId symbolId
0 0
1
2
...
11
12
13
2 0
1
2
...
11
12
13
4 0
1
2
...
11
12
13
6 0
1
2
...
11
12
13
0 0
1
2
...
11
12
13
4 0
1
2
...
11
12
13
0 0
1
2
...
11
12
13
0 0
1
2
...
0
0
1
0
0
1
...
12
13
1
0
1
...
12
13
0 0
1
2
...
11
12
13
0 0
1
2
...
... ...
 2
 3
 4
PRACH formats with multiple repetitions of preamble 5
Certain PRACH formats lead to PRACH symbols to be constructed from multiple repet itions of a preamble sequence, 6
with only the Cyclic Prefix (CP) used with the first sequence. Therefore, the O-RU must be informed how to correctly 7
execute CP extraction and FFT.  Based on implementation, this may e.g. be achieved by sending each repetition inside a 8
PRACH occasion as a separate symbol (in a separate message and separate Section ID) , or by sending a single control 9
message spanning over multiple symbols (e.g. example depicted in Figure 5-6: number of symbols = 4, CP length = 0, 10
time offset duration is adjusted by an equivalent time value of 1152 samples to compensate for setting CP length =0 ), 11
which reduces the number of C-Plane messages and data sections required.  12
The example in Figure 5-6 depicts the scenario with format A2 and 30kHz SCS, in which only CP extraction occurs 13
once, yet there are four associated FFT operations. 14

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        46
ORAN-WG4.CUS.0-v01.00
 1
Figure 5-6 : Example of PRACH Format A2 2
5.3.3 DL Precoding configuration parameters and indications 3
This sub-section addresses the method of specifying the precoding operation in the O-RU, which is expected when 4
Category B O-RUs are supported.  For Category A O-RUs the precoding is implemented in the O-DU so the 5
descriptions in this sub-section are not relevant.  Annex I contains more information and examples regarding this 6
precoding. 7
O-DU  8
12 REs are always sent on the interface from the O-DU to O-RU. 9
For ‘single Tx’:  10
• For layer mapping at O-RU, complex-valued modulation symbols mapped in a sequence starting with  11
)1(),...,0( (q)
symb
)()( −Mdd qq
 to frequency REs (k,l) and are packed into a PRB. A single eAxC is used for this 12
purpose. 13
• For CRS mapping at O-RU, all CRS REs belong to a single Tx antenna and are mapped to frequency REs (k,l) 14
for one layer and are packed into a PRB for transmission and are unpacked at O-RU (see Annex I for details).  15
For TxD:  16
• For layer mapping at O-RU, complex-valued modulation symbols mapped in a sequence starting with  17
)1(),...,0( (q)
symb
)()( −Mdd qq
 to frequency REs (k,l) and are packed into a PRB. A single eAxC is used for this 18
purpose. 19
• For CRS mapping at O-RU, all CRS RE’s are mapped to frequency REs (k,l) for all layers and are packed into 20
a PRB for transmission and are unpacked at O-RU (see Annex I for details).  21
For TM3/TM4, TM5/6 22
• At the O-DU, layer mapped symbols for each layer v, mapped in sequence starting with23
 
T
ixixix )(...)()( )1()0( −= 
 to frequency REs (k,l) are packed into each PRB (see Annex I).  24
• For precoding at the O-RU, different eAxCs are used for each layer (See Annex I). 25
• For CRS mapping at the O-RU, all CRS RE’s for each layer are packed into a PRB for transmission and are 26
unpacked at the O-RU (see Annex I for details).  27
• All C-plane message parameters are kept the same for precoding purposes.  28
For TM7-10 and NR 29
• Precoding in the O-RU may be implemented in various ways that are vendor-defined and vendor-specific, 30
because there is no 3GPP-mandated precoding operation for these cases. 31
O-RU  32
From the C-plane precoding section extension, the O-RU determine the transmission scheme using txScheme 33
field. 34
For ‘single Tx’:  35
• At the O-RU, input modulated symbols
)1(),...,0( (q)
symb
)()( −Mdd qq are to be unpacked and used to perform 36
layer mapping, precoding and antenna port mapping for single tx. 37

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        47
ORAN-WG4.CUS.0-v01.00
• For transmission on a single antenna port, a single layer is used,
1= , and the mapping is defined as1
)()( )0()0( idix =
 with
(0)
symb
layer
symb MM = . 2
• For single tx transmission on a single antenna port, precoding is defined by
)()( )0()( ixiy p =  where 3
 0,4,5,7,8,11,13,107,108,109,110p
 is the number of the single antenna port used for transmission of the 4
physical channel and
1,...,1,0 ap
symb −= Mi ,
layer
symb
ap
symb MM = . 5
• For antenna port mapping p={0}, each y(i)=[y(p) (i) ]T RE goes to antenna port y_p(i) after antenna port 6
mapping. 7
• Since the PRB contains CRS sequences for one antenna port, the RE should extract the CRS RE’s using 8
crsSymbolNumber, crsReMask and crsShift (see Annex I for details) and are mapped to the appropriate RE 9
position.  10
For txScheme ‘TxD’:  11
• At the O-RU, input modulated symbols
)1(),...,0( (q)
symb
)()( −Mdd qq are to be unpacked and used to perform 12
layer mapping, precoding and antenna port mapping. 13
• The appropriate precoder is selected based on number of layers and antenna ports.  14
• For antenna port mapping p={0..N}, each y(i)=[y(p) (i) ]T RE goes to each antenna port y_p(i) after antenna 15
port mapping. 16
• Since the PRB contains CRS sequences for N antenna ports, the RE should extract the CRS RE’s using 17
crsSymbolNumber, crsReMask and crsShift (see Annex I for details) which are mapped to the appropriate RE 18
position and rest of the REs are populated with zero data.  19
For TM3/TM4, TM5/6 20
• Input layer mapped symbols
 
T
ixixix )(...)()( )1()0( −=  shall be used to perform precoding at the O-RU 21
based on codeBookIndex, numLayers, layerID. 22
• In closed loop mode, the appropriate precoder is selected per codebook index, number of layers and antenna 23
ports.  24
• In open loop mode, the codebook index field is ignored. 25
• The O-RU changes the precoder per RE automatically based on the number of antenna ports and number of 26
layers. 27
• After precoding, for antenna port mapping p={0..N}, each y(i)=[y (p) (i) ]T RE goes to each antenna port y_p(i) 28
after antenna port mapping. 29
• Since all PRBs contain CRS sequences for N antenna ports, then based on the layerID (layer 0) extract CRS 30
sequence using crsSymbolNumber, crsReMask and crsShift (see Annex I) for CRS mapping to each of the 31
antenna ports using the reMask bit field; the CRS REs from other layers can be ignored.  32
For TM7-10 and NR 33
• One way to implement precoding in the O-RU is via the beamID values, wherein a beamID points to a 34
beamforming vector that also implements the precoding operation. 35
5.3.4 LAA Commands Transfer procedure 36
This procedure is used to exchange C-Plane messages between O-DU and O-RU. The main purpose of these messages 37
is to support LAA feature in the O-RU/O-DU.  See Annex G for more details on the LAA message flow. 38
5.3.4.1 LBT procedure overview  39
The LBT procedure is used to configure the O-RU with the parameters needed to do LBT prior to PDSCH or DRS 40
transmission OTA. The O-RU needs to report the LBT process outcome (either success or failure) in the indication 41
message.  42

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        48
ORAN-WG4.CUS.0-v01.00
In contrast to licensed spectrum, where the O-RU may continuously send data or reference signals OTA, in unlicensed 1
spectrum, the O-RU can only send discontinuous bursts of data (of length MCOT) or periodic DRS signals. The 2
LBT_DL_CONFIG request message is sent once prior to each OTA transmission on the LAA SCell. This includes both 3
DRS and PDSCH (i.e., MCOT burst) transmissions. For every LBT_DL_CONFIG  request message, the O-RU replies 4
with the LBT_DL indication messages which include the LBT outcome and the status of the subframe 5
(transmitted/dropped) (see Figure 5-7). 6
If O-RU can manage a congestion window by itself, the O-DU does not need to send LBT_DL_CONFIG request 7
message to start the LBT procedure at O-RU. Because O-RU can determine the start timing of LBT procedure, the 8
requirements of O-DU for the LBT procedure at the O-RU is a delivery of needed information to adjust a congestion 9
window managed by O-RU. To transmit these information, O-DU sends LBT_CWCONFIG_REQ message, and O-RU 10
notifies to the O-DU by LBT_CWCONFIG_RSP message to indicate that the LBT_CWCONFIG_REQ message is 11
successfully received or not. Also, O-RU can adjust its congestion window based on the information on the 12
LBT_CWCONFIG_REQ message.  For every LBT_CWCONFIG_REQ request message, the O-RU replies with the 13
LBT_DL indication message(s) which include the LBT outcome and the status of the subframe (transmitted/dropped).  14
For the DRS signal, initially, the O-DU must configure the O-RU with the DRS parameters (DMTC period and DMTC 15
offset) via the M-plane. 16
Before every DRS period, the O-DU must send the LBT_DL_CONFIG request message and the DRS signal. O-RU 17
does LBT and transmits the DRS signal OTA in case of LBT success. The O-RU then must send the LBT_DL 18
indication. 19
The DRS signal can be transmitted over the fronthaul interface similar to other reference signals such as the 20
PSS/SSS/CRS.  21

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        49
ORAN-WG4.CUS.0-v01.00
 1
 2
 3
Figure 5-7 : LBT Message Flow 4
5.3.4.2 Definitions 5
• 𝐷𝑂𝑊: Maximum one-way fronthaul latency 6
• 𝑃𝐷𝑈: Maximum O-DU processing time (reading an upstream O-RU c-plane message, MAC processing, 7
sending the downstream U-plane data) 8
• 𝑃𝑅𝑈: Maximum O-RU processing time (sending an upstream c-plane message, receiving downstream U-plane 9
data, transmitting U-plane data OTA)  10
• 𝐵𝑅𝑈: O-RU Buffer depth (for LAA) ceiled to an integer number of OFDM symbols in microseconds (up to 140 11
symbols, for example (i.e., MCOT)). This is equivalent to the minimum amount of data that must be buffered 12
at the O-RU. This parameter could be less than or equal to the actual O-RU buffer size communicated via the 13
M-Plane.  14
• Expired symbol: Symbol where the current time at the O-RU exceeds its target transmission time (i.e., 15
SFN/SF) OTA.  16
• Normal (partially-filled) SF assumption: 𝑇𝑠𝑡𝑎𝑟𝑡 is the start of the transmission time, which occurs at the first SF 17
(slot) boundary the O-RU encounters after starting the LBT CAT 4 process and after finishing the minimum 18
sensing duration. Initially known to the O-DU (since it sends the LBT start time and the LBT parameters to the 19
O-RU). It can be updated in real-time based on the LBT outcome and the communication between the O-DU 20
and O-RU.  Note that here, a “slot” follows the LTE definition of containing seven symbols.  21
O-DU O-RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        50
ORAN-WG4.CUS.0-v01.00
• LBT_DL indication Threshold (𝐿𝐵𝑇𝑡ℎ): The latest time the O-DU is expected to receive the LBT_DL 1
indication message from the O-RU.  2
𝐿𝐵𝑇𝑡ℎ =𝑇𝑠𝑡𝑎𝑟𝑡 +(𝑃𝑅𝑈 +𝐷𝑂𝑊 +𝑃𝐷𝑈) 3
• CU Transmission time threshold (CU𝑇𝑡ℎ): The time at which the O-DU is required to send the data to the O-4
RU to be transmitted OTA at time 𝑇𝑠𝑡𝑎𝑟𝑡 5
𝐶𝑈𝑇𝑡ℎ =𝑇𝑠𝑡𝑎𝑟𝑡 −(𝑃𝑅𝑈 +𝐷𝑂𝑊 +𝑃𝐷𝑈) 6
• 𝑥: Minimum time between any two potential start transmission times 7
𝑥={1 𝑚𝑠,                      𝑁𝑜𝑟𝑚𝑎𝑙 𝑆𝐹
0.5 𝑚𝑠,  𝑃𝑎𝑟𝑡𝑖𝑎𝑙𝑙𝑦−𝑓𝑖𝑙𝑙𝑒𝑑 𝑆𝐹 8
 9
5.3.4.3 General Guidelines for the LAA-procedure 10
5.3.4.3.1 PDSCH Transmission 11
• O-DU should avoid buffer overflow or underflow at the O-RU: 12
• O-DU should only send 𝐵𝑅𝑈 worth of data to the O-RU for every single transmission 13
• O-DU should plan for the data to be received at the O-RU only 𝑃𝑅𝑈 before the actual OTA 14
transmission time at the O-RU 15
• O-RU should avoid buffer overflow or underflow at the O-RU: 16
• O-RU should flush its buffer (by dropping any expired symbols) as soon as any symbol becomes 17
expired (i.e., current time is larger than the symbol’s scheduled time) 18
• O-RU should immediately send a success LBT indication to the O-DU once the channel is acquired.  19
• The O-RU should send an error message to the O-DU if data received is larger than its local buffer  20
• The O-RU should send an subframe drop or transmission message to the O-DU when buffered 21
subframe is dropped because scheduled time is passed, or is transmitted after LBT success.  22
• The O-RU should have a buffer that satisfies the following equation: 𝐵𝑅𝑈 ≥2×𝐷𝑂𝑊 +𝑃𝐷𝑈 +𝑃𝑅𝑈 23
• Note on LBT CAT 4 in general: 24
• The O-DU can configure the O-RU (via the M-plane) with the threshold on the LBT CAT 4 duration 25
(e.g., 8 ms). Once this threshold has exceeded, the O-RU sends a failure LBT indication to the O-DU, 26

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        51
ORAN-WG4.CUS.0-v01.00
which in return sends back a new LBT config request. The O-RU can then restart the LBT CAT 4 1
process.  2
• The data signal may be received at the O-RU before or after the LBT_PDSCH_REQ 3
• The O-RU should generate the reservation signal locally whenever needed 4
 5
5.3.4.3.2 DRS Transmission 6
• Recall: 7
1. PSS/SSS being part of a DRS may occur outside subframe 0 and 5 8
2. CRS/CSI-RS/PSS/SSS do not vary with subframe number but are kept unchanged across subframes 9
0–4 (call it DRS_v1) and 5–9 (DRS_v2). 10
• Assumption: DRS OTA transmission starts at the SF boundaries. 11
• The DRS signal may be received before or after the LBT_DRS_REQ 12
• LBT_DRS_REQ is sent once per DRS window (e.g., DMTC offset = 6 ms is conveyed to the O-RU via the M-13
plane). 14
• DRS signal is sent every SF in the 6 SFs of the DRS window until LBT succeeds .  15
• 𝐷𝑅𝑆𝑡ℎ,1 =𝑆𝐹0−(𝑃𝑅𝑈 +𝐷𝑂𝑊 +𝑃𝐷𝑈) 16
• 𝐷𝑅𝑆𝑡ℎ,2 =𝑆𝐹5−(𝑃𝑅𝑈 +𝐷𝑂𝑊 +𝑃𝐷𝑈) 17
• 𝑆𝐹0: The start of SF0, SF1, SF2, SF3, or SF4 18
• 𝑆𝐹5: The start of SF5, SF6, SF7, SF8, or SF9 19
• At 𝐷𝑅𝑆𝑡ℎ,1, O-DU sends DRS_v1 (i.e., to be transmitted within SFs 0-4) 20
• At 𝐷𝑅𝑆𝑡ℎ,2, O-DU sends DRS_v2 (i.e., to be transmitted within SFs 5-9) 21
• Notes:  22
1. LBT indication with failure outcome must be sent for every sensing period.  23
5.3.4.3.3 Congestion Window Information Transmission 24
• O-DU should send information regarding a congestion window adjustment to O-RU 25
• HARQ feedback information for the reference subframe and number of TB are included  26
• O-RU should adjust its managed congestion window value and notify to O-DU the packet reception status 27
• O-RU should adjust its congestion window value based on received information  28
• O-RU should immediately send a success LBT_CWCONFIG_RSP to the O-DU when the message is 29
successfully received. If not, O-RU should send a fail LBT_CWCONFIG_RSP. 30
 31
5.3.5 Symbol Numbering and Duration 32
For the NR case, data symbol numbering in a slot shall be from zero to thirteen (for extended CP, eleven).  For LTE the 33
symbol numbering shall be mapped to the NR numbering as follows: 34
LTE with normal prefix maps to NR with same μ and normal prefix: 35
 LTE symbol 𝑙𝐿𝑇𝐸 of slot 2𝑖 is mapped to NR slot 𝑖, symbol 𝑙′=𝑙𝐿𝑇𝐸 36
 LTE symbol 𝑙𝐿𝑇𝐸 of slot 2𝑖+1 is mapped to NR slot 𝑖, symbol 𝑙′ =7+𝑙𝐿𝑇𝐸 37
LTE with extended prefix the following applies: 38
 LTE symbol 𝑙𝐿𝑇𝐸 of slot 2𝑖 is mapped to NR slot 𝑖, symbol 𝑙′=𝑙𝐿𝑇𝐸 39
 LTE symbol 𝑙𝐿𝑇𝐸 of slot 2𝑖+1 is mapped to NR slot 𝑖, symbol 𝑙′ =6+𝑙𝐿𝑇𝐸 40
 41
The symbol duration can be determined from the SCS provided by “frameStructure” and knowledge of whether LTE 42
versus NR is supported; 3GPP specifications 36.211 and 38.211 provide the necessary formulas.  43
 44

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        52
ORAN-WG4.CUS.0-v01.00
5.4 Elements for the C-plane Protocol 1
5.4.1 General 2
C-Plane messages are encapsulated using a two-layered header approach. The first layer consists of a eCPRI common 3
header or IEEE 1914.3 common header, including corresponding fields used to indicate the message type, while the 4
second layer is an application layer including necessary fields for control and synchronization.  Within the application 5
layer, a “section” defines the characteristics of U-plane data to be transferred or received from a beam with one pattern 6
id.  In general, the transmission header, application header, and sections are all intended to be aligned on 4 -byte 7
boundaries and are transmitted in “network byte order” meaning the most significant byte of a multi-byte parameter is 8
transmitted first. 9
 10
Table 5-2 described the section types are supported within the C-Plane. 11
 12
Table 5-2 : Section Types 13
Section
Type
Target Scenario Remarks
0 Unused Resource Blocks or
symbols in Downlink or Uplink
Indicates to O-RU that certain Resource Blocks or symbols will not be
used (idle periods, guard periods). Likewise, there are no associated
U-Plane messages containing IQ data for this Section Type.
The purpose is to inform the O-RU that transmissions may be halted
during the specified idle interval for e.g. power-savings or to provide
an interval for calibration.
1 Most DL/UL radio channels Here “most” refers to channels not requiring time or frequency offsets
such as are needed for mixed-numerology channels
2 reserved for future use
3 PRACH and mixed-numerology
channels
Channels requiring time or frequency offsets or different-than-nominal
SCS values
4 Reserved for future use
5 UE scheduling information (UE-
ID assignment to section)
Provides scheduling information for UE-IDs
6 Channel information Sends UE-specific channel information from the O-DU to the O-RU
7 LAA Messages communicated between O-DU and the O-RU in both
directions to configure LBT for PDSCH/DRS transmission and to
report the LBT outcome.
8-255 Reserved for future use
 14
5.4.1.1 Section Extensions 15
Within a data section the section header in most cases includes a “extension flag” which indicates parameters that apply 16
to the section beyond those within the section header (the extension flag is most often adjacent to the beamId or ueId 17
fields).  The presence of this extension flag indicates that following the header a section extension is present.  Within 18
the section extension is another extension flag, adjacent to the “extType” field, which indicates that a second (or third, 19
etc.) extension is present.  In this way any number of section extensions may be include d within a data section.  This 20
provides an extensibility for section parameters without the need to continually redefine the section header or create 21
new section types to accommodate future fronthaul specification needs. 22
The section extension takes the form reminiscent of “TLV”: there is a type field specifically “extType” which is a 7 -bit 23
field describing the specific extension type, then a one-byte length field specifically “extLen” field detailing how many 24
4-byte words are contained in the extension (minimum of 1 including the “extType” and “extLen” fields), and then 25
some number of parameters that depend on the “extType” value for their definition.  In all cases the section extension 26
will be an integer number of (4-byte) words in length. 27
Specific valid values of “extType”, their meanings and their associated parameters are detailed in subsequent sub -28
chapters of this spec.  29
 30

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        53
ORAN-WG4.CUS.0-v01.00
5.4.2 Scheduling and Beamforming Commands  1
A common frame format is used for C-Plane messages, consisting of a transport layer and an application layer. The 2
application layer is within the transport layer payload and consists of a common header for time reference, followed by 3
information and parameters dependent and specific to the Section Type in use. Multiple sets of section data of the same 4
Section Type value can be lined up one after another within the payload. To minimize packet rate over the interface, 5
transmitter should fill messages with as many subsequent sections (with or without sequential section IDs) as possible. 6
However, sets of section data of different Section Type values are to be sent via separate messages (i.e. different values 7
of Section Type shall not be mixed within a single C-Plane message payload). 8
 9
o Transport Layer (see section 3.1.3) 10
o Application Layer 11
o Section Type “0” Fields (used for indicating idle or guard periods from O-DU to O-RU) 12
▪ Common Header Fields 13
• dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  14
• payloadVersion (payload version) field: 3 bits 15
• value = “1” shall be set (1st protocol version for payload and time reference format)  16
• filterIndex (filter index) field: 4 bits 17
• frameId (frame identifier) field: 8 bits 18
• subframeId (subframe identifier) field: 4 bits 19
• slotID (slot identifier) field: 6 bits 20
• startSymbolid (start symbol id) field: 6 bits  21
• numberOfsections (number of sections) field: 8 bits 22
• sectionType (section type) field: 8 bits 23
• value = “0” shall be set 24
• timeOffset (time offset) field: 16 bits 25
• frameStructure (frame structure) field: 8 bits 26
• cpLength (cyclic prefix length) field: 16 bits 27
• reserved (reserved for future use) field: 8 bits 28
▪ Section Fields 29
• sectionID (section identifier) field: 12 bits  30
• rb (resource block indicator) field: 1 bit 31
▪ symInc (symbol number increment command) field: 1 bit 32
• startPrbc (starting PRB of data section description) field: 10 bits 33
• numPrbc (number of contiguous PRBs per data section description) field: 8 bits 34
• reMask (resource element mask) field: 12 bits 35
• numSymbol (number of symbols) field: 4 bits 36
• reserved (reserved for future use) field: 16 bits 37
o Section Type “1” Fields (used for most Downlink and Uplink radio channels – some channels 38
especially PRACH and mixed-numerology channels need more information elements contained in 39
other section types) 40
▪ Common Header Fields 41
▪ dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  42

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        54
ORAN-WG4.CUS.0-v01.00
▪ payloadVersion (payload version) field: 3 bits 1
• value = “1” shall be set (1st protocol version for payload and time reference format)  2
▪ filterIndex (filter index) field: 4 bits 3
▪ frameId (frame identifier) field: 8 bits 4
▪ subframeId (subframe identifier) field: 4 bits 5
▪ slotID (slot identifier) field: 6 bits 6
▪ startSymbolid (start symbol id) field: 6 bits  7
▪ numberOfsections (number of sections) field: 8 bits 8
▪ sectionType (section type) field: 8 bits 9
• value = “1” shall be set 10
▪ udCompHdr (user data compression header) field: 8 bits 11
▪ reserved (reserved for future use) field: 8 bits  12
▪ Section Fields 13
▪ sectionId (section identifier) field: 12 bits  14
▪ rb (resource block identifier) field: 1 bit 15
▪ symInc (symbol number increment command) field: 1 bit 16
▪ startPrbc (starting PRB of data section description) field: 10 bits 17
▪ numPrbc (number of contiguous PRBs per data section description) field: 8 bits 18
▪ reMask (resource element mask) field: 12 bits 19
▪ numSymbol (number of symbols) field: 4 bits 20
▪ ef (extension flag) field: 1 bit 21
▪ beamId (beam identifier) field: 15 bits 22
o Section Type “3” Fields (used for PRACH and mixed-numerology channels):  23
▪ Common Header Fields 24
▪ dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  25
▪ payloadVersion (payload version) field: 3 bits 26
• value = “1” shall be set (1st protocol version for payload and time reference format)  27
▪ filterIndex (filter index) field: 4 bits 28
▪ frameId (frame identifier) field: 8 bits 29
▪ subframeId (subframe identifier) field: 4 bits 30
▪ slotID (slot identifier) field: 6 bits 31
▪ startSymbolid (start symbol identifier) field: 6 bits 32
▪ numberOfsections (number of sections) field: 8 bits 33
▪ sectionType (section type) field: 8 bits 34
• value = “3” shall be set 35
▪ timeOffset (time offset) field: 16 bits 36
▪ frameStructure (frame structure) field: 8 bits 37
▪ cpLength (cyclic prefix length) field: 16 bits 38
▪ udCompHdr (user data compression header) field: 8 bits 39
▪ Section Fields 40

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        55
ORAN-WG4.CUS.0-v01.00
▪ sectionID (section identifier) field: 12 bits  1
▪ rb (resource block identifier) field: 1 bit 2
▪ symInc (symbol number increment command) field: 1 bit 3
▪ startPrbc (starting PRB of data section description) field: 10 bits 4
▪ numPrbc (number of contiguous PRBs per data section description) field: 8 bits 5
▪ reMask (resource element mask) field: 12 bits 6
▪ numSymbol (number of symbols) field: 4 bits 7
▪ ef (extension flag) field: 1 bit 8
▪ beamId (beam identifier) field: 15 bits 9
▪ freqOffset (frequency offset) field: 24 bits 10
▪ reserved (reserved for future use) field: 8 bits 11
o Section Type “5” Fields (used for UE scheduling information):  12
▪ Common Header Fields 13
▪ dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  14
▪ payloadVersion (payload version) field: 3 bits 15
• value = “1” shall be set (1st protocol version for payload and time reference format)  16
▪ filterIndex (filter index) field: 4 bits 17
▪ frameId (frame identifier) field: 8 bits 18
▪ subframeId (subframe identifier) field: 4 bits 19
▪ slotID (slot identifier) field: 6 bits 20
▪ startSymbolid (start symbol identifier) field: 6 bits 21
▪ numberOfsections (number of sections) field: 8 bits 22
▪ sectionType (section type) field: 8 bits 23
• value = “5” shall be set 24
▪ udCompHdr (user data compression header) field: 8 bits  25
▪ reserved (reserved for future use) field: 8 bits 26
▪ Section Fields 27
▪ sectionID (section identifier) field: 12 bits  28
▪ rb (resource block identifier) field: 1 bit 29
▪ symInc (symbol number increment command) field: 1 bit 30
▪ startPrbc (starting PRB of data section description) field: 10 bits 31
▪ numPrbc (number of contiguous PRBs per data section description) field: 8 bits 32
▪ reMask (resource element mask) field: 12 bits 33
▪ numSymbol (number of symbols) field: 4 bits 34
▪ ef (extension flag) field: 1 bit 35
▪ ueId (UE identifier) field: 15 bits 36
o Section Type “6” Fields (used for sending channel information for a specific UE ID):  37
▪ Common Header Fields 38
▪ dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  39

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        56
ORAN-WG4.CUS.0-v01.00
▪ payloadVersion (payload version) field: 3 bits 1
• value = “1” shall be set (1st protocol version for payload and time reference format)  2
▪ filterIndex (filter index) field: 4 bits 3
▪ frameId (frame identifier) field: 8 bits 4
▪ subframeId (subframe identifier) field: 4 bits 5
▪ slotID (slot identifier) field: 6 bits 6
▪ startSymbolid (start symbol identifier) field: 6 bits 7
▪ numberOfsections (number of sections) field: 8 bits 8
▪ sectionType (section type) field: 8 bits 9
• value = “6” shall be set 10
▪ numberOfUEs (number of UE-specific channel information data sets) field: 8 bits 11
▪ reserved (reserved for future use) field: 8 bits 12
▪ Section Fields 13
▪ ef (extension flag) field: 1 bit 14
▪ ueId (UE identifier) field: 15 bits 15
▪ regularizationFactor (regularization factor used for MMSE reception) field: 16 bits 16
▪ reserved (reserved for future use) field: 4 bits 17
▪ rb (resource block identifier) field: 1 bit 18
▪ symInc (symbol number increment command) field: 1 bit 19
▪ startPrbc (starting PRB of data section description) field: 10 bits 20
▪ numPrbc (number of contiguous PRBs per data section description) field: 8 bits 21
▪ ciIsample (channel information value, in-phase sample) field: 16 bits 22
▪ ciQsample (channel information value, quadrature sample) field: 16 bits 23
o Section Type “7” Fields (used to support LAA):  24
▪ Common Header Fields 25
▪ dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  26
▪ payloadVersion (payload version) field: 3 bits 27
• value = “1” shall be set (1st protocol version for payload and time reference format)  28
▪ filterIndex (filter index) field: 4 bits 29
▪ frameId (frame identifier) field: 8 bits 30
▪ subframeId (subframe identifier) field: 4 bits 31
▪ slotID (slot identifier) field: 6 bits 32
▪ startSymbolid (start symbol identifier) field: 6 bits 33
▪ numberOfsections (number of sections) field: 8 bits 34
▪ sectionType (section type) field: 8 bits 35
• value = “7” shall be set 36
▪ reserved (reserved for future use) field: 8 bits 37
▪ Section Fields 38
▪ laaMsgType (LAA message type) field: 4 bits 39
▪ laaMsgLen field: 4 bits 40

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        57
ORAN-WG4.CUS.0-v01.00
 1
o laaMsgType = “0” shall be set for LBT_DL_CONFIG.request: LBT_PDSCH_REQ  2
▪ lbtHandle (An opaque handling returned in LBT_PDSCH_RSP) field: 16 bits 3
▪ lbtDeferFactor (Defer factor in sensing slots as described in 3GPP TS 36.213 Section 4
15.1.1) field: 3 bits 5
▪ lbtBackoffCounter (LBT backoff counter in sensing slots as described in 3GPP TS 36.213 6
Section 15.1.1) field: 10 bits 7
▪ lbtOffset (LBT start time in microseconds from the beginning of the subframe scheduled by 8
this message) field: 10 bits 9
▪ MCOT (LTE TXOP duration in subframes) field: 4 bits 10
▪  lbtMode (LBT process type) field: 2 bits: 11
 12
o laaMsgType = “1” shall be set for LBT_DL_CONFIG.request: LBT_DRS_REQ  13
▪ lbtHandle (An opaque handling returned in LBT_DRS_RSP) field: 16 bits 14
▪ lbtOffset (LBT start time in microseconds from the beginning of the subframe scheduled by 15
this message) field: 10 bits 16
▪ lbtMode (LBT process type) field: 2 bits: 17
▪ reserved (reserved for future use) field: 1 bit 18
 19
o laaMsgType = “2” shall be set for LBT_DL.indication: LBT_PDSCH_RSP 20
▪ lbtHandle (An opaque handling returned in LBT_PDSCH_RSP) field: 16 bits 21
▪ lbtPdschRes (LBT result of SFN/SF) field: 2 bits 22
▪ sfStatus (subfrme status) field: 1 bit 23
▪ initialPartialSF (Indicates whether the initial SF in the LBT process is full or partial) field: 24
1 bit 25
▪ sfnSf (SFN/SF of subframe which is dropped or successfully transmitted at O-RU) field: 12 26
bits 27
▪ reserved (reserved for future use) field: 4 bits 28
 29
o laaMsgType = “3” shall be set for LBT_DL.indication: LBT_DRS_RSP 30
▪ lbtHandle (An opaque handling returned in LBT_DRS_RSP) field: 16 bits 31
▪ lbtDrsRes (LBT result of SFN/SF) field: 1 bit 32
▪ reserved (reserved for future use) field: 15 bits 33
 34
o laaMsgType = “4” shall be set for LBT_buffer error: LBT_Buffer_Error 35
▪ lbtHandle (An opaque handling returned in LBT_DRS_RSP) field: 16 bits 36
▪ lbtBufErr (LBT buffer error type) field: 1 bit 37
 38
o laaMsgType = “5” shall be set for LBT_DL_CONFIG.request: LBT_CWCONFIG_REQ 39
▪ lbtHandle (An opaque handle returned in LBT_CWCONFIG_RSP) field: 16 bits 40
▪ lbtCWConfig_H (HARQ feedback information regarding number of NACK about reference 41
subframe as described in 3GPP TS 36.213 Section 15.1.3) field: 8 bits 42
▪ lbtCWConfig_T (number of TB to manage Congestion Window as described in 3GPP TS 43
36.213 Section 15.1.3) field: 8 bits 44
▪ lbtMode (LBT process type) field: 2 bits 45

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        58
ORAN-WG4.CUS.0-v01.00
▪ lbtTrafficClass (LBT traffic class) field: 3 bits: 1
 2
o laaMsgType = “6” shall be set for LBT_DL.indication: LBT_CWCONFIG_RSP 3
▪ lbtHandle (An opaque handling returned in LBT_CWCONFIG_RSP) field: 16 bits 4
▪ lbtCWR_Rst (Notification LBT_CWCONFIG_REQ message successful or not) field: 1 bit 5
 6
 7
Table 5-3 : Scheduling and beamforming commands frame format (Section Type “0”) 8
Section Type 0 : idle / guard periods
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

transport header, see section 3.1.3 8 Octet 1
dataDirection payloadVersion filterIndex 1 Octet 9
frameId 1 Octet 10
subframeId slotId 1 Octet 11
slotId startSymbolid 1 Octet 12
numberOfsections 1 Octet 13
sectionType = 0 1 Octet 14
timeOffset 2 Octet 15
frameStructure 1 Octet 17
cpLength 2 Octet 18
Reserved 1 Octet 20
sectionId 1 Octet 21
sectionId rb symInc startPrbc 1 Octet 22
startPrbc 1 Octet 23
numPrbc 1 Octet 24
reMask[11:4] 1 Octet 25
reMask[3:0] numSymbol 1 Octet 26
reserved (16-bits) 2 Octet 27
…

sectionId 1 Octet N
sectionId rb symInc startPrbc 1 N+1
startPrbc 1 N+2
numPrbc 1 N+3
reMask[11:4] 1 N+4
reMask[3:0] numSymbol 1 N+5
reserved (16-bits) 2 N+6
                  Octet M
shading: yellow is transport header, pink is radio application header, others are repeated sections 9
 10
Table 5-4 : Scheduling and beamforming commands frame format (Section Type “1”) 11
Section Type 1 : DL/UL control msgs
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

transport header, see section 3.1.3 8 Octet 1
dataDirection payloadVersion filterIndex 1 Octet 9
frameId 1 Octet 10
subframeId slotId 1 Octet 11
slotId startSymbolid 1 Octet 12
numberOfsections 1 Octet 13

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        59
ORAN-WG4.CUS.0-v01.00
sectionType = 1 1 Octet 14
udCompHdr 1 Octet 15
reserved 1 Octet 16
sectionId 1 Octet 17
sectionId rb symInc startPrbc 1 Octet 18
startPrbc 1 Octet 19
numPrbc 1 Octet 20
reMask[11:4] 1 Octet 21
reMask[3:0] numSymbol 1 Octet 22
ef = 1 beamId[14:8] 1 Octet 23
beamId[7:0] 1 Octet 24
section extensions as indicated by “ef” var Octet 25
…

sectionId 1 Octet N
sectionId rb symInc startPrbc 1 N+1
startPrbc 1 N+2
numPrbc 1 N+3
reMask[11:4] 1 N+4
reMask[3:0] numSymbol 1 N+5
ef = 0 beamId[14:8] 1 N+6
beamId[7:0] 1 N+7
section extensions as indicated by “ef” var N+8
Octet M
shading: yellow is transport header, pink is radio application header, others are repeated sections 1
 2
Table 5-5 : Scheduling and beamforming commands frame format (Section Type “3”) 3
Section Type 3 : PRACH & mixed-numerology
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

transport header, see section 3.1.3 8 Octet 1
dataDirection payloadVersion filterIndex 1 Octet 9
frameId 1 Octet 10
subframeId slotId 1 Octet 11
slotId startSymbolid 1 Octet 12
numberOfsections 1 Octet 13
sectionType = 3 1 Octet 14
timeOffset 2 Octet 15
frameStructure 1 Octet 17
cpLength 2 Octet 18
udCompHdr 1 Octet 20
sectionId 1 Octet 17
sectionId rb symInc startPrbc 1 Octet 18
startPrbc 1 Octet 19
numPrbc 1 Octet 20
reMask[11:4] 1 Octet 21
reMask[3:0] numSymbol 1 Octet 22
ef beamId[14:8] 1 Octet 23
beamId[7:0] 1 Octet 24
frequencyOffset 3 Octet 25
reserved (8 bits) 1 Octet 28
section extensions as indicated by “ef” var Octet 29
…

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        60
ORAN-WG4.CUS.0-v01.00
sectionId 1 Octet N
sectionId rb symInc startPrbc 1 N+1
startPrbc 1 N+2
numPrbc 1 N+3
reMask[11:4] 1 N+4
reMask[3:0] numSymbol 1 N+5
ef beamId[14:8] 1 N+6
beamId[7:0] 1 N+7
frequencyOffset 3 N+8
reserved (8 bits) 1 N+11
section extensions as indicated by “ef” var N+12
                  Octet M
shading: yellow is transport header, pink is radio application header, others are repeated sections 1
 2
Table 5-6 : UE scheduling information frame format (Section Type “5”) 3
Section Type 5 : UE scheduling information conveyance
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

transport header, see section 3.1.3 8 Octet 1
dataDirection payloadVersion filterIndex 1 Octet 9
frameId 1 Octet 10
subframeId slotId 1 Octet 11
slotId startSymbolid 1 Octet 12
numberOfsections 1 Octet 13
sectionType = 5 1 Octet 14
udCompHdr 1 Octet 15
reserved 1 Octet 16
sectionId 1 Octet 17
sectionId rb symInc startPrbc 1 Octet 18
startPrbc 1 Octet 19
numPrbc 1 Octet 20
reMask[11:4] 1 Octet 21
reMask[3:0] numSymbol 1 Octet 22
ef ueId[14:8] 1 Octet 23
ueId[7:0] 1 Octet 24
section extensions as indicated by “ef” var Octet 25
…

sectionId 1 Octet N
sectionId rb symInc startPrbc 1 N+1
startPrbc 1 N+2
numPrbc 1 N+3
reMask[11:4] 1 N+4
reMask[3:0] numSymbol 1 N+5
ef ueId[14:8] 1 N+6
ueId[7:0] 1 N+7
section extensions as indicated by “ef” var N+8
Octet M
shading: yellow is transport header, pink is radio application header, others are repeated sections 4
 5
 6
 7

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        61
ORAN-WG4.CUS.0-v01.00
Table 5-7 : UE channel information frame format (Section Type “6”) 1
Section Type 6 : channel information conveyance
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

transport header, see section 3.1.3 8 Octet 1
dataDirection payloadVersion filterIndex 1 Octet 9
frameId 1 Octet 10
subframeId slotId 1 Octet 11
slotId startSymbolid 1 Octet 12
numberOfsections 1 Octet 13
sectionType = 6 1 Octet 14
numberOfUEs 1 Octet 15
reserved 1 Octet 16
ef ueId[14:8] 1 Octet 17
ueId[7:0] 1 Octet 18
regularizationFactor 2 Octet 19
reserved rb symInc startPrbc 1 Octet 21
startPrbc 1 Octet 22
numPrbc 1 Octet 23
ciIsample (first PRB, first antenna) var Octet 24
ciQsample (first PRB, first antenna) var
ciIsample (first PRB, second antenna) var
ciQsample (first PRB, second antenna) var
…
ciIsample (first PRB, last antenna) var
ciQsample (first PRB, last antenna) var
…
ciIsample (last PRB, last antenna) var
ciQsample (last PRB, last antenna) var
section extensions as indicated by “ef” var
…

ef ueId[14:8] 1 Octet N
ueId[7:0] 1 N+1
regularizationFactor 2 N+2
Reserved rb symInc startPrbc 1 N+4
startPrbc 1 N+5
numPrbc 1 N+6
ciIsample (first PRB, first antenna) var N+7
ciQsample (first PRB, first antenna) var
ciIsample (first PRB, second antenna) var
ciQsample (first PRB, second antenna) var
…
ciIsample (first PRB, last antenna) var
ciQsample (first PRB, last antenna) var
…
ciIsample (last PRB, last antenna) var
ciQsample (last PRB, last antenna) var
section extensions as indicated by “ef” var
Octet M
shading: yellow is transport header, pink is radio application header, others are repeated sections 2
 3
 4

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        62
ORAN-WG4.CUS.0-v01.00
Table 5-8 : LAA Message, O-DU to O-RU -OR- O-RU to O-DU (Section Type “7”) 1
Section Type 7 : LAA Message,O-DU to O-RU or O-RU toO-DU
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

transport header, see section 3.1.3 8 Octet 1
reserved payloadVersion reserved 1 Octet 9
frameId 1 Octet 10
subframeId slotId 1 Octet 11
slotId reserved 1 Octet 12
reserved 1 Octet 13
sectionType = 7 1 Octet 14
reserved 1 Octet 15
reserved 1 Octet 16
laaMsgType laaMsgLen 1 Octet 17
Payload (see below) plus padding to 32-bit boundary 3 or 7 Octet 18+
Note that here, frameId, subframeId and slotId serve to provide a time stamp on the LAA LBT C -Plane message and do 2
not describe any U-Plane data associated with the Section Type 7 C-Plane message. 3
 4
Section Type 7 : LAA Request Message, O-DU to O-RU LBT_PDSCH_REQ
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

laaMsgType = 0000b (LBT_PDSCH_REQ) laaMsgLen = 2 (2 words) 1 Octet 17
lbtHandle 2 Octet 18
lbtOffset[9:2] 1 Octet 20
lbtOffset[1:0] lbtMode reserved lbtDeferFactor 1 Octet 21
lbtBckoffCounter[9:2] 1 Octet 22
lbtBckoffCounter[1:0] MCOT reserved 1 Octet 23
reserved 1 Octet 24
 5
Section Type 7 : LAA Request Message, O-DU to O-RU LBT_DRS_REQ
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

laaMsgType = 0001b (LBT_DRS_REQ) laaMsgLen = 2 (2 words) 1 Octet 17
lbtHandle 2 Octet 18
lbtOffset[9:2] 1 Octet 20
lbtOffset[1:0] lbtMode reserved 1 Octet 21
reserved 1 Octet 22
reserved 1 Octet 23
reserved 1 Octet 24
 6
Section Type 7 : LAA Response Message, O-RU to O-DU  LBT_PDSCH_RSP
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

laaMsgType = 0010b (LBT_PDSCH_RSP) laaMsgLen = 2 (2 words) 1 Octet 17
lbtHandle 2 Octet 18
lbtPdschRes inParSF sfStatus sfnSf[11:8] 1 Octet 20
sfnSf[7:0] 1 Octet 21
reserved 1 Octet 22
reserved 1 Octet 23
reserved 1 Octet 24
 7

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        63
ORAN-WG4.CUS.0-v01.00
Section Type 7 : LAA Response Message, O-RU to O-DU  LBT_DRS_RSP
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

laaMsgType = 0011b (LBT_DRS_RSP) laaMsgLen = 1 (1 word) 1 Octet N
lbtHandle 2 N+1
lbtDrsRes  reserved 1 N+3
 1
Section Type 7 : LAA Response Message, O-RU to O-DU  LBT_Buffer_Error
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

laaMsgType = 0100b (LBT_Buffer_Error) laaMsgLen = 1 (1 word) 1 Octet N
lbtHandle 2 N+1
lbtBufErr  reserved 1 N+3
 2
Section Type 7 : LAA Request Message, O-DU to O-RU  LBT_CWCONFIG_REQ
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

laaMsgType = 0101b (LBT_CWCONFIG_REQ) laaMsgLen = 2 (2 words) 1 Octet N
lbtHandle 2 N+1
lbtCWConfig_H 1 N+3
lbtCWConfig_T 1 N+4
lbtMode lbtTrafficClass reserved 1  N+5
reserved 2 N+6
 3
Section Type 7 : LAA Request Message, O-RU to O-DU LBT_CWCONFIG_RSP
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

laaMsgType = 0110b (LBT_CWCONFIG_RSP) laaMsgLen = 1 (1 word) 1 Octet N
lbtHandle 2 N+1
lbtCWR_Rst reserved 1 N+2
 4
5.4.3 Coding of Information Elements – Transport Layer 5
See Section 3.1.3 for transport header information element details. 6
5.4.4 Coding of Information Elements – Application Layer, Common 7
5.4.4.1 dataDirection (data direction (gNB Tx/Rx)) 8
Description: This parameter indicates the gNB data direction.  9
Value range: {0b=Rx (i.e. UL), 1b=Tx (i.e. DL)}. 10
Type: binary bit. 11
Field length: 1 bit. 12
 13
5.4.4.2 payloadVersion (payload version) 14
Description: This parameter defines the payload protocol version valid for the following IEs in the application layer. In 15
this version of the specification payloadVersion=001b shall be used.  16
Value range: {000b-111b=Payload version}. 17

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        64
ORAN-WG4.CUS.0-v01.00
Type: unsigned integer. 1
Field length: 3 bits. 2
Default Value: 001b (version 1 assumed). 3
 4
5.4.4.3 filterIndex (filter index) 5
Description: This parameter defines an index to the channel filter to be used between IQ data and air interface, both in 6
DL and UL. For most physical channels filterIndex =0000b is used which indexes the standard channel filter, e.g. 7
100MHz channel filter for 100MHz nominal carrier bandwidth. Another use case is PRACH in UL, where different 8
filter indices can be used for different PRACH formats, assuming that before FFT processing of PRACH data there is a 9
separate PRACH filter or PRACH filter in addition to the standard channel filter in UL. Please note that for PRACH 10
there is typically also a frequency offset (see freqOffset) applied before the PRACH filter.   11
NOTE: Filter index is commanded from O-DU to O-RU. Likewise, it is not mandatory to command special filters, and 12
filter index = 0000b is also allowed for PRACH. 13
NOTE: When using filter indices corresponding to PRACH, the first RE of the first PRB addressed inside the section Id 14
shall correspond with the first guard tone used at the lower edge of the PRACH  frequency block as specified in 3GPP 15
RAN1 TS 3x.211. In case of fragmentation of 1 data section over multiple U-Plane messages, this is applicable to the 16
first fragmented section. 17
Value range: {0000b-1111b}. 18
Table 5-9 : Filter Index 19
Value of IE “filter Index” Usage PRACH preamble formats Minimum filter pass band
0000b standard channel
filter
N/A
0001b UL filter for PRACH
preamble formats
0, 1, 2 839 x 1.25kHz = 1048.75 kHz
0010b 3 839 x 5 kHz = 4195 kHz
0011b A1, A2, A3, B1, B2, B3, B4,
C0, C2
139 x ΔfRA
(See SCS in Table 5-10)
0100b UL filter for
NPRACH
0, 1 48 x 3.75KHz = 180 KHz
0101b…111b Reserved
 20
Type: unsigned integer. 21
Field length: 4 bits. 22
Default Value: 0000b (no special filter). 23
 24
5.4.4.4 frameId (frame identifier) 25
Description: This parameter is a counter for 10 ms frames (wrapping period 2.56 seconds) , specifically frameId = 26
frame number modulo 256. 27
Value range: {0000 0000b-1111 1111b}. 28
Type: unsigned integer. 29
Field length: 8 bits. 30
 31
5.4.4.5 subframeId (subframe identifier) 32
Description: This parameter is a counter for 1 ms sub-frames within 10ms frame.  33
Value range: {0000b-1111b}. 34
Type: unsigned integer. 35

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        65
ORAN-WG4.CUS.0-v01.00
Field length: 4 bits. 1
 2
5.4.4.6 slotId (slot identifier) 3
Description: This parameter is the slot number within a 1ms sub-frame. All slots in one sub-frame are counted by this 4
parameter, slotId running from 0 to Nslot-1. In this version of the specification the maximum Nslot=16, All other values 5
of the 6 bits are reserved for future use. 6
Value range: {00 0000b-00 1111b=slotID, 01 0000b-11 1111b=Reserved}. 7
Type: unsigned integer. 8
Field length: 6 bits. 9
 10
5.4.4.7 startSymbolid (start symbol identifier) 11
Description: This parameter identifies the first symbol number within slot, to which the information of this message is 12
applies.  13
Value range: {00 0000b-11 1111b}. 14
Type: unsigned integer. 15
Field length: 6 bits. 16
 17
5.4.4.8 numberOfsections (number of sections) 18
Description: This parameter indicates the number of data section descriptions (separate citations of section ID even for 19
multiple citations of the same sectionId) included in this C-Plane message. 20
Value range: {0000 0000b-1111 1111b}. 21
Type: unsigned integer. 22
Field length: 8 bits. 23
 24
5.4.4.9 sectionType (section type) 25
Description: This parameter determines the characteristics of U-plane data to be transferred or received from a beam 26
with one pattern id. 27
Value range: {0000 0000b-1111 1111b=Section Type, see table at the start of this chapter for section type meanings} 28
Type: unsigned integer. 29
Field length: 8 bits. 30
 31
5.4.4.10 udCompHdr (user data compression header) 32
See section 6.3.3.13 for the description of this parameter. 33
Note that it is impermissible to specify different values of udCompHdr for the same data section, even if discriminated 34
by different reMask values.  Only a single compression method per data section is supported.   The O-RU response if 35
the C-Plane specifies multiple udCompHdr values for a single data section is undefined.  36
 37

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        66
ORAN-WG4.CUS.0-v01.00
5.4.4.11 numberOfUEs (number Of UEs) 1
Description: This parameter applies to section type 6 messages and indicates the number of UEs (for which channel 2
information is provided) are included in the message.  This allows the parser to determine when the last UE’s data has 3
been parsed. 4
Value range: {0000 0000b-1111 1111b}. 5
Type: unsigned integer. 6
Field length: 8 bits. 7
 8
5.4.4.12 timeOffset (time offset) 9
Description: This parameter defines the time_offset from the start of the slot to the start of the Cyclic Prefix (CP) in 10
number of samples Ts (=1/30.72MHz as specified in 3GPP TS38.211 section 4.1).  The value shall be less than the 11
baseline slot length used for slot ID counting as defined in section 5.3.2 . 12
time_offset = timeOffset * ts 13
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b}. 14
Type: unsigned integer. 15
Field length: 16 bits. 16
 17
5.4.4.13 frameStructure (frame structure) 18
Description: This parameter defines the frame structure. The first 4 bits define the FFT/i FFT size being used for all IQ 19
data processing related to this message. The second 4 bits define the sub carrier spacing as well as the number of slots 20
per 1ms sub-frame according to 3GPP TS 38.211, taking for completeness also 3GPP TS 36.211 into account. The 21
parameter µ=0…5 from 3GPP TS 38.211 is extended to apply for PRACH processing.  22
NOTE: The parameter “FFTSize” is meant to facilitate the above calculation and is not meant to strictly dictate the O-23
RU’s method of time-to-frequency conversion. 24
Value range: {0000 0000b-1111 1111b} 25
Bit allocations 26
0 (msb) 1 2 3 4 5 6 7 (lsb) Number of
Octets

FFT Size µ (Subcarrier spacing) 1 Octet 1
 27
Table 5-10 : FFT Size 28
Value of IE “FFT_size” FFT/iFFT size
0000b Reserved (no FFT/iFFT processing)
0001b…0110b Reserved
0111b 128
1000b 256
1001b 512
1010b 1024
1011b 2048
1100b 4096
1101b 1536
1110,1111b Reserved
 29
 30
 31
 32

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        67
ORAN-WG4.CUS.0-v01.00
Table 5-11 : Sub-Carrier Spacing 1
Value of IE “SCS” 3GPP “µ” Subcarrier spacing f Number of slots
per 1ms sub-
frame: Nslot
Slot length
0000b 0 15kHz  1 1ms
0001b 1 30kHz 2 500µs
0010b 2 60kHz 4 250µs
0011b 3 120kHz 8 125µs
0100b 4 240kHz 16 62.5µs
0101b…1011b NA Reserved Reserved Reserved
1100b NA 1.25kHz 1 1ms
1101b NA 3.75kHz (LTE-specific) 1 1ms
1110b NA 5kHz 1 1ms
1111b NA 7.5kHz (LTE-specific) 1 1ms
 2
Type: unsigned integer (concatenated bit fields). 3
Field length: 8 bits. 4
 5
5.4.4.14 cpLength (cyclic prefix length) 6
Description: This parameter defines the length CP_length of the Cyclic Prefix (CP) as follows, based on T s 7
(=1/30.72MHz as specified in 3GPP TS38.211 section 4.1): 8
CP_length = cpLength * Ts  9
NOTE: cpLength parameter is used with section types 0 and 3, and is applicable to all symbols addressed by the C-10
plane message. In addition to the values defined in 3GPP, the value 0 is supported. The slot start time reference 11
differentiation between normal CP and extended CP is based on cpLength and frameStructure. If cpLength is zero then 12
differentiation between normal CP and extended CP time reference is based on cp -type parameter conveyed in the M-13
Plane.  With section type 1, the CP properties shall be configured over M-Plane. In the latter case, the cyclic prefix shall 14
have the following properties: 15
- cp-type: Normal or extended 16
- cp-length: same unit as cpLength defined in this section; used for symbol 0 for NR & LTE, and symbol 7*2 µ for NR 17
(µ as defined in the table above with “NA” for µ shall be replaced by “0”) 18
- cp-length-other: same unit as cpLength defined in this section; used for other symbols than by cp -length 19
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b}. 20
Type: unsigned integer. 21
Field length:  16 bits. 22
 23
5.4.5 Coding of Information Elements – Application Layer, Sections 24
5.4.5.1 sectionId (section identifier) 25
Description: This parameter identifies individual data sections described within the C-Plane message. The purpose of 26
the section ID is to map U-Plane data sections to the corresponding C-Plane message (and Section Type) associated 27
with the data.  Two or more C-Plane data section descriptions with same Section ID may be cited corresponding to a 28
single U-Plane data section containing a combined payload for both citations (e.g., for supporting mixed CSI RS and 29
PDSCH). This case is applicable when usage of reMask is complimentary (or orthogonal) and different beam directions 30
(i.e. beamIds) are given the resource elements. See informative reference [13] for a more thorough description of data 31
sections and how they are referenced in C-Plane messages.  Data sections are specific to a value of eAxC so different 32
eAxC values may have differently-defined data sections e.g. have different ranges of PRBs contained within.  33
NOTES:  34

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        68
ORAN-WG4.CUS.0-v01.00
▪ In the case of two section descriptions with same Section ID, both sections shall have same rb, startPrbc, 1
numPrbc, udCompHdr, and numSymbol IE fields’ content.  2
▪ An upper bound on the max number of section IDs that can be addressed per eAxC or per sets of eAxCs, per 3
symbol and per slot, for DL and for UL respectively, shall be conveyed via M-plane messaging as part of the 4
O-RU capabilities description. 5
▪ sectionIds are specific to a slot, so sectionId values may be “reused” for each slot, and the sectionId value for 6
one slot has no specified relation to the sectionId value for a different slot. 7
▪ The sectionId cited in a C-Plane message must have the same value as the sectionId in the corresponding U -8
Plane message for the given data section as defined by the frameId, subFrameId, slotId, startSymbolid fields 9
and range of relevant PRBs as indicated by the totality of the specified startPrb(c/u) and numPrb(c/u) fields . 10
Value range: {0000 0000 0000b-1111 1111 1111b}. 11
Type: unsigned integer. 12
Field length: 12 bits. 13
 14
5.4.5.2 rb (resource block indicator) 15
Description: This parameter is used to indicate if every RB is used or every other RB is used. The starting RB is 16
defined by startPrbc and total number of used RBs is defined by numPrbc.  Example: RB=1, startPrb=1, numPrb=3, 17
then the PRBs used are 1, 3, and 5. 18
Value range: {0b=every RB used; 1b=every other RB used}. 19
Type: binary bit. 20
Field length: 1 bit. 21
Default Value: 0b (every RB used). 22
 23
5.4.5.3 symInc (symbol number increment command) 24
Description: This parameter is used to indicate which symbol number is relevant to the given sectionId.  It is expected 25
that for each C-Plane message a symbol number is maintained and starts with the value of startSymbolid.  The same 26
value is used for each section in the message as long as symInc is zero.  When symInc is one, the maintained symbol 27
number should be incremented to the next symbol, and that new symbol number should be used for that section and 28
each subsequent section until the symInc bit is again detected to be one.  In the case of a multiple-symbol data section 29
(numSymbol > 1), the new symbol number shall be the one after the last symbol in the data section.  In this manner, 30
multiple symbols may be handled by a single C-Plane message.   31
A few other points regarding use of symInc in the C-Plane: 32
a) SymInc may be used when different data sections have a different number of symbols under certain conditions 33
namely that the data section descriptions in the C-Plane message are carefully arranged.  The arrangement 34
must be such that the following procedure as applied by the O-RU works correctly: 35
symbol[s] - symbol addressed by section description s=1…N (considers section descriptions in one C -36
Plane message, s=1 identifies the first section description) shall be calculated as follows: 37
Let symInc[s] and numSymbols[s] are values of corresponding fields of section description s  38
For sake of simplicity let symbol[0] = startSymbolId, symInc[0]=0 and numSymbols[0]=1  39
for s=1…N (all section descriptions in a message) 40
If symInc[s] = 0 then symbol[s] = symbol[s-1]  41
Else symbol[s] = symbol[s-1] + numSymbols[s-1] 42
b) When a data section description is cited multiple times (e.g. with different reMask values) if the value of 43
symInc is to be set to 1, then only the first invocation of the sectionID shall have symInc=1 and all other 44
invocations of the sectionId shall have symInc=0 in the same C-Plane message.  This assures that the above 45
rule can be applied (in the same C-Plane message only) while assuring that all invocations of the data section 46

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        69
ORAN-WG4.CUS.0-v01.00
descriptions will refer to the same symbols, which must be the case whether the invocations are in the same C -1
Plane message or in separate C-Plane messages. 2
Use of symInc in the U-Plane is independent of the use of symInc in the C-Plane. The current view is that U-Plane 3
message includes data for a single symbol (to avoid degrading the latency performance of the U -Plane), so use of 4
symInc=1 is prohibited in the U-Plane as of this version of the specification. A future version may allow use of 5
symInc=1 in the U-Plane to allow multiple symbols to be contained in a single U-Plane message.  6
 7
Value range: {0b=use the current symbol number; 1b=increment the current symbol number and use that}.  8
Type: binary bit. 9
Field length: 1 bit. 10
Default Value: 0b (do not increment the current symbol number). 11
 12
5.4.5.4 startPrbc (starting PRB of data section description) 13
Description: This parameter is the starting PRB of a data section described in the C-Plane message.  Values of 14
startPrbc and numPrbc must ensure that data sections must never overlap: a single PRB may only exist within one data 15
section for a given value of eAxC.  For one C-Plane message, there may be multiple U-Plane messages associated with 16
it and requiring defining from which PRB the control commands are applicable.  17
Note: freqOffset affects the frequency span for specific range of PRB numbers. Therefore "must never overlap" must 18
consider the value of freqOffset. 19
Value range: {00 0000 0000b-11 1111 1111b}. 20
Type: unsigned integer. 21
Field length: 10 bits. 22
 23
5.4.5.5 reMask (resource element mask) 24
Description: This parameter defines the Resource Element (RE) mask within an PRB. Each bit setting in the reMask 25
indicates if the section control is applicable to the RE sent in U-Plane messages (0=not applicable; 1=applicable). 26
Note that different REs in a PRB may be indicated by different invocations of the same sectionId but with differing 27
reMasks; the maximum number of different reMask values that may be applied to a PRB is an O-RU characteristic that 28
is conveyed from the O-RU to the O-DU via the M-Plane.  If any RE in a PRB is never pointed to by an reMask (but 29
other REs in that PRB are), the “missing” RE should be set to zero in the U-Plane, and no beamforming ID or other 30
processing should be applied to the “missing” RE.  No RE may be referenced more than once in a data section. 31
Value range: {0000 0000 0000b-1111 1111 1111b}. 32
Type: unsigned integer (bit mask). 33
Field length: 12 bits. 34
Default Value: 1111 1111 1111b (all REs in the block applicable). 35
 36
5.4.5.6 numPrbc (number of contiguous PRBs per data section description) 37
Description: This parameter defines the PRBs within the data section being described. Values of startPrbc and 38
numPrbc must ensure that data sections must never overlap: a single PRB may only exist within one data section for a 39
given value of eAxC.   40
Value range: {0000 0001b-1111 1111b, 0000 0000b = all PRBs}. 41
 Value 0000 0000b is particularly relevant for NR cases wherein the total number of PRBs may be more than 255.  42
Type: unsigned integer. 43
Field length: 8 bits. 44

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        70
ORAN-WG4.CUS.0-v01.00
 1
5.4.5.7 numSymbol (number of symbols) 2
Description: This parameter defines number of symbols to which the section control is applicable. At minimum, the 3
section control shall be applicable to at least one symbol. However, possible optimizations could allow for several (up 4
to 14) symbols, if e.g., all 14 symbols use the same beam ID. 5
Value range: {0001b-1110b=number of symbols, 0000b=reserved, 1111b=reserved}. 6
Type: unsigned integer. 7
Field length: 4 bits. 8
 9
5.4.5.8 ef (extension flag) 10
Description: This parameter is used to indicate if this section will contain both beamforming index and any extension 11
information (ef=1) or just a beamforming index ef=0) 12
Value range: {0b=beamforming index provided; 1b=beamforming index and extension information provided}. 13
Type: binary bit. 14
Field length: 1 bit. 15
Default Value: 0b (no weights being sent). 16
 17
5.4.5.9 beamId (beam identifier) 18
Description: This parameter defines the beam pattern to be applied to the U-Plane data. beamId = 0 means no 19
beamforming operation will be performed. 20
Note that the beamId encodes the beamforming to be done on the O-RU.  This beamforming may be digital, analog or 21
both (“hybrid beamforming”) and the beamId provides all the information necessary for the O-RU to select the correct 22
beam (or weight table or beam attributes from which to create a beam).  It is intended that the beamId be global for the 23
O-RU meaning there are 32767 possible beams shared within the O-RU for all Rtcids/Pcids and shared between UL and 24
DL (beamId=0x0000 is reserved for no beamforming).  The specific mapping of beamId to e.g. weight table, beam 25
attributes, directionality, beam adjacency or any other beam designator is specific to the O-RU design and must be 26
conveyed via M-Plane from the O-RU to O-DU upon startup. 27
NOTE: An upper bound on the max number of beamIDs that can be addressed per eAxC or per sets of eAxCs, per 28
symbol and per slot, for DL and for UL respectively, shall be conveyed via  M-plane messaging as part of the O-RU 29
capabilities description. 30
Value range: {000 0000 0000 0001b-111 1111 1111 1111b; 000 0000 0000 0000b means no BF to be done} 31
Type: unsigned integer. 32
Field length: 15 bits. 33
Default Value: 0000 0000 0000 0000b (no beamforming). 34
 35
5.4.5.10 ueId (UE identifier) 36
Description: This parameter provides a label for the UE for which the section contents apply.  This is used to support 37
channel information sending from the O-DU to the O-RU.  This is just a label and the specific value has no meaning 38
regarding types of UEs that may be supported within the system. 39
Value range: {000 0000 0000 0000b-111 1111 1111 1111b} 40
Type: unsigned integer. 41
Field length: 15-6 bits. 42

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        71
ORAN-WG4.CUS.0-v01.00
 1
5.4.5.11 freqOffset (frequency offset) 2
Description: This parameter defines the frequency offset with respect to the carrier center fre quency before additional 3
filtering (e.g. for PRACH) and FFT processing (in UL) in steps of one half the subcarrier spacings f. The frequency 4
offset shall be individual per data section (one cannot use reMask to allow different frequency offsets for different REs 5
in the PRBs). 6
 frequency_offset = freqOffset * f * 0.5 7
Note: Frequency span resulting from frameStructure, freqOffset, startPrbc, numPrbc, and rb must not exceed channel 8
bandwidth configured for eAxC over M-plane.Value range: {0000 0000b=no offset, 0000 0001b-0111 1111b=positive 9
frequency offset, 1000 0001b-1111 1111=negative frequency offset}. 10
Type: signed integer. 11
Field length: 24 bits. 12
 13
5.4.5.12 regularizationFactor (regularization Factor) 14
Description: This parameter provides a signed value to support MMSE operation within the O-RU when beamforming 15
weights are supported in the O-RU, so related to section type 6. 16
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b} 17
Type: unsigned integer. 18
Field length: 16 bits. 19
 20
5.4.5.13 ciIsample, ciQsample (channel information I and Q values) 21
Description: These values are the channel information complex values relayed from the O-DU to the O-RU, related to 22
section type 6.  The order of transmission is first Prbc for the first antenna to the last antenna, then second Prbc for the 23
first to last antenna, and so on until reaching the last Prbc for the first to last antenna.  The bit-width per I and Q value is 24
variable (determined by M-Plane messaging) so after the very last Q value, some number of padding (set to z ero) bits 25
may be inserted to get to the next byte boundary. 26
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b} for each I and Q value 27
Type: signed integer. 28
Field length: variable bit-with per I and Q value. 29
 30
5.4.5.14 laaMsgType (LAA message type) 31
Description: This parameter defines the LAA message type being conveyed within the Section Type 7 C-Plane 32
message.  Note that here the C-Plane messages may flow from the O-DU to the O-RU (as usual) or from the O-RU to 33
the O-DU.  All of these messages relate to the listen-before-talk (LBT) LAA operation and provide a “handshake” 34
between the O-DU and the O-RU to manage the LBT operation. 35
Value range: {0001b-1111b}. 36
Table 5-12 : laaMsgType definition 37
laaMsgType lssMsgType definition lssMsgType meaning
0000b LBT_PDSCH_REQ O-DU to O-RU request to obtain a PDSCH channel
0001b LBT_DRS_REQ O-DU to O-RU request to obtain the channel and send DRS
0010b LBT_PDSCH_RSP O-RU to O-DU response, channel acq success or failure
0011b LBT_DRS_RSP O-RU to O-DU response, DRS sending success or failure
0100b LBT_Buffer_Error O-RU to O-DU response, reporting buffer overflow
0101b LBT_CWCONFIG_REQ O-DU to O-RU request, congestion window configuration

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        72
ORAN-WG4.CUS.0-v01.00
0110b LBT_CWCONFIG_RSP O-RU to O-DU response, congestion window config.
response
0100b – 1111b reserved for future methods
 1
Type: unsigned integer. 2
Field length: 4 bits. 3
 4
5.4.5.15 laaMsgLen (LAA message length) 5
Description: This parameter defines number of 32-bit words in the LAA section, where “1” means one 32-bit word, 6
“2” means 2 32-bit words, etc. – including the word containing the lssMsgLen parameter.  Zero is a reserved value. 7
Value range: {0001b-1111b=number of 32-bit words in the section from 1 to 16 words (4 to 64 bytes) 8
       0000b is a reserved value } 9
Type: unsigned integer. 10
Field length: 4 bits. 11
 12
5.4.5.16 lbtHandle  13
Description: This parameter provides a label that is included in the configuration request message (e.g., 14
LBT_PDSCH_REQ, LBT_DRS_REQ) transmitted from the O-DU to the O-RU and returned in the corresponding 15
response message (e.g., LBT_PDSCH_RSP, LBT_DRS_RSP). 16
Value range: {0000 0000 0000 0000b-1111 1111 1111 1111b} 17
Type: unsigned integer. 18
Field length: 16 bits. 19
 20
5.4.5.17 lbtDeferFactor (listen-before-talk defer factor) 21
Description: Defer factor in sensing slots as described in 3GPP TS 36.213 Section 15.1.1. This parameter is used for  22
LBT CAT 4 and can take one of three values: {1,3, 7} based on the priority class. Four priority classes are defined in 23
3GPP TS 36.213. 24
Value range: {001b, 011b, 111b} or {1, 3, 7} in decimal 25
Type: unsigned integer 26
Field length: 3 bits 27
 28
5.4.5.18 lbtBackoffCounter (listen-before-talk backoff counter) 29
Description: LBT backoff counter in sensing slots as described in 3GPP TS 36.213 Section  15.1.1.  30
Value range: {00 0000 0000b – 11 1111 1111b} (0-1023 decimal) 31
Type: unsigned integer 32
Field length: 10 bits 33
 34
5.4.5.19 lbtOffset (listen-before-talk offset) 35
Description: LBT start time in microseconds from the beginning of the subframe scheduled by  this message 36
Value range: {00 0000 0000b – 11 1110 0111b} or {0 – 999} in decimal 37

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        73
ORAN-WG4.CUS.0-v01.00
Type: unsigned integer 1
Field length: 10 bits 2
 3
5.4.5.20 MCOT (maximum channel occupancy time) 4
Description: LTE TXOP duration in subframes as described in 3GPP TS 36.213 Secti on 15.1.1. The maximum values 5
for this parameter are {2, 3, 8, 10} based on the priority class. Four priority classes are de fined in 3GPP TS 36.213. 6
Value range: {1-10} in decimal 7
Type: unsigned integer 8
Field length: 4 bits 9
 10
5.4.5.21 lbtMode (LBT Mode) 11
Description: Part of multi-carrier support. Indicates whether full LBT process is carried or partial LBT process is 12
carried (multi carrier mode B according to 3GPP TS 36.213 Section 15.1.5.2).  13
00b = full LBT (regular LBT, sending reservation signal until the beginning of the SF/slot) 14
01b = Partial LBT (looking back 25 sec prior to transmission as indicated in 3GPP TS 36.213 section 15.1.5.2) 15
10b = Partial LBT (looking back 34 sec prior to transmission as indicated in 3GPP TS 36.213 section 15.1.5.2) 16
11b = full LBT and stop (regular LBT, do NOT send reservation signal; O-RU senses the spectrum for the defer factor 17
+ a sensing slot right before OTA when the O-DU is ready to transmit data as indicated in 3GPP TS 36.213 18
section 15.1.1. i.e., right before the SF/slot boundary) 19
Value range: {00b - 11b} 20
Type: unsigned integer 21
Field length: 2 bits 22
 23
5.4.5.22 lbtPdschRes (LBT PDSCH Result) 24
Description: LBT result of SFN/SF 25
o 00b = not sensing – indicates that the O-RU is transmitting data 26
o 01b = currently sensing – indicates the O-RU has not yet acquired the channel 27
o 10b = success – indicates that the channel was successfully acquired 28
o 11b = Failure – indicates expiration of the LBT timer.  The LBT process should be reset. 29
Value range: {00b - 11b} 30
Type: unsigned integer 31
Field length: 1 bit 32
 33
5.4.5.23 sfStatus (subframe status) 34
Description: indicates whether the subframe was dropped or transmitted 35
o 0 – subframe was dropped 36
o 1 – subframe was transmitted 37
Value range: {0,1} 38
Type: binary bit 39
Field length: 1 bit 40
 41

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        74
ORAN-WG4.CUS.0-v01.00
5.4.5.24 lbtDrsRes (LBT DRS Result) 1
Description: LBT result of SFN/SF 2
o 0 – SUCCESS – indicates that DRS is sent 3
o 1 – FAILURE – indicates that DRS is not sent 4
Value range: {0,1} 5
Type: binary bit 6
Field length: 1 bit 7
 8
5.4.5.25 initialPartialSF (Initial partial SF) 9
Description: Indicates whether the initial SF in the LBT process is full or par tial.  10
o 0 – full SF (two slots, 14 symbols) 11
o 1 – partial SF (only second slot, last 7 symbols) 12
Value range: {0, 1} 13
Type: binary bit 14
Field length: 1 bit 15
 16
5.4.5.26 lbtBufErr (LBT Buffer Error) 17
Description: Indicates when an LBT buffer overflow has occurred.  18
o 0 –  reserved 19
o 1 – buffer overflow – data received at O-RU is larger than the available buffer size 20
Value range: {0, 1} 21
Type: binary bit 22
 23
5.4.5.27 sfnSf (SFN/SF End) 24
Description: SFN/SF which is dropped by O-RU because of time expired or successfully transmitted 25
Value range: SFN: {0000 0000b – 1111 1111b} or {0 – 255} in decimal, SF: {0000b – 1001b} or {0 – 9} in decimal 26
Type: unsigned integer 27
Field length: 12 bits 28
 29
5.4.5.28 lbtCWConfig_H (HARQ Parameters for Congestion Window management) 30
Description: Total number of HARQ NACK feedback messages received for the lbtCWConfig_T transport blocks 31
transmitted over LAA cell(s)to be used for adjusting the Congestion Window. 32
Value range: {0000 0000b – 1111 1111b} or {0 – 255} in decimal 33
Type: unsigned integer 34
Field length: 8 bits 35
 36
5.4.5.29 lbtCWConfig_T (TB Parameters for Congestion Window management) 37
Description: Total number of Transport Blocks (TB) transmitted over the LAA cell to be used for adjusting the 38
Congestion Window. 39

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        75
ORAN-WG4.CUS.0-v01.00
Value range: {0000 0000b – 1111 1111b} or {0 – 255} in decimal 1
Type: unsigned integer 2
Field length: 8 bits 3
 4
5.4.5.30 lbtTrafficClass (Traffic class priority for Congestion Window management) 5
Description: Channel access priority class as defined in TS 36.213 6
   Value range: {000 - 111} or {0 - 7} in decimal 7
                    1 - 4: traffic class priority 8
                    0, 5 - 7: reserved 9
   Type: unsigned integer 10
   Field length: 3 bits 11
 12
5.4.5.31 lbtCWR_Rst (Notification about packet reception successful or not) 13
Description: Notifies to O-DU whether the O-RU receives LBT_CWCONFIG_REQ message successfully or not 14
o 0 – SUCCESS – indicates successful reception of LBT_CWCONFIG_REQ 15
o 1 – FAILURE – indicates failure of receiving LBT_CWCONFIG_REQ 16
Value range: {0, 1} 17
Type: binary bit 18
Field length: 1 bit 19
 20
5.4.5.32 reserved (reserved for future use) 21
Description: This parameter is reserved for future use. Transmitter shall send value “0”, while receiver shall ignore the 22
value received. 23
Value range: {variable}. 24
Type: variable. 25
Field length:  variable. 26
 27
5.4.6 Section Extension Commands 28
The following section extension parameters are defined within the C-Plane: 29
Table 5-13 : Section Extension Commands 30
extType meaning extLen extension parameters octets meaning
0 reserved 1 (1
word)
reserved
reserved
1
1
for future use
for future use
1 beamforming weights var bfwCompHdr
bfwCompParam
bfwI (for TRX 0)
bfwQ (for TRX 0)
…
bfwI (for last TRX)
bfwQ (for last TRX)
zero-pad to 4-byte boundary
1
1
var
var

var
var
var
bitWidth(3:0) | compMeth(3:0)
depends on compr. method
beamforming weight I value
beamforming weight Q value

beamforming weight I value
beamforming weight Q value

2 beamforming attributes var bfaCompHdr 2 BF attributes compr. header

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        76
ORAN-WG4.CUS.0-v01.00
bfAzPt
bfZePt
bfAz3dd
bfZe3dd
bfAzSl
bfZeSl
var
var
var
var
3b
3b
BF azimuth pointing param
BF zenith pointing param
BF azimuth beamwidth param
BF zenith beamwidth param
BF azimuth sidelobe param
BF zenith sidelobe param
3 DL Precoding configuration
parameters and indications
var
(3 or 4
words)
codebookIndex
layerId
txScheme
numLayers
crsReMask
crsSymNum
crsShift
beamIdAP1
beamIdAP2
beamIdAP3
1
4b
4b
4b
12b
4b
1b
2
2
2
precoder codebook
layer ID for DL Tx
transmission scheme
number of layers in DL Tx
CRS RE Mask
CRS symbol number
CRS shift command
Beam ID, Antenna Port 1
Beam ID, Antenna Port 2
Beam ID, Antenna Port 3
4 modulation compr. params 0 csf
modCompScaler
1b
15b
constellation shift flag
mod. compr. scale value
5 modulation compression
additional scaling parameters
var mcScaleReMask
csf
mcScaleOffset
12b
1b
15b
Position of same scaling bits
constellation shift flag
added mod. compr. scale values
6-127 reserved 1 (1
word)
reserved
reserved
1
1
for future use
for future use
 1
5.4.6.1 extType (extension type) 2
Description: This parameter provides the extension type which provides additional parameters specific to the subject 3
data extension.  An O-RU or O-DU receiving a “reserved” section extension shall ignore the extension and all 4
parameters contained within it. 5
Value range: {all zeros – all ones}.  See Table 5-14 for values. 6
Type: unsigned integer. 7
Field length: 7 bits. 8
 9
5.4.6.2 ef (extension flag) 10
Description: This parameter is used to indicate if there is another extension present (ef=1) or this is the last extension 11
ef=0) 12
Value range: {0b=beamforming index provided; 1b=beamforming index and extension information provided}.  13
Type: binary bit. 14
Field length: 1 bit. 15
 16
5.4.6.3 extLen (extension length) 17
Description: This parameter provides the length of the section extension in units of 32-bit (or 4-byte) words.  The value 18
zero is reserved, so there is always at least one word in the extension (the word containing the extType and extLen).  19
Value range: {all zeros – all ones} – form one word to 255 words. 20
Type: unsigned integer. 21
Field length: 8 bits. 22
 23

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        77
ORAN-WG4.CUS.0-v01.00
5.4.7 Coding of Information Elements – Application Layer, Section 1
Extensions 2
5.4.7.1 ExtType=1: Beamforming Weights Extension Type 3
This section applies to the sending of beamforming weights from the O-DU to the O-RU.  When this is done, the 4
weights are sent along with a beamID which is meant to allow those same weights to be used in future C -Plane 5
messages by invoking the same beamID (without the need to send the weights again).  This allows downloaded weights 6
to have “persistence” which should save DL throughput by not requiring sending of weights multiple times.  This 7
section extension applies only to section types 1 and 3. 8
Table 5-14 : Extension Type 1 Data Format 9
ef extType = 0x1 1 Octet 23
extLen 1 Octet 24
bfwCompHdr 1 Octet 25
bfwCompParam var Octet 26
bfwI (for TRX 0) var
bfwQ (for TRX0) var
remaining beamforming weights bfwI and bfwQ up to L TRXs var
zero pad to 4-byte boundary var
 10
5.4.7.1.1 bfwCompHdr (beamforming weight compression header) 11
Description: This parameter defines the compression method and IQ bit width for the beamforming weights in the 12
specific section in the C-Plane message.  In this way each set of weights may employ a separate compression method. 13
Note that for the block compression methods, the block size is the entire vector of beamforming weights, not some 14
subset of them. 15
Value range: {0000 0000b-1111 1111b} 16
Bit allocations 17
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

bfwIqWidth bfwCompMeth 1 Octet 1
 18
Table 5-15 : udIqWidth definition 19
bfwIqWidth Bit width of each I and each Q
0000-1111b value of bfwIqWidth except a value of zero means 16 bits
e.g. bfwIqWidth = 0000b means I and Q are each 16 bits wide;
e.g. bfwIqWidth = 0001b means I and Q are each 1 bit wide;
e.g. bfwIqWidth = 1111b means I and Q are each 15 bits wide
 20
Table 5-16 : bfwCompMeth definition 21
bfwCompMeth compression method udIqWidth meaning
0000b no compression bitwidth of each uncompressed I and Q value
0001b block floating point bitwidth of each I and Q mantissa value

0010b block scaling bitwidth of each I and Q scaled value

0011b -law bitwidth of each compressed I and Q value

0100b beamspace compression bitwidth of each beamspace I and Q coefficient
0101b – 1111b reserved for future methods depends on the specific compression method
 22
Type: unsigned integer (concatenated bit fields). 23

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        78
ORAN-WG4.CUS.0-v01.00
Field length: 15 bits. 1
Default Value: 1111 0000b (no compression, 16-bit I and Q). 2
 3
5.4.7.1.2 bfwCompParam (beamforming weight compression parameter) 4
Description: This parameter applies to the compression method specified by the associated sectio nID’s bfwCompMeth 5
value. 6
Value range: {0000 0000b-1111 1111b}. 7
Bit allocations 8
bfwCompMeth 0 (msb) 1 2 3 4 5 6 7 (lsb) compParam
size
   0000b = no compression absent 0 octets
   0001b = block fl. point reserved (set to all zeros) Exponent (unsigned) 1 octet
   0010b = block scaling blockScaler (unsigned, 1 integer bit, 7 fractional bits) 1 octet
   0011b = -law compBitWidth compShift 1 octets
   0100b = beamspace activeBeamspaceCoefficientMask ceil(N/8)*8
octets
blockScaler (unsigned,1 integer bit,7 fractional bits) 1 octet
0101b – 1111b reserved (set to all zeros) ? octets
* N is the total number of weights in the section. N is O-RU-specific and is conveyed from the O-RU to the O-DU as 9
part of the initialization procedure via the M-Plane 10
Type: unsigned integer (concatenated bit fields). 11
Field length: zero for bfwCompMeth values 0000b and 0011b, 8 bits for bfwCompMeth values 0001b, and 0010b; 12
other bfwCompMeth values may imply other lengths but will always be an integer number of bytes.  13
 14
5.4.7.1.3 bfwI (beamforming weight in-phase value) 15
Description: This parameter is the In-phase beamforming weight value. The total number of weights in the section is 16
O-RU-specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. 17
Value range: {all zeros – all ones}. 18
Type: signed integer. 19
Field length: 1-16 bits. 20
 21
5.4.7.1.4 bfwQ (beamforming weight quadrature value) 22
Description: This parameter is the Quadrature beamforming weight value. The total number of weights in t he section is 23
O-RU-specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. 24
Value range: {all zeros – all ones}. 25
Type: signed integer. 26
Field length: 1-16 bits. 27
 28
5.4.7.2 ExtType=2: Beamforming Attributes Extension Type 29
This section extension applies only to section types 1 and 3. 30
The following table shows the format of this section extension. 31
 32

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        79
ORAN-WG4.CUS.0-v01.00
Table 5-17 : Extension Type 2 Data Format 1
ef extType = 0x02 1 Octet 25
extLen 1 Octet 26
bfaCompHdr 2 Octet 27
bfAzPt var Octet 29
bfZePt var
bfAz3dd var
bfZe3dd var
zero-padding bfAzSl bfZeSl 1
zero padding to achieve 4-byte alignment as needed

 2
5.4.7.2.1 bfaCompHdr (beamforming attributes compression header) 3
Description: This parameter defines the bit width for the beamforming attributes extension parameters. In this way 4
each set of beamforming attributes may employ a different bit width.  5
Value range: {0000 0000 0000b-1111 1111 1111b} 6
Bit allocations 7
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

Reserved bfAzPtWidth bfZePtWidth 1 Octet 1
Reserved bfAz3ddWidth bfZe3ddWidth 1 Octet 2
 8
Table 5-18 : fzAzPtWidth definition 9
bfAzPtWidth Bit width of bfAzPt
000-111b value of bfAzPtWidth
 10
Table 5-19 : bfZePtWidth definition 11
bfZePtWidth Bit width of bfZePt
000-111b value of bfZePtWidth
 12
 13
Table 5-20 : bfAz3ddWidth definition 14
bfAz3ddWidth Bit width of bfAz3dd
000-111b value of bfAz3ddWidth
 15
Table 5-21 : bfZe3ddWidth definition 16
bfZe3ddWidth Bit width of bfZe3dd
000-111b value of bfZe3ddWidth
 17
For each of the four bitwidth values in this parameter (bfAzPtWidth, bfZePtWidth, bfAz3ddWidth, and bfZe3ddWidth) 18
the following mapping shall be used: 19
000b = no bits, the field is no applicable (O-RU cannot support it) or the default value shall be used. 20
001b = 2-bit bitwidth 21
010b = 3-bit bitwidth 22
011b = 4-bit bitwidth 23
100b = 5-bit bitwidth 24
101b = 6-bit bitwidth 25
110b = 7-bit bitwidth 26
111b = 8-bit bitwidth (this is the highest bitwidth anticipated to be needed) 27
Type: unsigned integer (concatenated bit fields). 28
Field length: 16 bits (4 bits are reserved). 29

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        80
ORAN-WG4.CUS.0-v01.00
Default Value: 1111 1111 1111 1111b (, 8-bit azimuth and zenith pointing angle and 8-bit azimuth and zenith 1
beamwidth). 2
 3
5.4.7.2.2 bfAzPt (beamforming azimuth pointing parameter) 4
Description: This parameter is the azimuth beamforming pointing angle in degrees. The valid range of values is O-RU-5
specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. 6
Value range: {all zeros – all ones}. 7
Type: signed integer. 8
Field length: 0-8 bits. 9
 10
5.4.7.2.3 bfZePt (beamforming zenith pointing parameter) 11
Description: This parameter is the zenith beamforming pointing angle in degrees. The valid range of values is O-RU-12
specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. 13
Value range: {all zeros – all ones}. 14
Type: unsigned integer. 15
Field length: 0-8 bits. 16
 17
5.4.7.2.4 bfAz3dd (beamforming azimuth beamwidth parameter) 18
Description: This parameter is the azimuth beamforming beamwidth in degrees. The valid range of val ues is O-RU-19
specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. The value 20
(000b) corresponds to the minimum valid beamwidth. 21
Value range: {all zeros – all ones}. 22
Type: unsigned integer. 23
Field length: 0-8 bits. 24
 25
5.4.7.2.5 bfZe3dd (beamforming zenith beamwidth parameter) 26
Description: This parameter is the zenith beamforming beamwidth in degrees. The valid range of values is O-RU-27
specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. The value 28
(000b) corresponds to the minimum valid beamwidth. 29
Value range: {all zeros – all ones}. 30
Type: unsigned integer. 31
Field length: 0-8 bits. 32
 33
5.4.7.2.6 bfAzSl (beamforming azimuth sidelobe parameter) 34
Description: This parameter is the azimuth beamforming sidelobe suppression value in dB. The valid range of values is 35
O-RU-specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. The 36
value of bfAzSl corresponds to a value of 10 dB for all zeros and increments in 5 dB steps (e.g. 001 corresponds to 15 37
dB, 010 corresponds to 20 dB, and so on). 38
Value range: {all zeros – all ones}. 39
Type: unsigned integer. 40

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        81
ORAN-WG4.CUS.0-v01.00
Field length: 3 bits. 1
 2
5.4.7.2.7 bfZeSl (beamforming zenith sidelobe parameter) 3
Description: This parameter is the zenith beamforming sidelobe suppression value in dB. The valid range of values is 4
O-RU-specific and is conveyed from the O-RU to the O-DU as part of the initialization procedure via the M-Plane. The 5
value of bfZeSl corresponds to a value of 10 dB for all zeros and increments in 5 dB steps (e.g. 001 corresponds to 15 6
dB, 010 corresponds to 20 dB, and so on). 7
Value range: {all zeros – all ones}. 8
Type: unsigned integer. 9
Field length: 3 bits. 10
 11
5.4.7.2.8 zero-padding 12
Description: This parameter is intended to pad out the data to the next 4-byte boundary.  Because the preceding 13
parameters are of varying bitwidth, extra padding in most cases will be needed to achieve the 4 -byte boundary 14
condition.  Transmitter shall send value “0”, while receiver shall ignore the value received. 15
Value range: {variable}. 16
Type: variable. 17
Field length:  variable. 18
 19
5.4.7.3 ExtType=3: DL Precoding Extension Type 20
This section extension applies only to section types 1 and 3 and is to be used only for LTE TM2-4 not for other LTE 21
transmission modes and not for NR.  For other LTE transmission modes and for NR, precoding is assumed to be 22
included in the beamforming operation (that is, encoded in the beamforming weights) . 23
The following table shows the format of this section extension. 24
Table 5-22 : Extension Type 3 Data Format – first data layer 25
ef extType = 0x03 1 Octet N
extLen = 0x04 (4 words) 1 N+1
codebookIndex 1 N+2
layerId = 0000b or 1111b numLayers 1 N+3
txScheme crsReMask[11:8] 1 N+4
crsReMask[7:0] 1 N+5
 crsShift reserved crsSymNum 1 N+6
 reserved 3 N+7
beamIdAP1 2 N+10
beamIdAP2 2 N+12
beamIdAP3 2 N+14
 26
Table 5-23 : Extension Type 3 Data Format – not first data layer 27
ef extType = 0x03 1 Octet N
extLen = 0x01 (1 word) 1 N+1
codebookIndex 1 N+2
layerId ≠ 0000b or 1111b numLayers 1 N+3
 28

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        82
ORAN-WG4.CUS.0-v01.00
There may be two or four antenna ports hence two or four beamIDs needed  (same beamID for user data and CRS REs).  1
For Antenna Port 0, the beamId is contained in the C-Plane data section header, while the Antenna Ports 1-3 beamIDs 2
are contained in this section extension.  When there are two antenna ports, the section extension only contains the 3
second Antenna Port beam ID (“beamIdAP1”) and the section extension length is 3 words (“extLen” = 0x 3).  When 4
there are four antenna ports, the section extension contains the second, third and fourth Antenna Port beam IDs 5
(“beamIdAP1”, “beamIdAP2”. And “beamIdAP3”) and the section extension length is 4 words (“extLen” = 0x 4). 6
For the txScheme indicating TxD, one Pcid is used for all the user data and one section instantiation is needed using the 7
corresponding C-Plane Rtcid, providing all the beam IDs (up to 4) for the user data; a second section instantiation  (same 8
sectionId) with a different reMask may be used to provide the CRS RE beam IDs (also up to 4).  In the TxD case the 9
layerId is set to 1111b (“TxD”). 10
For the txSchemes indicating spatial multiplexing (LD CDD or no CDD), each layer will have its own Pcid for the user 11
data with a corresponding C-Plane Rtcid conveying the user data’s beamId, with this section extension showing a 12
different layer number for each layer.  Only within the layer ID zero Rtcid will the CRS REs be provided with their 13
beamIDs (one beamId in the section header and the other beamIDs in this section ex tension). For the non-zero layer 14
number Rtcids, this section extension will still be provided to guide the precoding operation (provide the layer ID) but 15
will not include beamIds (extLen = 0x1), and the beamId in the section header should be ignored by the O-RU and 16
should be set to the default value by the O-DU. 17
5.4.7.3.1 codebookIndex (precoder codebook used for transmission) 18
Description: This parameter defines the indices of the precoder codebook that are used for precoding.  It is to be used 19
in conjunction with the numLayers field. (Invalid for TM1, TM2 and TM3) 20
Value range: {0000 0000b - 1111 1111b}.  21
Type: unsigned integer. 22
Field length: 8 bits. 23
DefaultValue: 0000 0000b (used for invalid mode) 24
 25
5.4.7.3.2 layerID (Layer ID for DL transmission) 26
Description: This parameter defines the layer ID that are used for DL transmission in TM1 – TM4.  27
Value range: {0000b-1111b}. 0000b implies layer0, 0001b implies layer1, 0010b implies layer2, 0011b implies layer3. 28
(for TxD, set to all ones) 29
Type: unsigned integer. 30
Field length: 4 bits. 31
DefaultValue: 1111b (used for TxD mode) 32
 33
5.4.7.3.3 txScheme (transmission scheme) 34
Description: This parameter defines the TM scheme used in this section type.  35
Value range: {0000b-1111b} 0000b: Spatial multiplexing (CDD) 0001b – Spatial multiplexing (no CDD), 0010b – 36
Transmit diversity, 0011b-111b reserved 37
Type: unsigned integer. 38
Field length: 4 bits. 39
 40
5.4.7.3.4 numLayers (number of layers used for DL transmission) 41
Description: This parameter defines the number of layers that are used for DL transmission in TM1 – TM6.  42
Value range: {0000b-1111b}. 0000b implies 1 layer, 0001 implies 2 layers, 0010 implies 3 layers, 0011b implies 4 43
layers, 44

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        83
ORAN-WG4.CUS.0-v01.00
Type: unsigned integer. 1
Field length: 4 bits. 2
 3
5.4.7.3.5 crsReMask (CRS resource element mask) 4
Description: This parameter defines the CRS Resource Element (RE) mask within a PRB. Each bit setting in the 5
crsReMask indicates if the section control is applicable to the RE sent in U -Plane messages (0=not applicable, 6
1=applicable) 7
Value range: {0000 0000 0000b-1111 1111 1111b} 8
Type: unsigned integer (bit mask). 9
Field length: 12 bits. 10
 11
5.4.7.3.6 crsSymlNum (CRS symbol number indication) 12
Description: This parameter defines the CRS symbol number within a PRB. The value of the crsSymNum index 13
indicates the symbol number to the RE sent in U-Plane messages (0=not applicable, 1=applicable) 14
Value range: {0000b-1111b}, value indicates symbol number. 15
0000b – 1101b : use symbol number 0 – 13 respectively; 16
1110b – 1111b : reserved 17
Type: unsigned integer. 18
Field length: 4 bits. 19
 20
5.4.7.3.7 crsShift (crsShift used for DL transmission) 21
Description: This parameter indicates the shift pattern to pick up the right index for CRS positions for N Antennas (see  22
Figure I-8) 23
Value range: 0 or 1, implying shift patterns that are layer-dependent according to the table below (see Tables I-1 24
through I-3 for vShift) 25
 26
 1 Layer  2 Layers 4 Layers
crsShift =0 for 0 ≤ vshift ≤ 5

0 for 0 ≤ vshift ≤ 2
1 for 3 ≤ vshift ≤ 5
0 for 0 ≤ vshift ≤ 2
1 for 3 ≤ vshift ≤ 5
 27
Type: binary. 28
Field length: 1 bit. 29
 30
5.4.7.3.8 beamIdAP1 (beam id to be used for antenna port 1) 31
Description: This parameter defines the beam pattern to be applied to the U-Plane data. beamId = 0 means no 32
beamforming operation will be performed.  Note that unlike the 15-bit beamId that is part of the section header, this 33
field is 16 bits so in principle (though likely not in fact) there are more IDs available within this field. 34
Value range: {0000 0000 0000 0001b-1111 1111 1111 1111b} 35
Type: unsigned integer. 36
Field length: 16 bits. 37
Default Value: 0000 0000 0000 0000b (no beamforming). 38

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        84
ORAN-WG4.CUS.0-v01.00
 1
5.4.7.3.9 beamIdAP2 (beam id to be used for antenna port 2) 2
Description: This parameter defines the beam pattern to be applied to the U-Plane data. beamId = 0 means no 3
beamforming operation will be performed.  Note that unlike the 15-bit beamId that is part of the section header, this 4
field is 16 bits so in principle (though likely not in fact) there are more IDs available within this field.  5
Value range: {0000 0000 0000 0001b-1111 1111 1111 1111b} 6
Type: unsigned integer. 7
Field length: 16 bits. 8
Default Value: 0000 0000 0000 0000b (no beamforming). 9
 10
5.4.7.3.10 beamIdAP3 (beam id to be used for antenna port 3) 11
Description: This parameter defines the beam pattern to be applied to the U-Plane data. beamId = 0 means no 12
beamforming operation will be performed.  Note that unlike the 15-bit beamId that is part of the section header, this 13
field is 16 bits so in principle (though likely not in fact) there are more IDs available within this field.  14
Value range: {0000 0000 0000 0001b-1111 1111 1111 1111b} 15
Type: unsigned integer. 16
Field length: 16 bits. 17
Default Value: 0000 0000 0000 0000b (no beamforming). 18
 19
5.4.7.4 ExtType=4: Modulation Compression Parameters Extension Type 20
This section extension applies only to section types 1 and 3.  Table 5-24 shows the section extension format. 21
Table 5-24 : Section Format for Section Extension 2 (modulation compression parameters)  22
ef extType = 0x04 1 Octet N
extLen = 0x01 (1 word) 1 N+1
csf modCompScaler[14:8] 1 N+2
modCompScaler[7:0] 1 N+3
 23
5.4.7.4.1 csf (constellation shift flag) 24
Description: This binary flag indicates whether to shift the constellation (csf=1) or not (csf=0).  “Shift” means subtract 25
from (during compression) or add to (during decompression) the I and Q samples the value 2 -N where “N” depends on 26
the modulation constellation type.  27
 28
Table 5-25 : constellation shift definition 29
N Modulation Input constellation point I and Q values Shift
value
1
2
3
4
5
QPSK
16QAM
64QAM
256QAM
1024QAM
-1/2, 1/2
-3/4, -1/4, 1/4, 3/4
-7/8, -5/8, -3/8, -1/8, 1/8, 3/8, 5/8, 7/8
-15/16,-13/16,-11/16,-9/16,-7/16,-5/16,-3/16,-
1/16,1/16,3/16,5/16,7/16,9/16,11/16,13/16,15/16
-31/32, -29/32, -27/32, -25/32, -23/32, -21/32, -19/32, -17/32, -15/32, etc. until 29/32,
31/32
-1/2
-1/4
-1/8
-1/16
-1/32
 30
Value range: {0b-1b} 31

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        85
ORAN-WG4.CUS.0-v01.00
Type: binary. 1
Field length: 1 bit. 2
 3
5.4.7.4.2 modCompScaler (modulation compression scaler value) 4
Description: This parameter is the scale factor to apply to the unshifted constellation points during decompression.  It is 5
a fractional floating-point value having an unsigned but negative 4-bit exponent and an unsigned fractional 11-bit 6
mantissa. 7
Value range: {  0 through +(1-2-11 ) }. 8
Type: unsigned fractional floating-point value. 9
 10
"𝑚𝑎𝑛𝑡𝑖𝑠𝑠𝑎"=∑𝑚𝑜𝑑𝐶𝑜𝑚𝑝𝑆𝑐𝑎𝑙𝑒𝑟[𝑘]∙2𝑘−11
10
𝑘=0
 11
"𝑒𝑥𝑝𝑜𝑛𝑒𝑛𝑡"= ∑ 𝑚𝑜𝑑𝐶𝑜𝑚𝑝𝑆𝑐𝑎𝑙𝑒𝑟[𝑘]∙2𝑘−10
14
𝑘=11
 12
 13
“exponent” is the most significant 4 bits of the 15-bit modCompScaler field and “mantissa” is the least-significant 11 14
bits of the modCompScaler field.  “modCompScaler[k] refers to the kth bit of the modCompScaler field.  Therefore, the 15
actual value of modCompScaler is:  16
𝑚𝑜𝑑𝐶𝑜𝑚𝑝𝑆𝑐𝑎𝑙𝑒𝑟=𝑚𝑎𝑛𝑡𝑖𝑠𝑠𝑎∙2−𝑒𝑥𝑝𝑜𝑛𝑒𝑛𝑡 17
Field length: 15 bits. 18
 19
5.4.7.5 ExtType=5: Modulation Compression Additional Parameters Extension Type 20
This section extension applies only to section types 1, 3 and 5 .  Table 5-26 and Table 5-27 shows the section extension 21
format when one set and two sets of “mcScaleReMasks, csf and mcScaleOffset values” are conveyed. Please note that 22
section extension type 5 may be used to convey more than 2 sets of “mcScaleReMasks, csf and mcScaleOffset values” 23
in which case the frame structure is extended in similar fashion, i.e. the reserved bits are added at the end of the section 24
extension to maintain 4-byte alignment. 25
Table 5-26 : Section Format for Section Extension 5 (one scaler value, modulation compression parameters) 26
ef extType = 0x05 1 Octet N
extLen (1 word) 1 N+1
mcScaleReMask[11:4] 1 N+2
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+3
mcScaleOffset [11:4] 1 N+4
mcScaleOffset [3:0] reserved 1 N+5
reserved 1 N+6
reserved 1 N+7
 27
Table 5-27 : Section Format for Section Extension 5 (two scaler values, modulation compression parameters) 28
ef extType = 0x05 1 Octet N
extLen (1 word) 1 N+1
mcScaleReMask[11:4] 1 N+2
mcScaleReMask[3:0] csf mcScaleOffset [14:12] 1 N+3
mcScaleOffset [11:4] 1 N+4
mcScaleOffset [3:0] mcScaleReMask[11:8] 1 N+5

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        86
ORAN-WG4.CUS.0-v01.00
mcScaleReMask[7:0] 1 N+6
csf mcScaleOffset [14:8] 1 N+7
mcScaleOffset [7:0] 1 N+8
reserved 1 N+9
reserved 1 N+10
reserved 1 M+11
 1
 2
5.4.7.5.1 mcScaleReMask  (modulation compression power scale RE mask) 3
Description: This parameter defines the Resource Element (RE) mask to indicate the position of RE with same scaling 4
and modulation type within a PRB. Each bit setting in the mcScaleReMask indicates if the mcScaleOffset and csf fields 5
are applicable to the RE sent in U-Plane messages or not (0=not applicable; 1=applicable). 6
Note that different REs in a PRB may be indicated by different invocations of mcScaleReMask within extension field 7
type 5.  If any RE in a PRB is never pointed to by a mcScaleReMask (but other REs in that PRB are), the “missing” RE 8
should be considered to represent not populated REs (e.g. no user data to transmit). 9
There is a relationship between the mcScaleReMask values and the section’s reMask: no bit in any of the 10
mcScaleReMasks should be set (=1) in a position where the reMask has a zero, and every reMask bit that is set (=1) 11
should have exactly one bit =1 in one of the mcScaleReMasks.  If these rules are v iolated, the O-RU’s reaction is 12
undefined.  13
Value range: {0000 0000 0000b-1111 1111 1111b}. 14
Type: unsigned integer (bit mask). 15
Field length: 12 bits. 16
Default Value: 1111 1111 1111b (all REs in the block applicable). 17
 18
5.4.7.5.2 csf (constellation shift flag) 19
Description: refer to section 5.4.7.4.1 20
 21
5.4.7.5.3 mcScaleOffset (scaling value for modulation compression) 22
Description: This parameter is the scale factor to apply to the unshifted constellation points during decompression.  It is 23
a fractional floating-point value having an unsigned but negative 4-bit exponent and an unsigned fractional 11-bit 24
mantissa. 25
Value range: {0 through +(1-2-11 ) }. 26
Type: unsigned integer. 27
"𝑚𝑎𝑛𝑡𝑖𝑠𝑠𝑎"=∑𝑚𝑐𝑆𝑐𝑎𝑙𝑒𝑂𝑓𝑓𝑠𝑒𝑡[𝑘]∙2𝑘−11
10
𝑘=0
 28
"𝑒𝑥𝑝𝑜𝑛𝑒𝑛𝑡"= ∑ 𝑚𝑐𝑆𝑐𝑎𝑙𝑒𝑂𝑓𝑓𝑠𝑒𝑡[𝑘]∙2𝑘−10
14
𝑘=11
 29
 30
“exponent” is the most significant 4 bits of the 15-bit mcScaleOffset field and “mantissa” is the least-significant 11 bits 31
of the mcScaleOffset field.  “mcScaleOffset[k] refers to the kth bit of the mcScaleOffset field.  Therefore, the actual 32
value of mcScaleOffset is:  33
𝑚𝑐𝑆𝑐𝑎𝑙𝑒𝑂𝑓𝑓𝑠𝑒𝑡=𝑚𝑎𝑛𝑡𝑖𝑠𝑠𝑎∙2−𝑒𝑥𝑝𝑜𝑛𝑒𝑛𝑡 34

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        87
ORAN-WG4.CUS.0-v01.00
Field length: 15 bits. 1
 2
Chapter 6 U-plane Protocol 3
6.1 General 4
6.1.1 U-plane Transport 5
Either eCPRI or IEEE 1914.3 is used as an encapsulation mechanism for the user-plane messages. Due to the nature of 6
these messages (very strict delay constraints), it is assumed that message acknowledgements are not possible. Likewise, 7
different data flows may be used for the User-Plane and Control-Plane messages.  8
6.1.2 U-plane Data Compression 9
U-Plane IQ data, (both DL and UL) including user data, PRACH and control channels may be transmitted in 10
compressed format. There are several envisioned compression methods including an “uncompressed” format. The 11
method of compression is variable based on sectionId but is constant for every section in a single C -Plane message.  12
Likewise, the I and Q bitwidth of the compressed samples is variable based on sectionId but is constant for every 13
section in a single C-Plane message.  The block compression methods are performed on Physical Resource Block 14
(PRB) basis (i.e. 12 x Resource Elements per PRB).  More specific details on the supported compression methods may 15
be found in Annex A. 16
An optional capability configures static IQ format and compression method, in which case the M-Plane defines the 17
static IQ format (bitwidth) and compression method.  In this case there are four fewer bytes in the U -Plane section 18
header, at the cost of less flexibility.  For static IQ data format and compression method, there are actually four sets of 19
data formats and compression methods: for LTE DL, LTE UL, NR DL and NR UL.  This allows the taking advantage 20
of the static format while still allowing some compression flexibility e.g. allowing modulation compression on the DL 21
(which only applies to DL) and some other compression method on the UL 22
6.1.3 Digital Power Scaling 23
6.1.3.1 Definition of IQ Power in dBFS 24
IQ power level in dBFS (dB full scale) is a logarithmic representation of the power level for an IQ sample carried over 25
the digital interface. IQ power level in dBFS is proportional to logarithm of I²+Q²: 26
IQ power level [dBFS] = 10·log10( I²+Q² ) - 10·log10(FS) 27
where FS = max(I²) = max(Q²) = max(I²+Q²) with max over all IQ values that can be represented by interface 28
For frequency domain IQ data, 0 dBFS is the maximum power level which can be carried by one subcarrier . The 29
smallest non-zero IQ power level is defined by the interface resolution.  30
It is expected that an O-RU will normalize any received DL value to its internal representation of full scale so that a 0 31
dBFS can be properly handled. 32
Example: 33
I=min I, Q=0 34
With 9bit mantissa 2’s complement + 4bit exponent compression:  min I = -256·2^15 = -2^23 →  35
0 dBFS  average(I²+Q²) = 2^46 36
Interface resolution  1/2^46  -138.47dBFs 37
6.1.3.2 Definition of Gain over Fronthaul Interface 38
The gain of an array defines the relation between the levels of a test signal seen at its input and output, also called 39
digital power scaling. The gain of an array can be calculated from the gain of one element of the array while assuming 40
all elements have same gain. Figure 6-1 depicts the gain relations between the digital interface and the RF reference 41

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        88
ORAN-WG4.CUS.0-v01.00
plane to an assumed lossless antenna (i.e., antenna insertion losses are counted as part of the gain in both DL and UL 1
direction).  2
 3
Figure 6-1 : DL and UL Gain over fronthaul interface 4
Both DL and UL gains in [dB] are described by the following relations 5
DL gain [dB] = RF output level [dBm] – IQ input level [dBFS]  6
UL gain [dB] = IQ output level [dBFS] – RF input level [dBm]  7
Where: 8
‘RF output level [dBm]’ and ‘RF input level [dBm]’ are RF signal level in dBm at reference plan e to an assumed 9
lossless antenna when the antenna is integrated inside the O-RU, or at TAB connector if antenna is not integrated inside 10
the O-RU. The rms output power [dBm] is measured per array element as Total Radiated Power TRP (i.e., excluding 11
any antenna directivity gain). The rms input power [dBm] is measured per array element after including the antenna 12
directivity gain. Note that the antenna directivity gain resuts from the array element directivity + 10·log10(number of 13
elements). Hence, when evaluating the array element gain, the antenna directivity is reduced to the array element 14
directivity. 15
‘IQ input level [dBFS]’ and ‘IQ output level [dBFS]’ are 10·log10(average(I²+Q²)) normalized such that 0dBFS is the 16
maximum nominal (r.m.s.) power level which can be achieved with a constant IQ signal with arbitrary phase (i.e., for 17
frequency-domain IQ signal for one sub-carrier, constant over time). 18
In O-RUs supporting beamforming, the actual DL gain and UL gain of the array element can be impacted by the gai n 19
level of beam weight used and which can change dynamically during operation. Such dependency on the beam 20
pattern shall be excluded when describing any configurable gain or reported gain (as O-RU capability).  21
For an exact definition of DL and UL gain, the respective input test signals need to be declared by the O-RU vendor; 22
this is not in scope of this specification. [For information only: This can be e.g., CW signal at carrier center or test 23
signals/reference signals defined by 3GPP; for DL gain those being defined to test accuracy of the maximum output 24
power (3GPP TS36.141 section 6.2→ 38.141) and for UL gain those being defined to test absolute accuracy of 25
Received Interference Power (3GPP TS 36.133 section 10.1.1 → 38.133)].  In Figure 6-2 the details of DL gain are 26
described. For every tx-array, O-RU reports (as capability) the maximal configurable DL gain of one element of the 27
array (alternatively the nominal power per tx-array element mapped to 0dBFS). In addition, the O-DU configures over 28
the M-Plane the DL gain to be used per tx-array element for a certain carrier configuration. 29
The values for the max configurable DL gain and configured DL gain assume: 30
• No power loss/gain due to beamforming weights;  31
• all available DL power can be allocated to one array carrier in a single eAxC; 32
 33
O-RU
digital input to O-RU: IQ power
levels are measured in dBFS

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        89
ORAN-WG4.CUS.0-v01.00
 1
Figure 6-2 : Details of DL Gain 2
In Figure 6-3 the details of UL gain are described. For every rx-array, O-RU reports (as capability) an UL 3
gain_correction_range in dB of one element of the array (applicable to all the elements of the array). The 4
gain_correction_range is signed, has a max and min value, and a step size. It shall be allowed to rep ort at least a range 5
of ±20dB and a resolution of 0.01dB. In addition, the O-DU configures over the M-Plane a gain_correction value to be 6
used per rx-array element for a certain carrier configuration. The O-RU can then configure its internal UL gain of the 7
rx-array element for that carrier (rx-array carrier element) if the IQ compression method is configured as static. In case 8
the compression method is dynamic, the internal gain of the O-RU will be dynamic and depending on compression 9
information received in realtime over the C-Plane.  10
The values for the configured UL gain assume: 11
• No power loss/gain due to beeamforming weights. 12
 13
 14
Figure 6-3 :  Details of UL Gain 15
digital input to O-RU
digital output of O-RU
Input IQ power levels are
measured in dBFS.  For
Category B O-RU this can
be generalized as power
level of IQ resulting from
decompression

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        90
ORAN-WG4.CUS.0-v01.00
 1
6.1.3.2.1 DL Gain Guideline 2
The DL gain of a TX array carrier element must be provided as part of the O-RU carrier set-up procedure.  The 3
configured (by the O-DU over the M-Plane) DL gain of a TX array carrier element (i.e. “TX array carrier element’’ 4
refers to the TX array element serving the respective carrier configured on the respective TX array) is defined by 5
mapping 0dBFs carried over any subcarrier (of the carrier) on the digital interface to the maximum RMS power the TX 6
array carrier element is supposed to output at the assumed-lossless antenna connector port (i.e., including all insertion 7
losses). In single-carrier operation, the configured DL gain applies to the carrier.  In multiple -carrier operation, the 8
configured DL gain should be lower accommodating the number of multiple carriers and thei r bandwidths.  It is the 9
responsibility of the O-DU to scale down the level of the signals at the interface to avoid saturation in the O-RU for 10
single or multiple-carrier configurations. 11
Configured DL_gain [in dB] ~≤ maximum TX power per array element [in dBm], valid for each individual spatial 12
stream served under this TX array carrier element. 13
NOTE 1: the configured DL gain of a TX array carrier is equivalent to mapping 0dBFs carried over any subcarrier (of 14
the carrier) on the digital interface to the maximum RMS power the TX array carrier element is supposed to output + 15
10·log10 (the number of array elements). 16
NOTE 2: for a category A O-RU, the tx-array output rms power is measured over 1 polarization 17
NOTE 3: for a category B O-RU, the tx-array output rms power shall be measured over all polarizations addressed by 18
the respective precoding operations 19
6.1.3.2.2 UL Gain Definition 20
The UL gain or scaling of an rx-array carrier element (i.e. ”rx-array carrier element’’ refers to the rx-array element 21
serving the respective carrier configured on the respective rx-array) is defined by mapping -152dBm at the assumed-22
lossless antenna port to the smallest power level an IQ sample can carry over the digital interface (i. e., average(I²+Q²) = 23
1) while considering a configured gain_correction value and the IQ compression properties to be used; valid for each 24
individual spatial stream received by an rx-array carrier element and for any carrier. In addition, in order to avoid 25
saturation over the interface when beamforming is used over the rx-array carrier, the largest power level that can be 26
received at the assumed-lossless antenna port by the rx-array carrier element is equivalent to 0dBFS - 10·log10(number 27
of array elements). The configured gain-correction allows to adjust the level of the smallest & largest receivable power.  28
The following principles apply: 29
1. the UL gain of an rx-array carrier is equal to the UL gain of the rx-array carrier element, and all rx-array carrier 30
elements are considered to have the same gain 31
2. the minimum and maximum power levels that can be received by the rx-array carrier are scaled by 32
+10·log10(number of array elements) from the respective values of the rx-array carrier element (i.e. when 33
signal is received with equal levels from all the elements of the rx array meaning no tapering used and all rx 34
elements have same design properties). In case an rx-array has only one rx-array element, then the scale factor 35
is unity. The reason behind this principle is to allow applying tapering (beam ID dependent) to an rx-array 36
without impacting the quality of the IQ data being transferred over the interface (i.e., in a worst case scenario, 37
the signal is received from only one rx-array element from the rx-array). 38
3. assumed-lossless antenna port means antenna losses are considered part of the unit under test. 39
4. the -152dBm is considered as the smallest level that can be measured by a narrow subcarrier of 1.25kHz (i.e., 40
CW tone) for a system with 3dB of equivalent noise figure and without being impacted by the interface noise 41
(i.e. 20dB margin considered). 42
5. Configured_UL_gain [in dB] = Interface resolution [dBFs] - (-152 dBm) + gain_correction [dB]; valid for each 43
received individual spatial stream (i.e. configured_UL_gain is configured by O-RU and not by the O-DU). 44
 45
The UL gain depends on the digital interface resolution [dBFS] representing the smallest level that can be used. The 46
interface resolution depends on the compression scheme which can be static or dynamic.  For this reason, when multiple 47
compression methods or IQ bitwidths are used for data streams received from an rx-array carrier element, the 48
configured gain must accommodate all the intended compression methods and IQ bitwidths.  49
For example, when using block floating point compression, the interface resolution is defined as 50
Interface resolution [dBFs]=−20×log10(2𝑀𝑎𝑛𝑡𝑖𝑠𝑠𝑎𝑏𝑖𝑡𝑠−1 ×22𝐸𝑥𝑝𝑜𝑛𝑒𝑛𝑡−1) 51

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        91
ORAN-WG4.CUS.0-v01.00
It is assumed that the gain_correction is 0dB by default, unless a different value is needed due to special circumstances 1
(details beyond the scope of this specification).  2
The gain_correction is configured as one value per rx array carrier and does not change once an array carrier is 3
activated. The O-RU applies a configured value of gain_correction regardless of used compression. 4
Example with rx-array formed by 10 array elements and gain_correction of 0dB: 5
9bit mantissa 2’s complement + 4bit exponent → Interface resolution=-138.5dBFS 6
Default UL gain [dB]=-138.5dBFs + 152dBm +0dB =13.5dB 7
The UL gain and power scaling are summarized in Table 6-1. 8
Table 6-1 : Example of UL gain and power scaling for an rx array with 10 elements and for block floating point 9
compression based on 9-bit mantissa and 4-bit exponent 10
Interface resolution -138.5dBFS rx-array carrier element  Rx-array carrier with 10 elements
 UL Gain 13.5dB 13.5dB
Lowest received power level without
degradation due to interface
(excluding losses due to beam
weights)
-152dBm → -138.5dBFS -142dBm→ -128.5dBFS
Largest possible received power
level
-23.5dBm → -10dBFS -13.5dBm → 0dBFS
  11
6.1.3.3 TX Power Budget Guideline for Category A O-RUs 12
This section describes a guideline for handling of power budget in a category A O-RU. In general, care must be taken to 13
avoid exceeding the maximum rms power rating of a tx-array element. 14
In this section, 𝑚a,k  is the maximum rms power rating (in W) of tx-array element k of a tx-array a with K elements. For 15
simplicity it is assumed all K elements of the array have the same maximum rms power rating (i.e., for every array a 16
and every 𝑘 and 𝑘´, 𝑚a,k  = 𝑚a,k´). For an O-RU with tx-array a, the maximum rms power rating of tx-array 17
element shall be reported as read-only parameter. This will be a common value for all array elements of the tx-18
array a. 19
NOTE 1: maximum-power-rating can be reported as form of gain when mapped to 0dBFS. 20
The maximum rms power rating of array can be derived from 𝑚a,k  by scaling linearly with the number of elements K 21
(i.e., 𝑚a=K·𝑚a,k)  22
In addition, let 𝑔𝑐,𝑎,𝑘 be the gain (in dB) configured for tx-array element 𝑘 of tx-array 𝑎 for array carrier 𝑐. It is 23
considered that the configured gain is same to every element (i.e., for every tx-array carrier 𝑐, every tx-array 𝑎 and 24
every element 𝑘 and 𝑘´, 𝑔𝑐,𝑎,𝑘 = 𝑔𝑐,𝑎,𝑘´). Hence, the O-DU should configure the O-RU by providing a value for 𝑔𝑐,𝑎,𝑘 25
in parameter ‘gain’ of tx-array-carrier.  26
The total gain of array carrier c served on array a can be derived from the configured gain 𝑔𝑐,𝑎,𝑘 as: 𝑔𝑐,𝑎 [dB]= 𝑔𝑐,𝑎,𝑘 27
[dB]+10·log10(K). 28
Hence, the power p𝑐,𝑎,𝑘 of array carrier c served on tx-array element k of array a can be derived as p𝑐,𝑎,k [dBm]= 𝑔𝑐,𝑎,𝑘 29
[dB]+0dBFS. As a result, the total power of p𝑐,𝑎 of array carrier c served on tx-array a is derived as p𝑐,𝑎 [dB]= p𝑐,𝑎,𝑘 30
[dB]+10·log10(K). Finally, the total power p𝑎.k used on tx-array element k of tx-array a serving all configured carriers is 31
derived as 32
𝑝𝑎,𝑘 =10∙log10∑10
𝑝𝑐,𝑎,𝑘
10
𝑐
. 33
In scenarios where a tx-array element k is shared between multiple tx-arrays, the O-DU shall ensure that the 34
configured gains 𝑔𝑐,𝑎,𝑘 are constrained by: 35
∑∑10
𝑔𝑐,𝑎,𝑘+0𝑑𝐵𝐹𝑆
10
𝑐𝑎
≤1000∙𝑚𝑘 36

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        92
ORAN-WG4.CUS.0-v01.00
where 𝑚𝑘 =min
𝑎
(𝑚𝑎,𝑘). The index a spans over every tx-array a that shares array element k and has array carrier 1
configured. The summing over c includes every array carrier c that is configured for tx-array a.  2
NOTE 2: in general m𝑎,𝑘 can be different for different values of tx-array a. However, tx-arrays not used in a given 3
configuration do not contribute to the above constraint. 4
For every configured array carrier c over a tx-array a, the O-DU shall ensure that the input power levels of all 5
resource elements used over all eAxCs x are constrained by:   6
∑∑10
|𝑅𝐸𝑛,𝑥,𝑐,𝑎|2
10
𝑛𝑥
≤1 7
Where |𝑅𝐸𝑛,𝑥,𝑐,𝑎|
2
 represents that input power level in dBFS of an RE n of an eAxC x of array carrier c configured over 8
tx-array a.  The summing over x includes every eAxC x of array carrier c that is used simultaneously in DL. The 9
summing over n includes every RE of eAxC x that is used simultaneously in DL.  10
The final constraint is related to the beamforming weights to be used in order to make the power budget practical from 11
an implementation perspective. For any beamforming weight w𝑘,x (a complex number) to be used with array 12
element k and eAxC x, the entity controlling the generation of the weight (i.e., O-DU or O-RU) shall ensure that 13
the |𝒘𝒌,𝒙|
𝟐
≤𝟏 14
 15
6.2 Elementary Procedures 16
6.2.1 IQ Data Transfer procedure 17
This procedure is used to transfer frequency domain IQ data samples between the O-DU and O-RU. Data is transmitted 18
symbol by symbol as U-Plane messages. The data-associated control information is typically sent every slot (or for 19
LTE, TTI) in a different data flow with its own header and encapsulated payload (C-Plane messages). An overview of 20
the logic for transmission of both the data-associated control information and IQ data is depicted in Figure 6-4 21
. 22
LegendApplication Layer
Control Info
IQ Data
Control Info
for SLOT #n
IQ Data
U-Plane IQ Data for SLOT #n
Control Info
IQ Data IQ Data
U-Plane IQ Data for SLOT #n+1
Control InfoControl Info IQ Data IQ Data IQ Data IQ Data
Transport Layer
C-Plane and U-Plane messages are not
concatenated but are sent in physically
separate frames
Control infoC-Plane
header
IP & Ethernet
Headers
IQ DataU-Plane
header
IP & Ethernet
Headers
for a single flow of data, point of view of sender
Control Info
for SLOT #n+1
 23
Figure 6-4 : DL IQ data transfer overview 24

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        93
ORAN-WG4.CUS.0-v01.00
 1
The IQ transfer procedure is comprised of two types of messages: 2
• Message containing scheduling and beamforming commands information (i.e. data-associated control)   3
• Message containing frequency domain IQ samples 4
The data-associated control information is bundled in messages within a single data flow (albeit possibly in multiple C-5
Plane messages). However, control information for UL and DL is sent separately (See Figure 6-5).  As shown in the 6
figure, the C-Plane messages for a given slot are exchanged between the O-DU and O-RU are followed by the U-Plane 7
data for that slot, one symbol at a time, after which the C-Plane messages for the next slot are exchanged between the 8
O-DU and the O-RU followed by the U-Plane data for that next slot.  There is a limited intention to support “look-9
ahead” wherein the C-Plane data for a future slot may be sent prior to the actual U-Plane data, this is governed by delay 10
management parameters such as T1a_max_cp_dl, T1a_min_cp_dl and T2a_min_cp_dl.  Figure 6-5 shows the case 11
where control information for slot #n+1 is sent prior to U-Plane data for slot #n.   A greater look-ahead capability would 12
result in a need for a larger O-RU buffer to store look-ahead C-Plane messages so is not supported. 13
Also shown in the figure is the fact that there is a certain period of time between the O-RU’s receipt of C-Plane 14
messages for a symbol and the need for the O-RU to process U-Plane data for that symbol.  In particular, in the DL 15
there is a period of time, “tadv_cp_dl” which provides for some number of microseconds for th e O-RU to e.g. update 16
beamforming weights prior to DL data arriving from the O-DU.  In the UL there is a period of time, “t2a_min_cp_ul” 17
between the O-RU’s receiving the C-Plane messages governing the processing of UL data and the receipt of UL signals 18
at the O-RU’s antennas.  These time intervals, when combined with network delays and other processing latencies, 19
result in the RAN’s HARQ loop to be closed allowing feedback in the air interface processing.  20
 21
O-DU
(@ FH interface)
O-DU
(@ FH interface)
tadv_cp_dl
C-Plane and DL U-Plane C-Plane and UL U-PlaneO-RU
(@ antenna)
O-RU
(@ FH interface)
t2a_min_cp_ul
ta3_min
min. time the RU
has to prepare to
process DL data
from the lls-CU
air interface signals for slot #n, initial symbol arrives at the antenna
ta3_min
air interface signals for slot #n+1, initial symbol arrives at the antenna
min. time the RU
has to prepare to
process UL signals
at the antenna
network delay network delay
tadv_cp_dl
network delay
t2a_min_cp_ul
network delay
time flow
*for a multi-symbol C-Plane message, the message must be received
by the RU “tadv_cp_dl” before the receipt by the RU of the U -Plane’s
lowest-numbered symbol in the C -Plane message
**for a multi-symbol C-Plane message, the message must be received by
the RU “t2a_min_cp_ul” before the receipt by the RU’s antenna of the
lowest-numbered symbol in the C -Plane message
 22
Figure 6-5 : C-Plane and U-Plane message transfer procedure (DL & UL shown) 23
 24
Regardless of the level of compression, user-plane data may exceed the maximum packet size (e.g., MTU of 1500 Bytes 25
for regular not Jumbo frames) even in case of one symbol of granularity. Thus, IQ data for each symbol may require 26
packetization over multiple packets. 27
User plane messages are sent as resource blocks (“PRBs”) and the data for each PRB shall start on a byte boundary.  If 28
due to the IQ bit-width being used the natural end of the data in the PRB does not fall on a byte boundary, then zero bits 29
shall be appended until a byte boundary is reached. 30
PRACH data is handled similarly, such that the PRACH REs are packaged into 12 -RE blocks analogous with data 31
PRBs.  Each 12-RE block shall be padded with zero bits to end on a byte boundary.  In cases when there is not an even 32

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        94
ORAN-WG4.CUS.0-v01.00
factor of 12 REs in the PRACH data (e.g. 839 PRACH REs), added zero -value REs shall be added to fill out the block 1
to 12 REs, and then if needed zero-padding will then be appended to reach a byte boundary. 2
6.3 Elements for the U-plane Protocol 3
6.3.1 General 4
U-Plane messages are encapsulated using a two-layered header approach. The first layer consists of an eCPRI or IEEE 5
1914.3 common header, including fields used to indicate the message type, while the second layer is an application 6
layer including necessary fields for control and synchronization.   7
6.3.2 DL/UL Data 8
A common frame format is used for U-Plane messages consisting of a transport layer and an application layer. The 9
application layer is within the transport payload and consists of a common header for time reference, followed by 10
information and parameters dependent and specific to the Section Type in use. Data from multiple sections of the same 11
value can be lined up one after another within the payload. To minimize packet rate over the interface, transmitter 12
should fill messages with as many subsequent sections as possible. However, data from sections of different Section 13
Types is to be sent via separate messages (i.e. data from different values of Section Type shall not be mixed within a 14
single U-Plane message payload). Furthermore, whenever necessary, stuffing bits are to be added at the end of a 15
sections after (possibly compressed) I and Q sample data to achieve 1-Byte alignment.  Note that within a resource 16
block, 12 REs are always sent across the interface.  If some REs are meant to be blank some data (perhaps zero value) 17
must be sent anyway because the U-Plane data parser is expecting exactly 12 complex RE values per resource block. 18
 19
o Transport Layer – see section 3.1.3 20
o Application Layer 21
o Section Type “1” Fields (used for most Downlink and Uplink physical radio channels): 22
o Common Header Fields 23
o dataDirection (data direction (gNB Tx/Rx)) field: 1 bit  24
o payloadVersion (payload version) field: 3 bits 25
▪ Value = “1” shall be set (1st protocol version for payload and time reference format)  26
o filterIndex (filter index) field: 4 bits 27
o frameId (frame identifier) field: 8 bits 28
o subframeId (subframe identifier) field: 4 bits 29
o slotID (slot identifier) field: 6 bits 30
o symbolId (symbol identifier) field: 6 bits 31
o Section header fields 32
o sectionID (section identifier) field: 12 bits 33
o rb (resource block indicator) field: 1 bit 34
o symInc (symbol number increment command) field: 1 bit 35
o startPrbu (starting PRB of user plane section) field: 10 bits 36
o numPrbu (number of contiguous PRBs per data section) field: 8 bits 37
o udCompHdr (user data compression header) field, not always present: 8 bits 38
o reserved (reserved for future use) field, only present with udCompHdr: 1 byte 39
 40
o PRB fields 41
o udCompParam (user data compression parameter) field: 8 bits 42

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        95
ORAN-WG4.CUS.0-v01.00
o iSample (in-phase sample) field: 1-16 bits 1
o qSample (quadrature sample) field: 1-16 bits 2
o Section Type “3” Fields (used for PRACH and mixed-numerology channels): 3
o Timing header, section header and PRB fields same as for Section Type “1” 4
o Section Type “5” Fields (used for UE scheduling information): 5
o Timing header, section header and PRB fields same as for Section Type “1”  6
o Section Type “6” Fields (used for sending channel information for a specific UE ID): 7
o Timing header, section header and PRB fields same as for Section Type “1”  8
 9
Table 6-2 : IQ data frame format 10
Section Type 1,3 : DL/UL IQ data msgs
0  (msb) 1 2 3 4 5 6 7  (lsb) # of
bytes

transport header, see section 3.1.3 8 Octet 1
dataDirection payloadVersion filterIndex 1 Octet 9
frameId 1 Octet 10
subframeId slotId 1 Octet 11
slotId symbolid 1 Octet 12
sectionId 1 Octet 13
sectionId rb symInc startPrbu 1 Octet 14
startPrbu 1 Octet 15
numPrbu 1 Octet 16
udCompHdr (not always present) 1 Octet 17
reserved (not always present) 1 Octet 18
udCompParam (not always present) 1 Octet 17/19
iSample (1st RE in the PRB) 1* Octet 18/20
qSample (1st RE in the PRB) 1* Octet 19/21*
…
iSample (12th RE in the PRB) 1* Octet 40/42*
qSample (12st RE in the PRB) 1* Octet 41/43*
udCompParam (not always present) 1* Octet 42/44*
iSample (1st RE in the PRB) 1* Octet 43/45*
qSample (1st RE in the PRB) 1* Octet 44/46*
…
iSample (12th RE in the PRB) 1* Octet 65/67*
qSample (12st RE in the PRB) 1* Octet 66/68*
…

sectionId 1 Octet M
sectionId rb symInc startPrbu 1 M+1
startPrbu 1 M+2
numPrbu 1 M+3
udCompHdr (not always present) 1 M+4
reserved (not always present) 1 M+5
udCompParam (not always present) 1 M+4/6
iSample (1st RE in the PRB) 1* M+5/7
qSample (1st RE in the PRB) 1* M+6/8*
…
iSample (12th RE in the PRB) 1* M+27/29*
qSample (12st RE in the PRB) 1* M+28/30*
udCompParam (not always present) 1* M+29/31*

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        96
ORAN-WG4.CUS.0-v01.00
iSample (1st RE in the PRB) 1* M+30/32*
qSample (1st RE in the PRB) 1* M+31/33*
…
iSample (12th RE in the PRB) 1* M+52/54*
qSample (12st RE in the PRB) 1* M+53/55*
shading: yellow is transport header, pink is radio application header, others are repeated sections 1
*Octet count given if the iqWidth = 8 but other iqWidth values are possible  2
 3
6.3.3 UL/DL Data Coding of Information Elements 4
See section 3.1.3 for transport header information element details. 5
6.3.3.1 dataDirection (data direction (gNB Tx/Rx)) 6
See section (5.4.4.1) 7
6.3.3.2 payloadVersion (payload version) 8
See section (5.4.4.2) 9
6.3.3.3 filterIndex (filter index) 10
See section (5.4.4.3) 11
6.3.3.4 frameId (frame identifier) 12
See section (5.4.4.4) 13
6.3.3.5 subframeId (subframe identifier) 14
See section (5.4.4.5) 15
6.3.3.6 slotId (slot identifier) 16
See section (5.4.4.6) 17
6.3.3.7 symbolId (symbol identifier) 18
Description: This parameter identifies a symbol number within a slot.  19
Value range: {00 0000b-11 1111b} 20
Type: unsigned integer. 21
Field length: 6 bits. 22
6.3.3.8 sectionId (section identifier) 23
See section (5.4.5.1) 24
6.3.3.9 rb (resource block indicator) 25
See section (5.4.5.2) 26
6.3.3.10 symInc (symbol number increment command) 27
See section (5.4.5.3) 28

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        97
ORAN-WG4.CUS.0-v01.00
6.3.3.11 startPrbu (startingPRB of user plane section) 1
Description: This parameter is the starting PRB of a user plane data section. Values of startPrbu and numPrbu must 2
ensure that data sections must never overlap: a single PRB may only exist within one data section for a given value of 3
eAxC.  For one C-Plane message, there may be multiple U-Plane messages associated with it and requiring defining 4
from which PRB the contained IQ data are applicable.  5
Note: freqOffset affects the frequency span for specific range of PRB numbers. Therefore "must never overlap" must 6
consider the value of freqOffset. 7
Value range: {00 0000 0000b-11 1111 1111b}. 8
Type: unsigned integer. 9
Field length: 10 bits. 10
 11
6.3.3.12 numPrbu (number of PRBs per user plane section) 12
Description: This parameter defines the PRBs where the user plane data section is valid. Values of startPrbu and 13
numPrbu must ensure that data sections must never overlap: a single PRB may only exist within one data section for a 14
given value of eAxC.   15
Value range: {0000 0001b-1111 1111b, 0000 0000b = all PRBs}. 16
 Value 0000 0000b is particularly relevant for NR cases wherein the total number of PRBs may be more than 255.  17
Type: unsigned integer. 18
Field length: 8 bits. 19
 20
6.3.3.13 udCompHdr (user data compression header) 21
Description: This parameter defines the compression method and IQ bit width for the user data in the data section.  22
This field is absent from U-Plane messages when the static IQ format and compression method is configured via the M-23
Plane.  In this way a single compression method and IQ bit width is provided (per UL and Dl, per LTE and NR) without 24
adding more overhead to U-Plane messages.  25
Value range: {0000 0000b-1111 1111b} 26
Bit allocations 27
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

udIqWidth udCompMeth 1 Octet 1
 28
Table 6-3 : udIqWidth definition 29
udIqWidth Bit width of each I and each Q
0000-1111b 16 for udIqWidth=0, otherwise equals udIqWidth e.g. udIqWidth = 0000b means I and Q are
each 16 bits wide;
e.g. udIQWidth = 0001b means I and Q are each 1 bit wide;
e.g. udIqWidth = 1111b means I and Q are each 15 bits wide
 30
Table 6-4 : udCompMeth definition 31
udCompMeth compression method udIqWidth meaning
0000b no compression bitwidth of each uncompressed I and Q value
0001b block floating point bitwidth of each I and Q mantissa value
0010b block scaling bitwidth of each I and Q scaled value
0011b -law bitwidth of each compressed I and Q value
0100b modulation compression bitwidth of each compressed I and Q value
0100b – 1111b reserved for future methods depends on the specific compression method

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        98
ORAN-WG4.CUS.0-v01.00
 1
Type: unsigned integer (concatenated bit fields). 2
Field length: 8 bits. 3
 4
6.3.3.14 reserved (reserved for future use) 5
Description: This parameter provides 1 byte for future definition, should be set to all zeros by the sender and ignored 6
by the receiver.   This field is only present when udCompHdr is present, and is absent when the static IQ format and 7
compression method is configured via the M-Plane.   8
Value range: {0000 0000b-1111 1111b}, but shall be set to all zeros. 9
Type: unsigned integer. 10
Field length: 8 bits. 11
 12
6.3.3.15 udCompParam (user data compression parameter) 13
Description: This parameter applies to whatever compression method is specified by the associated sectionID’ s 14
compMeth value. 15
Value range: {0000 0000b-1111 1111b}. 16
Bit allocations 17
udCompMeth 0 (msb) 1 2 3 4 5 6 7 (lsb) compParam
size
   0000b = no compression absent 0 octets
   0001b = block fl. point reserved (set to all zeros) exponent (unsigned) 1 octet
   0010b = block scaling
sblockScaler (unsigned, 1 integer bit, 7 fractional bits)
1 octet
   0011b = -law compBitWidth compShift 1 octet
   0100b = modulation compr. absent 0 octets
0101b – 1111b reserved (set to all zeros) ? octets
Type: variable. 18
Field length: zero for udCompMeth values 0000b and 0100b, 8 bits for udCompMeth values 0001b, 0010b and 0011b; 19
other udCompMeth values may imply other lengths but will always be an integer number of bytes . 20
 21
6.3.3.16 iSample (in-phase sample) 22
Description: This parameter is the In-phase sample value.  23
Value range: {all zeros – all ones}. 24
Type: signed integer. 25
Field length: 1-16 bits. 26
 27
6.3.3.17 qSample (quadrature sample) 28
Description: This parameter is the Quadrature sample value.  29
Value range: {all zeros – all ones}. 30
Type: signed integer. 31
Field length: 1-16 bits. 32

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        99
ORAN-WG4.CUS.0-v01.00
6.3.4 DL Data Precoding 1
• Section extension ‘3’ is used for C-plane and associated sectionID for U-plane 2
• O-RU must understand that for this section extension, O-RU should read 12 REs which have CRS reference 3
signals in that PRB.  4
• O-RU must understand the crsShift and crsReMask field to map appropriately the CRS REs to each antenna 5
port 6
Table 6-5 : DL Data Precoding Example 7
C-plane example
DL Precoding configuration parameters and
indications (Section ext “3”)
O-RU Outcome
• Section ext = 3
• txScheme=’txD’
• codeBookIndex= ‘00000000’ (invalid)
• numLayer = 4
• layerId  = ‘0000’ (TxD)
• crsReMask= 001001001001 (Assuming
MSB..LSB)
• crsSymNum=0000
• crsShift=0
• beamIdAP1
• beamIdAP2
• beamIdAP3
• Based on numLayers, crsShift, crsSymNum and
crsReMask bit positions, CRS ports are mapped to the
appropriate RE position and rest are left blank.
CRS (4
Layer)
If crsSymNum  crsReMask Bit
Position
(crs_Ant0)  0 {0,6} + vShift
(crs_Ant1) 0 {3,9} + vShift

 8
6.3.5 Data Transfer for Special Cases 9
Uplink IQ data transfer is covered in Section 6.3.2.  In particular, PRACH and other common channels as well as SRS 10
and other reference signal channels use the same frequency domain IQ data packetization as with user data channels 11
(PDSCH, PUSCH). 12
6.3.5.1 Data Message Mapping and Packetization 13
See Section 6.3.2.  14
Chapter 7 Counters and KPIs 15
7.1 Counters 16
This chapter provides details of the specific performance counters that are expected to be supported related to the 17
fronthaul interface.  Some will be considered mandatory and some optional, and there are dif ferences for the DL versus 18
the UL. 19
The tables below provide some counter definitions, it is expected there will be more added in future versions of the 20
specification. 21
Table 7-1 : Common Counters for both DL and UL 22
# Counter name Counter meaning
1 Rx_on_time Data was received on time (applies to user data reception window)
2 Rx_early Data was received too early (applies to user data reception window)
3 Rx_late Data was received too late (applies to user data reception window)
4 Rx_corrupt Corrupt/Incorrect header packet
5 Rx_pkt_dupl Duplicated packet
6 Total_msgs_rcvd Total messages received (on all links)
 23

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        100
ORAN-WG4.CUS.0-v01.00
Table 7-2 : Counters specific to DL 1
# Counter name Counter meaning
1  None identified yet
2
3
4
 2
Table 7-3 : Counters specific to UL 3
# Counter name Counter meaning
1  None identified yet
2
3
4
 4
 5
Chapter 8 Specification Mandatory and Optional Capabilities 6
8.1 General 7
This chapter provides details regarding which capabilities within the specification are mandatory and which are 8
optional.  The list will in general be different for the O-DU versus the O-RU because in many cases, the O-DU will 9
need to implement multiple options as mandatory to ensure interoperability with O-RUs that have optional capabilities.  10
For example, the ability to support many compression methods may be mandatory in the O-DU while in O-RUs there 11
may be only a single mandatory compression method to allow simplicity in O-RU design (while vendors may enhance 12
their O-RU product offering by implementing some of the optional compression methods).  13
Table 8-1 : O-RAN-Supported LTE and NR Channels 14
Physical Channel Support
LTE DL Channels
PDSCH, PBCH, PCFICH, PDCCH, ePDCCH, MPDCCH, PHICH, CRS, MBSFN RS,
UE-RS, DMRS for ePDCCH/MPDCCH, PRS, CSI-RS, PSS, SSS, Discovery RS
LTE UL Channels PUSCH, PUCCH, DMRS-PUSCH, DMRS-PUCCH, SRS, PRACH (incl. eMTC)
Narrow band IoT DL Channels NB-DMRS, NB-PDSCH, NB-PBCH, NB-PDCCH, NB-RS, NB-PRS, NB-PSS, NB-SSS
Narrow band IoT UL Channels NB-PUSCH, NB-PRACH
NR DL Channels PDSCH, PDCCH, DMRS-PDSCH, PTRS-PDSCH, DMRS-PDCCH, DRMS-PBCH,
CSI-RS, PSS, SSS, SS Block/PBCH
NR UL Channels PUSCH, PUCCH, PRACH, DMRS-PUSCH, PTRS-PUSCH, DMRS-PUCCH, SRS

System Capability Support
Technologies LTE TDD, FDD (normal and extended CP)
NR TDD, FDD
Channel Bandwidth LTE: 1.4, 3, 5, 10, 15, 20 MHz
NR: up to 400MHz
Subcarrier Spacing
LTE: 15kHz, 7.5kHz, 1.25kHz
LTE PRACH: 1.25kHz, 7.5kHz
NB-IoT PRACH: 3.75kHz
NR: 15, 30, 60, 120, 240 kHz
NR Multi Numerology
NR PRACH: 1.25, 5, 15, 30, 60, 120 kHz
LTE Specific Features DL Transmission Modes :  TM1 - TM10

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        101
ORAN-WG4.CUS.0-v01.00
UL Transmission Modes : TM1, TM2
Carrier Aggregation
eMBMS
TTI-Bundling
Semi-Persistent Scheduling (SPS)
MIMO (SU/MU-MIMO)
UE TAS (Tx Antenna Selection)
FeICIC (ABS)
CoMP (DL/UL), JT
Short TTI
eMTC
NB-IOT (in band/gurad band/standalone)
License Assisted Access (LAA)
Sidelink (Proximity Services)
Dynamic TDD (eIMTA)
Mission Critical PS-LTE Features (MCPTT, ..)
Positioning (PRS, OTDOA etc)
V2X
Distributed Antenna Sysstem Support
CBRS Support
NR Specific Features
EN-DC
SSBlock
BW Part
Supplimentary UL
Mini-slot
LTE-NR Co-existence
Beamforming
Analog Beamforming
Digital Beamforming
Hybrid Beamforming
O-RU Support for 2 - 256 TRXU
Transport
L2 : Ethernet
L3 : IPv4, IPv6
QoS over Fronthaul
 1
Table 8-2 : O-RAN Mandatory and Optional Features 2
Category Feature
O-DU
Support
O-RU
Support Note
O-RU Category
Support
Support for CAT-A O-RU (up to 8 spatial
streams) Mandatory NA
Support for CAT-A O-RU (> 8 spatial streams) Optional NA
Support for CAT-B O-RU (precoding in O-
RU) Mandatory NA
Beamforming Beam Index based Mandatory Mandatory
Applies to UE specific
BF for all O-RUs

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        102
ORAN-WG4.CUS.0-v01.00
Real-time BF Weights  Mandatory Mandatory
Applies to O-RUs
capable of BF using RT
Weights
Real-Time Beamforming Attributes Optional Optional
UE Channel Info Optional Optional
Bandwidth
Saving
Programmable static-bit-width Fixed Point IQ Mandatory Mandatory
Real-time variable-bit-width Optional Optional
Compressed IQ
 - Block floating point compression Optional Optional
 - Block scaling compression Optional Optional
 - -law compression Optional Optional
 - modulation compression Optional Optional
 - beamspace compression Optional Optional
Variable Bit Width per Channel (per data section) Optional Optional
Static configuration of U-Plane IQ format and
compression header Optional Optional
Use of “symInc” flag to allow multiple symbols
in a C-Plane section Optional Optional
Energy Savings Transmission blanking Optional Optional
O-DU - O-RU
Timing
Pre-configured Transport Delay Method Mandatory Mandatory
Measured Transport Method (eCPRI Msg 5) Optional Optional
Synchronization
G.8275.1 NA Mandatory
G.8275.2 NA Optional
GNSS based sync NA Optional
SyncE NA Optional
Transport
Features
L2 : Ethernet Mandatory Mandatory
L3 : IPv4, IPv6 (CUS Plane) Optional Optional
QoS over Fronthaul Mandatory Mandatory
Prioritization of different U-Plane traffic types Optional Optional
Support of Jumbo Ethernet frames Optional Optional
eCPRI Mandatory Mandatory
support of eCPRI concatenation Optional Optional
IEEE 1914.3 Optional Optional
Application fragmentation Mandatory Mandatory C-Plane and U-Plane
Transport fragmentation Optional Optional U-Plane (not C-Plane)
Other features LAA LBT O-DU Congestion Window mgmt Mandatory Mandatory
Only for RUS
supporting LAA
LAA LBT O-RU Congestion Window mgmt Optional Optional
 1
 2

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        103
ORAN-WG4.CUS.0-v01.00
Chapter 9 S-Plane Protocol 1
9.1 General 2
9.1.1 Overview 3
Time and frequency synchronization can be distributed to the O-DU and O-RU in different manner. However, 4
synchronization accuracy is mostly impacted by implementation (e.g., timestamping near the interfaces, number of 5
hops) than by the technology itself. The following synchronization options are available over an Ethernet network:  6
• Frequency synchronization where clocks are aligned in frequency 7
• Phase synchronization where clocks are aligned in phase 8
• Time synchronization where clocks are aligned to a common base time 9
Together the above parameters define a profile for the network, requiring a set of feature s and option selections for 10
bridges and end stations operation. Further, the profile also states the conformance requirements for supporting 11
equipment and user applications.  12
This edition of the document considers frequency, phase and time synchronization of al l the network elements (O-DUs, 13
intermediate switches and O-RUs). Frequency-only configurations (like LTE FDD or 5G FDD) are For Further Study.  14
This edition of the document considers macro BTS O-DUs and not small cells that have O-DU and O-RU in the same 15
box and therefore no need for fronthaul link. 16
9.2 Synchronization Baseline 17
9.2.1 List of Reference Documents 18
See section 1.2.1. 19
 20
9.2.2 Clock Model and Synchronization Topology 21
Different O-RAN synchronization topologies are necessary to address different deployment market need.  The 22
following 4 topology configurations are considered by O-RAN as compliant topologies.  A configuration label is used 23
for easier reference through this specification: 24
• Configuration C1: network timing from O-DU to O-RU via point-to-point topology between central site and remote 25
site 26
• Configuration C2: network timing from O-DU to O-RU between central sites and remote sites.  One or more 27
Ethernet switches are allowed in the fronthaul network.  Interconnection among switches and fabric topology (for 28
example mesh, ring, tree, spur etc.) are deployment decisions which are out of the scope of this O-RAN 29
specification.  30
• Configuration C3: network timing from PRTC/T-GM to both O-DU and O-RU between central sites and remote 31
sites.  One or more Ethernet switches are allowed in the fronthaul network.  Interconnection among switches and 32
fabric topology (for example mesh, ring, tree, spur etc.) are deployment decisions which are out of the scope of this 33
O-RAN specification   34
• Configuration C4: Local time source traceable to a PRTC (typically a GNSS receiver) providing the timing to O-35
RU 36
Note applying to both C2 and C3: Only current types and classes (PRTC/T -GM, T-BC, T-TC) under G.8271.1 are 37
covered by this document.  Consideration of upcoming clock types and classes inside ITU-T G.8271.1 new revision, or 38
outside this recommendation, is For Future Study. 39

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        104
ORAN-WG4.CUS.0-v01.00
9.2.2.1 Topology configuration C1 and C2 Synchronization 1
Configuration C1 is based on point-to-point connection between O-DU and O-RU using network timing option.  As 2
shown in Figure 9-1 below, it is basically the simplest topology for network timing option, where O-DU directly 3
synchronizes O-RU. 4
Configuration C2 is similar to C1 with O-DU acting as PTP and SyncE master to distribute network timing toward O-5
RU.  One or more Ethernet switches are allowed between the central site (hosting O-DUs) and the remote sites (hosting 6
O-RUs).  The allowed number of switches in the PTP and SyncE path (between PTP and SyncE maste r and slaves) is 7
limited by frequency and time error contributions by all clocks in the chain. 8
With Full Timing Support and Annex H detailed budget split, the allowed network noise limit in the budget can be met 9
by 2 T-BC Class B switches as shown in Figure 9-1 below.  Additional T-BC switches may be allowed if total noise 10
limit can be met.  The synchronization SYNCE+PTP master is located at the O-DU. Further, all Ethernet switches in the 11
fronthaul function as Telecom Boundary Clocks as specified by ITU-T G.8273.2.  T-TC switch is also allowed as T-BC 12
replacement with the same expectation based on G.8271.1. 13
With Partal Timing Support, non-T-BC switches may also be deployed.  Further investigation is required to speci fy 14
appropriate frequency and timing budgets and network configuration to ensure 4G and NR TAE requirements as 15
described in Table 9-3 and 3GPP frequency accuracy requirements can be met. 16
Interconnection among switches and fabric topology (for example mesh, ring, tree, spur etc.) are deployment decisions 17
which are out of the scope of this O-RAN spec. 18
  19

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        105
ORAN-WG4.CUS.0-v01.00
remote sitecentral site
O-DU sync source : For example a local Time source traceable to PRTC (eg. GNSS), or PTP slave to remote
PRTC/T-GM in upstream network
Facing O-RAN fronthaul network (based on full timing support with G.8275.1 Telecom Profile as reference):
• O-DU : SyncE+PTP master
• Switch : Telecom Boundary Clock (T-BC) based on G.8273.2
• O-RU : Telecom Time Slave Clock (T-TSC*).  This T-TSC inside O-RU is a 3GPP end application module and G.8273.2 Appendix IV
applies.  Additional noise filtering is needed to filter fronthaul interface dynamic noise to meet 3GPP frequency accuracy requirement.
Note that T-TC switch is allowed as T-BC replacement with the same performance expectation based on G.8271.1.
Partial timing support using non T-BC switches may also be allowed. G.8275.2 Telecom Profile is required for partial timing support.
Performance aspects and budgets associated with this mode requires further investigation.
T-TSC*SyncE+PTP
master
O-RUO-DU
PTP/SyncE path
Additional noise
filtering to meet
3GPP
Config C2
Config C1
local or remote
PRTC-traceable
time source
O-RAN fronthaul
Air interface
T-TSC*
O-RU
O-DU
switch
Additional noise
filtering to meet
3GPP
local or remote
PRTC-traceable
time source
O-DU
local or remote
PRTC-traceable
time source
T-TSC*
O-RU Additional noise
filtering to meet
3GPP
remote site
central site
T-TSC*
O-RU Additional noise
filtering to meet
3GPP
T-TSC*
O-RU Additional noise
filtering to meet
3GPP
remote site
PTP/
SyncE
path
O-DU
local or remote
PRTC-traceable
time source
central site
Figure is for illustrative purpose and
does not provide deployment guidance
(for example the number of switches in
a clock chain and fabric topology).
1 or more
switches in a
fabric topology
SyncE+PTP
master
SyncE+PTP
master
SyncE+PTP
master
 1
Figure 9-1 : Configurations C1 and C2 synchronization 2
Notes for O-DU: 3
O-DU acts as SYNCE and PTP master towards the fronthaul interface, but there are different possible sub -4
configurations based on the O-DU sync source: 5
• if O-DU sync source is from a local time source traceable to a PRTC (typically a GNSS receiver), it may act as a T -6
GM, or as a specific PLL with higher jitter and wander filtering capability. 7

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        106
ORAN-WG4.CUS.0-v01.00
• if O-DU sync source is from a remote PRTC through a network (typically PTP, with or without SYNCE, from 1
upstream backhaul), O-DU acts as PTP (with optional SyncE) slave toward the upstream network. Two sub- 2
configurations are possible: 3
o If the PTP profile used in the upstream network is different (typically ITU-T G.8275.2) from the fronthaul 4
one (which is typically ITU-T G.8275.1), then the O-DU acts as an InterWorkingFunction clock to bridge 5
between the profiles, as defined in ITU-T G.8271.2 (but no clock specification exists for such IWF). This 6
is For Further Study. 7
o If the PTP profile used in the upstream network is same as the fronthaul one (typically ITU-T G.8275.1), 8
then the O-DU may act as a combined PTP Slave and Master with higher jitter and wander filtering 9
capability. Note: O-DU acting as a ITU-T G.8273.2 T-BC clock does not provide enough wander cleaning 10
to guarantee the 15 ppb limit and is therefore outside the scope of C1/C2. 11
When multiple O-DU are connected to the central site aggregation switch supporting T-BC in configuration C2, only 12
one active Master shall be in the clock chain.  One O-DU shall serve as active GrandMaster to all O-RUs, including the 13
ones controlled by other O-DUs over the M-plane.  If Master redundancy is needed, another O-DU shall serve as 14
backup Master. 15
 16
Notes for O-RU: 17
All O-RUs are either: 18
• An end application including an application-specific O-RU slave clock which can be compliant to G.8273.2 T-TSC 19
regarding TE budgeting but follows additional requirements to ensure 3GPP air interface compliance.   20
T-TSC is per IEEE 802.1CM interface condition Case 1. 21
• An end application connected to an external T-TSC per IEEE 802.1CM interface condition Case 2.  This case may 22
be excluded by O-RAN since the O-RU generally does not provide a separate PPS/ToD interface for external T -23
TSC connection, and there may be some performance concerns about the 1pps distribution interface compared to 24
PTP over Ethernet.  25
9.2.2.2 Topology configuration C3 Synchronization 26
Configuration C3 is similar to C2 except frequency and time distribution is made by the fronthaul network itself (not by 27
the O-DU).  That means that one or more PRTC/T-GM (acting as SYNCE+PTP master) is implemented in the fronthaul 28
network to distribute network timing toward O-DU and O-RU.  One or more Ethernet switches are allowed between the 29
central site (hosting O-DUs) and the remote sites (hosting O-RUs).  The permitted number switches in the PTP and 30
SyncE path (between PTP master and SyncE master and slaves) is limited by frequency and time error contributions by 31
all clocks in the chain. 32
With Full Timing Support, all Ethernet switches in the fronthaul function as T-BC as specified by ITU-T G.8273.2.  T-33
TC switch is also allowed as T-BC replacement with the same expectation based on G.8271.1. 34
Partial Timing Support using non T-BC switches may also be allowed. G.8275.2 Telecom Profile is required for Partial 35
Timing Support. Performance aspects and budgets associated with this mode requires further investigation. 36
Interconnection among switches and fabric topology (for example mesh, ring, tree, spur etc.) are deployment decisions 37
which are out of the scope of this O-RAN spec. 38
 39

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        107
ORAN-WG4.CUS.0-v01.00
T-TSC*
O-RU
O-DU
switch
PTP/
SyncE
path
O-DU sync source : For example a local Time source traceable to PRTC (eg. GNSS),
or PTP slave to remote PRTC/T-GM in upstream network or fronthaul network.
Facing O-RAN fronthaul network (based on full time support with G.8275.1 Telecom profile as reference):
O-DU : Telecom Time Slave Clock (T-TSC) if sync source is from fronthaul network.
switch : Telecom Boundary Clock (T-BC) based on G.8273.2.
O-RU : Telecom Slave Clock (T-TSC*).  This T-TSC inside O-RU is a 3GPP end application module and G.8273.2 Appendix IV applies.
Additional noise filtering is needed to filter fronthaul interface dynamic noise to meet 3GPP frequency accuracy requirement.
Note that T-TC switch is allowed as T-BC replacement with the same performance expectation based on G.8271.1.
Partial timing support using non T-BC switches may also be allowed. G.8275.2 Telecom Profile is required for partial timing support.
Performance aspects and budgets associated with this mode requires further investigation.
Additional noise
filtering to meet
3GPP
Config C3
T-TSClocal or remote
PRTC-traceable
time source
O-DU
T-TSClocal or remote
PRTC-traceable
time source
T-TSC*
O-RU Additional noise
filtering to meet
3GPP
remote site
central site
PRTC/T-GM
O-RAN fronthaul
Air interface
T-TSC*
O-RU Additional noise
filtering to meet
3GPP
T-TSC*
O-RU Additional noise
filtering to meet
3GPP
remote site
PTP/
SyncE
path
O-DU
T-TSClocal or remote
PRTC-traceable
time source
Figure is for illustrative purpose and does not provide deployment
guidance (for example the number of switches in network)
Network of
switches
central site
 1
Figure 9-2 : Configuration C3 synchronization 2
 3
Notes for O-DU:  4
Unlike C1 & C2, O-DU does not act as SYNCE and PTP Master towards the fronthaul interface. It can select its own 5
synchronization from local or remote PRTC-traceable time source like in C1/C2, but can also select the same SYNCE 6
and PTP distribution from the fronthaul as the O-RU. 7
One possible C3 implementation consists in having one of the ITU -T G.8273.2-compatible T-BC of the chain being the 8
O-DU. 9
 10
Notes for O-RU:  11
Same as C1 & C2. 12
 13
Notes for PRTC/T-GM (as operator choice in deployment): 14
• PRTC-traceable time source (typically a GNSS receiver) can be embedded either in an external T -GM connected to 15
any T-BC, or an embedded function inside any T-BC in the network, 16

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        108
ORAN-WG4.CUS.0-v01.00
• Multiple PRTC/T-GMs can offer redun-dancy.  ITU-T G.8275.1 BMCA is used to optimize the time distribution 1
through the clock chain. 2
9.2.2.3 Topology configuration C4 Synchronization 3
O-RAN maintains network timing distribution as the preferred approach within the fronthaul network, however, there 4
could be some deployment use cases that prevent the fronthaul network (or only a section of the network) from being 5
upgraded to G.8271.1 compliance and meeting the target performance at the O-RU. To cover these use cases, the O-6
RAN synchronization strategy shall allow local PRTC-traceable time source (typically GNSS) timing option at the O-7
RU.   8
It should be noted that such timing support at O-RU requires extra timing interface or embedded function. 9
O-RUO-DU Additional noise
filtering to meet
3GPP
Config C4
O-RAN fronthaul
Air interface
local or remote
PRTC-traceable
time source
local  PRTC-traceable
time source (GNSS)
Fronthaul
(any allowed
configuration)
Note : Additional O-RU noise filtering is needed to filter sync source dynamic noise to meet 3GPP
frequency accuracy requirement and satisfy target |TAE|.
remote sitecentral site NO PTP and SyncE
support required
 10
Figure 9-3 : Configuration C4 synchronization 11
 12
9.2.3 Clock Synchronization 13
The following requirements are provided for clock synchronization: 14
• SyncE may be used within the fronthaul network distribution to improve PTP performance per ITU-T 15
G.8271.1 and G.8273.2.  In C1 and C2 configurations, the O-DU shall drive SyncE (where used) regardless its 16
own selected time source.  In C3 configuration, the network shall deliver SyncE (where used) to all switches 17
and O-RUs.  However, an O-RU is not required to use SyncE to achieve clock (frequency) synchronization. An 18
O-RU can use PTP alone to achieve both frequency and phase/time synchronization.  19
• When used for clock synchronization, SyncE shall comply with the following ITU-T specifications:   20
o Definitions: ITU-T G.8260 21
o Architecture: ITU-T G.8261 22
o SSM transport channel and format: ITU-T G.8264 23
o Clock specifications: ITU-T G.8262 (EEC)  24
o Functional model and SSM processing: ITU-T G.781 25
• ITU-T G.8271.1 shall be consulted for guidance on balancing the need to meet a target air interface 26
performance at the O-RU with the maximum number of hops allowed.  The network operator shall plan for 27
specific fronthaul network deployment based on this guidance. 28
 29
9.2.4 Profiles 30
9.2.4.1 SyncE 31
An implementation providing SSM shall: 32
• Support ITU-T G.781 Option 1 Quality Level (per section 5.4 Quality Code of ITU -T G.781)  33

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        109
ORAN-WG4.CUS.0-v01.00
o Within QL code Option 1, the accepted QL is to be limited to PRC. 1
• Support ITU-T G.781 other options, is for further study. ITU-T G.8271.1 analysis has only been done with a 2
synchronous Ethernet network based on option 1 EECs. 3
• Support ITU-T G.8264 message types, format, transmission and reception (per Table 11.3 of ITU -T G.8264) if 4
SyncE is used. 5
o Support of extended SSM TLV (per the 2017 edition of ITU-T G.8264) is optional, and For Further 6
Study 7
 8
9.2.4.2 PTP 9
9.2.4.2.1 Full Timing Support 10
Use of IEEE Std 1588-2008 (hereafter referred as IEEE 1588 or PTP) for time/phase synchronization shall be according 11
to its clauses referred by ITU-T G.8275.1 (Full Timing Support). 12
Notes:  13
- The T-TSC inside the O-RU and O-DU are considered as T-TSC inside 3GPP end application modules.  Such T-TSC 14
may not provide a 1PPS measurement interface, and ITU-T G.8273.2 Appendix IV applies: the combined performance 15
within each module may not behave as a stand-alone T-TSC described in the normative section of the recommendation.  16
- Both Congruent and Non-congruent SyncE and PTP distribution, may optionally be supported, as per ITU -T 17
G.8271.1. 18
9.2.4.2.2 Partial Timing Support 19
Support of Partial Timing Support using ITU-T G.8275.2 Telecom Profile is currently considered as permissible but 20
requires additional considerations: 21
• Partial Timing Support allows switches with no T-BC or T-TC, hence there is no guarantee of synchronization 22
performance based on ITU-T standard specification such as G.8273.2.  As a result, the system operator must 23
ensure the network components will have adequate performance to meet frequency and phase error budgets to 24
allow an accurate detection of frequency accuracy and phase for proper network operation.  Such budgets and 25
implications on performance require further investigation. 26
• O-RUs (and O-DU as T-TSC from fronthaul in configuration C3) must support L3 (UDP/IP) which is 27
considered “optional” in this version of the CUS-Plane specification. 28
• O-RUs (and O-DU as T-TSC from fronthaul in configuration C3) must support unicast communication with 29
the GM. 30
• For configurations C1 and C2, the O-DU must implement G.8275.2 PTP master function. 31
Note finally that Partial Timing Support is not finalized in the ITU, which has considered this timing method only for 32
relatively coarse timing accuracy (1.5 sec). 33
9.2.5 Synchronization Accuracy 34
9.2.5.1 Jitter 35
Within the O-RAN fronthaul network, all network equipment (NE) supporting SyncE transport across the network shall 36
comply with input and output jitter requirements specified in ITU-T G.8262 (for EEC). 37
9.2.5.2 Wander 38
Within the O-RAN fronthaul network, all network equipment (NE) supporting SyncE transport across the network shall 39
comply with input and output wander requirements specified in ITU -T G.8262 (for EEC). 40

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        110
ORAN-WG4.CUS.0-v01.00
9.2.5.3 Air interface frequency error 1
The O-RAN fronthaul network shall ensure O-RU meeting a +/-50ppb air interface frequency error requirement.  3GPP 2
TS 36.104 (for LTE macro cells) and TS 38.104 (for 5G macro ce O) specify +/-50ppb as the short-term average error in 3
1ms duration applicable to both LTE and 5G technologies.  Refer to section 9.3.2 for more detail information.  4
9.2.5.4 Air interface maximum time error 5
The O-RAN fronthaul network shall ensure O-RU meeting the following air interface time alignment error (|TAE| 6
absolute or relative) requirements based on different features in LTE and 5G technologies. For features covered by 7
3GPP, they are specified in TS 36.104 (for LTE) and TS38.104 (for 5G).   8
The following figure shows the reference points to define the network time error |TE| vs air  interface time alignment 9
error |TAE| and the concept of relative vs absolute. 10
|TERU| |TERU|
O-RUO-RU
O-RAN Fronthaul Network
|TE|absolute |TE|absolute
|TAE|absolute |TAE|absolute
|TE|relative
|TAE|relative
UNIUNI
AntennaAntenna
O-DU O-RUO-RAN Fronthaul
Network
UNIUNI
PRTC/
T-GM
|TE|network|TE|absolute
O-RUO-RAN Fronthaul
Network
PRTC
PRTC
 11
Figure 9-4 : Definition of |TE| and |TAE| and UNI 12

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        111
ORAN-WG4.CUS.0-v01.00
 1
 2
 3
For LTE features: 4
Table 9-1 : LTE features with time alignment error requirement at the air interface  5
LTE Features |TAE| relative or absolute Corresponding Timing Category in
802.1CM/eCPRI standard
(Informative)
TDD Relative |TAE| ≤ 3µs (cell radius < 3km)
Relative |TAE| ≤ 10us (cell radius > 3km)
(note 1)
TS36.133
Timing Category C
Dual connectivity Relative |TAE| ≤ 3µs
(note 1)
TS36.133
Timing Category C
MIMO or Tx Diversity Relative |TAE| ≤ 65ns
TS36.104
Timing Category A+ (note 2)
CA (intraband contiguous) Relative |TAE| ≤ 130ns
TS36.104
Timing Category A (note 2)
CA (interband or intraband
non-contiguous)
Relative |TAE| ≤ 260ns
TS36.104
Timing Category B (note 2)
OTDOA Absolute |TAE| at O-RU antenna << 1.5us,
~100-200 ns (not defined by 3GPP)
Not covered since it is not defined
by 3GPP
Note 1:  For TDD and dual connectivity features, relative |TAE| requirement is applied to any pair of O-RUs within 6
RAN without any cluster boundary limit.  Hence relative |TAE| spec indirectly leads to a per O-RU requirement of 7
absolute |TAE| at O-RU antenna = 1.5µs. 8
Note 2:  When these features are supported within 1 O-RU, relative |TAE| is impacted by O-RU internal |TE| only.  9
When these features are supported by multiple cooperating O-RUs, relative |TAE| is also impacted by network relative 10
|TE| where 802.1CM Timing Category is applicable to limit the network error contribution. 11
Note 3: The corresponding Timing Category column is shown since later sections refer to these categories as guidance. 12
 13
For 5G features: 14
Table 9-2 : 5G features with time alignment error requirement 15
  5G Features |TAE| relative or absolute Corresponding Timing Category in
802.1CM/eCPRI standard
(Informative)
TDD Relative |TAE| ≤ 3µs
(note 1)
TS38.133
Timing Category C
Dual connectivity Relative |TAE| ≤ 3µs
(note 1)
TS38.133
Timing Category C
MIMO and Tx Diversity Relative |TAE| ≤ 65ns
TS38.104 [12]
Timing Category A+ (note 2)

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        112
ORAN-WG4.CUS.0-v01.00
CA (intraband contiguous per
base station type)
Relative |TAE| ≤ 130ns
(CWV in 3GPP)
TS38.104 [12]
Timing Category A (note 2)
CA (intraband contiguous per
base station type)
Relative |TAE| ≤ 260ns
(CWV in 3GPP)
TS38.104 [12]
Timing Category B (note 2)
CA (interband or intraband
non-contiguous)
Relative |TAE| ≤ 3µs
TS-38.104 [12]
Timing Category C (note 2)
OTDOA Absolute |TAE| at eRE antenna << 1.5us
(not defined by 3GPP)
Not covered since it is not defined
by 3GPP
Note 1:  For TDD and dual connectivity features, relative |TAE| requirement is applied to any pair of O-RUs within 1
RAN without any cluster boundary limit.  Hence relative |TAE| spec indirectly leads to a per O-RU requirement of 2
absolute |TAE| at O-RU antenna = 1.5µs. 3
Note 2: When these features are supported within 1 O-RU, relative |TAE| is impacted by O-RU internal |TE| only.  4
When these features are supported by multiple cooperating O-RUs, relative |TAE| is also impacted by network relative 5
|TE| where 802.1CM Timing Category is applicable to limit the network error contribution. 6
Note 3: The corresponding Timing Category column is shown since later sections refer to these categories as guidance. 7
 8
9.3 Time and Frequency Synchronization Requirements 9
9.3.1 Allowed PTP and SyncE clock types and clock classes 10
A network element (NE) may use the following clock types and classes to support PTP and SyncE, and can be used 11
among other such NEs to build an O-RAN-compliant fronthaul network meeting end-to-end frequency synchronization 12
requirements as well as time synchronization requirements at the air interface. 13
• EEC (per ITU-T G.8262) 14
• PRTC (per ITU-T G.8272: Class A already specified, class B under development) 15
• ePRTC (per ITU-T G.8272.1) 16
• T-GM (per upcoming ITU-T G.8273.1) 17
• T-BC (per ITU-T G.8273.2: class A, B already specified) 18
• T-TSC (per ITU-T G.8273.2: class A, B already specified) 19
• T-TC* (per ITU-T G.8273.3) 20
*According to ITU-T G.8271.1 and IEEE 802.1CM, T-TC is allowed as T-BC replacement and T-TC/T-BC accuracy 21
performance is equivalent.  O-RAN allows T-TC as accepted clock type.  However, using T-TC has potential issue with 22
broadcast storms in a bridging network as stated in G.8271.1 and hence guidance by Appendix I in G.8275.1 should be 23
followed.  24
The time error analysis in Annex H only covers T-BC deployments, and not the T-TC one (which is For Further Study)  25
 26
O-DU and O-RU are considered end points in an O-RAN-compliant fronthaul network. O-DU and O-RU can support 27
specific PTP clock and specific classes based on O-DU and O-RU synchronization capability options. 28
O-DU synchronization capability options:  29
• For configurations C1 and C2: SYNCE and PTP Master. 30
o In case of local PRC/PRTC-traceable time source (typically a GNSS receiver) used as frequency and 31
time source: O-DU acts a SyncE and PTP master. The performance requirements are specified in 32
section 9.3.2. 33
o In case of a remote PRC/PRTC receiver used as frequency and time source via a Full Timing Support 34
packet network (defined by ITU-T G.8271.1): O-DU shall act as an embedded end application with 35
better wander and jitter filtering capability, as per Appendix IV of ITU-T G.8273.2 (thus acting more 36

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        113
ORAN-WG4.CUS.0-v01.00
like a combined PTP Slave/Master than a T-BC). Note that acting as a true ITU-G G.8273.2T-BC does 1
not guarantee the frequency accuracy required in 9.3.2, and is therefore For Further  Study. 2
In the for-further-study case of a remote PRC/PRTC receiver used as frequency and time source via a 3
Partial Timing Support packet network (defined by ITU-T G.8271.2): O-DU may act as an 4
InterWorking Function. 5
• For configuration C3 and C4: O-DU collects its synchronization from any possible time source (either local or 6
remote PRC/PRTC-traceable one).  O-DU does not need to meet the 3GPP frequency and TAE target 7
specification as required in the O-RU.  However, a more relaxed phase alignment between O-DU and O-RU 8
timing should be kept to avoid data buffer overflow/underflow (impact to delay management topic), and are 9
implementation specific. 10
 11
O-RU synchronization capability options:  12
• For configuration C1, C2, and C3 with full timing support: (T-TSC is either embedded or external, as per ITU-T 13
G.8271.1 and IEEE 802.1 CM).  In the case where O-RU includes a T-TSC, this one is “embedded in end 14
application” as specified in G.8273.2 Appendix IV and include additional necessary filtering function to ensure 15
3GPP air interface compliance.  Under investigation is what is needed for Partial Timing Support because there 16
is not yet any available ITU recommendation. 17
• For configuration C4, O-RU is simply synchronized from the local PRC/PRTC using proprietary timing 18
interface. 19
O-RU shall support network timing as mandatory synchronization capability to cover configuration C1, C2 and C3.  20
Local PRC/PRTC (typically a GNSS receiver) shall be optional synchronization capability to cover configuration 21
C4.  22
9.3.2 Frequency and Time Synchronization Requirements across fronthaul 23
network elements 24
9.3.2.1  Configurations C1 and C2 25
Based on IEEE 802.1CM and ITU-T G.8271.1 guidance, the following table summarizes the frequency and time error 26
budgets across different elements of a O-RAN-compliant fronthaul network.   27
• O-DU : shall not exceed allocated frequency error budget and time error budget (for chosen air interface target)  28
• O-RU : shall not exceed allocated frequency error budget and time error budget (for chosen air interface target ) 29
• O-RAN fronthaul network: shall not exceed network limit to satisfy both frequency error budget and time error 30
budget (for chosen air interface target).  Allowed number of switches in a deployment can be derived based on 31
allowed network limit vs chosen switch specification.  Annex H shows the analysis of number of switches based on 32
T-BC Class B switches.    33
 34
The following table covers budget allocation for configuration C1 and C2 (Refer to Figure 9-4 for reference point 35
definition).  Requirement is in BOLD : 36
 37
Table 9-3 : Frequency and time error budget allocation (for topology configuration C1 and C2) 38
Frequency error budget allocation
Timing Reference  O-RAN fronthaul network
contribution limit
O-RU Air interface
target

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        114
ORAN-WG4.CUS.0-v01.00
O-DU PTP/SyncE
master class A, with
|freq error| ≤ 15ppb
• @ O-DU UNI (see
Note 1)
total |dTEL+H| ≤ 45ns
• Between O-DU UNI and O-RU
UNI
• For C2: Allowed number of hops
(see Note 2)
• For C1: single hop by definition
O-RU |freq error| ≤ 35ppb
including both
• FFO after O-RU filtering of
dTEL+H @ O-RU UNI
• O-RU internal additive
frequency error (see Note 3)
±50ppb per
3GPP spec
O-DU PTP/SyncE
master class B, with
|freq error| ≤ 5ppb
• @ O-DU UNI (see
Note 1)
total |dTEL+H| ≤ 57ns
• Between O-DU UNI and O-RU
UNI
• For C2: Allowed number of hops
(see Note 2)
• For C1: single hop by definition
O-RU |freq error| ≤ 45ppb
including both
• FFO after O-RU filtering of
dTEL+H @ O-RU UNI
• O-RU internal additive
frequency error (see Note 3)
±50ppb per
3GPP spec
Time error budget allocation
Timing Reference  O-RAN fronthaul network
contribution limit
O-RU
(All allowed class options are
shown) (see Note 7)
Air interface
target
No relative |TE|
contribution by O-DU
since O-DU is common
PTP andSyncE master to
all co-operated O-RU
(Note 1)

Relative |TE| ≤ 60ns
• Between 2 O-RUs  UNI
• per IEEE 802.1CM
• For C2: Allowed number of hops
(see Note 4)
• For C1: single hop by definition
O-RU |TE| includes as per IEEE
802.1CM (see Note 5):
• RF|TE| ≤ 20ns
• Enhanced
T-TSC |TE| ≤ 15ns

Per IEEE
802.1CM
Category A
Relative |TE| ≤ 100ns
(using Class B T-TSC in O-RU)
Relative |TE| ≤ 190ns
(using enhanced T-TSC in O-RU)
• Between 2 O-RUs UNI
• per IEEE 802.1CM
• For C2: Allowed number of hops
(see Note 4)
• For C1: single hop by definition
O-RU |TE| includes as per IEEE
802.1CM (see Note 5):
• RF|TE| ≤ 20ns
• Either Class B
T-TSC |TE| ≤ 60ns
• Or enhanced
T-TSC |TE| ≤ 15ns

Per IEEE
802.1CM
Category B
For C2:  absolute |TE|
≤ 1.325us
For C1: absolute |TE| ≤
1.420us
• @ O-DU UNI
• includes holdover
budget
Network |TE| ≤ 95ns
(using Class B T-TSC in O-RU)
Network |TE| ≤ 140ns
(using enhanced T-TSC in O-RU)
• Between O-DU UNI and O-RU
UNI
• For C2: Allowed number of hops
(see Note 4)
• For C1: single hop by definition
O-RU |TE| includes as per IEEE
802.1CM (see Note 5 and 8):
• RF|TE| ≤ 20ns
• Either Class B
T-TSC |TE| ≤ 60ns
• Or enhanced
T-TSC |TE| ≤ 15ns
Absolute
|TAE| at O-RU
antenna =
1.5µs derived
from 3GPP
(Same as IEEE
802.1CM
Category C)
Absolute |TE| ≤ 100ns
• @ O-DU UNI
• based on PRTC/T-
GM spec per G.8272
• Not including
holdover budget

Network |TE| is out of scope
• between O-DU UNI and O-RU
UNI
• For C2: Allowed number of hops
(see Note 6)
• For C1: single hop by definition

O-RU |TE| includes as per IEEE
802.1CM (see Note 5):
• RF|TE| ≤ 20ns
• Either Class B
T-TSC |TE| ≤ 60ns
• Or enhanced
T-TSC|TE| ≤ 15ns
Absolute
|TAE| at O-RU
antenna for
OTDOA
(out of scope)
(see Note 6)
 1
Note 1: O-DU implements PTP and SyncE master function in this use case.  2
Two frequency error limits are defined in this specification, conservative class A with 15ppb, and  more advanced class 3
B with 5 ppb.   4

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        115
ORAN-WG4.CUS.0-v01.00
They are measured after applying a first-order measurement low-pass filter bandwidth of 0.1Hz to the time samples.  1
Measurement condition is applicable when O-DU Master Clock is either in locked state or holdover, but excluding rare 2
and temporary transients: 3
• Resynchronization to recovered source after holdover. 4
• Resynchronization to newly selected source after failure of the previous one, in case of redundancy.  5
It is considered that all master ports of the O-DU are fully synchronized together, and there is no port-to-port time error 6
(see Annex H). 7
Note 2: dTEL+H = accumulated dynamic time error (dTEL and dTEH) of a T-BC clock chain (excluding O-DU 8
contribution) based on G.8271.1 Appendix IV calculation method.  Refer to An nex H for detailed analysis for 9
maximum number of T-BC Class B switches. 10
Note 3: The O-RU requirement is not specified in IEEE 802.1CM or ITU-T G.8271.1.  O-RAN only specifies the total 11
O-RU frequency error budget to allow design flexibility by different solution vendors.  The O-RU solution vendor can 12
make a tradeoff between FFO (Fractional Frequency Offset after applying O-RU filtering) and internal additive 13
frequency error as long as the total frequency error budget with network total |dTE| limit is met. Refer to Annex H for 14
analysis. 15
Note 4: Refer to Annex H for analysis of the number of switches to satisfy the allowed network limit. 16
Note 5: The T-TSC are considered T-TSC embedded in end application as specified in G.8273.2 Appendix IV and the 17
performance may not behave as a standalone T-TSC described in the normative section of the recommendation.   18
However, to ensure interoperability among O-RAN O-RU vendors, the agreed performance will be based on eCPRI and 19
802.1CM recommendation: under eCPRI Transport Network V1.1 Requirements Specification and IEEE 802.1CM 20
V1.2, a standard T-TSC (|TE| = 60ns) and a new enhanced T-TSC (|TE| = 15ns) are defined. They are considered as 21
cTE in this document. 22
Note 6: OTDOA feature accuracy is not defined by 3GPP. Hence abso lute |TAE| at O-RU antenna and the 23
corresponding network |TE| are out of scope in O-RAN specification.  O-DU |TE| and O-RU |TE| are still stated in O-24
RAN specification based on existing standards.  In a deployed network, operator can choose a target absolu te |TAE| and 25
then derive the corresponding network |TE| and the allowed number of hops and required types of T -BC(s)/T-TC(s) 26
based on ITU-T G.8271.1 guidance. 27
Note 7: O-RU |TE| is the requirement.  O-RAN recommends O-RU internal split as shown in the table based on eCPRI 28
and 802.1CM guidance.  It is also acceptable for RAN solution vendor to use a different O-RU internal split to meet the 29
same O-RU |TE| requirement. 30
Note 8: O-RAN recommends meeting the specified budget split between O-DU and O-RU |TE| across all categories 31
based on eCPRI and 802.1CM guidance.  A different budget split than what O-RAN recommends may meet the overall 32
radio interface requirements, but must be considered under the operator’s responsibility.  Typically , configuration C1 33
and C2 with category C target may allow more flexibility in O-DU |TE|, network |TE| and O-RU |TE| budget split as 34
long as the network limit (network |TE| for time error and |dTEL+H| for frequency error) is still respected.  For example, 35
if an operator can guarantee the network |TE| < 75ns which is below the 95ns limit set in this O-RAN specification, 36
20ns (95ns-75ns) can be moved into the O-DU |TE| and/or O-RU |TE| budget.  Inter-operability can be guaranteed by 37
the network operator when all participating O-DU and O-RU vendors design to meet the operator-chosen budget split. 38
Note 9: With Partial Timing Support, when using non-T-BC switches, network contribution limit requires further 39
investigation. 40
 41
9.3.2.2  Configuration C3 42
Based on IEEE 802.1CM and ITU-T G.8271.1 guidance, the following table summarizes the frequency and time error 43
budgets across different elements of a O-RAN-compliant fronthaul network.   44
• PRTC/T-GM : shall not exceed allocated frequency error budget and time error budget (for chosen air interface 45
target) 46
• O-RU : shall not exceed allocated frequency error budget and time error budget (for chosen air interface target)  47
• O-RAN fronthaul network : shall not exceed network limit to satisfy both frequency error budget and time error 48
budget (for chosen air interface target).  Allowed number of switches in a deployment can be derived based on 49
allowed network limit vs chosen switch specification.  Annex H shows the analysis of number of switches based on 50
T-BC Class B switches.   51

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        116
ORAN-WG4.CUS.0-v01.00
The following table covers budget allocation for configuration C3 (Refer to Figure 9-4 for reference point definition).  1
Requirement is in BOLD : 2
 3
 4
 5
Table 9-4 : Frequency and time error budget allocation (for topology configuration C3) 6
Frequency error budget allocation
Timing Reference  O-RAN fronthaul network
contribution limit
O-RU Air interface
target
PRTC/T-GM |freq
error|≤ 2ppb
• @ PRTC/T-GM UNI
 (see Note 1)
total |dTEL+H| ≤ 63ns
• Between PRTC output and O-
RU UNI
• Include PRTC/T-GM MTIE
contribution
• Allowed number of hops (see
Note 2)
O-RU |freq error| ≤48ppb
including both
• FFO after O-RU filtering of dTEL+H
@ O-RU UNI
• O-RU internal additive frequency
error
 (see Note 3)
±50ppb per
3GPP spec
Time error budget allocation
Timing Reference  O-RAN fronthaul network
contribution limit
O-RU
(All allowed class options are shown)
(see Note 7)
Air interface
target
No relative |TE|
contribution by PRTC/T-
GM since PRTC/T-GM
is common PTP and
SyncE master to all co-
operated O-RU
(see Note 1)
Relative |TE| ≤60ns
• Between 2 O-RUs UNI
• per IEEE 802.1CM
• Allowed number of hops (see
Note 4)

O-RU |TE| includes as per IEEE
802.1CM:
• RF|TE| ≤ 20ns
• enhanced T-TSC |TE| ≤ 15ns

Per IEEE
802.1CM
Category A
Relative |TE| ≤100ns
(using Class B T-TSC in O-
RU)
Relative |TE| ≤190ns
(using enhanced T-TSC in O-
RU)
• Between 2 O-RUs UNI
• per IEEE 802.1CM
• Allowed number of hops (see
Note 4)
O-RU |TE| includes as per IEEE
802.1CM (see Note 5):
• RF|TE| ≤ 20ns
• Either Class B
T-TSC |TE| ≤ 60ns
• Or enhanced
T-TSC|TE| ≤ 15ns

Per IEEE
802.1CM
Category B
Absolute |TE| ≤ 100ns
• @ PRTC/T-GM UNI
• PRTC/T-GM spec per
G.8272
• Not including
holdover budget
Network |TE| ≤ 1320ns
(using Class B T-TSC in O-
RU)
Network |TE| ≤ 1365ns
(using enhanced T-TSC in O-
RU)
• Between PRTC/T-GM UNI
and O-RU UNI
• Allowed number of hops (see
Note 4)
O-RU |TE| includes as per IEEE
802.1CM (see Note 5):
• RF|TE| ≤ 20ns
• Either Class B
T-TSC |TE| ≤ 60ns
• Or enhanced
    T-TSC|TE| ≤ 15ns
Absolute
|TAE| at O-RU
antenna =
1.5µs derived
from 3GPP
(Same as IEEE
802.1CM
Category C)
Absolute |TE| ≤ 100ns
• @ PRTC/T-GM UNI
• PRTC/T-GM spec per
G.8272
• Not including
holdover budget

Network |TE| is out of scope
• between PRTC/T-GM UNI
and O-RU UNI
• Allowed number of hops (see
Note 6)
O-RU |TE| includes as per IEEE
802.1CM (see Note 5):
• RF|TE| ≤ 20ns
• Either Class B
T-TSC |TE| ≤ 60ns
• Or enhanced
    T-TSC |TE| ≤ 15ns
Absolute
|TAE| at O-RU
antenna for
OTDOA
(out of scope)
(see Note 6)

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        117
ORAN-WG4.CUS.0-v01.00
 1
Note 1: PRTC/T-GM follows G.8272 specification.  MTIE specification is considering dynamic error dur ing lock 2
condition and its contribution is covered under dTEL+H in note 2.  However, there is possible semi-static frequency error 3
which is not part of MTIE specification.  Therefore, it is included here.   4
In case the PRTC/T-GM is a multiple-port device, it is considered that all master ports are fully synchronized together, 5
and there is no port-to-port time error. 6
Refer to Annex H for detailed analysis. 7
Note 2: dTEL+H = accumulated dynamic time error (dTEL and dTEH) of a T-BC clock chain, including PRTC/T-GM 8
contribution, to O-RU UNI (or O-DU UNI) based on G.8271.1 Appendix IV calculation method.  Refer to Annex H for 9
analysis for maximum number of T-BC Class B switches. 10
Note 3: The O-RU requirement is not specified in IEEE 802.1CM or ITU-T G.8271.1.  O-RAN only specifies the total 11
O-RU frequency error budget to allow design flexibility by different solution vendors.  The O-RU solution vendor can 12
make a tradeoff between FFO (Fractional Frequency Offset after applying O-RU filtering) and O-RU internal additive 13
frequency error as long as the total frequency error budget with network total |dTE| limit is met.  Refer to Annex H for 14
analysis. 15
Note 4: Refer to Annex H for analysis of the number of switches to satisfy the allowed network limit. 16
Note 5: The T-TSC are considered T-TSC embedded in end application as specified in G.8273.2 Appendix IV and the 17
performance may not behave as a standalone T-TSC described in the normative section of the recommendation.   18
However, to ensure interoperability among O-RAN O-RU vendors, the agreed performance will be based on eCPRI and 19
802.1CM recommendation: under eCPRI Transport Network V1.1 Requirements Specification and IEEE 802.1CM 20
V1.2, a standard T-TSC (|TE| = 60ns) and a new enhanced T-TSC (|TE| = 15ns) are defined. They are considered as 21
cTE in this document. 22
Note 6: OTDOA feature accuracy is not defined by 3GPP. Hence absolute |TAE| at O-RU antenna and the 23
corresponding network |TE| are out of scope in O-RAN specification.  O-DU |TE| and O-RU |TE| are still stated in O-24
RAN specification based on existing standards.  In a deployed network, operator can choose a target absolute |TAE| and 25
then derive the corresponding network |TE| and the allowed number of hops and required types of T -BC(s)/T-TC(s) 26
based on ITU-T G.8271.1 guidance. 27
Note 7: O-RU |TE| is the requirement.  O-RAN recommends O-RU internal split as shown in the table based on eCPRI 28
and 802.1CM guidance.  It is also acceptable for RAN solution vendor to use a different O-RU internal split to meet the 29
same O-RU |TE| requirement. 30
Note 8: With Partial Timing Support, when using non-T-BC switches, network contribution limit requires further 31
investigation. 32
9.3.2.3  Configuration C4 33
The following table covers budget allocation for configuration C4: 34
Table 9-5 : Frequency and time error budget allocation (for topology configuration C4)  35
Frequency error budget allocation
Timing
Reference in
network or O-
DU
O-RAN
fronthaul
network
O-RU Air interface target
No dependency

No
dependency
O-RU |freq error| ≤ 50ppb including both
• O-RU filtering on local PRTC noise
• O-RU internal additive frequency error
 (Note 3, 4)
±50ppb per 3GPP spec

Time error budget allocation
Timing
Reference in
network or O-
DU
O-RAN
fronthaul
network
O-RU
(See note 1,2, 3, 4)
Air interface target
No dependency No
dependency
Local time source |TE| ≤ 100ns
O-RU |TE| ≤ 30ns
IEEE 802.1CM Category
B

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        118
ORAN-WG4.CUS.0-v01.00
local time source |TE| ≤ 100ns
O-RU |TE| ≤ 1.4us including any holdover
budget
Absolute |TAE| at O-RU
antenna = 1.5µs derived
from 3GPP
(Same as IEEE 802.1CM
Category C)
local time source |TE| ≤ 100ns
O-RU |TE| is out of scope
(see Note 5)
Absolute |TAE| at O-RU
antenna for OTDOA
 (out of scope)
(see Note 5)
Note 1: local PRTC-traceable time source (typically GNSS receiver) to O-RU.  Therefore, budget is based on ITU-T 1
G.8272 (PRTC class A, with max |TE| = 100ns) on each GNSS receiver. Because there is no requirement in ITU -T 2
G.8272 on the relative time error between two neighbor local PRTC (GNSS receivers), it is not possible to remove any 3
common time error in the budget at the O-RUs side.  4
Note 2: When feature for relative |TAE| is needed, C4 configuration will include 2x local PRTC |TE| = 200ns total.  5
This disadvantage automatically prevents C4 configuration from meeting certain demanding relative |TAE| feature (as 6
target by 802.1CM Category A+/A).  Hence, only 802.1CM Category B/C are shown.  7
Note 3: O-RU |TE| is not governed by eCPRI/802.1CM or ITU-T standard since C4 configuration is not based on 8
network timing solution.  O-RU |TE| budget is basically the remaining budget to satisfy target feature |TAE| after 9
excluding the local PRTC |TE| contribution. O-RU |TE| includes the O-RU clock recovery (i.e. deriving a clean clock 10
from local time source) error and any O-RU internal error. 11
Note 4: This O-RU option requires extra interface and extra hardware support including local PRTC (typically GNSS 12
receiver and antenna) and likely a more expensive oscillator for noise filtering. Standard O-RU with network timing 13
support (target for configuration C1, C2 and C3) cannot offer this option in general.  Specific O-RU design is needed. 14
Note 5: OTDOA feature accuracy is not defined by 3GPP. Hence absolute |TAE| at O-RU antenna and the 15
corresponding O-RU|TE| are out of scope in O-RAN specification.  In a deployed network, operator can choose a target 16
absolute |TAE| and then derive the corresponding O-RU |TE|. 17
9.4 Node Behavior Guidelines 18
9.4.1 Configurations C1 and C2 19
This section covers O-RAN topology configurations C1 and C2 where the O-DU acts as SyncE and PTP master. 20
The operation of O-DU and O-RU during holdover and other related states is described in Table 9-6. O-RU holdover 21
and O-DU holdover are independent events. Likewise, O-RU holdover behavior is optional (not mandatory to be 22
supported by HW or SW). 23
In addition to synchronization state, the O-DU also considers estimated synchronization accuracy, because 24
synchronization state alone does not necessarily reflect synchronization status – a node in the SYNCED or 25
HOLDOVER mode may have synchronization accuracy outside of a required limit.  26
Table 9-6 : Node behavior during Holdover and Out-of-Synch 27
O-DU State

Synch
accuracy
O-RU State M-Plane
State
Action
- - - Disconnected Section 9.4.1.1
- N/A FREERUN Connected Section 9.4.1.2
FREERUN  - - Connected Section 9.4.1.3
SYNCED/
HOLDOVER
In a limit SYNCED/
HOLDOVER
Connected Section 9.4.1.4
SYNCED/
HOLDOVER
Out of a limit SYNCED/
HOLDOVER
Connected Section 9.4.1.4
 28
9.4.1.1 M-Plane disconnected 29
O-RAN allows hybrid M-plane model with M-plane communication between  30

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        119
ORAN-WG4.CUS.0-v01.00
• O-RU and O-DU 1
• O-RU and Network Management System (NMS) 2
As a result, the following M-plane disconnected events must be considered: 3
• O-DU detects loss communication to O-RU 4
• NMS detects loss communication to O-RU 5
• O-RU detects loss communication to O-DU 6
• O-RU detects loss communication to NMS 7
• O-RU detects loss communication to both O-DU and NMS 8
Note: The following behavior is an assumption and expected to be described in M-Plane specification. 9
O-DU 10
If the O-DU detects a loss of M-plane communication to a O-RU, the O-DU shall stop sending any IQ data towards the 11
O-RU. The O-DU shall also send an explicit command to the O-RU to disable RF transmission. 12
The O-DU shall keep RF transmission on the O-RU off, and shall not turn it on, if M-plane communication to the O-RU 13
is broken. 14
Rationale: The requirement for the O-DU to send an explicit command is intended to prevent unsupervised radio 15
operation, if M-plane communication broken in one direction only, and the fault stays undetected on the O-RU. On the 16
other hand, if the O-RU detects the fault, it disables RF transmission autonomously (see below), and  the O-DU shall 17
stop IQ transmission accordingly. 18
O-RU 19
If the O-RU detects a loss of M-plane communication to the O-DU or both O-DU and NMS, the O-RU stops RF 20
transmission.  The O-RU shall keep RF transmission off, and shall not turn it on, if M-plane communication to the O-21
DU or NMS is broken. 22
If the O-RU detects a loss of M-plane communication to the NMS only, the O-RU action shall continue RF 23
transmission.  It is expected NMS can eventually detect a loss of M-plane communication to the O-RU based on some 24
round-trip sanity check mechanism.  Any NMS action is out of the scope of this specification. 25
NMS 26
If the NMS detects a loss of M-plane communication to an O-DU or an O-RU, the NMS action is out of scope of this 27
specification. 28
 29
9.4.1.2 O-RU in the FREERUN State 30
O-DU 31
If synchronization state on a connected O-RU transits to the FREERUN state, the O-DU may either keep RF 32
transmission at that O-RU enabled, or disable it.  Rationale: The O-RU autonomously stops RF transmission, when it 33
transits into the FREERUN state. If the O-DU does not disable RF transmission, the O-RU may autonomously reenable 34
RF transmission when synchronization recovers. In this way, the recovery time is reduced.  35
Note: Unlike CPRI/OBSAI, where such procedure could cause transmission of unwanted random IQ data on incorrectly 36
wired links, eCPRI has no such risk, because all IQ data is sent in Ethernet frames addressed to a globally unique MAC 37
address of a specific O-RU, and messages are protected from bitflips in addresses by CRC check at Layer 1. 38
O-RU 39
If synchronization state on a O-RU transits to the FREERUN state, the O-RU shall autonomously stop RF transmission, 40
until it is resynchronized. Unless there is another reason to keep RF transmission disabled (explicit command from the 41
O-DU, loss of M-plane communication, etc.), the O-RU may re-enable RF transmission when the O-RU gets locked to 42
an input reference again. 43
9.4.1.3 O-DU in the FREERUN state 44
O-DU 45

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        120
ORAN-WG4.CUS.0-v01.00
If an O-DU transits to the FREERUN state, the O-DU shall disable RF transmission on all connected O-RUs, and keep 1
it turned off until synchronization is reacquired. 2
Note: The O-DU shall support configuration option that allows O-DU to operate outside of the required synchronization 3
limits, or without any synchronization at all. 4
O-RU 5
The O-RU shall only react on a change of Quality Level, received in SyncE SSMs, and Clock Class, received in PTP 6
Announce messages: 7
• If the received Quality Level and Clock Class are acceptable the O-RU shall continue using the reference 8
signal. 9
• If the received Quality Level or Clock Class becomes unacceptable the O-RU shall stop using the reference 10
and transit to either the FREERUN state or a HOLDOVER state. 11
• Otherwise, the O-RU shall rely on O-DU to take care of the changed synchronization state. The O-RU need not 12
react on the FREERUN state at the O-DU in any distinct way. 13
 14
9.4.1.4 Operation in SYNCED/HOLDOVER state 15
Whether in “synchronized” or “Holdover” state, it is expected that O-DU monitors the “SYNCED/HOLDOVER” status 16
of the O-RUs under its management.  17
O-DU 18
• In configuration C1 and C2: by collecting the O-RUs’ “SYNCHRONIZED” or “HOLDOVER” state, as well 19
as the received SyncE and PTP quality status , O-DU in “SYNCHRONIZED” or “HOLDOVER” state is able 20
to detect any self-estimated frequency and/or time accuracy degradation by the O-RUs. 21
Note: all O-RUs in the SYNCHRONIZED state and directly connected to the same master clock (typically the 22
O-DU in C1, and the nearest T-BC in C2) preserve optimal relative time error between them, regardless the O-23
DU’s status. As a result, intra-site features may remain enabled using different criteria compared to inter-site 24
ones. 25
• Note: the port-to-port constant and dynamic time errors between two master ports of the same module (either 26
the O-DU in configuration C1, and the T-BC ones in C2) may also contribute to the total error. This is 27
currently not specified in ITU-T G.826x and ITU-T G.827x recommendations, and shall be taken into account 28
in the upcoming editions. 29
O-RU 30
The O-RU shall only react on a change of Quality Level received in SyncE SSMs, and Clock Class received in PTP 31
Announce messages: 32
• If received Quality Level and Clock Class are acceptable, the O-RU shall keep on using the reference signal. 33
• If received Quality Level or Clock Class become unacceptable, the O-RU shall stop using the reference and 34
transit to either the FREERUN state or a HOLDOVER state. 35
ITU-T G.8271.1 network limits define the notion of “within holdover specification” (clock class values 7 and 36
135), and “exceeding the holdover specification” (clock class values 140, 150, 160, 165).  37
ITU-T G.8271.1 defines this holdover specification as 400ns in the context of category C (as per IEEE 38
802.1CM). This value is however too high and useless for categories A/B, highlighting that the notion of 39
“acceptable” is dependent on the category of each feature.  40
As a consequence, it is mandatory that each O-RU reports to O-DU the received Quality Level and Clock 41
Class, allowing O-DU to enable and disable accordingly the various RF features. 42
Besides, the value for the holdover specification may be configurable, thus allowing each network operator to 43
tune it to its own needs. 44
9.4.2 Configurations C3 45
This section covers O-RAN topology configuration C3 based on IEEE 802.1CM bridging network.  PRTC/GM is 46
provided by the fronthaul network.  47

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        121
ORAN-WG4.CUS.0-v01.00
The operation of the Fronthaul network elements, O-DU and O-RU during holdover and other related states is described 1
in Table 9-7. O-RU holdover and O-DU holdover are independent events. Likewise, O-RU holdover behavior is 2
optional (not mandatory to be supported by HW or SW). 3
More than one PRTC/GM may be considered as a deployment option to improve redundancy. Should a PRTC/GM fail, 4
then another should be available as a backup time source and the PTP network tree would automatically re -arrange. 5
Only a short holdover (note: duration needs to be defined from ITU-T G.8271.1) shall be supported inside the various 6
network elements (as well as O-DU and O-RU) to provide a safe operation during this rearrangement scenario.  7
Note: the O-DU can also be configured to provide backup SYNCE+PTP like in C2.  8
In addition to synchronization state, the O-DU also considers estimated synchronization accuracy because the 9
synchronization state alone does not necessarily reflect synchronization status; a node in the SYNCED or HOLDO VER 10
mode may have synchronization accuracy outside of a required limit. 11
Table 9-7 : Node behavior during Holdover and Out-of-Sync 12
Network
State
Sync
Accuracy
O-DU and
O-RU State
M-Plane
State
Action
- - - Disconnected Section 9.4.2.1
- N/A FREERUN Connected Sections 9. 4.2.2
and 9. 4.2.3
SYNCED/
HOLDOVER
In limit SYNCED/
HOLDOVER
Connected Section 9. 4.2.4
SYNCED/
HOLDOVER
Out of limit SYNCED/
HOLDOVER
Connected Section 9. 4.2.4

 13
9.4.2.1 M-Plane disconnected 14
This section is same as 9.4.1.1 15
 16
9.4.2.2 O-RU in the FREERUN State 17
This section is same as 9.4.1.2 18
 19
9.4.2.3 O-DU in the FREERUN state 20
Notes:  21
- if O-DU and O-RU are synchronized from the same fronthaul network and are connected to neighbor nodes in th is 22
network, it is most probable that the event leading to O-RU transiting to the FREERUN state will also lead to the same 23
transition at the O-DU. 24
- if O-DU has backup frequency and time source, such as local or remote PRTC, it can become a backup Master li ke in 25
configuration C2.  26
 27
O-DU 28
If a O-DU transits to the FREERUN state, because the synchronizing network delivers unacceptable synchronization 29
quality, the O-DU shall disable RF transmission on all connected O-RUs, and keep it turned off until synchronization is 30
reacquired again. 31
Note: The O-DU shall support configuration option that allows O-DU to operate outside of the required synchronization 32
limits, or without any synchronization at all. 33
 34
O-RU 35
The O-RU is not synchronized from the O-DU. It may have no indication of the O-DU synchronization status, and 36
therefore shall only rely on O-DU to take care of the changed synchronization state. The O-RU need not react to the 37
FREERUN state at the O-DU in any distinct way. 38

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        122
ORAN-WG4.CUS.0-v01.00
 1
9.4.2.4 Operation in SYNCED/HOLDOVER state 2
Whether in “SYNCED” or “HOLDOVER” state, it is expected that O-DU monitors the “SYNCHRONIZED” or 3
“HOLDOVER” state, as well as the received SyncE and PTP quality status. This is same as configurations C1 and C2 4
described in earlier section. 5
 6
9.4.3 Configurations C4 7
This section covers O-RAN topology configurations C4 where the O-RU is synchronized by local PRTC (typically a 8
GNSS receiver). 9
The operation of O-DU and O-RU during holdover and other related states is described in  10
 11
Table 9-8. O-RU holdover and O-DU holdover are independent events. Likewise, O-RU holdover behavior is optional 12
(not mandatory to be supported by HW or SW). 13
In addition to the synchronization state, the O-DU also considers estimated synchronization accuracy because the 14
synchronization state alone does not necessarily reflect synchronization status; a node in the SYNCED or HOLDOVER 15
mode may have synchronization accuracy outside of a required limit. 16
 17
 18
Table 9-8 : Node behavior during Holdover and Out-of-Sync 19
O-DU State

Sync
Accuracy
O-RU State M-Plane
State
Action
- - - Disconnected Section 9.4.3.1
- N/A FREERUN Connected Section 9.4.3.2
FREERUN  - - Connected Section 9.4.3.3
SYNCED/
HOLDOVER
In limit SYNCED/
HOLDOVER
Connected Section 9.4.3.4
SYNCED/
HOLDOVER
Out of limit SYNCED/
HOLDOVER
Connected Section 9.4.3.4

 20
9.4.3.1 M-Plane disconnected 21
This section is same as 9.4.1.1 22
 23
9.4.3.2 O-RU in the FREERUN State 24
This section is same as 9.4.1.2 25
 26
9.4.3.3 O-DU in the FREERUN state 27
O-DU 28
If a O-DU transits to the FREERUN state, the O-DU shall disable RF transmission on all connected O-RUs and keep it 29
turned off until synchronization is reacquired again. 30
Note: The O-DU may support a configuration option that allows O-DU to operate outside of the required 31
synchronization limits, or without any synchronization at all. 32
 33
O-RU 34

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        123
ORAN-WG4.CUS.0-v01.00
The O-RU is not synchronized from the O-DU. It may have no indication of the O-DU synchronization status, and 1
therefore shall only rely on O-DU to take care of the changed synchronization state. The O-RU need not react to the 2
FREERUN state at the O-DU in any distinct way. 3
 4
9.4.3.4 Operation in SYNCED/HOLDOVER state 5
Whether in “SYNCED” or “HOLDOVER” state, it is expected that O-DU monitors the “SYNCHRONIZED” or 6
“HOLDOVER” state. This is same as configurations C1 and C2 described in earlier section.  7
 8
9.5 S-Plane Handling in Multiple Link Scenarios 9
Behavior of S-Plane in scenarios with multiple links shall be based on the following principl es: 10
O-DU - Grand Master (configurations C1 & C2) 11
There must be an input sync reference signal on at least one link to a O-RU. Likewise, it is not prohibited to have input 12
reference signal on multiple or all links to a given O-RU. 13
O-RU (all configurations)– Slaves 14
O-RU must be able to adapt at startup to the reception of a sync reference signal on any port from their master. How the 15
ingress signal is detected (usually SSM for SyncE and Announce for PTP), and how the active port is selected (e.g., via 16
round-robin, ITU-T G.8275.1 BMCA, etc.) are implementation-specific. 17
If the input reference is present on multiple links, the O-RU may, but is not required to, implement redundancy for the 18
input reference signal if only capacity links are present on the module.  19
 20
9.6 Announce Messages 21
O-RU shall check the following advertised parameters against a list of acceptable values  based on its own design 22
(assumed to be M-Plane configurable): 23
• Domain Number: Default: 24 (for Full Timing Support per ITU-T G.8275.1) or 44 (fof Partial Timing Support 24
per ITU-T G.8275.2) 25
• PTP Acceptable Clock Classes:  26
o Default: 6, 7 27
o Operator configurable: 6, 7, 135, 140, 150, 160, 248 28
 29
9.7 Elementary Procedures 30
9.7.1 PTP Time Synchronization procedure 31
All procedures used to exchange time related information between a time synchronization master and slave shall be 32
compliant to the ITU-T G.8275.1 or G.8275.2 telecom profile, which provides necessary details on utilization of the 33
IEEE 1588-2008 protocol in telecom applications. 34
 35
9.7.2 System Frame Number Calculation from GPS Time 36
The general framework for System Frame Number (SFN) calculation from GPS (or GNSS) time is based on the 37
following premises: 38
• PTP time on the fronthaul interface shall use PTP timescale 39
• The PTP epoch is 1 January 1970 00:00:00 TAI, which is 31 December 1969 23:59:51.999918 UTC. 40

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        124
ORAN-WG4.CUS.0-v01.00
• PTP time on the fronthaul interface shall be traceable to a PRTC if a network wide synchronization of O-RUs 1
at the air interface is required (as in TDD 5G) 2
• From PTP time, the GPS seconds elapsed since GPS epoch (midnight January 6th, 1980) can be calculated, 3
since the difference between PTP and GPS epoch is a constant 4
• GPS seconds shall be used to calculate the frame number valid at that second according to:  5
o FrameNumber = floor[(GPSseconds –  * 0.01 s – /1.2288e9 Hz )/ framePeriodinSeconds] mod 6
(maxFrameNumber+1) 7
o frmePeriodinSeconds = 0.01 seconds; maxFrameNumber = 1023 8
o NOTE:  and  are defined as follows: 9
Table 9-9   and  parameter exchange 10
Direction Parameter Range Resolution
O-DU to O-RU Offset α (NR) of radio
frame timing (NOTE 1)
 : 0~1.2288e7
 * (1/1.2288 ns) : 0.00s~0.01s
1/1.2288 ns

O-DU to O-RU Offset β (NR) of radio
frame timing (NOTE 1)
: -32768~32767
 * (10ms) : -327680ms~327670ms
10ms
NOTE 1: Parameter data types and values for α and β are provided by the O-RAN M-plane spec. Epoch for α and β
(i.e. SFN=0) is set to 1980.1.6 00:00 (UTC)
 11
The UL to DL radio frame timing offset in TDD systems is described in Table 9-10 with default values applicable for 12
5G NR FR1 and FR2 ranges. NTAoffset is the configurable parameter used to control the timing offset. The absolute time 13
offset TTAoffset can be calculated as NTAoffset *1/1.96608GHz. 14
Table 9-10 : Definition of TTAoffset & NTAoffset 15
Frequency Range Range Resolution Default
FR1 NTAoffset: 0~65535
TTAoffset: 0µs~33.3µs
(NOTE 3)
0.5ns NTAoffset: 25600 (NOTE 2)
TTAoffset: 25600*Tc= 13.02µs
(NOTE 1)
FR2 NTAoffset: 0~65535
TTAoffset: 0µs~33.3µs
(NOTE 3)
0.5ns NTAoffset: 13792 (NOTE 2)
TTAoffset: 13792*Tc= 7.015µs
(NOTE 1)
NOTE 1: Tc=~0.5ns=1/1.96608GHz
NOTE 2: based on 3GPP TS38.133 Table 7.1.2-2
NOTE 3: TTAoffset=0s for FDD systems
 16
 17
 18
10 Beamforming Guidelines 19
10.1 General 20
This chapter describes terminologies, rules, properties and uses cases related to beamforming and its functionalities. It is 21
the baseline to follow by the O-DU, O-RU and modeling in M-plane. 22
10.2 Hierarchy of Radiation Structure in O-RU 23
The hierarchy of radiation structure in O-RU is depicted in Figure 10-1 and described below: 24

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        125
ORAN-WG4.CUS.0-v01.00
 1
Figure 10-1. Hierarchy of Radiation Structure 2
• O-RU: each O-RU can have 1 or several Panels 3
• Panel: each panel can have 1 or several TX-antenna-arrays/RX-antenna-arrays  4
• TX-antenna-array/RX-antenna-array: 5
o TX-antenna-array/RX-antenna-array is a logical construct used for data routing; there is a relationship 6
to physical antennas as defined by the O-RU construction, and eAxC values may be assigned to TX-7
antenna-arrays/RX-antenna-arrays: 8
▪ Multiple eAxC values may be assigned to a single TX-antenna-array or RX-antenna-array 9
▪ An eAxC value may only be assigned to a single TX-antenna-array and RX-antenna-array 10
o Each TX-antenna-array/RX-antenna-array has only 1 polarization for Category A O-RUs. 11
o Each TX-antenna-array may include both polarizations for Category B O-RUs. 12
o Each TX-antenna-array/RX-antenna-array terminates 1 or several RU_port_IDs. 13
o Each TX-antenna-array/RX-antenna-array can have 1 or several array elements (one use case being 14
antenna technologies wherein a single “array element” can support a high degree of beamforming, 15
another use case being the need to address a single element in the array). 16
o Each physical array element may be considered as a member of one or multiple TX-antenna-arrays / 17
RX-antenna-arrays. 18
o Amplitude and phase of each array element inside one TX-antenna-array/RX-antenna-array can be 19
controlled via the weights pointed to by the beam_ID(s) which are received via the terminated 20
RU_port_ID(s).  Alternatively, the beam_IDs may indicate the “state” of an antenna array not 21
explicitly comprising separate radiating elements which is also possible within the O-RAN 22
specification. 23
o It is assumed that when executing beamforming, array elements within an array are combined in 24
phase to form directed energy, therefore the array elements belonging to a TX -antenna-array and RX-25
antenna-array are calibrated together as a group (although such a calibration operation may be hidd en 26
from the interface (e.g. executed once upon O-RU manufacture). 27
• Array element: each array element can have 1 or several Radiators (where amplitude and phase relation 28
between the radiators cannot be changed dynamically during real-time) 29
• Radiator: radiating element – see IEEE Std 145-1993 (R2004) 30
O-RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        126
ORAN-WG4.CUS.0-v01.00
10.3 Calibration 1
Calibration is the functionality of eliminating/minimizing relative amplitude and phase differences over frequency 2
domain or time delay over the time domain between the array elements belonging to same TX-antenna-array/RX-3
antenna-array (including effect of front-end analog filters). 4
Calibration can also be applied between two or many TX-antenna-arrays/RX-antenna-arrays if those TX-antenna-5
arrays/RX-antenna-arrays belong to the same calibration Group which is part of the O-RU capabilities. 6
Note: Calibration capability between different TX/RX antenna arrays is expected to be conveyed via M -Plane but is not 7
supported in this version of the specification. When not available, it should be assumed that calibration is not possible 8
between the TX/RX antenna arrays. 9
 10
10.4 beamId Use for Various Beamforming Methods 11
There are two main domains in which beamforming is executed, frequency-domain and time-domain; it is also possible 12
to combine both (called “hybrid beamforming”).  Frequency-domain beamforming is done between the RE mapping 13
and FFT/iFFT processing stages (in UL and DL respectively) so is inherently a digital operation.  Time -domain 14
beamforming may be executed digitally or in the analog domain. 15
A characteristic of frequency-domain beamforming when used with OFDM is that different users may use the same 16
time slot yet use different beams.  In contrast, with time-domain beamforming all the users and signals in a time slot use 17
the same beam.  Hybrid beamforming allows different users in the same time slot to use different bea ms (the frequency-18
domain part) at the same time as all the users using a shared time-domain beam.   An example is the case where the 19
time-domain beam provides directivity in the elevation plane (so all users use the same elevation beam) while the 20
frequency-domain beams provide directivity in the azimuth plane (so different users may use different azimuth beams).  21
When implementing any kind of beamforming, O-RAN supports the following beamforming methods (see also Annex J 22
for a more mathematical description of the following beamforming methods): 23
a) Predefined-beam beamforming 24
b) Weight-based dynamic beamforming (based on real-time-updated weights) 25
c) Attribute-based dynamic beamforming (based on real-time-updated beam attributes) 26
d) Channel-information-based beamforming 27
 28
A: Predefined-beam beamforming 29
In this case, an index called “beamId” indicates the specific beam pre-defined in the O-RU to use.  The beamId could 30
indicate a frequency-domain beam or a time-domain beam or a combination of both (“hybrid” beam) and the O-DU 31
needs to know to ensure the beamId is properly applied e.g. the O-DU could not apply different time-domain beams to 32
the different PRBs in the same OFDM symbol.  The method the O-RU uses to generate the beam is otherwise not 33
relevant, it could use the application of gain and phase controls on separate antenna elements, or use multiple shaped -34
energy antennas, or any other technology.  The O-RU is expected to convey to the O-DU via the M-Plane on startup 35
beam characteristics but the O-DU remains ignorant regarding how the beam is actually created by the O-RU. 36
B: Weight-based dynamic beamforming 37
Here the O-DU is meant to generate weights that create the beam so the O-DU needs to know the specific antenna 38
characteristics of the O-RU including how many antenna elements are present in the vertical and horizontal directions 39
and the antenna element spacing, among other properties.  The weight vector associated with each beam has a beamId 40
value and the interpretation of this beamId value is addressed in this chapter. 41
C: Attribute-based dynamic beamforming 42
Like index-based beamforming, attribute-based beamforming allows the O-DU to tell the O-RU to use a specific 43
beamId but in this case that beamId is associated with certain beam attributes as described in chapter 5.4.7.2.  How the 44
O-RU achieves the implementation of the beams is not specified, however again the O-DU needs to know whether the 45
beam identified by the beamId is generated as a frequency-domain beam or a time-domain beam to ensure the beamId is 46
properly applied e.g. the O-DU could not apply different time-domain beams to the different PRBs in the same OFDM 47
symbol. 48
D: Channel-information-based beamforming 49

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        127
ORAN-WG4.CUS.0-v01.00
In this case the O-DU provides channel information per UE periodically (generally less often than every slot) and then 1
on a slot-by-slot basis the O-DU provides scheduling information which the O-RU uses along with the channel 2
information to calculate the proper beamforming weights for the specific slot with its co-scheduled UEs.  Here there is 3
no beamId value associated with the beamforming, instead the ueID is provided associated with each data section.  4
Therefore this sub-chapter regarding beamId usage is not relevant for this beamforming me thod.  5
10.4.1 Predefined-beam Beamforming 6
When implementing index-based beamforming, it is necessary for the O-RU to convey to the O-DU whether the 7
beamforming type is frequency-domain, time-domain, or a mixture of the two (“hybrid beamforming”).  In the case of 8
frequency-domain-only or time-domain-only, the beamId is simply an index to the desired beamforming weight vector  9
or other beamforming method.  In the case of hybrid beamforming, there are present in the O-RU pre-loaded frequency-10
domain weight vectors and time-domain weight vectors (these are applied separately).  The beamId points to a single 11
combined frequency-domain and time-domain weight vector.  However, in reality there will be the application of a 12
frequency-domain beamforming weight vector and the separate application of multiple time-domain beamforming 13
weight vectors, one per frequency-domain weight value.   14
For this case the M-Plane must convey from the O-RU to the O-DU upon start-up as part of the O-RU self-description: 15
• the list of available beamIds and their characteristics, see chapter “10.4.1.1 Beam Characteristics” below. 16
 17
Note that there is no requirement that beamIds be in sequential order or that there are no gaps between beamId values.  18
The only constraint is that the beamId value of zero is reserved so cannot refer to any frequency -domain, time-domain 19
or hybrid beam. 20
10.4.1.1 Beam Characteristics 21
In order to use predefined-beam beamforming in a standardized way, O-RAN considers beamforming to be defined 22
such that energy (in the DL) or sensitivity (in the UL) is focused into either a “coarse” or “fine” granularity with 23
possible overlaps.  In this way “broadcast” beams may be used to cover a wider area with less power or sensitivity, 24
while higher-power or higher-sensitivity beams may be used in e.g. a per-UE fashion.  Figure 10-2 shows an example 25
of the assumed beam arrangement. 26

azimuth +60 -60
elevation
1 2 3 4
5 6 7 8
9 10 11 12 13 14 15 16
17 18 19 20 21 22 23 24
25 26 27 28 29 30 31 32
33 34 35 36 37 38 39 40
beamID
beam group 1 →
beam group 2 →
beam group 3 →
beam group 4 →
beam group 5 →
beam group 6 →
Note: ovals represent beams, numbers in ovals represent beamId
 27
Figure 10-2 : Example of updatable-weight frequency-domain plus fixed time-domain beamforming 28
Figure 10-2 introduces the concept of “beam-group”.  A “beam-group” is the set of beamIds that may be used 29
simultaneously for some reason.  In Figure 10-2 an assumption can be made that the elevation direction is time-domain 30
while the azimuth direction is frequency-domain; the frequency-domain beams in the same time-domain group may be 31
used at the same time but different time-domain groups must be separated in time.   32
Figure 10-2 also shows the need to describe beam overlap and beam adjacency.  It is necessary, for example, to convey 33
that beamId=1 is a coarse beam overlapping with fine beamIds={9,10,17,18} and that beamId=18 is a fine beam 34

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        128
ORAN-WG4.CUS.0-v01.00
overlapping with coarse beamId=1.  It is also necessary to convey that beamId=1 has as neighbors 1
beamId={2,5,11,19,25,26} and that beamId=18 has as neighbors beamIds={2,5,10,17,19,26}.  Overlapping beams must 2
not be scheduled together to avoid interference, and neighboring beams should not scheduled together to avoid 3
interference where possible. 4
The specific beam characteristics are therefore as follows, all per beamId: 5
1) beam-type for the subject beamId enumerated as COARSE-BEAM or FINE-BEAM; 6
• there is no attempt to quantify “coarse” and fine” in terms of beamwidth, this is just a relative 7
relationship 8
2) beam-group-id for the subject beamId as an integer; 9
3) coarse-fine-beam-relation as a list: if the subject beamId is coarse, this is a list of the associated fine beams, 10
and if the subject beamId is fine, this is a list of the associated coarse beams; 11
4) neighbor-beam as a list: a list of all beams that may interfere with the subject beamId 12
 13
10.4.2  Weight-based dynamic beamforming 14
Real-time-updated-weight-based beamforming operates the same as index-based beamforming, except that the need for 15
the O-DU to convey actual beam weights to the O-RU introduces additional complexity. 16
10.4.2.1 Weight-based dynamic frequency-domain or time-domain beamforming (not 17
hybrid) 18
In the case of either frequency-domain or time-domain beamforming wherein the beamforming weights can be updated 19
in real-time and have a beamId value associated with the weights, the beamId is treated the same: it points to a set of 20
weights that control the array elements’ gain and phase and the number of weights equals the number of array element s.  21
In many cases, the magnitude of each complex weight value will equal unity but this is not required; in particular 22
“tapering” may require less-than-unity weight magnitudes for some array elements.  The weight values prior to any 23
compression will be fractional hence no I or Q value may exceed positive or negative unity.  24
 25
The following list describes the information that the M-Plane must carry from the O-RU to the O-DU upon start-up as 26
part of the O-RU self-description, the information listed is per array (so per tx-array or per rx-array): 27
1) Beamforming type, enumerated as “frequency”, “time” or “hybrid” 28
2) Maximum number of weight-based beamId values supported (could be zero) : “numBeams” 29
• O-RUs may have memory limitations that mean the number of beams is limited; zero means no weight-30
based beamforming is supported by this tx-array or rx-array 31
3) Initial value of weight-based beamId supported: “initBeamId” 32
• Different ranges of beamId may support weight-based beamforming versus e.g. predefined 33
beamforming 34
4) Frequency granularity of time-domain beamforming, enumerated as “per component carrier” or “per band”. 35
• Value is only present for time-domain beamforming 36
5) Time granularity of time-domain beamforming, enumerated as “per-OFDM-symbol” or “per-slot”. 37
• Value is only present for time-domain beamforming 38
 39
Because the beams are to be generated by the O-DU the O-RU will not know the beam characteristics so they are not 40
reported.   41
The actual number of weights K in the frequency-domain or time-domain weight vectors will be clear from the O-RU 42
antenna model, see the Chapter 10.5 on that topic. 43
10.4.2.2 Weight-based dynamic hybrid beamforming  44
Here two sub-cases are considered, wherein for one sub-case both the frequency-domain and time-domain weights may 45
be updated in real-time, and for the second sub-case the frequency-domain weights may be updated in real-time but the 46
time-domain beams are fixed. 47

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        129
ORAN-WG4.CUS.0-v01.00
10.4.2.2.1 Hybrid beamforming with updatable frequency-domain and time-domain weights 1
For this sub-case the beamforming weight vector is a composite of the frequency-domain weights and the time-domain 2
weights so can be considered as simply a longer weight vector.  Where a block -based beam weight compression is 3
employed (block floating point, block scaling or -law compression), the block size is a single beamforming weight 4
vector (both frequency-domain and time-domain parts).  The actual number of weights in the composite frequency-5
domain plus time-domain weight vectors (K’ + K) will be clear from the O-RU antenna model, see the Chapter 10.5 on 6
that topic. 7
The following list describes the information that the M-Plane must carry from the O-RU to the O-DU upon start-up as 8
part of the O-RU self-description, the information listed is per array (so per tx-array or per rx-array): 9
1) Beamforming type, enumerated as “frequency”, “time” or “hybrid” – here will be “hybrid” 10
2) Maximum number of weight-based beamId values supported (could be zero) : “numBeams” 11
• O-RUs may have memory limitations that mean the number of beams is limited; zero means no 12
weight-based beamforming is supported by this tx-array or rx-array 13
3) Initial value of weight-based beamId supported: “initBeamId” 14
• Different ranges of beamId may support weight-based beamforming versus e.g. predefined 15
beamforming 16
4) Frequency granularity of time-domain beamforming, enumerated as “per component carrier” or “per band”.  17
5) Time granularity of time-domain beamforming, enumerated as “per-OFDM-symbol” or “per-slot”. 18
 19
Note that the number of time-domain beam weights associated with a given beamId is the same as the number of array 20
elements which is K, but the number of frequency-domain weights is less, being K’.  p’ represents the dimensionality of 21
the time-domain beamforming operation, so that K = K’ * p’.  The total length of the beamforming weight vector, 22
including both the K’ frequency-domain weights and the K time-domain weights, is K’ + K = K’ + (K’ * p’) = K’ * 23
(p’+1).  Figure 10-3 shows an example where K = 16, K’ = 4 and p’ = 4, and the length of the beamforming weight 24
vector (frequency-domain and time-domain combined) is 20 complex weights. 25

θ 1,0
#3
#5
#5
#3
0x13
beam id
0x25
frequency-domain
beamforming
weights time-domain beamforming weights
Analog beam shapes
defined by θ values
   Analog
beam
#3
1,0
1,1
1,2
1,3
   Analog
beam
#3
   Analog
beam
#5
   Analog
beam
#5
2,0
2,1
2,2
2,3
3,0
3,1
3,2
3,3
4,0
4,1
4,2
4,3
φ 1,0 φ 1,1 φ 1,2 φ 1,3
φ 2,0 φ 2,1  φ 2,2 φ 2,3
θ 1,1 θ 1,2 θ 1,3 θ 2,0 θ 2,1 θ 2,2 θ 2,3 θ 3,0 θ 3,1 θ 3,2 θ 3,3 θ 4,0 θ 4,1 θ 4,2 θ 4,3
θ 1,0 θ 1,1 θ 1,2 θ 1,3 θ 2,0 θ 2,1 θ 2,2 θ 2,3 θ 3,0 θ 3,1 θ 3,2 θ 3,3 θ 4,0 θ 4,1 θ 4,2 θ 4,3
When different hybrid beams are used in the same
symbol, here using beamId values 0x13 and 0x25, the
time-domain weights must be the same (here
indicated by θ values) and the number of time-domain
weights equals the number of array elements K (here,
16).  The frequency-domain weights may differ (shown
as two different sets of  values) and there are fewer
of those, specifically there are K’ (here, 4) frequency-
domain weight values.
 26
Figure 10-3 : Example of updatable-weight frequency-domain and time-domain beamforming 27
 28

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        130
ORAN-WG4.CUS.0-v01.00
10.4.2.2.2 Hybrid beamforming with updatable frequency-domain weights and fixed time-domain 1
beams 2
For this sub-case the beamforming weight vector is a composite of the frequency-domain weights and the time-domain 3
beam numbers with the frequency-domain weights in the first half of the vector and the time-domain beam numbers in 4
the second half of the vector.  This vector must not be considered as simply a longer weight vector because the 5
frequency-domain weights may be compressed but the time-domain beam numbers must not be compressed.  Where a 6
block-based beam weight compression is employed (block floating point, block scaling or -law compression), the 7
block size is a single beamforming weight vector but only that half of the weight vector containing the frequency -8
domain weights.  The remaining half of the vector containing the time-domain beam numbers may not be compressed 9
and contains the integer time-domain beam numbers. 10
The actual number of weights in the composite frequency-domain weights plus time-domain beam-number vectors (K’ 11
and K) will be clear from the O-RU antenna model (see the Chapter 10.5 on that topic) with the number of frequency-12
domain weights K’ indicating which elements in the vector are subject to compression (the first K’ complex values in 13
the vector). 14
The following list describes the information that the M-Plane must carry from the O-RU to the O-DU upon start-up as 15
part of the O-RU self-description, the information listed is per array (so per tx-array or per rx-array): 16
1) Beamforming type, enumerated as “frequency”, “time” or “hybrid” – here will be “hybrid” 17
2) Maximum number of weight-based beamId values supported (could be zero) : “numBeams” 18
a. O-RUs may have memory limitations that mean the number of beams is limited; zero means no weigt-19
based beamforming is supported by this tx-array or rx-array 20
3) Initial value of weight-based beamId supported: “initBeamId” 21
a. Different ranges of beamId may support weight-based beamforming versus e.g. predefined 22
beamforming 23
4) Frequency granularity of time-domain beamforming, enumerated as “per component carrier” or “per band”.  24
a. Value is only present for time-domain beamforming 25
5) Time granularity of time-domain beamforming, enumerated as “per-OFDM-symbol” or “per-slot”. 26
a. Value is only present for time-domain beamforming 27
6) For each of the time-domain beams (the number is known from the O-RU antenna model), beam attributes (see 28
11.3.1.1) 29
 30
Note that the number of time-domain beam numbers associated with a given beamId (K’) will be the same as the 31
number of frequency-domain beam weights for that beamId; this is because each frequency-domain beamforming 32
weight is applied to a data stream that is subsequently time-domain beamformed using a specific beam number, so if 33
there are e.g. K’=4 frequency-domain weights associated with a given beamId there will be four time-domain beam 34
numbers also associated with that same beamId.  See Figure 10-4 for an example wherein four frequency-domain 35
weights x,y are applied with four time-domain beamforming numbers (#3 and #5).  Here the number of frequency -36
domain weights K’ indicated by the antenna model would be “four” so the first four values in each vector would be 37
complex fractional values and would be compressed, while the second four values would be real integers and not 38
compressed. 39
 40

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        131
ORAN-WG4.CUS.0-v01.00

5
5
#3
#5
#5
#3
0x13
beam id
0x25
5
5
3
3
3
3
In Single User MIMO we might need to use 2
different TD beams for one symbol  (and
want to use all antenna elements so do not
want to use zero-value FD weights) and a
single eAxC → we need multiple TD beams, in
particular one per ADC/DAC.
This is generally only useful for category B
O-RU (precoding within the O-RU)
frequency-domain
beamforming weights
time-domain
beam #
Analog beam “shape”
defined by properties
   Analog
beam
#3
1,0
1,1
1,2
1,3
   Analog
beam
#3
   Analog
beam
#5
   Analog
beam
#5
2,0
2,1
2,2
2,3
3,0
3,1
3,2
3,3
4,0
4,1
4,2
4,3
φ 2,0  φ 2,1  φ 2,2  φ 2,3
φ 1,0  φ 1,1  φ 1,2  φ 1,3
#3
#3
#5
#5
 1
Figure 10-4 : Example of updatable-weight frequency-domain plus fixed time-domain beamforming 2
10.4.3 Attribute-based dynamic beamforming 3
Attribute-based dynamic beamforming operates similarly to weight-based dynamic beamforming except that hybrid 4
beamforming is not possible, because the beam attributes are a result of the beamforming operation within the O-RU 5
which will be either frequency-domain or time-domain but not a mixture.  Also, instead of beamforming weights 6
associated with a specific beamId being sent from O-DU to O-RU in section extension =1, beam attributes associated 7
with a specific beamId are sent instead from the O-DU to the O-RU in a different section extension =2.  8
The following list describes the information that the M-Plane must carry from the O-RU to the O-DU upon start-up as 9
part of the O-RU self-description: 10
1) Beamforming type, enumerated as “frequency” or “time” (not “hybrid”) 11
2) Maximum number of beamId values supported (could be zero) : “numBeams” 12
a. O-RUs may have memory limitations that mean the number of beams is limited; zero means no 13
weight-based dynamic beamforming is supported by this tx-array or rx-array 14
3) Initial value of beamId supported: “initBeamId” 15
a. Different ranges of beamId may support generated beam beamforming versus e.g. predefined 16
beamforming 17
4) Valid range of bfAzPt (see chapter 5.4.7.2.2) 18
5) Valid range of bfZePt (see chapter 5.4.7.2.3) 19
6) Valid range of bfAz3dd (see chapter 5.4.7.2.4) 20
7) Valid range of bfZe3dd (see chapter 5.4.7.2.5) 21
8) Valid range of bfAzSl (see chapter 5.4.7.2.6) 22
9) Valid range of bfZeSl (see chapter 5.4.7.2.7) 23

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        132
ORAN-WG4.CUS.0-v01.00
 1
10.4.4 Channel-information-based beamforming 2
As stated earlier, beamId is irrelevant and unused in the case of channel-information-based beamforming. 3
 4
10.5 O-RU Antenna Model supported by O-RAN 5
Knowledge of O-RU antenna model is critical for certain types of beamforming. The following model is applicable for 6
O-RU with one or more antennas, where each antenna has array of elements that are  7
• uniform (all elements have same properties) and  8
• organized into rectangular array (with rows and columns) that is planar (flat). 9
O-RU exposes via M-plane logical model of O-RU consisting of one or more arrays compose of one or more array 10
elements. Array element represents independently controllable entity including one or more radiating elements and 11
related RF processing elements. Note RX and TX are in general independently controllable for that in the model TX 12
and RX arrays are described as separate entities. If O-RU supports beamforming, then beamforming is realized within 13
each array separately i.e. beamforming weight vector is applicable within one array. One or more arrays can occupy 14
same physical location e.g. RX array and TX array that use same set of radiators.  15
Beamforming methods that use dynamic beamforming with beamforming weights conveyed in C-plane message (in 16
contrast to predefined beams) require the O-DU to know antenna properties. Different beamforming methods require 17
knowledge of different subsets of antenna properties. 18
10.5.1 Coordinate Systems 19
Some of parameters describing model of antenna related to coordinate system that defines three axes and three angles.  20
There are two coordinate systems defined: 21
• array coordinate system 22
• O-RU coordinate system 23
The array coordinate system is presented below: 24
 25
Figure 10-5 : Array Coordinate System 26
y
x
z

Antenna
array
Array
element
View assumes observation of the antenna array
from the front (from UE).
y
x
z

Antenna
array
Array
element
View assumes observation of the antenna array
from the front (from UE).

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        133
ORAN-WG4.CUS.0-v01.00
The diagram presents view from the front of array-panel (from UE). Arrows indicate increasing values of coordinates.  1
x points towards broad-side 2
y increases to left, with antenna-array’s columns 3
z points towards zenith 4
φ (phi) is azimuth angle, counter-clockwise rotation around z-axis, 0° points to broad-side, 90° points to y-axis 5
θ (theta) is zenith angle, counter-clockwise rotation around y-axis, 0° points to zenith, 90° points to horizon 6
ψ (psi) is angle, counter-clockwise rotation around x-axis, 0° points to horizon, 90° points to zenith 7
The array coordinate system is centered on centre of the leftmost, bottom element of array. The array coordinate 8
system is applicable within one array. 9
The O-RU coordinate system is the selected array coordinate system of an O-RU. The selection is fixed by O-RU 10
design. The O-RU coordinate system is applicable within one O-RU. 11
10.5.2 O-RU Antenna Model Parameters  12
The O-RU antenna model can be described with following parameters: 13
• K – number of array elements in array (note that K = M*N*P*Q) 14
• M – number of rows of array elements in array. M>0; value 0 is reserved for future use. 15
• N – number of columns of array elements in array. N>0; value 0 is reserved for future use. 16
• P – number of polarizations in array. P>0, value 0 is reserved for future use. 17
• Q – number of overlapping array elements (array-layers) in array. Each array-layer has M rows, N columns 18
and P polarizations. Q>0; value 0 is reserved for future use.  See Annex K for more information on array-19
layers. 20
• x, y, z – position of centre of the leftmost, bottom element of array in O-RU coordinate system 21
• φ, θ direction of normal vector perpendicular to array’s surface in O-RU coordinate system (array’s normal 22
vector corresponds to x axis in array’s coordinate system) 23
• dy – mean distance between centres of nearby array elements in y direction in array coordinate system 24
(distance between columns); value 0 is reserved for future use.  25
• dz – mean distance between centres of nearby array elements in z direction in array coordinate system 26
(distance between rows); value 0 is reserved for future use. 27
• list of polarizations in array (this list has P elements, each representing p-th polarization); values ordered in 28
ascending order of angle. Example: cross-polarized array having elements of one of two linear polarizations 29
can be described by list: (-45°, +45°) indicating that array element with polarization index p=0 has linear 30
polarization -45°, and array element with polarization index p=0 has linear polarization +45°. 31
• independent power budget per layer - in case of an array with multiple layers, corresponding elements 32
(located in same row and column and same polarization) of different layers may have a shared power budget or 33
have independent power budgets. 34
For an array supporting hybrid beamforming (see section 10.4.2) there is a need for additional parameters: 35
• K’ – number of frequency domain beamforming weights φ k’ that can be applied within the array.  36
0<K’≤K; value 0 is reserved for array not supporting hybrid beamforming. 37
• h(k) – mapping of array element k to frequency domain beamforming weight φk’ where k’=h(k). 38
The mapping is represented as a list of lists: for every 0<k’<K’ a list of K/K’ numbers identifying array 39
elements where frequency domain beamforming weight φk’ is applied. k’=h(k) if number k is in the list 40
corresponding to k’. 41
Section 10.5.3 Identification and Ordering of Array Elements describes how numbers are assigned to array 42
elements. 43
The model assumes the number of array elements corresponding to frequency domain beamforming weight φ k’ is the 44
same for every k’ (0<k’<K’) and the elements corresponding to beamforming weights form a rectangular shape without 45
overlapping i.e. every array element is linked with exactly one frequency domain beamforming weight φk’. 46
In addition, the O-RU antenna model provides parameters describing key capabilities of array elements. The model 47
assumes the array is uniform and all elements have the same properties. Each single value is applicable to all elements 48
within the array. 49
Parameters describing array elements applicable to TX and RX arrays: 50

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        134
ORAN-WG4.CUS.0-v01.00
• horizonal plane half power (-3 dB) beam width of array element’s radiation pattern 1
• vertical plane half power (-3 dB) beam width of array element’s radiation pattern 2
• horizonal plane quarter power (-6 dB) beam width of array element’s radiation pattern 3
• vertical plane quarter power (-6 dB) beam width of array element’s radiation pattern  4
Beam widths above are angles (expressed in degrees) between half-power (-3 dB) points or quarter-power (-6 dB) 5
points respectively of the main lobe with reference to peak radiated power of main lobe. Horizontal and vertical plane 6
correspond to the xy-plane and xz-plane respectively of the array in the array coordinate system. 7
The parameter describing array elements specific for TX array: 8
• ma,k - max rms power rating of array element of the array. Usage of max rms power rating is described in 9
section 6.1.3.3. 10
 11
10.5.3 Identification and Ordering of Array Elements 12
In many applications there is a need to assign to array element a number k such that 0≤k<K. One example is mapping 13
position (represented by k, such that 0≤k<K) of beamforming weight in beamforming vector to array element. Other 14
example is identification of array elements in antenna model.  15
For purpose of identification and ordering a number k is assigned to each element of array by the function f(m,n,p.q): 16
𝑓(𝑚,𝑛,𝑝,𝑞)= 𝑞∙𝑄∙𝑀∙𝑁+𝑝∙𝑀∙𝑁+𝑚∙𝑁+𝑛 17
where: 18
m - row (bottom to top), 0≤m<M 19
n - column (left to right, view from the front of array), 0≤n<N 20
p - polarization index, 0≤p<P; polarization value of polarization index p is ψp 21
q – array-layer, 0≤q<Q 22
Note that for a rectangular array, the function f(m,n,p,q) can be inverted allowing to specify a “tuple” (m,n,p,q) of k-th 23
element. 24
10.5.4 Relations Between Array Elements 25
Beamforming methods that use dynamic beamforming with beamforming weights conveyed in C-plane messages (in 26
contrast to predefined beams) require the O-DU to know that specific elements of one array is co-located with elements 27
of another array e.g. RX array and TX array that use same set of radiators. In addition, one or more TX arrays may 28
share elements and parts of RF processing paths (e.g. a power amplifier) resulting in a shared power budget described 29
by a maximum rms power rating. 30
If element ka of array A and element kb of array B are in same position (same physical row and column) then ka and kb 31
are co-located. 32
If element ka of array A and element kb of array B are co-located and share a power budget, then ka and kb are shared. 33
Relation of co-location is symmetric: ka and kb are co-located if and only if kb and ka are co-located. 34
Relation of co-location is transitive: if ka and kb are co-located and kb and kc are co-located then ka and kc are co-located. 35
Relation of sharing implies co-location: if ka and kb are shared then ka and kb are co-located. 36
O-RU shall report via M-plane relations between array elements. O-RU shall avoid reporting redundant relations that 37
can be derived from other relations by symmetric and transitive properties and implication of co -location relation by 38
sharing relation. In addition, the O-RU shall provide a concise representation of the common case of two arrays that 39
have all elements in relation (e.g. RX array of -45° polarization and corresponding RX array of +45° polarization). 40
10.5.5 Model Usage 41
The O-RU antenna model reported by the O-RU consists of RX arrays and TX arrays. RX arrays and TX arrays 42
represent a capability for transmitting/receiving RF signal related to an eAxC and - if beamforming is supported by O-43

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        135
ORAN-WG4.CUS.0-v01.00
RU on given array - beamforming capability. In this section examples are presented: red and green bars represent array 1
elements of different polarizations, grey box represents physical device, white rectangles represent arrays reported by 2
O-RU. 3
 4
Figure 10-6 : Examples of Model Usage – TX as two single-polarization arrays or one cross-polarized array 5
 6
As an example Figure 10-6 presents two O-RU designs: an O-RU with two TX arrays each of one polarization and an 7
O-RU with one TX array of two polarizations (note number and dimension of TX array has an impact on the size of 8
beamforming vectors). Of course, an O-RU that combines both above designs is possible as presented in Figure 10-7.  9
 10
Figure 10-7 : Examples of Model Usage – TX as two single-polarization arrays and one cross-polarized array 11
physical array
rx-array "-45"
rx-array "+45"
tx-array "-45"
tx-array "+45"
physical array
rx-array "-45"
rx-array "+45"
tx-array "all"
physical array
rx-array "-45"
rx-array "+45"
tx-array "-45"
tx-array "+45"
tx-array "all"

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        136
ORAN-WG4.CUS.0-v01.00
 1
Similarly, in RX – if an O-RU does not support the collecting raw SRS by use of beams designed to mute signal from 2
all elements except one then that O-RU – in addition to full RX array – may expose RX arrays with single elements as 3
presented in Figure 10-8 4
 5
Figure 10-8 : Example of Model Usage – RX with multi-element and multiple single-element arrays 6
 7
An O-RU that does not support beamforming can be represented with arrays having one element each. Note that a 8
category B O-RU could be represented with an array with two elements to accommodate two polarizations while a 9
category A O-RU would generally be represented with a TX array with only one polarizati on (P=1). Figure 10-9 10
presents the two design examples of a non-beamforming O-RU: an O-RU with two TX arrays each of one polarization 11
and an O-RU with one TX array of two polarizations. Of course, an O-RU that combines both designs is also possible. 12
 13
Figure 10-9 : Examples of Model Usage – Non-beamforming O-RU with TX as two single-polarization arrays or 14
one cross-polarized array 15
 16
Annex A  Compression Methods 17
A.1 Block Floating Point Compression 18
The compressed data representation is as follows. For each PRB, In-phase (I) and Quadrature (Q) samples are converted 19
into floating point format. Subsequently, the samples are presented as a compressed bit sign and a mantissa (e.g., 9-bit) 20
and a shared exponent (see Figure A-1). The compression procedure receives 12 subcarriers with 24 uncompressed I 21
and Q samples. The I and Q samples are subsequently compressed to a bit signed mantissa and unsigned exponent. 22
Further, the exponent is included for each compression block to be sent per PRB ( see Figure A-2). 23
physical array
rx-array "-45"
(multiple single-element rx-arrays)
tx-array "+45"
rx-array "-45"
physical array
rx-array "+45"tx-array "-45" rx-array "-45"
physical array
rx-array "+45"tx-array "all"

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        137
ORAN-WG4.CUS.0-v01.00
Note: Mantissa bitwidths are specified in the compHdr field of the relevant U-Plane or C-Plane message (range 1-16 1
bitwidth). However, support on O-RU HW for particular mantissa bitwidths is to be defined on individual basis. That is, 2
there is no requirement on O-RU HW to support all possible mantissa bitwidths. 3
 4
Figure A-1 : Block Floating Point Compression data representation 5
 6
 7
Figure A-2 : Block Floating Point Compression process overview 8
 9
A.1.1 Block Floating Point Compression Algorithm 10
The following pseudo code depicts an example reference implementation of the compression algorithm. 11
Inputs: 12
•  fPRB - Original physical resource block (PRB), 12 complex resource elements with “native” word length of 13
the implementation e.g. 24 bits (UL should use as accurate value as possible from FFT & beam forming) 14
• iqWidth - Word length after compression (includes sign bit) 15
Outputs: 16
• cPRB - Compressed PRB, 12 complex resource elements with word length iqWidth 17
• exponent - Common exponent for compressed PRB 18
// Find max and min 19
maxV = max(Re(fPRB), Im(fPRB)), minV = min(Re(fPRB), Im(fPRB)) 20
// Determine max absolute value 21
maxValue = max(maxV, |minV|-1)  (msb of negative value can be one higher) 22
// Calculate exponent 23
raw_exp = [floor(log2(maxValue) +1)] (msb of maxValue) 24
// Calculate shift value and limit to positive 25
exponent = max(raw_exp – iqWidth + 1, 0) 26

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        138
ORAN-WG4.CUS.0-v01.00
// Determine right shift value 1
scaler = 2-exponent  2
For iRe = 1:length(fPRB) 3
//Scale and round: 4
Re(cPRB(iRE)) =  Quantize (scaler × Re(fPRB(iRE)))  /* mult. could be bit-shift, Quantize could be or-round */ 5
Im(cPRB(iRE)) = Quantize (scaler × Im(fPRB(iRE)))  /* mult. could be bit-shift, Quantize could be or-round */ 6
End 7
 8
A.1.2 Block Floating Point Decompression Algorithm 9
The following pseudo code depicts an example reference implementation of the decompression algor ithm. 10
Inputs: 11
• cPRB - Compressed PRB, 12 complex resource elements with word length WL 12
• exponent - Common exponent for compressed PRB 13
Outputs: 14
• fPRB - Decompressed physical resource block (PRB), 12 complex resource elements with “native” word 15
length for further processing. For example, 24 bits or 32 bits 16
//Determine scaler 17
scaler = 2exponent  18
For iRe = 1:length(cPRB) 19
//Scale 20
Re(fPRB(iRE)) = scaler × Re(cPRB(iRE))  /* this could be replaced with a bit-shift operation */ 21
Im(fPRB(iRE)) = scaler × Im(cPRB(iRE))  /* this could be replaced with a bit-shift operation */ 22
End 23
 24
A.2 Block Scaling Compression 25
A block scaling algorithm is proposed which is similar in concept to the Block Floating Point representation except that 26
instead of data being represented by mantissa values and exponent shared within the block, data is instead represented 27
by post-scaled values and a multiplicative scale value shared within the block.  It is proposed in the specification that 28
the data block size for this function is a single PRB, same as for the proposed Block Floating Point representation.  The 29
following Figure A-3 shows the algorithm in principle (assuming an 8-bit scaler value). 30
  31
 32
 33
 34
 35
 36
 37
 38
Figure A-3 : Block Scaling Process Diagram 39
Find peak
absolute
value
IQ Data
Input
Map to 8 bit
PRB of IQ
data
Invert using
256 element
LUT
X
 Map to BIQ
bits

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        139
ORAN-WG4.CUS.0-v01.00
A.2.1 Block Scaling Compression Algorithm 1
The following pseudo code depicts an example implementation of the compression algorithm.  2
Inputs: 3
•  fPRB - Original physical resource block (PRB), 12 complex resource elements with “native” word le ngth of 4
the implementation e.g. 24 bits (UL should use as accurate value as possible from FFT & beamforming)  5
• iqWidth - Word length after compression (includes sign bit) 6
Outputs: 7
• cPRB - Compressed PRB, 12 complex resource elements with word length iqWidth 8
• blockScaler- Common scaler for compressed PRB 9
// Find max and min 10
maxV = max(Re(fPRB), Im(fPRB)), minV = min(Re(fPRB), Im(fPRB)) 11
// Determine max absolute value 12
maxValue = max(maxV, |minV|-1)  (msb of negative value can be one higher) 13
// Calculate scaler 14
blockScaler = Inverse(maxValue) /* blockScaler can be chosen to be smaller than Inverse(maxValue). Inverse can be 15
implemented via look up table or other methods. */ 16
For iRe = 1:length(fPRB) 17
//Scale and round: 18
Re(cPRB(iRE)) =  Quantize (blockScaler × Re(fPRB(iRE)))  /* Quantize could be truncate or round */ 19
Im(cPRB(iRE)) = Quantize (blockScaler× Im(fPRB(iRE)))  /* Quantize could be truncate or round */ 20
End 21
A.2.2 Block Scaling Decompression Algorithm 22
The following pseudo-code depicts an example reference implementation of the block scaling decompression algorithm. 23
Inputs: 24
• cPRB - Compressed PRB, 12 complex resource elements with word length WL 25
• blockScaler - Common scaler for compressed PRB 26
Outputs: 27
• fPRB - Decompressed physical resource block (PRB), 12 complex resource elements with “native” word 28
length for further processing. For example 24 bits or 32 bits 29
For iRe = 1:length(cPRB) 30
//Scale 31
Re(fPRB(iRE)) = blockScaler × Re(cPRB(iRE))  /* this could be replaced with a bit-shift operation */ 32
Im(fPRB(iRE)) = blockScaler × Im(cPRB(iRE))  /* this could be replaced with a bit-shift operation */ 33
End 34
 35
A.3 -Law Compression 36
A.3.1 -Law Compression Algorithm 37
Inputs: 38

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        140
ORAN-WG4.CUS.0-v01.00
• prbI & prbQ – Original physical resource block (PRB), 12 complex resource elements with a word length of 1
16-bits I and 16-bits Q. The input bit width is fixed to 16-bits. 2
• compBitWidth – the length of I bits and the length of Q bits after compression over the entire PRB.   Note that 3
this means that the -law compression is really considered as a “block” compression with the block size being 4
one PRB (same as for block floating point and block scaling). 5
 6
Outputs: 7
• compI & compQ – compressed PRB, 12 complex resource elements with word length compBitWidth, 8
including sign, exponent and mantissa. 9
• compShift – the shift applied to the entire PRB. 10
 11
The O-RAN μ-law compression method combines a simple bit shift operation (for dynamic range) with a nonlinear 12
piece wise approximation of μ-law compression where for implementation efficiency, μ=8 and the sign & mantissa are 13
1 and 2-bits respectively. 14
sign(prbI)
abs(prbI)
abs(prbQ)
sign(prbQ)
absI
asbsQ
max(absI,absQ) LUT
shl(absI,compShift)
compShift
shl(absQ,compShift)
Compand
Compand Sign recover
Sign recover
prbI
prbQ
compI
compQ
compShift
4
16
16
15
15
compBitWidth
compBitWidth
1
1
4
 15
Figure A-4 : -Law Compression Algorithm 16
// extract the sign bit and absolute value for the PRB  17
signI=sign(prbI), signQ=sign(prbQ), absI=abs(prbI ), absQ=abs(prbQ) 18
// Find the maximum in absI and absQ 19
maxVal=max(absI,absQ) 20
// Determine compShift, the shift to be applied to the entire PRB 21
if maxVal>=2^14 then compShift=0 22
if maxVal<2^14 then compShift=1 23
if maxVal<2^13 then compShift=2 24
if maxVal<2^12 then compShift=3 25
if maxVal<2^11 then compShift=4 26
if maxVal<2^10 then compShift=5 27
if maxVal<2^9   then compShift=6 28
if maxVal<2^8   then compShift=7 29
 30
// Apply round and shift right (shr – make greater) 31
absI = shr(absI,compShift) 32
absQ= shr(absQ,compShift) 33
 34
// compand each sample, absBitWidth=15 35
if absI(i) >   (2^absBitWidth-1) then compI(i) = (2^absBitWidth-1) // saturate 36
if absI(i) <= 2^(absBitWidth-2) then  37
compI(i) = absI(i)/2^(absBitWidth- compBitWidth ) 38

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        141
ORAN-WG4.CUS.0-v01.00
elseif absI(i <= 2^(absBitWidth-1) then  1
compI(i) = absI(i)/2^(absBitWidth- compBitWidth +1) + 2^( compBitWidth -3)  2
else  3
compI(i) = absI(i)/2^(absBitWidth- compBitWidth +2) + 2^( compBitWidth -2) 4
end 5
if absQ(i) >   (2^absBitWidth-1) then compQ (i) = (2^absBitWidth-1) 6
if absQ (i) <= 2^(absBitWidth-2) then  7
compQ(i) = absQ (i)/2^(absBitWidth- compBitWidth ) 8
elseif absQ (i <= 2^(absBitWidth-1) then  9
compQ (i) = absQ (i)/2^(absBitWidth- compBitWidth +1) + 2^( compBitWidth -3)  10
else  11
compQ (i) = absQ (i)/2^(absBitWidth- compBitWidth +2) + 2^( compBitWidth -2) 12
end 13
// re-apply sign 14
compI = round(signI .* compI); 15
compQ = round(signQ .* compQ); 16
 17
A.3.2 -Law Decompression Algorithm 18
Inputs: 19
• compI & compQ– compressed physical resource block (PRB), 12 complex resource elements with a word 20
length of compBitWidth bits I and compBitWidth bits Q.  21
• compShift – the shift applied to the entire PRB. 22
Outputs: 23
• decompI & decompQ – the decompressed PRB, 12 complex resource elements with word length fixed to 16 -24
bits I and 16-bits Q, including sign, exponent and mantissa. 25
 26
The O-RAN μ-law decompression method is a logical reverse function of the compression method.  27
// extract the sign bit and absolute value for the PRB  28
signI=sign(compI), signQ=sign(compQ), absI=abs(compI), absQ=abs(compQ) 29
// decompand each sample, absBitWidth=15 30
if absI(i) > (2^( compBitWidth -1)-1) then absI (i) = (2^( compBitWidth -1)-1) 31
if absI (i) <= 2^( compBitWidth -2) then  32
decompI(i) = absI (i)*2^(absBitWidth- compBitWidth )   33
elseif absI (i) <= (2^( compBitWidth -2) + 2^( compBitWidth -3)) then  34
decompI(i) = absI (i)*2^(absBitWidth- compBitWidth +1) - 2^13 35
else 36
      decompI(i) = absI (i)*2^(absBitWidth- compBitWidth +2) - 2^15               37
end 38
 39
if absQ(i) > (2^( compBitWidth -1)-1) then  40
absQ (i) = (2^( compBitWidth -1)-1) 41
if absQ (i) <= 2^( compBitWidth -2) then 42
 decompQ(i) = absQ (i)*2^(absBitWidth- compBitWidth ) 43
elseif absQ (i) <= (2^( compBitWidth -2) + 2^( compBitWidth -3)) then  44
decompQ(i) = absQ (i)*2^(absBitWidth- compBitWidth +1) - 2^13       45
else 46
      decompQ(i) = absQ (i)*2^(absBitWidth- compBitWidth +2) - 2^15                47
end; 48
 49
//Apply sign and shift 50
decompI = signI * decompI 51

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        142
ORAN-WG4.CUS.0-v01.00
decompQ = signQ .* decompQ 1
decompI = decompI/2^compShift 2
decompQ = decompQ/2^compShift 3
 4
A.3.3 -Law udCompParam and IQ data format 5
PRB fields are populated as follows: 6
• udCompParam (8 bits) 7
o compBitWidth, 4 bits, (MSB) 8
o compShift, 4-bits, (LSB) 9
• IQ samples, total bits = 12x 2x compBitWidth 10
o 1st sample I, compBitWidth-bits 11
o 1st sample Q, compBitWidth-bits 12
o 2nd sample I, compBitWidth-bits 13
o 2nd sample Q, compBitWidth-bits 14
o … 15
o 12th sample I, compBitWidth-bits 16
o 12th sample Q, compBitWidth-bits 17
 18
A.4 Beamspace Compression and Decompression 19
This compression algorithm is specific to beamforming weights and is not suitable for user or control IQ data.  Hence 20
this compression method will only be used as part of the bfwCompMeth in the C -Plane. 21
A.4.1 Beamspace Compression Algorithm 22
The following pseudo code depicts an example reference implementation of the compression algorithm.  23
Inputs: 24
•  fBV - Original beamforming vector of N complex elements. N is the number of digital antenna ports 25
supported by the O-RU and is communicated to the DU during startup by the OAM subsystem. Each element 26
is a complex number with a native bitwidth e.g. 16-bit I, and 16-bit Q. 27
• iqWidth - Word length of each I and Q value after compression (includes sign bit)  28
Outputs: 29
• cBV - Compressed beamforming coefficients 30
• blockScaler- Common scaler for compressed beamforming coefficients 31
• activeBeamspaceCoefficientMask – active beamspace coefficient indices associated with the compressed 32
beamforming vector 33
 34
// Generate DFT basis matrix 35
for k = 1 to N 36
 for l = 1 to NW (k,l) = exp(i*2*pi*k*l/(N))  // W is a N x N complex matrix 37
 end for 38
end for 39
// Transform into beamspace 40
cBV = W*fBV // multiplication of a NxN complex matrix with a Nx1 complex vector yields another complex vector.  41
 42
/* The algorithm is initialized to assume that all Beamspace Coefficients are transmitted across the fronthaul link. */ 43
for k = 1 to N 44

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        143
ORAN-WG4.CUS.0-v01.00
 activeBeamspaceCoefficientMask(k) = 1   1
end for 2
 3
/* At this stage some of the beamspace coefficients may be removed from the vector of coefficients to transmit across 4
the fronthaul. In this example implementation, if the absolute value of a beamspace coefficient is less than ‘threshold’, it 5
is deemed inactive, i.e. the activeBeamspaceCoefficientMask is ‘0’ at that coefficient index and this index is not sent 6
across the fronthaul. The decompression algorithm will assume a value of 0 for that coefficient. The value of threshold 7
can be chosen by the implementer. Other methods to determine active or inactive beamspace coeffic ients are also 8
allowed and do not violate the specification. */ 9
 10
t = 0 11
for k = 1 to N 12
if abs(cBV(k)) < threshold  13
activeIndex(k) = 0 14
cBV(k) = null   // remove the element from the vector 15
else 16
  activeIndex(k) = 1 17
  t = t + 1 18
end if 19
end for 20
T = t 21
// Calculate scaler 22
maxValue = max(abs(Re(cBV)),abs(Im(cBV))) 23
 24
blockScaler = Inverse(maxValue) /* scaler can be chosen to be smaller than Inverse(maxValue). Inverse can be 25
implemented via look up table or other methods. */ 26
For iRe = 1 to T 27
//Scale and round: 28
Re(cBV(iRE)) =  Quantize (blockScaler × Re(cBV(iRE)))  /* Quantize could be truncate or round */ 29
Im(cBV(iRE)) = Quantize (blockScaler × Im(fBV(iRE)))  /* Quantize could be truncate or round */ 30
End 31
 32
A.4.2 Beamspace Decompression Algorithm 33
The following pseudo-code depicts an example reference implementation of the block scaling decompression algorithm. 34
Inputs: 35
• cBV - Compressed beamforming coefficients 36
• blockScaler- Common scaler for compressed beamforming coefficients 37
• activeBeamspaceCoefficientMask – active beamspace indices associated with the compressed beamforming 38
vector 39
Outputs: 40
• fBV – Decompressed beamforming vector of N complex elements. 41
m = 0 42

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        144
ORAN-WG4.CUS.0-v01.00
for k = 1 to N 1
if activeBeamspaceCoefficientMask (k) = 1 2
//Scale 3
fBSC(k) = blockScaler × cBV(m)   4
m = m + 1  5
else 6
fBSC(k) = 0 7
end if 8
end for 9
// Generate DFT basis matrix 10
for k = 1 to N 11
 for l = 1 to N 12
W (k,l) = exp(-i*2*pi*k*l/(N))  // W is a N x N complex matrix 13
 end for 14
end for 15
fBV = W * fBSC 16
 17
A.5 Modulation Compression 18
Modulation compression is an IQ data compression method that may be applied to DL data only and depend s on the 19
observation that modulated data symbols may be represented by a very limited number of I and Q bits.  For example, a 20
QPSK modulated symbol has only two potential states of I and two potential states of Q, so such a symbol may be 21
represented with no loss of information with a single bit of I and a single bit of Q.  Likewise, a 64QAM constellation 22
point (16x16 constellation) may be represented by at most 4 bits of I and 4 bit s of Q.  This allows a dramatic reduction 23
in DL throughput and approximates that achieved by a 7-3 DL split.  See the two figures below for a description of this 24
concept. 25
 26
 27
Figure A-5 : Several Constellation types 28
To represent the constellation points as I and Q values that also overlap allowing multiple constellation sizes to be 29
represented by a single word-width, the constellations are “shifted” to allow a twos-complement I and Q value to 30
represent any constellation point.  The figure below shows the same constellations after shifting. 31
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
X   X X X X X X X
BPSK (normal, p/4, p/2)
encodes 1 user bit
X       X X X
X       X X X
-3/4    -1/4     1/4     3/4
X       X X X
X       X X X
X                       X
-1/2                    1/2
X                       X
I is represented by 2 bit
Q is represented by 2 bits
(-1/2, 0, and 1/2 are needed)
modulation-compression:
from 32 bits (16I and 16Q)
to 4 bits (2I and 2Q)
I is represented by 1 bit
Q is represented by 1 bit
modulation-compression:
from 32 bits (16I and 16Q)
to 2 bits (1I and 1Q)
I is represented by 2 bits
Q is represented by 2 bits
modulation-compression:
from 32 bits (16I and 16Q)
to 4 bits (2I and 2Q)
I is represented by 3 bits
Q is represented by 3 bits
modulation-compression:
from 32 bits (16I and 16Q)
to 6 bits (3I and 3Q)
QPSK
encodes 2 user bits
16 -QAM
encodes 4 user bits
64-QAM
encodes 6 user bits
X                       X
-1/2                   1/2

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        145
ORAN-WG4.CUS.0-v01.00
 1
 2
Figure A-6 : Shifted Constellation Points 3
Once the constellations are shifted, the I and Q values may be encoded in a limited number of bits, being the l arger 4
number needed to represent the largest constellation possible in the compressio n block (the data section).  This means 5
that if some data in the section use 64QAM and others use QPSK (e.g. a reference RE) all REs would use the largest 6
needed representation which in this example is 4 bits for I and 4 bits for Q (for 64QAM).  This spoil s the compression 7
efficiency a little bit but because reference REs are a small fraction of the total number of REs, the efficiency 8
degradation is small.  Note that in general, every user will have its own data section (and own beamforming index) so 9
users with high-order modulation may need and use more bits of I and Q while users with lower -order modulation may 10
need and use fewer bits of I and Q. 11
Note that some constellations should not be shifted.  For example, BPSK needs I and Q data to take the values -1/2, 12
zero, and +1/2 (different varieties of BPSK can rotate these as with p/4 BPSK and p/2 BPSK).  For this reason, BPSK 13
would use two bits for I and 2 bits for Q; while this seems counterintuitive (BPSK using more bits than QPSK) this is a 14
small penalty given the rarity of BPSK as a modulation type.  Here, BPSK would not be shi fted.  Likewise, PHICH 15
constellations encode 3 states for each I and Q: -1, zero and 1.  For this constellation the representation would be -½, 0 16
and ½ with no constellation shift needed.  However, all “QAM” modulations do need a constellation shift.  The 17
presence of absence of the need for a constellation shift is indicated by the “csf” field, where for every “one” in the 18
reMask “csf” indicates whether to shift (csf=1) or not (csf=0) the associated RE.  19
When decompressing, the O-RU must “unshift” the constellation (or perhaps not, depending on “csf”) and also apply a 20
scale factor for the constellation types represented in the section.  There are expected to be either one or two modulation 21
types in the section, no more.  The modulation type is inferred from the reMask bits, where each “one” bit indicates the 22
shift command (“csf”) and scale factor (“modCompScaler” when using extension type 4, and “mcScaleOffset” when 23
using extension type 5) for the REs in the subject PRB.  The scale factor allows not only for c orrecting for different 24
constellation scaling (e.g. for multiplexed channel data in a PRB inclusing QPSK and 16QAM, QPSK involves a 25
2/sqrt(2) factor while 16QAM involves a 4/sqrt(10) factor), but also allows different channel power scaling which is 26
permitted as a 3GPP option. 27
Note that this compression method is essentially lossless, except that the scale factors, being 15 bits, impose a limit on 28
the accuracy of representation.  15 bits is considered sufficient for all LTE and NR data representations.  29
Here is the specific decompression algorithm intended by this approach: 30
1. Read 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒 as a N bit vector in the U-plane message [this is all the IQ data in the data section] 31
2. Map 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒 [0,2𝑁−1] to 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥 [−1,1) assuming that the N bits are represented as Q1.(N-1) [this is the 32
normal twos-complement representation of the I and Q samples represented in fractional notation].  33
3X. For each RE in the PRB (using section extention =4): 34
3Xa: fetch the “csf” and “modCompScaler” values for which this RE has a “1” in the reMask 35
3Xb. If “𝑐𝑠𝑓"== 1 then 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥 = 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥 + 2−𝑁 [this is “unshifting” the constellation point]. 36
3Xc. 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝑆𝑐𝑎𝑙𝑒𝑑 = modCompScaler×𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥×√2  [this scales the constellation point] 37

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        146
ORAN-WG4.CUS.0-v01.00
3Y. For each RE in the PRB (using section extention =5): 1
3Ya: fetch the “csf” and “mcScaleOffset” values for which this RE has a “1” in the relevant mcScaleReMask 2
3Yb. If “𝑐𝑠𝑓"== 1 then 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥 = 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥 + 2−𝑁 [this is “unshifting” the constellation point]. 3
3Yc. 𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝑆𝑐𝑎𝑙𝑒𝑑 = mcScaleOffset×𝑖𝑞𝑆𝑎𝑚𝑝𝑙𝑒𝐹𝑥×√2 [this scales the constellation point] 4
After decompression, | iqSampleScaled | must be ≤ 1 and a value of | iqSampleScaled | = 1.0 matches 0 dBFS. 5
Annex B Delay Management Use Cases 6
Intra-PHY lower layer fronthaul split has characteristic of a stringent bandwidth and tight latency requirement. This 7
implies use of a special “Fronthaul Service Profile” to be supported by the transport network, and which may differ 8
depending on the operating environment, topology and target use cases. The general concept and latency boundaries is 9
based on eCPRI reference points for delay management definitions (See Figure B-1). However, this specification 10
additionally differentiates between DL (Figure B-2) and UL (Figure B-3) latency boundaries. The parameters and how 11
these are determined for a pre-defined latency configuration are explained below.  (An actual example of the parameters 12
for a specific use case are presented in Annex B.1.)  Pre-defined latency is necessary when actual latency measurements 13
are not provided; both the use of pre-defined latency value and use of a method for measuring actual network latency in 14
the DL and UL are supported in this specification.   15
The following assumptions are considered for the delay boundaries definitions:  16
• Tcp_adv_dl: Smallest time advance to receive Downlink Data C-Plane message before the first IQ data can be 17
processed 18
• The fronthaul transmission delay behavior for C-Plane for DL data, C-Plane for UL data, and U-Plane for DL 19
data is equal. Thus, there is common usage of T12_min and T12_max parameters.  20
• The transmission window (T1a_max – T1a_min) for C-Plane for DL data, C-Plane for UL data, and U-Plane 21
for DL data all have the same length. 22
• The reception window (T2a_max – T2a_min) for C-Plane for DL data, C-Plane for UL data, and U-Plane for 23
DL data all have the same length. 24
• T2a_min_cp_ul: Latest availability at O-RU of C-Plane for UL data message before reception of the first IQ 25
data sample of the respective user’s U-Plane UL data packet is received over the air interface.  26
 27
 28
Figure B-1 : Definition of reference points for delay management (adapted from [3]) 29
 30
O-DU O-RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        147
ORAN-WG4.CUS.0-v01.00
 1
Figure B-2 : Timing relations per symbol IQ in DL direction (U-Plane and C-Plane) 2
 3
Figure B-2 is based on the eCPRI delay measurement model on timing relations in DL direction.  More detail is added 4
to illustrate the following data transfer timing relations:  5
➢ U-plane DL data : Blue path 6
➢ C-plane for DL data : Green path 7
To understand this timing diagram, it is easier to work backward in timeline. 8
For U-plane DL data flow (use symbol #0 transmission as an example): 9
• t = 0 : time for symbol #0 air interface transmission 10
• t = - T2a_min_up :  O-RU has a fixed data processing delay (T2a_min_up).  In order to meet air interface time for 11
symbol#0 transmission at t = 0, symbol#0 data must be presented on time for the processing unit (yellow block).  12
o  For symbol#0, start of processing time t = 0 – T2a_min_up = - T2a_min_up 13
• End of reception window : The latest time that O-RU can accept U-plane DL data for a specific symbol prior to 14
start of data processing.    If U-plane DL data arrives earlier than this time and is within reception window range, 15
DL data may wait inside reception window buffer until the start of processing time, hence - the end of reception 16
window is the same time point as the start of processing time as described immediately above.  17
o For symbol#0, end of reception window time t = 0 – T2a_min_up = - T2a_min_up. 18
• Start of reception window : This earliest time that O-RU can accept U-plane DL data for a specific symbol prior to 19
start of data processing.    If U-plane DL data arrives later than this time and is within reception window range, DL 20
data will wait inside reception window buffer.   21
o For symbol#0, start of reception window time t = 0 - T2a_max_up = - T2a_max_up 22
• O-RU reception window range = T2a_max_up – T2a_min_up 23
• End of transmission window : The latest time that O-DU can send U-plane DL data for a specific symbol out to 24
transport interface. 25
o For symbol#0, end of transmission window time t = 0 – T1a_min_up = - T1a_min_up. 26
• Start of transmission window : The earliest time that O-DU can send U-plane DL for a specific symbol out to 27
transport interface.  28
start of Tx window C-Plane DL end of Tx window C-Plane DL
Transmission
Window
C-Plane DL
Reception Window C-Plane DL
C-Plane data
for symbol #0
c
c
end of Rx window C-Plane DL
O-
DU
O-
RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        148
ORAN-WG4.CUS.0-v01.00
o For symbol#0, start of transmission window time t = 0 – T1a_max_up = - T1a_max_up. 1
• O-DU transmission window range = T1a_max_up – T1a_min_up 2
• DL FH transport delay : T12_min and T12_max is the min and max transport delay.  When FH transport is 3
behaving properly, it should guarantee each packet transport (carrying C-plane or U-plane DL packet) delay is 4
within this min and max boundary. Figure B-2 illustrates case where T12_min = 0. 5
• O-DU transmission window, FH transport delay and O-RU reception window must satisfy the following criteria for 6
proper behavior: 7
o Start of reception window can accept a packet sent at start of transmission window AND experienced min 8
FH transport delay =>  - T2a_max_up < -T1a_max_up + T12_min ---- (eq 1) 9
o End of reception window can accept a packet sent at end of transmission window AND experienced max 10
FH transport delay =>  - T2a_min_up > -T1a_min_up + T12_max ---- (eq 2) 11
o Combining both criteria (-eq1 + eq2), the logical conclusion is as follows: 12
➢ O-RU reception window range > O-DU transmission window + FH DL transport max-min 13
➢  (T2a_max_up – T2a_min_up) > (T1a_max_up – T1a_min_up) + (T12_max – T12_min) 14
In other words, the reception window at O-RU MUST be greater than or equal to the total of the O-DU transmission 15
variability and the Transport time variability. 16
 17
For C-plane to support DL data flow (use symbol #0 transmission as an example):  18
• Focus on the green path, same principle is applied to relate reception window, transmission window and FH 19
transport delay. 20
• the logical conclusion is as follows: 21
➢ Reception window range > Transmission window + FH DL transport max-min 22
➢  (T2a_max_cp_dl – T2a_min_cp_dl) > (T1a_max_cp_dl – T1a_min_cp_dl) + (T12_max – T12_min) 23
 24
 25
 26
Figure B-3 : Timing relations per symbol IQ in UL direction (U-Plane and C-Plane) 27
Transmission
Window
C-Plane UL
Reception Window
C-Plane UL
c
c
O-
DU
O-
RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        149
ORAN-WG4.CUS.0-v01.00
Figure B-3 is based on the eCPRI delay measurement model on timing relations in UL direction.  More detail is  added 1
to illustrate the following data transfer timing relations: 2
➢ U-plane UL data : Blue path 3
➢ C-plane for UL data : Green path 4
To understand this timing diagram, it is easier to work forward in timeline for the U -plane UL data and work backward 5
in timeline for the C-plane to support UL data flow. 6
For U-plane UL data flow (use symbol #0 transmission as an example): 7
• t = 0 : time for symbol #0 air interface UL reception 8
• t = 0 + Ta3_min_up :  O-RU has a fixed data processing delay (Ta3_min_up).  Air interface data is immediately 9
presented to data processing unit (yellow block). 10
o  For symbol#0, end of processing = 0 + Ta3_min_up = Ta3_min_up 11
• Start of transmission window : The earliest time that O-RU can send U-plane UL for a specific symbol out to 12
transport interface. The earliest time is immediately after data processing. 13
o For symbol#0, start of transmission window = 0 + Ta3_min_up = Ta3_min_up. 14
• End of transmission window : The latest time that O-RU can send U-plane UL data for a specific symbol out to 15
transport interface.   16
o For symbol#0, end of transmission window = 0 + Ta3_max_up = Ta3_max_up.  17
• O-RU transmission window range = Ta3_max_up – Ta3_min_up 18
• Start of Reception window : This earliest time that O-DU can accept U-plane UL data for a specific symbol prior to 19
start of O-DU data processing.  If U-plane DL data arrives later than this time and is within receptio n window 20
range, UL data will wait inside reception window buffer.   21
o For symbol#0, start of reception window = 0 + Ta4_min = Ta4_min 22
• End of Reception window : The latest time that O-DU can accept U-plane UL data for a specific symbol prior to 23
start of O-DU data processing.   24
o For symbol#0, end of reception window = 0 + Ta4_max = Ta4_max. 25
• O-DU reception window range = Ta4_max – Ta4_min 26
• UL FH Transport delay : T34_min and T34_max is the min and max transport delay.  When FH transport is 27
behaving properly, it should guarantee each packet transport (carrying U-plane UL packet) delay is within this min 28
and max boundary.  29
• Transmission window, FH transport delay and reception window must satisfy the following criteria for proper 30
behavior: 31
o Start of reception window can accept a packet sent at start of transmission window AND experienced min 32
FH transport delay =>  Ta4_min < Ta3_min_up + T34_min ---- (eq 1) 33
o End of reception window can accept a packet sent at end of transmission window AND experienced max 34
FH transport delay =>  Ta4_max > Ta3_max_up + T34_max ---- (eq 2) 35
o Combining both criteria (-eq1 + eq2), the logical conclusion is as follows: 36
➢ O-DU reception window range > O-RU transmission window + FH UL transport max-min 37
➢  (Ta4_max – Ta4_min) > (Ta3_max_up – Ta3_min_up) + (T34_max – T34_min) 38
In other words, the reception window at O-DU MUST be greater than or equal to the total of the O-RU transmission 39
variability and the Transport time variability. 40
 41
For C-plane to support UL data flow (use symbol #0 transmission as an ex ample): 42
• Focus on the green path, same principle to C-plane to support DL data is applied to relate reception window, 43
transmission window and FH transport delay. 44
• the logical conclusion is as follows: 45

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        150
ORAN-WG4.CUS.0-v01.00
➢ Reception window range > Transmission window + FH transport min-max difference 1
➢  (T2a_max_cp_ul – T2a_min_cp_ul) > (T1a_max_cp_ul – T1a_min_cp_ul) + (T12_max – T12_min) 2
It is useful to consider several different delay management use cases because delay management, in particular the need 3
to buffer large amounts of data within O-RUs, can have a significant cost and complexity impact on O-RU design.  4
More specifically, accommodating long network delays (allowing long fiber lengths and/or many switch hops) can 5
impose a significant buffering requirement on the O-RU while use cases involving short network delays e.g. an in-6
building application may allow much smaller in-O-RU buffering thereby allowing a lower-cost and lower-power 7
design.  Additionally, the SCS may affect the transmission windows described above, and thus use cases may be SCS 8
specific as well.  Note that here it is assumed the DL buffering will be done in the O-RU, otherwise the O-DU would 9
have to always implement extensive buffering to accommodate any O-RU use case which would increase overall costs. 10
In the case of using pre-defined network latency values per use case, the following must be pre-defined (for measured-11
network-latency cases these same values are determined via the measurement process) : 12
T12_min, T12_max, T34_min and T34_max must be determined based on the desired network configuration.  13
Determination of T12_min and T34_min values must include shortest transmission paths, both fiber and minimum 14
switching delays.  In addition, longest fibers, switching delays, and PDV introduced due to the variable delay nature of 15
ethernet must be accounted for in T12_max and T34_max.   16
T2a_min_up, T2a_min_cp_ul, and Ta3_min must be determined across all O-RU equipment to be used in the system.  17
The determined values must be greater than or equal to the largest of these values across all supported equipment.  18
Equipment with lower values need to have additional delay added to align with the determined values.  19
Similarly, the maximum transmission windows must be determined across all O-DU and O-RU equipment.  As stated 20
above, the transmission windows for DL UP, DL CP and UL CP are all assumed to be the same at current.  However, 21
this is the maximum transmission window.  Equipment may use less time for transmission of any symbol. 22
Additionally, the advance between DL UP/ CP must be determined.  (Tcp_adv_dl) 23
Once the above parameters are determined, the remaining values may be calculated as shown in the following tables: 24
Downlink Data Direction 25
Table B-1 : U-Plane DL delay boundaries 26
Downlink Method
T1a_max_up ≤ T12_min + T2a_max_up
T1a_min_up ≥ T12_max + T2a_min_up
T2a_max_up ≥ T2a_min_up + (T12_max – T12_min) + O-DU Transmission Window
T2a_min_up Specified per Use Case
T12_max Specified per Use Case
T12_min Specified per Use Case
O-DU Transmission Window Specified per Use Case
 27
Table B-2 : C-Plane DL delay boundaries 28
Downlink Method
Tcp_adv_dl Specified per Use Case
T1a_max_cp_dl T1a_max_up + Tcp_adv_dl
T1a_min_cp_dl T1a_min_up + Tcp_adv_dl
T2a_max_cp_dl T2a_max_up + Tcp_adv_dl
T2a_min_cp_dl T2a_min_up + Tcp_adv_dl
T12_max Same as U-plane DL
T12_min Same as U-plane DL
 29
Uplink Data Direction (need not be the same as the Downlink values) 30
Table B-3 : U-Plane Uplink delay boundaries 31
Uplink Method
Ta3 max ≤ Ta3_min + O-RU Transmission Window
Ta3 min Specified per Use Case
Ta4 max ≤ Ta3_max + T34_max
Ta4 min ≥ Ta3_min + T34_min

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        151
ORAN-WG4.CUS.0-v01.00
T34 max Specified per Use Case
T34 min Specified per Use Case
O-RU Transmission Window Specified per Use Case
 1
Table B-4 : C-Plane Uplink delay boundaries 2
Downlink Method
T1a_max_cp_ul ≤ T12_min + T2a_max_cp_ul
T1a_min_cp_ul ≥ T12_max + T2a_min_cp_ul
T2a_max_cp_ul ≥ T2a_min_cp_ul + (T12_max – T12_min) + O-DU Transmission Window
T2a_min_cp_ul Specified per Use Case
T12_max Specified per Use Case
T12_min Specified per Use Case
O-DU Transmission Window Specified per Use Case
 3
B.1 Latency categories and sub-categories 4
The O-DU and O-RU are defined to be in “delay categories” and “delay sub-categories” for the purposes of allowing a 5
matching of O-DU and O-RU units that will operate properly together from the point of view of accommodating a 6
customer’s network delay.  Network delay comprises the “time-of-flight” of signals through (typically) a fiber-optic 7
cable (so can be known from the fiber length) added to the signal traversal latency through any switches in the network.  8
The delay category and delay sub-category values depend in part on the processing latency within the O-DU and O-RU.  9
It may be expected especially for an O-RU that the processing latency may depend on the specific frequency band and 10
sub-carrier spacing that is used.  Further, a multi-band radio may experience different processing latencies for its 11
different bands.  Therefore, it may be expected that an O-RU (and perhaps more rarely an O-DU) will have different 12
delay category and delay sub-category ratings for different bands. 13
O-DU categories are defined as A.## (per direction, i.e. O-DU UL and O-DU DL are different categories) 14
• Prefix(blank/f): The prefix distinguishes the type of O-DU with dynamic/fixed timing advance/retard  15
• A: Category from [A-N] per table below 16
• .##: sub-category from [.00 - .40] per tables below 17
O-RU categories are defined as X.## (per direction, i.e. O-RU UL and O-RU DL are different categories) 18
• X: Category from [O-Z] per table below 19
• .##: sub-category from [.00-.40] per tables below 20
The following tables are used by equipment vendors to assign categories to their equipment based on design 21
characteristics.   22
 23
  24

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        152
ORAN-WG4.CUS.0-v01.00
Table  B-5 : O-DU and O-RU Delay Categories 1

Category • T2a_min_up
   OR
• Ta3_max
[µsec]
O 0 to 50
P 51 to 70
Q 71 to 90
R 91 to 110
S 111 to 130
T 131 to 150
U 151 to 170
V 171 to 190
W 191 to 210
X 211 to 230
Y 231 to 250
Z 251 to 270
RU Category
Note: Categories are defined to group endpoints with similar delay characteristics for easy evaluation relative to use 2
cases.  The calculated value for O-DU or O-RU falling anywhere within the range for the category indicates that the 3
endpoint is classified as that category.  It is NOT required that the endpoint be able to support the full range of the 4
category. 5
Table B-6 and B-7 are intended for use by network providers to determine the best and worst case T12_max/ T34_max 6
values that can be supported by a given equipment combination.  Alternatively, network providers may locate the 7
desired T12_max/ T34_max and select from the equipment combinations meeting that criteria.  Common criteria are 8
identified by different colors on diagonals through the tables 9
 10
Table B-6 : Latency_min (Minimum supported T12_max/ T34_max in µsec)11
RU A B C D E F G H I J K L M N
O 350 330 310 290 270 250 230 210 190 170 150 130 110 0
P 330 310 290 270 250 230 210 190 170 150 130 110 90 0
Q 310 290 270 250 230 210 190 170 150 130 110 90 70 0
R 290 270 250 230 210 190 170 150 130 110 90 70 50 0
S 270 250 230 210 190 170 150 130 110 90 70 50 30 0
T 250 230 210 190 170 150 130 110 90 70 50 30 10 0
U 230 210 190 170 150 130 110 90 70 50 30 10 0 0
V 210 190 170 150 130 110 90 70 50 30 10 0 0 0
W 190 170 150 130 110 90 70 50 30 10 0 0 0 0
X 170 150 130 110 90 70 50 30 10 0 0 0 0 0
Y 150 130 110 90 70 50 30 10 0 0 0 0 0 0
Z 130 110 90 70 50 30 10 0 0 0 0 0 0 0
O-DU
 12
 13
 14
 15
Category • T1a_max_uplls-CU - Txmaxlls-CU
     OR
• Ta4_max_uplls-CU
[µs ec]
A ≥ 400
B 380 to 399
C 360 to 379
D 340 to 359
E 320 to 339
F 300 to 319
G 280 to 299
H 260 to 279
I 240 to 259
J 220 to 239
K 200 to 219
L 180 to 199
M 160 to 179
N 0 to 159
lls-CU Category
O-DU
O-RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        153
ORAN-WG4.CUS.0-v01.00
Table B-7 : Latency_max (Maximum supported T12_max/ T34_max in µsec) 1
RU A B C D E F G H I J K L M N
O 3000 399 379 359 339 319 299 279 259 239 219 199 179 159
P 2949 348 328 308 288 268 248 228 208 188 168 148 128 108
Q 2929 328 308 288 268 248 228 208 188 168 148 128 108 88
R 2909 308 288 268 248 228 208 188 168 148 128 108 88 68
S 2889 288 268 248 228 208 188 168 148 128 108 88 68 48
T 2869 268 248 228 208 188 168 148 128 108 88 68 48 28
U 2849 248 228 208 188 168 148 128 108 88 68 48 28 8
V 2829 228 208 188 168 148 128 108 88 68 48 28 8 0
W 2809 208 188 168 148 128 108 88 68 48 28 8 0 0
X 2789 188 168 148 128 108 88 68 48 28 8 0 0 0
Y 2769 168 148 128 108 88 68 48 28 8 0 0 0 0
Z 2749 148 128 108 88 68 48 28 8 0 0 0 0 0
O-DU
 2
Table B-8 : Use Case Mapping (Based on Latency_min) 3
Range (KM)
T12max
T34max
(µsec)
50 250 AO - AT BO - BS CO - CR DO - DQ EO - EP FO
45 225 AU BT CS DR EQ FP GO
40 200 AV BU CT DS ER FQ GP HO
35 175 AW BV CU DT ES FR GQ HP IO
30 150 AX - AY BW - BX CV - CW DU - DV ET - EU FS - FT GR - GS HQ - HR IP - IQ JO - JP KO
25 125 AZ BY CX DW EV FU GT HS IR JQ KP LO
20 100 BZ CY DX EW FV GU HT IS JR KQ LP MO
15 75 CZ DY EX FW GV HU IT JS KR LQ MP
10 50 DZ EY - EZ FX - FY GW - GX HV - HW IU - IV JT - JU KS - KT LR - LS MQ - MR
5 25 FZ GY HX IW JV KU LT MS
0 0 GZ HY IX JW KV LU MT
Minimum T12Max Guaranteed for Category Combinations
(Combinations may support larger T12max)
 4
Note: The Use Case Mapping table can be used to determine the O-DU/ O-RU delay category combinations which are 5
guaranteed to support a given latency use case.  This is defined based on Latency_min for the category.  It may be 6
possible for equipment from a lower category to support a higher use case, but cannot be guaranteed.  To determine the 7
exact maximum latency for an O-DU/ O-RU pair, it is necessary to calculate based on the delay parameter values for 8
the paired equipment. 9
 10
  11

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        154
ORAN-WG4.CUS.0-v01.00
Table B-9 : O-DU and O-RU Tx/Rx Window Sub-Categories 1

Sub-
Category
• TXmaxlls-CU
• Ta3_max - Ta3_min
 [in us ec]
.20 ≥ 200
.19 190 to 199
.18 180 to 189
.17 170 to 179
.16 160 to 169
.15 150 to 159
.14 140 to 149
.13 130 to 139
.12 120 to 129
.11 110 to 119
.10 100 to 109
.09 90 to 99
.08 80 to 89
.07 70 to 79
.06 60 to 69
.05 50 to 59
.04 40 to 49
.03 30 to 39
.02 20 to 29
.01 10 to 19
.00 0 to 9
Transmit Window Sub-Category

Note: Sub-categories are defined to group endpoints with similar delay characteristics for easy evaluation relative to use 2
cases.  The calculated value for O-DU or O-RU falling anywhere within the range for the category indicates that the 3
endpoint is classified as that sub-category.  It is NOT required that the endpoint be able to support the full range of the 4
sub-category. 5
Table B-10 is used by service providers to identify equipment sub-category combinations which meet the desired 6
network variability.  Variability is shown in KM in the table.  This range is based on 5 usec per Km.  7
Sub-
Category
• T2a_max_up - T2a_min_up
• RXmaxlls-CU
 [in us ec]
.40 ≥ 400
.38 380 to 399
.36 360 to 379
.34 340 to 359
.32 320 to 339
.30 300 to 319
.28 280 to 299
.26 260 to 279
.24 240 to 259
.22 220 to 239
.20 200 to 219
.18 180 to 199
.16 160 to 179
.14 140 to 159
.12 120 to 139
.10 100 to 119
.08 80 to 99
.06 60 to 79
.04 40 to 59
.02 20 to 39
.01 10 to 19
.00 0 to 9
Receive Window Sub-Category

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        155
ORAN-WG4.CUS.0-v01.00
Table B-10 : Dynamic Range (in Km) for sub-category pairs1
TxMax .40 .38 .36 .34 .32 .30 .28 .26 .24 .22 .20 .18 .16 .14 .12 .10 .08 .06 .04 .02 .01
.20 40 36 32 28 24 20 16 12 8 4
.19 42 38 34 30 26 22 18 14 10 6 2
.18 44 40 36 32 28 24 20 16 12 8 4
.17 46 42 38 34 30 26 22 18 14 10 6 2
.16 48 44 40 36 32 28 24 20 16 12 8 4
.15 50 46 42 38 34 30 26 22 18 14 10 6 2
.14 52 48 44 40 36 32 28 24 20 16 12 8 4
.13 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.12 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.11 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.10 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.09 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.08 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.07 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.06 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.05 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.04 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.03 74 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.02 76 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.01 78 74 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.00 80 76 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4 2
Receive Window
 2
B.2 Example Case: Evaluating O-DU / O-RU Combinations 3
 4
This example illustrates an O-RU and an O-DU, each supporting multiple SCS.  It illustrates how the actual O-DU/ O-5
RU delay profiles map to categories, and then how the corresponding categories are used to evaluate the resulting 6
transport network limitations.  The values represented are exemplary only.  The example is provided to illustrate:  7
• Interoperability across multiple SCS 8
o O-RU and O-DU will have multiple delay profiles 9
o Delay profiles are different for uplink and downlink 10
• applicability service provider use case 11
 12
 13
Table B-11 :  Delay profiles for the example O-RU 14
 O-RU Parameters 30 KHz  120 KHz  15 KHz
Downlink
T2a_min_up,  50 50  205
T2a_max_up, 250 180  435
T2a_min_cp_dl, 175 175  330
T2a_max_cp_dl, 375 205  460
Tcp_adv_dl 125 125  125
Category O.20     (250-
50)=200
O.12  W.22
Uplink
Ta3_min,  50 50  70
Ta3_max 100 70  235
T2a_min_cp_ul, 125 125  125
T2a_max_cp_ul 325 255  360
Category R.05 P.02  Y.16
 15
 16
 17

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        156
ORAN-WG4.CUS.0-v01.00
Table B-12 :  Delay profiles for the example O-DU. 1
 O-DU Parameters 30 KHz 120 KHz 15 KHz
Downlink
T1a_max_upO-DU,  250 180 435
TXmaxO-DU 40 20 70
Category K.04 M.02 C.07
Uplink
Ta4_maxO-DU,  250 180 395
RXmaxO-DU 200 130 325
Category I.20 L.12 B.32
 2
This results in 6 different category combinations: 3
Table B-13 :  Resulting 6 different category combinations 4
 30 KHz 120 KHz 15 KHz
Downlink KO MO CW
Uplink IR LP BY
 5
The respective minimum and maximum T12max values are highlighted in the tables below.  Using the 30 KHz as an 6
example, it can be seen that the range on the transport is limited by the uplink (IR) to between 130 usec and 168 usec.  7
This means that this combination can be guaranteed to be able to support at least 130 usec of delay, and may be capable 8
of supporting up to 168 usec of delay.  Using the actual delay values for the combination at 30 KHz, the uplink is 9
limited to Ta4_max – Ta3_max = 250 – 100 = 150 usec.  (The downlink value is higher, so uplink becomes the limiting 10
factor for this combination.) 11
Table B-14 : Delay Category O-DU and O-RU with highlighted valid options for this example, minimum T12max  12
RU A B C D E F G H I J K L M N
O 350 330 310 290 270 250 230 210 190 170 150 130 110 0
P 330 310 290 270 250 230 210 190 170 150 130 110 90 0
Q 310 290 270 250 230 210 190 170 150 130 110 90 70 0
R 290 270 250 230 210 190 170 150 130 110 90 70 50 0
S 270 250 230 210 190 170 150 130 110 90 70 50 30 0
T 250 230 210 190 170 150 130 110 90 70 50 30 10 0
U 230 210 190 170 150 130 110 90 70 50 30 10 0 0
V 210 190 170 150 130 110 90 70 50 30 10 0 0 0
W 190 170 150 130 110 90 70 50 30 10 0 0 0 0
X 170 150 130 110 90 70 50 30 10 0 0 0 0 0
Y 150 130 110 90 70 50 30 10 0 0 0 0 0 0
Z 130 110 90 70 50 30 10 0 0 0 0 0 0 0
lls-DU
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        157
ORAN-WG4.CUS.0-v01.00
 1
Table B-15 : Delay Category O-DU and O-RU with highlighted valid options for this example, maximum 2
T12max 3
RU A B C D E F G H I J K L M N
O 3000 399 379 359 339 319 299 279 259 239 219 199 179 159
P 2949 348 328 308 288 268 248 228 208 188 168 148 128 108
Q 2929 328 308 288 268 248 228 208 188 168 148 128 108 88
R 2909 308 288 268 248 228 208 188 168 148 128 108 88 68
S 2889 288 268 248 228 208 188 168 148 128 108 88 68 48
T 2869 268 248 228 208 188 168 148 128 108 88 68 48 28
U 2849 248 228 208 188 168 148 128 108 88 68 48 28 8
V 2829 228 208 188 168 148 128 108 88 68 48 28 8 0
W 2809 208 188 168 148 128 108 88 68 48 28 8 0 0
X 2789 188 168 148 128 108 88 68 48 28 8 0 0 0
Y 2769 168 148 128 108 88 68 48 28 8 0 0 0 0
Z 2749 148 128 108 88 68 48 28 8 0 0 0 0 0
lls-DU
 4
Evaluating the overall combination across all SCS, it can be seen that the maximum possible range for thi s combination 5
if all 3 SCS are to be used is 148 usec (limited by the 120 KHz uplink) and the minimum guaranteed range is 110 usec.  6
(In actuality, the limit is 110 usec for this combination.) 7
Similarly, there are 6 combinations of sub-categories to evaluate.  (In this case, the sub-category combinations happen 8
to be the same for 120 KHz uplink and downlink.) In this case the different between T12max and T12min is limited by 9
the 120 KHz delay profile, with a maximum range of ~20 KM (~100 usec).   10
Table B-16 : Delay Sub-Category O-DU and O-RU with highlighted (in red) valid options for this example 11
TxMax .40 .38 .36 .34 .32 .30 .28 .26 .24 .22 .20 .18 .16 .14 .12 .10 .08 .06 .04 .02 .01
.20 40 36 32 28 24 20 16 12 8 4
.19 42 38 34 30 26 22 18 14 10 6 2
.18 44 40 36 32 28 24 20 16 12 8 4
.17 46 42 38 34 30 26 22 18 14 10 6 2
.16 48 44 40 36 32 28 24 20 16 12 8 4
.15 50 46 42 38 34 30 26 22 18 14 10 6 2
.14 52 48 44 40 36 32 28 24 20 16 12 8 4
.13 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.12 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.11 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.10 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.09 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.08 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.07 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.06 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.05 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.04 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.03 74 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.02 76 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4
.01 78 74 70 66 62 58 54 50 46 42 38 34 30 26 22 18 14 10 6 2
.00 80 76 72 68 64 60 56 52 48 44 40 36 32 28 24 20 16 12 8 4 2
Receive Window
 12
Using only the O-DU/ O-RU category/ sub-category combinations, if the corresponding O-DU/ O-RU is to be used 13
across all 3 SCS, the resulting delay constraints limit the implementation to:  14
• 110 usec ≤ T12max ≤ 148 usec 15
• T12min = T12max – 100 usec 16
The service provider can then use this analysis to determine if the resulting combination suits their target use case.  17

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        158
ORAN-WG4.CUS.0-v01.00
 1
 2
 3
Annex C  M-Plane Impacts 4
The CUS-Plane makes certain demands on the M-Plane as listed below: 5
1. Generic static O-RU configuration: there are many parameters e.g. frequency band, number of antennas, 6
power level, etc. that will need to be gathered from the O-RU and configured by the O-DU.  These are 7
expected to be much the same as is currently experienced with existing radio modules.  8
2. O-RU management: this includes status monitoring, KPI measurements (PM counters), alarm collection and 9
software download.  This is expected to be handled much the same as with existing radio modules. 10
3. Compression: command to use static method (compression and IQ bit width) or use dynamic method using 11
udCompHdr. 12
4. Rtcid: M-Plane provides the bit-widths for the four defined fields (must sum to 16 bits total). 13
5. Synch state: it is expected the O-RU will report its sync state to the EMS via the M-Plane. 14
6. Synch: it is expected the EMS via the M-Plane will convey to the O-RU the clock quality being received (or 15
does this come directly from the GM?) 16
7. BeamId format: to accommodate hybrid BF, and maybe even for other cases, the O-RU must convey via M-17
Plane characteristics of the O-RU so that the O-DU can “know” how to generate BF weights.   18
8. PRB raster and offset-setting: The M-Plane needs to convey the minimum PRB raster (based on the 19
minimum SCS, for LTE generally 15 KHz) to allow PRB counting across multiple SCS values (to support 20
mixed-numerology channels).  In addition, the M-Plane must convey the offset to the zeroth PRB. 21
9. Beam-weights / beam attributes: It is intended that the M-Plane can download beam weights or beam 22
attributes to an O-RU when weight updating does not need to be real-time.  The number of weights or types of 23
attributes applicable to the O-RU is meant to be conveyed from the O-RU to the O-DU at start-up via M-plane 24
messaging.  25
10. Power-Efficiency: the M-Plane will very likely include commands to enable O-RU power-saving techniques 26
which may be vendor-dependent. 27
11. Delay-Management and Transport Priority: for each eAxC (Pcid), whether the UL data is delay-managed 28
or not, and what the transport priority should be. 29
 30
 31
Annex D IQ Sample and Exponent Packetization for 32
Different Bitwidths 33
Bit-ordering and packetization for I and Q samples and compression parameters follows patterns that repeat after every 34
transmission of 12 resource elements. At this point, the pattern repeats starting from the udCompParam information 35
element, and is followed by the I and Q samples for the next 12 resource elements.  36
The cells in the following Tables indicate the bit ordering for the following IEs 37
o udCompParam (assumed to be one byte in the tables) 38
o I samples denoted by Ibtwidth-1…I0 39
o Q samples denoted by Qbitwidth-1…Q0 40
 41
 42

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        159
ORAN-WG4.CUS.0-v01.00
Table D-1. IQ data samples bit-ordering (6-bit IQ bitwidth example) 1
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I5 I4 I3 I2 I1 I0 Q5 Q4 1 N+1
Q3 Q2 Q1 Q0 …    1 N+2
…
   … I5 I4 I3 I2 1 N+17
I1 I0 Q5 Q4 Q3 Q2 Q1 Q0 1 N+18
0 0 0 0 E3 E2 E1 E0 1 Octet M
I5 I4 I3 I2 I1 I0 Q5 Q4 1 M+1
Q3 Q2 Q1 Q0 …    1 M+2
…
   … I5 I4 I3 I2 1 M+17
I1 I0 Q5 Q4 Q3 Q2 Q1 Q0 1 M+18
…
 2
Table D-2. IQ data samples bit-ordering (7-bit IQ bitwidth example) 3
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I6 I5 I4 I3 I2 I1 I0 Q6 1 N+1
Q5 Q4 Q3 Q2 Q1 Q0 …  1 N+2
…
 … I6 I5 I4 I3 I2 I1 1 N+20
I0 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+21
0 0 0 0 E3 E2 E1 E0 1 Octet M
I6 I5 I4 I3 I2 I1 I0 Q6 1 M+1
Q5 Q4 Q3 Q2 Q1 Q0 …  1 M+2
…
 … I6 I5 I4 I3 I2 I1 1 M+20
I0 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+21
…
 4
Table D-3. IQ data samples bit-ordering (8-bit IQ bitwidth example) 5
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I7 I6 I5 I4 I3 I2 I1 I0 1 N+1
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+2
…
I7 I6 I5 I4 I3 I2 I1 I0 1 N+23
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+24
0 0 0 0 E3 E2 E1 E0 1 Octet M
I7 I6 I5 I4 I3 I2 I1 I0 1 M+1
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+2
…
I7 I6 I5 I4 I3 I2 I1 I0 1 M+23
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+24
…
 6

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        160
ORAN-WG4.CUS.0-v01.00
 1
Table D-4. IQ data samples bit-ordering (9-bit IQ bitwidth example) 2
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I8 I7 I6 I5 I4 I3 I2 I1 1 N+1
I0 Q8 Q7 Q6 Q5 Q4 Q3 Q2 1 N+2
Q1 Q0 …      1 N+3
…
     … I8 I7 1 N+25
I6 I5 I4 I3 I2 I1 I0 Q8 1 N+26
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+27
0 0 0 0 E3 E2 E1 E0 1 Octet M
I8 I7 I6 I5 I4 I3 I2 I1 1 M+1
I0 Q8 Q7 Q6 Q5 Q4 Q3 Q2 1 M+2
Q1 Q0 …      1
…
     … I8 I7 1 M+25
I6 I5 I4 I3 I2 I1 I0 Q8 1 M+26
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+27
…
 3
Table D-5. IQ data samples bit-ordering (10-bit IQ bitwidth example) 4
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I9 I8 I7 I6 I5 I4 I3 I2 1 N+1
I1 I0 Q9 Q8 Q7 Q6 Q5 Q4 1 N+2
Q3 Q2 Q1 Q0 …    1 N+3
…
   … I9 I8 I7 I6 1 N+28
I5 I4 I3 I2 I1 I0 Q9 Q8 1 N+29
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+30
0 0 0 0 E3 E2 E1 E0 1 Octet M
I9 I8 I7 I6 I5 I4 I3 I2 1 M+1
I1 I0 Q9 Q8 Q7 Q6 Q5 Q4 1 M+2
Q3 Q2 Q1 Q0 …    1 M+3
…
   … I9 I8 I7 I6 1 M+28
I5 I4 I3 I2 I1 I0 Q9 Q8 1 M+29
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+30
…
 5
Table D-6. IQ data samples bit-ordering (11-bit IQ bitwidth example) 6
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I10 I9 I8 I7 I6 I5 I4 I3 1 N+1
I2 I1 I0 Q10 Q9 Q8 Q7 Q6 1 N+2
Q5 Q4 Q3 Q2 Q1 Q0 …  1 N+3
…
 … I10 I9 I8 I7 I6 I5 1 N+31
I4 I3 I2 I1 I0 Q10 Q9 Q8 1 N+32
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+33
0 0 0 0 E3 E2 E1 E0 1 Octet M

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        161
ORAN-WG4.CUS.0-v01.00
I10 I9 I8 I7 I6 I5 I4 I3 1 M+1
I2 I1 I0 Q10 Q9 Q8 Q7 Q6 1 M+2
Q5 Q4 Q3 Q2 Q1 Q0 …  1 M+3
…
 … I10 I9 I8 I7 I6 I5 1 M+31
I4 I3 I2 I1 I0 Q10 Q9 Q8 1 M+32
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+33
…
 1
Table D-7. IQ data samples bit-ordering (12-bit IQ bitwidth example) 2
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I11 I10 I9 I8 I7 I6 I5 I4 1 N+1
I3 I2 I1 I0 Q11 Q10 Q9 Q8 1 N+2
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+3
…
I11 I10 I9 I8 I7 I6 I5 I4 1 N+34
I3 I2 I1 I0 Q11 Q10 Q9 Q8 1 N+35
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+36
0 0 0 0 E3 E2 E1 E0 1 Octet M
I11 I10 I9 I8 I7 I6 I5 I4 1 M+1
I3 I2 I1 I0 Q11 Q10 Q9 Q8 1 M+2
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+3
…
I11 I10 I9 I8 I7 I6 I5 I4 1 M+34
I3 I2 I1 I0 Q11 Q10 Q9 Q8 1 M+35
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+36
…
 3
Table D-8. IQ data samples bit-ordering (13-bit bitwidth mantissa example) 4
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I12 I11 I10 I9 I8 I7 I6 I5 1 N+1
I4 I3 I2 I1 I0 Q12 Q11 Q10 1 N+2
Q9 Q8 Q7 Q6 Q5 Q4 Q3 Q2 1 N+3
Q1 Q0 …      1 N+4
…
     … I12 I11 1 N+36
I10 I9 I8 I7 I6 I5 I4 I3 1 N+37
I2 I1 I0 Q12 Q11 Q10 Q9 Q8 1 N+38
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+39
0 0 0 0 E3 E2 E1 E0 1 Octet M
I12 I11 I10 I9 I8 I7 I6 I5 1 M+1
I4 I3 I2 I1 I0 Q12 Q11 Q10 1 M+2
Q9 Q8 Q7 Q6 Q5 Q4 Q3 Q2 1 M+3
Q1 Q0 …      1 M+4
…
     … I12 I11 1 M+36
I10 I9 I8 I7 I6 I5 I4 I3 1 M+37
I2 I1 I0 Q12 Q11 Q10 Q9 Q8 1 M+38
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+39
…
 5

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        162
ORAN-WG4.CUS.0-v01.00
Table D-9. IQ data samples bit-ordering (14-bit IQ bitwidth example) 1
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I13 I12 I11 I10 I9 I8 I7 I6 1 N+1
I5 I4 I3 I2 I1 I0 Q13 Q12 1 N+2
Q11 Q10 Q9 Q8 Q7 Q6 Q5 Q4 1 N+3
Q3 Q2 Q1 Q0 …    1 N+4
…
…    I13 I12 I11 I10 1 N+39
I9 I8 I7 I6 I5 I4 I3 I2 1 N+40
I1 I0 Q13 Q12 Q11 Q10 Q9 Q8 1 N+41
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+42
0 0 0 0 E3 E2 E1 E0 1 Octet M
I13 I12 I11 I10 I9 I8 I7 I6 1 M+1
I5 I4 I3 I2 I1 I0 Q13 Q12 1 M+2
Q11 Q10 Q9 Q8 Q7 Q6 Q5 Q4 1 M+3
Q3 Q2 Q1 Q0 …    1 M+4
…
…    I13 I12 I11 I10 1 M+39
I9 I8 I7 I6 I5 I4 I3 I2 1 M+40
I1 I0 Q13 Q12 Q11 Q10 Q9 Q8 1 M+41
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+42
…
 2
Table D-10. IQ data samples bit-ordering (15-bit IQ bitwidth example) 3
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I14 I13 I12 I11 I10 I9 I8 I7 1 N+1
I6 I5 I4 I3 I2 I1 I0 Q14 1 N+2
Q13 Q12 Q11 Q10 Q9 Q8 Q7 Q6 1 N+3
Q5 Q4 Q3 Q2 Q1 Q0 …  1 N+4
…
…  I14 I13 I12 I11 I10 I9 1 N+42
I8 I7 I6 I5 I4 I3 I2 I1 1 N+43
I0 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 N+44
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+45
0 0 0 0 E3 E2 E1 E0 1 Octet M
I14 I13 I12 I11 I10 I9 I8 I7 1 M+1
I6 I5 I4 I3 I2 I1 I0 Q14 1 M+2
Q13 Q12 Q11 Q10 Q9 Q8 Q7 Q6 1 M+3
Q5 Q4 Q3 Q2 Q1 Q0 …  1 M+4
…
…  I14 I13 I12 I11 I10 I9 1 M+42
I8 I7 I6 I5 I4 I3 I2 I1 1 M+43
I0 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 M+44
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+45
…
 4
Table D-11. IQ data samples bit-ordering (16-bit IQ bitwidth example) 5
0 (msb) 1 2 3 4 5 6 7 (lsb) Number
of Octets

…
udCompParam 1 Octet N
I15 I14 I13 I12 I11 I10 I9 I8 1 N+1

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        163
ORAN-WG4.CUS.0-v01.00
I7 I6 I5 I4 I3 I2 I1 I0 1 N+2
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 N+3
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+4
…
I15 I14 I13 I12 I11 I10 I9 I8 1 N+45
I7 I6 I5 I4 I3 I2 I1 I0 1 N+46
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 N+47
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 N+48
0 0 0 0 E3 E2 E1 E0 1 Octet M
I15 I14 I13 I12 I11 I10 I9 I8 1 M+1
I7 I6 I5 I4 I3 I2 I1 I0 1 M+2
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 M+3
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+4
…
I15 I14 I13 I12 I11 I10 I9 I8 1 M+45
I7 I6 I5 I4 I3 I2 I1 I0 1 M+46
Q15 Q14 Q13 Q12 Q11 Q10 Q9 Q8 1 M+47
Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 1 M+48
…
 1
Annex E  OFDM Phase Compensation 2
Consider the time interval 𝑡𝑠𝑡𝑎𝑟𝑡,𝑙
𝜇 ≤𝑡<𝑡𝑠𝑡𝑎𝑟𝑡,𝑙
𝜇 +(𝑁𝑢
𝜇 +𝑁𝐶𝑃,𝑙
𝜇 )𝑇𝑐  as defined in clause 5.3.1 of [6], which corresponds 3
to the transmission of the 𝑙th OFDM symbol, with baseband waveform 𝑠𝑙
(𝑝,𝜇)(𝑡). 4
Suppose that the transmitter performs up-conversion of the signal 𝑠𝑙
(𝑝,𝜇)(𝑡) to RF centre frequency 𝑓0, and the receiver 5
performs down-conversion from RF centre frequency 𝑓1. Unlike LTE, it is possible that the transmitter and receiver 6
have different centre frequencies, 𝑓0 ≠𝑓1, which motivates the introduction of OFDM phase compensation in NR.  7
Ignoring channel distortions and noise for simplicity, the baseband signal at the receiver in the same time interval can 8
be written 9
𝑠𝑙
(𝑝,𝜇)(𝑡)∙𝑒𝑗2𝜋(𝑓0−𝑓1)𝑡 = 𝑠𝑙
(𝑝,𝜇)(𝑡)∙𝑒𝑗𝜃𝑙 ∙𝑒𝑗2𝜋(𝑓0−𝑓1)(𝑡−𝑡𝐶𝑃,𝑙
𝜇 ) 10
where  𝑙 =2𝜋(𝑓0 −𝑓1)𝑡𝐶𝑃,𝑙
𝜇  and 𝑡𝐶𝑃,𝑙
𝜇 =𝑡𝑠𝑡𝑎𝑟𝑡,𝑙
𝜇 +𝑁𝐶𝑃,𝑙
𝜇 𝑇𝑐  is the time at the end of the cyclic prefix of OFDM symbol 𝑙. 11
We can see from the equation above that each OFDM symbol is subjected to a phase shift  𝑙, which can result in large 12
phase changes between successive OFDM symbols. This may cause problems for receiver processes such as channel 13
estimation and frequency error tracking, which expect the channel to vary smoothly between symbols.  14
The solution adopted by 3GPP in RAN WG1 meeting AH#18-01 [7][8] is to apply a phase pre-compensation term 15
𝑒−𝑗2𝜋𝑓0𝑡𝐶𝑃,𝑙
𝜇
  at the transmitter and a phase post-compensation term 𝑒𝑗2𝜋𝑓1𝑡𝐶𝑃,𝑙
𝜇
 at the receiver. These two terms together 16
provide the required correction 𝑒−𝑗𝜃𝑙. The phase pre-compensation requirement for the transmitter is captured in clause 17
5.4 of [1]. Note that the phase compensation depends only on the starting time of each OFDM symbol, and is common 18
for all OFDM symbols transmitted using a given numerology 𝜇, regardless of which NR physical channels they belong 19
to, except for PRACH.  20
 21
Annex F Beamforming Attributes Frame of Reference 22
The beamforming attributes involving pointing angle (bfAzPt and bfZePt) are defined following 3GPP 38.901, section 23
7.1. Two coordinate systems are defined, the Global Coordinate System (GCS) and local coordinate system (LCS). The 24
GCS applies across multiple BS and UT locations, while the LCS applies to a single array antenna. The GCS is defined 25
as shown below in Figure F-1.  In the GCS, 𝝓 refers to the azimuth angle and 𝜽 refers to the zenith angle. 26
The LCS is defined by a 3-parameter rotation of the GCS. The rotation with parameters 𝜶,𝜷,𝜸 is shown in Figure F-2 27
(left). Note that the rotation parameters are defined as follows: 28

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        164
ORAN-WG4.CUS.0-v01.00
• 𝛼 is defined as the bearing angle (sector pointing angle) 1
• 𝛽 is defined as the downtilt angle 2
• 𝛾 is defined as the slant angle 3
A two-dimensional array antenna is defined such that the 𝑥′-axis is broadside to the array antenna. If an antenna 4
architecture such as in 3GPP 38.901 section 7.3 is used, the horizontal direction is defined as 𝑦′ and the vertical 5
direction is defined as 𝑧′. 6
All parameters which relate to “peak” refer to the principal beam pointing in a particular direction. For a given beam 7
configuration, the peak direction is the angle corresponding to maximum gain. Thus, bfAzPt specifies the pointing angle 8
of maximum gain. 9
The pointing parameter bfAzPt is defined as 𝜙′. The pointing parameter bfZePt is defined as  ′. The angles are shown 10
in Figure F-2 (right). 11
The beamwidth parameters bfAz3dd and bfZe3dd are defined as the as the angular widths at which the beam falls to 3 12
dB below the peak beam gain on both sides of the peak direction, in azimuth and zenith, respectively.  13
The sidelobe parameters bfAzSl and bfZeSl are defined as the suppression level of the highest sidelobe relative to the 14
peak gain in the azimuth and zenith principal planes, respectively. 15
 16

nˆ
ˆ
ˆ

z
x
y

  17
Figure F-1 : Global Coordinate System Definition 18
 19
 20

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        165
ORAN-WG4.CUS.0-v01.00
  1
Figure F-2 : Orienting the LCS (blue) with respect to the GCS (gray) by a sequence of 3 rotations (left); 2
Definition of spherical coordinates and unit vectors in both the GCS and LCS (right)  3
 4
Annex G  LAA Algorithms and Examples: 5
 6
 7
Figure G-1 : PDSCH Transmission Algorithm O-DU flowchart 8
 9
where ⌈𝑎⌉: is the ceiling of number “a” to the nearest x, where x is 1 ms for normal SF and 0.5 ms for partially -filled 10
SF. 11
 12
O-DU
O-DU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        166
ORAN-WG4.CUS.0-v01.00
 1
 2
Figure G-2 : PDSCH Transmission Algorithm O-RU flowchart 3
 4
DRS Transmission Procedure 5
O-DU flowchart 6
The O-DU flowchart covers both cases, where the O-RU does 25 us sensing or LBT CAT 4 7
O-RU start
O-RU end

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        167
ORAN-WG4.CUS.0-v01.00
 1
Figure G-3 : DRS Transmission Procedure O-DU flowchart 2
 3
 4
Figure G-4 : DRS Transmission Procedure O-RU flowchart – 25 s sensing 5
 6
 7
O-DU
O-DU
O-RU end
O-RU start

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        168
ORAN-WG4.CUS.0-v01.00
 1
Figure G-5 : DRS Transmission Procedure O-RU flowchart – LBT Cat 4 2
 3
Annex H  S-Plane detailed frequency and phase error 4
budget analysis, and future ITU-T clock types and classes 5
reference 6
 7
H.1 Reference documents 8
Section 9.2.1 includes the existing reference documents, and the following ones may be considered when available:  9
New revisions of ITU-T G.827x specifications are being developed and targeted for the end of 2018 or early 2019.  10
They are expected to introduce higher-performance (more accurate) clock types including ePRTC/eGM, future T -BC 11
and T-TSC classes.  New HRM is also expected to cover more air interface use cases related to IEEE P802.1CM 12
Categories. 13
The following references from different standard organizations are work in progress.  These upcoming references cover 14
the future evolution over the above existing standard references to fully meet O-RAN synchronization needs. 15
O-RU end
O-RU start

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        169
ORAN-WG4.CUS.0-v01.00
• IEEE P802.1CM (committee draft 2.2 made available 7, May 2018 for passing Re v com) Time-Sensitive 1
Networking for Fronthaul 2
• IEEE 1588 Draft Standard for a Precision Clock Synchronization Protocol for Networked Measurement and 3
Control Systems 4
At the time of releasing the O-RAN specification current revision, there is expectation but no binding commitment to 5
include the new content of the above new specifications and revisions.  Hence, when these specifications and new 6
revisions are officially published, O-RAN must carefully review all the contents and determine their acceptance into O-7
RAN specification.   8
 9
Section 9.2.3 specifies the SyncE clock specification, and the following ones may be considered when available:  10
• When used for clock synchronization, SyncE shall comply with the following additional ITU -T specifications:   11
o ITU-T G.8262.1 (for eEEC) 12
• The use of eEECs is recommended as they provide less generated noise in normal operation and during 13
network rearrangements, allowing a larger number of hops while meeting a given time error budget.  14
 15
Section 9.2.4.2 specifies the PTP clock specification, and the following ones may be considered when available: 16
• A revision of IEEE 1588 is expected to be published by the end of 2018, and to remain backward compatible 17
with its 2008 edition. The use of new features in this revision may be recommen ded in future editions of this 18
document.  19
• Also expected by the end of 2018 or in 2019 are updates for Full Timing Support with tighter accuracy 20
requirements to the recommendations specifying the time and phase synchronization aspects of packet 21
networks (ITU-T G.8271), the network limits for time synchronization in packet networks (G.8271.1) and the 22
timing characteristics of clocks (G.8273.1, G.8273.2, G.8273.3). These updates will contribute to meeting the 23
IEEE 802.1CM requirements of its Case 1.2 in its Categories A and B, and of its Case 2 in its Categories A+ 24
and A. 25
Section 9.2.5 specifies the accuracy specification, and the following ones may be considered when available:  26
• reference to future ITU-T G.8262.1 (for eEEC) for the SyncE jitter and wander requirements shall be added 27
when available. 28
 29
Section 9.3.1 specifies the clock types and classes specification, and the following ones may be considered when 30
available: 31
• eEEC (per upcoming ITU-T G.8262.1) 32
• T-BC (per ITU-T G.8273.2: class A, B already specified, class C under development) 33
• T-TSC (per ITU-T G.8273.2: class A, B already specified, class C under development) 34
 35
H.2 Frequency and time error budget analysis 36
This section provides the informative analysis to support budget allocation in Section 9.3.2 for a F ull Timing Support 37
network (as per ITU-T G.8271.1 for the limits, ITU-T.G.8273.2 for the clock definition).  The analysis serves 2 38
purposes: 39
Considering T-BC Class B switches (as per ITU-T G. 8273.2) in a ITU-G G.8271.1 compliant network, the number of 40
allowed switches to satisfy the allocated network limit is computed in detail as an example.  41
Note: the following configurations are outside the scope of this annex, and are therefore For Further Study:  42
• ITU-T G.8271.1 compliant networks using T-TCs instead of T-BCs. 43
• Non-ITU-T G.8271.1-compliant networks, such as ITU-T G.8271.2 ones. 44

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        170
ORAN-WG4.CUS.0-v01.00
Each network element in the fronthaul clock chain generates time error (including constant cTE and dynamic dTE H, 1
dTEL), which will accumulate through the entire clock chain and be present at the O-RU UNI, as described in ITU-T 2
G.8271.1 Appendix IV.  In particular, accumulated dynamic time error will cause O-RU slave clock FFO (fractional 3
frequency error) after clock recovery and filtering.  Given O-RU must meet the 3GPP air interface frequency accuracy 4
target (±50ppb), O-RU filtering is needed to filter the accumulated dynamic time error and reduce the frequency error 5
down to an acceptable level.  The allowed network limit (i.e. dynamic time error), reasonable O-RU filter bandwidth 6
and acceptable frequency error after filtering are the result of a compromise exercise as shown in the following analysis.   7
The value of the O-RU filtering bandwidth is a key compromise, combined with the local oscillator thermal sensitivity:  8
- The higher filtering bandwidth, the faster frequency correction of the local oscillator thermal sensitivity and 9
therefore the lower temporary accumulated time error under thermal variations, but the poorer efficiency in 10
low pass filtering the dynamic noise seen on the UNI 11
- The lower filtering bandwidth, the better efficiency in low pass filtering the dynamic noise seen on the UNI, 12
but the poorer frequency correction of the local oscillator thermal sensitivity and therefore the higher 13
temporary accumulated time error under thermal variations. 14
 15
Frequency error budget for Network limit (C1 and C2) :  16
Based on the above compromise explanation, a practical expectation of O-RU filtering max BW is set to 75mHz to start 17
the analysis. 18
Table H-1 : O-DU Frequency Error Budget 19
O-DU class A B
• Consider O-DU PTP/SyncE master frequency error budget = ……………..
(refer to note 1 in section 9.3.2.1)
±15 ppb ±5 ppb
• Consider O-RU total frequency error budget based on O-DU frequency error budget
taken away from the 3GPP air interface (±50ppb) budget = …………

 ±35ppb

 ±45ppb
• Further split the O-RU total frequency error budget as follows as an example of O-
RU design:
o FFO (O-RU slave clock) =………………………………………………
o FFO (O-RU internal additive frequency noise) = ………………………

±21ppb
±14ppb.

±27ppb
±18ppb
• With FFO (O-RU slave clock) value and filter BW = 75mHz, based on ITU-T SG15
Q13 C1730, Geneva, 5 – 16 December 2011:
FFO (in ppb) = ±2*π * |dTEL+H|(in ns)*filter BW(in Hz)
 FFO (O-RU slave clock) = 2π * |dTEL+H| * filter BW
 |dTEL+H| = FFO (O-RU slave clock)/( 2π * filter BW) = ……………………
which is the max allowed network noise limit (between O-DU UNI and O-RU
UNI) guaranteeing FFO at the output of the O-RU filter with 75mHz BW.
Note that after this network noise limit is agreed in O-RAN spec, it is up to O-RU
vendor implementation to select filter BW (not necessarily 75mHz) to trade off the
internal budget split between FFO (O-RU slave clock) and FFO (O-RU internal
additive frequency noise) as long as the O-RU total frequency error budget (±35ppb
or ±43ppb) is still met.

±45ns

±57ns
• Based on G.8271.1 Appendix IV guidance to calculate accumulated error:
 Total dynamic noise = RMSsum (dTEL+H)
 |dTEL+H| = RMSsum (|dTEL+H| of all nodes excluding O-RU’s T-TSC)

Consider the model of clock chain of n T-BC clocks (between O-DU UNI to RU UNI)
ITU-T G.8273.2 (class B) switch:  |dTEL| = 20ns,  |dTEH| = 35ns
 | dTEL+H | limit =  sqrt [n*202 + 35²] ns = ………………………………………

 n = (|dTEL+H|² - 35²)/20², …………………………………………………………
the maximum number of class B T-BCs in each chain (excluding O-DU)

±45ns

2

±57ns

5
 20
Time error budget for network limit (C1 and C2) :  21
Using existing class B T-BCs, and considering no time error contribution by the fiber asymmetry nor from two master 22
ports of the same T-BC, then: 23

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        171
ORAN-WG4.CUS.0-v01.00
Following G.8271.1 Appendix IV guidance to calculate accumulated error with the following clock chain models:  1
Common
PTP/SyncE
master
(lls-DU or
T-BC)
O-RU1
Path 1: Total |TE|
UNI
n T-BC switches
O-RU2
Path 2: Total |TE|
n T-BC switches
Relative |TE|
UNI
Relative |TE| ≤ 2x Total |TE|
lls-DU
PTP/
SyncE
master

O-RU1
Total |TE|
UNI
n T-BC switches
network |TE| UNI
network |TE| = Total |TE|
Notes:
- this picture does not show the port-to-port relative TE between two Master ports of the common master.
lls-DU is considered as having no such port-to-port relative time error.
However, T-BCs as specified by ITU-T G.8273.2 does not specify it, and it may be more prudent to consider
the common T-BC inside the « n » chain.
- this picture does not show the relative TE caused by asymmetry on the links
Therefore some margin shall be considered in the TE budget to take them into account
Notes:
- this picture does not show the relative TE caused by asymmetry on the links
Therefore some margin shall be considered in the TE budget to take it into account
 2
Figure H-1 : clock chain model for analysis 3
 4
As per ITU-T G.8271.1 Appendix IV: 5
Total |TE| = sum (|cTE| of n nodes) + RMSsum (|dTEL| of n nodes and |dTEH| of last node) 6
= n*|cTE| + sqrt (n*|dTEL|2 + |dTEH|2) 7
However, the O-RU’s time error budget (cTE, |dTEL|2 + |dTEH|2) has already been taken into account in the budget (see 8
tables below), so only the T-BCs in the network are included in “n” and their contribution is limited to cTE and dTE L.  9
As a result, the above general formula can be further simplified for the chain of n T -BCs excluding the O-RU’s T-TSC: 10
Total |TE| = n*|cTE| + sqrt (n*|dTEL|2), 11
Where a node is based on T-BC Class B switch with the following noise generation specification: 12
Constant time error = |cTE| = 20ns 13
Low-band dynamic error = |dTEL| = 20ns 14
 15
 16
 17

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        172
ORAN-WG4.CUS.0-v01.00
Table H-2 : O-RU Time Error Budget 1
For O-RU type=
and relative |TE| limit =
 to meet category
Enhanced
60ns
Cat A
Class B
100ns
Cat B
Enhanced
190ns
Cat B
 n*20 + sqrt (n*202) < relative |TE|  /2 …………………………….
 maximum n value, number of class B T-BCs on each branch to
common network element (either O-DU or T-BC): ………………
(when n=0, this means that only direct connection is supported.)
 Remaining relative TE margin to be assigned to fiber asymmetry
and relative TE between two ports of the common network
element
30ns

0

60ns
50ns

1

20ns
95ns

2 (note1)

53ns
 2
For O-RU type=
and network |TE| limit =
 to meet category
class B
95ns
Cat C
Enhanced
140ns
Cat C
 n*20 + sqrt (n*202) < absolute |TE|
 maximum n value, number of class B T-BCs on each branch to O-DU:
 Remaining absolute TE margin to be assigned to fiber asymmetry on each
branch:

2 (note1)

12ns

4

20ns
Note 1:  3
Using n=3 on each branch, the total relative time error per branch is equal to 60+sqrt(3*20²) = 95ns, leaving no 4
margin for fiber asymmetry or relative TE between two ports. It is therefore recommended to limit the number of T -5
BCs to 2. 6
 7
 8
H.3 Frequency error budget for Network limit (C3) :  9
• Based on the above compromise explanation, a practical expectation of O-RU filtering max BW is set to 75mHz to 10
start the analysis 11
• Based on G.8272, PRTC/T-GM MTIE (during lock) specification can be used to describe PRTC/T-GM dynamic 12
noise generation: 13
Table H-3 : Wander Generation (MTIE) 14
MTIE limit (us) Observation interval (s)
0.275 x 10-3 τ + 0.025 0.1 < τ ≤ 273
0.10 τ > 273
 15
  Given O-RU filtering max BW = 75mHz, it corresponds to observation interval τ = 1/(π*75mHz) = 4.2s.   16
From the above table, MTIE limit (with τ = 4.2s) = 26.2ns pk-pk. 17
From this MTIE number, the value of dTEL is computed as 13.1ns. 18
 Besides MTIE, which can be treated as dynamic noise during lock condition, there is additional consideration 19
of PRTC/T-GM during holdover condition. Potential semi-static frequency drift could happen during holdover, 20
±2ppb is reserved based on ITU-T G.8271.1 Appendix V PRTC failure scenario (b) which permits 400ns 21
holdover limit for short period of 5 minutes. 22
Table H-4 : Network (C3) Frequency Error Budget 23
PRTC class A
Consider PRTC PTP/SyncE master frequency error budget =………………………………………
(refer to note 1 in section 9.3.2.2)
±2 ppb
Consider O-RU total frequency error budget based on O-DU frequency error budget taken away
from the 3GPP air interface (±50ppb) budget =
………………………………………………………….

 ±48ppb

• Further split the O-RU total frequency error budget as follows as an example of O-RU design:
o FFO (O-RU slave clock) =……………………………………………………………
o FFO (O-RU internal additive frequency noise) = ……………………………………

±30ppb
±18ppb

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        173
ORAN-WG4.CUS.0-v01.00
• With FFO (O-RU slave clock) value and filter BW = 75mHz, based on ITU-T SG15 Q13
C1730, Geneva, 5 – 16 December 2011:
FFO (in ppb) = ±2*π * |dTEL+H|(in ns)*filter BW(in Hz)
 FFO (O-RU slave clock) = 2π * |dTEL+H| * filter BW
 |dTEL+H| = FFO (O-RU slave clock)/( 2π * filter BW) = …………………………………
which is the max allowed network noise limit (between O-DU UNI and O-RU UNI)
guaranteeing FFO at the output of the O-RU filter with 75mHz BW.
Note that after this network noise limit is agreed in O-RAN spec, it is up to O-RU vendor
implementation to select filter BW (not necessarily 75mHz) to trade off the internal budget split
between FFO (O-RU slave clock) and FFO (O-RU internal additive frequency noise) as long as the
O-RU total frequency error budget (±35ppb or ±45ppb) is still met.

±63ns
• Based on G.8271.1 Appendix IV guidance to calculate accumulated error:
 Total dynamic noise = RMSsum (dTEL+H)
 |dTEL+H| = RMSsum (|dTEL+H| of all nodes including PRTC/T-GM but not O-RU’s T-TSC)
• Consider the model of clock chain of PRTC/T-GM and n T-BC switches (between PRTC input
to O-RU UNI) and using PRTC/T-GM MTIE specification and Class B dTEL+H specification.
 PRTC/T-GM dynamic noise = |dTEL+H| = MTIE/2 based on max 75mHz O-RU filter BW
assumption: ……………………………………………………………………………….
 T-BC Class B switch dynamic noise = |dTEL| = 20ns, |dTEH| = 35ns
 |dTEL+H| = sqrt(132 + n*202 +35²) ns= ………………………………………………………
 Maximum n= ( |dTEL+H|² - 35² - 13²) / 20² = …………………………………………………
the maximum number of class B T-BCs in each chain (excluding PRTC)

13ns

63ns
6
 1
 2
Time error budget for network limit (C3): 3
Using current class B T-BCs, and considering no time error contribution by the fiber asymmetry nor from two master 4
ports of the same T-BC, then: 5
Following G.8271.1 Appendix IV guidance to calculate accumulated error and the clock ch ain model as shown in 6
Figure H-1: 7
As per ITU-T G.8271.1 Appendix IV: 8
Total |TE| = sum (|cTE| of n nodes) + RMSsum (|dTEL| of n nodes and |dTEH| of last node) 9
= n*|cTE| + sqrt (n*|dTEL|2 + |dTEH|2) 10
However, the O-RU’s time error budget (cTE, |dTEL|2 + |dTEH|2) has already been taken into account in the budget (see 11
tables below), so only the T-BCs in the network are included in “n” and their contribution is limited to cTE and dTE L.  12
As a result, the above general formula can be further simplified for the chai n of n T-BCs excluding the O-RU’s T-TSC: 13
Total |TE| = n*|cTE| + sqrt (n*|dTEL|2), 14
Where a node is based on T-BC Class B switch with the following noise generation specification: 15
Constant time error = |cTE| = 20ns 16
Low-band dynamic error = |dTEL| = 20ns 17
 18
• For analysis to meet category A and B, refer to time error budget for network limit (C1 and C2) section.  19
ITU-T G.8271.1 does not specify the port-to-port TE on the common node driving the two branches. A 20
conservative option should consider the input port of this common node as the place where the two branches start, 21
and therefore the common T-BC as part of the n nodes in each branch. 22
• For analysis to meet category C, refer to ITU-T G.8271.1 Appendix V guidance, a more completed analysis is 23
shown to support PRTC/T-GM with 20 T-BC Class B switches and some margin left for fiber asymmetry, network 24
rearrangement/holdover or end application (i.e. O-RU) holdover.  O-RAN can possibly support even a longer clock 25
chain since O-RU |TE| is lower than the allocation in ITU-T analysis.  However, since 20 T-BC Class B switches is 26
already a very long chain, there is no need to further analyze longer chain possibility.  27
 28

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        174
ORAN-WG4.CUS.0-v01.00
Summary of allowed number of switches: 1
The maximum allowed number of switches shall be determined based on th e smallest allowed number constraint by  2
• Frequency error budget 3
AND 4
• Operator-chosen most constraint time error budget category 5
 6
Table H-5 : Network (C3) Frequency Error Budget 7
Frequency Error
Network limit
C1 and C2,
class A O-DU
C1 and C2,
class B O-DU
C3 Comment
Absolute Frequency error
budget between time source
and O-RU
2 5 6 Any branch must not exceed
this number of T-BCs from
O-DU or PRTC/T-GM to
meet 50ppb frequency
accuracy at the air interface.
 8
Table H-6 : Network (C3) Time Error Budget 9
Time Error Network limit C1 and C2,
class A O-DU
C1 and C2,
class B O-DU
C3 Comment
Relative Time error budget
(Cat A w/enhanced T-TSC)
between O-RUs
0 0 0 Any branch must not
exceed this number of T-
BCs from common T-BC to
meet target relative time
error limit at the air
interface.
Relative Time error budget
(Cat B w/ class B T-TSC)
between O-RUs
1 1 1
Relative Time error budget
(Cat B w/enhanced T-TSC)
between O-RUs
2 2 2
Absolute Time error budget
(Cat C w/class B T-TSC)
between time source and O-
RU
2 2 20
(further limit
to 6 due to
freq. limit)
Any branch must not
exceed this number of T-
BCs from O-DU or
PRTC/T-GM to meet
1500ns absolute time error
limit at the air interface.
Absolute Time error budget
(Cat C w/enhanced T-TSC)
between time source and O-
RU
4
(further limit
to 2 due to
freq. limit)
4 20
(further limit
to 6 due to
freq. limit)
 10
Note 1 : More switches are allowed if the same above limits can be met by specific switch equipment (exceed ing 11
G8273.2 T-BC Class B performance) or future better performance T-BC class. 12
Note 2 : The analysis on the number of switches (for time error budget) is meant to rough estimate and excludes both 13
fiber asymmetry factor and relative TE between two ports of the common network element.  It is operator’s 14
responsibility to control these two parameters.  The analysis for each time error budget (specific category) has some 15
left-over margin that could be used to cover them. If the left-over margin is not enough, the alternative is to reduce the 16
allowed number of switches.  17
 18
  19

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        175
ORAN-WG4.CUS.0-v01.00
 1
Annex I Precoding and Examples: 2
Case 1 Tx Diversity 1-CRS Port Ant0, 1 PRB:  3
 4
At the O-DU 5
• For single Tx case,
)1(),...,0( (q)
symb
)()( −Mdd qq M_q_sym modulation bits belonging to PDSCH ANT0 are 6
packed into a PRB. All CRS REs for ANT0 are packed into a PRB for transmission and are unpacked at the O-7
RU. 8
At the O-RU  9
• At the O-RU, for single antenna port single Tx a single layer is used and mapping is defined as 10
)()( )0()0( idix =
 11
• O-RU needs to map CRS REs into antenna ports using crsReMask, crssymbolNumber and crsShift. Follow 12
case 5  13
                                                   14
At O-DU(                                                    ). After antenna Mapping at O-RU
AN
TE
NN
A
M
AP
P
I
NG
P
R
E
C
OD
I
NG
L
A
Y
E
R
M
A
P
P
I
N
G
O-RU
ModBits
R0 RS Ant0
PDSCH Ant0
PDCCH
Blank
)1(),...,0( (q)
symb
)()( −Mdd qq
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R0 R0
8
7
6 R0 R0
5
4
3 R0 R0
2
1
0 R0 R0
TxD 1 CRS Port ANT, 1 PRB
Subframe 0
Slot 0 Slot 1
PRB 0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R0 R0
8
7
6 R0 R0
5
4
3 R0 R0
2
1
0 R0 R0
TxD Ant0
Subframe 0
Slot 0 Slot 1
PRB 0
 15
Figure I-1 : Single Tx 1-CRS Port Ant0, 1 PRB 16
 17
Case 2 Tx Diversity 2-CRS Port Ant0, Ant1, and 1 PRB:     18
Case 2.1 At the O-DU 19
• For TxD case,
)1(),...,0( (q)
symb
)()( −Mdd qq M_q_sym modulation bits belonging to PDSCH are packed 20
into a PRB. All CRS REs for ANT0 and ANT1 are packed into the same PRB for transmission and 21
are unpacked at the O-RU. 22
Case 2.2 At the O-RU  23
• At the O-RU, for two antenna port TxD 2 layers are used and mapping is defined as
)12()(
)2()(
)0()1(
)0()0(
+=
=
idix
idix  24

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        176
ORAN-WG4.CUS.0-v01.00
• For TxD, information for 2 layers are packed into a PRB for transmission and are unpacked at the O-RU. At 1
the O-RU, after layer mapping and, precoding, CRS REs for 2 antenna ports are mapped to the appropriate RE 2
positions and rest are left blank (gray-shaded REs) as illustrated below. Follow Case 5. 3
 4
A
N
TE
N
N
A
M
AP
P
I
N
G
P
R
E
C
OD
I
NG
L
A
Y
E
R
M
A
P
P
I
N
G
At O-DU(                                                    ).
 O-RU After antenna Mapping at O-RU
ModBits
R0 RS Ant0
R1 RS Ant1
PDSCH Ant0
PDSCH Ant1
PDCCH
Blank
)1(),...,0( (q)
symb
)()( −Mdd qq
0 1 2 3 4 5 6 7 8 9 10 11 12 13 0 1 2 3 4 5 6 7 8 9 10 11 12 13
11 11
10 10
9 R0 R0 9 R1 R1
8 8
7 7
6 R0 R0 6 R1 R1
5 5
4 4
3 R0 R0 3 R1 R1
2 2
1 1
0 R0 R0 0 R1 R1
PRB 0
Subframe 0
Slot 0
TxD Ant1TxD Ant0
Subframe 0
Slot 0 Slot 1 Slot 1
PRB 0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R1 R0 R1 R0
8
7
6 R0 R1 R0 R1
5
4
3 R1 R0 R1 R0
2
1
0 R0 R1 R0 R1
TxD 2 CRS Port ANTs, 1 PRB
Subframe 0
Slot 0 Slot 1
PRB 0
 5
Figure I-2 : Tx Diversity 2-CRS Port Ant0, Ant1, and 1 PRB 6
 7
 8
Case 3 Tx Diversity 4-CRS Port Ant0,1,2,3 and 1 PRB: 9
 10
Figure I-3 : Case 3 Layer Mapping 11
Case 3.1 At the O-DU 12
• For TxD case,
)1(),...,0( (q)
symb
)()( −Mdd qq M_q_sym modulation bits belongs to PDSCH are packed to into a 13
PRB. All CRS RE’s for ANT0, ANT1, ANT2 and ANT3 are packed into that same PRB for transmission and 14
are unpacked at the O-RU. 15
Case 3.2 At the O-RU  16

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        177
ORAN-WG4.CUS.0-v01.00
• At the O-RU, for two antenna port TxD 4 layers are used and mapping is defined as
)34()(
)24()(
)14()(
)4()(
)0()3(
)0()2(
)0()1(
)0()0(
+=
+=
+=
=
idix
idix
idix
idix  1
• For TxD, user data RE’s for 4 layers are packed into a PRB for transmission and are unpacked at the O-RU. At 2
the O-RU, after layer mapping and precoding, CRS REs for 4 antenna ports are mapped to the appropriate RE 3
position and rest are left blank as illustrated below. 4
A
N
TE
N
N
A
M
AP
P
I
N
G
P
R
E
C
OD
I
NG
L
A
Y
E
R
M
A
P
P
I
N
G
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R1 R3 R0 R1 R2 R0
8
7
6 R0 R2 R1 R0 R3 R1
5
4
3 R1 R3 R0 R1 R2 R0
2
1
0 R0 R2 R1 R0 R3 R1
TxD 4 CRS Port ANTs, 1 PRB
Subframe 0
Slot 0 Slot 1
PRB 0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R0 R0
8
7
6 R0 R0
5
4
3 R0 R0
2
1
0 R0 R0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R1 R1
8
7
6 R1 R1
5
4
3 R1 R1
2
1
0 R1 R1
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R2
8
7
6 R2
5
4
3 R2
2
1
0 R2
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R3
8
7
6 R3
5
4
3 R3
2
1
0 R3
TxD Ant3
Subframe 0
Slot 0 Slot 1
PRB 0
TxD Ant0
Subframe 0
Slot 0 Slot 1
PRB 0
TxD Ant1
Subframe 0
Slot 0 Slot 1
PRB 0
TxD Ant2
Subframe 0
Slot 0 Slot 1
PRB 0
After antenna Mapping at O-RU
O-RUAt O-DU(                                                    ).
ModBits
R0 RS Ant0
R1 RS Ant1
R2 RS Ant2
R3 RS Ant3
PDSCH Ant0
PDSCH Ant1
PDSCH Ant2
PDSCH Ant3
PDCCH
Blank
)1(),...,0( (q)
symb
)()( −Mdd qq
 5
Figure I-4 : Tx Diversity 4-CRS Port Ant0,1,2, 3, and 1 PRB 6
 7

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        178
ORAN-WG4.CUS.0-v01.00
 1
Figure I-5 : TxD – 4 CRS Ports 2
                              3
 4
Case 4 TM3/TM4 3 Layers, 4 Antenna ports: 5
 One symbol from each of layers is linearly mapped to each antenna port. 6
 7
Figure I-6 : Case 4 Layer Mapping 8
For TM3/TM4, REs belonging to all the antenna ports are mapped to the zeroth layer at the O-DU. The O-RU should 9
consider layer zero’s CRS REs for CRS mapping for all the antenna ports using reMask bit field; CRS RE positions in 10
the non-zero layers can be ignored as illustrated below (gray-shared REs in the O-DU represent CRS RE positions that 11
are not populated by the O-DU. 12
)23()(
)13()(
)3()(
)0()2(
)0()1(
)0()0(
+=
+=
=
idix
idix
idix
3)0(
symb
layer
symb MM =
 13
 14
O-DU
O-RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        179
ORAN-WG4.CUS.0-v01.00
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R1 R3 R0 R1 R2 R0
8
7
6 R0 R2 R1 R0 R3 R1
5
4
3 R1 R3 R0 R1 R2 R0
2
1
0 R0 R2 R1 R0 R3 R1
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9
8
7
6
5
4
3
2
1
0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9
8
7
6
5
4
3
2
1
0
TM3/4 Layer 1, 4 ANTs, (x2(0),x2(1),,,x2(i))
Subframe 0
Slot 0 Slot 1
PRB 0
Subframe 0
Slot 0 Slot 1
PRB 0
Subframe 0
Slot 0 Slot 1
PRB 0
TM3/4 Layer 1, 4 ANTs, (x0(0),x0(1),,,x0(i))
TM3/4 Layer 1, 4 ANTs, (x1(0),x1(1),,,x1(i))
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R0 R0
8
7
6 R0 R0
5
4
3 R0 R0
2
1
0 R0 R0
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R1 R1
8
7
6 R1 R1
5
4
3 R1 R1
2
1
0 R1 R1
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R2
8
7
6 R2
5
4
3 R2
2
1
0 R2
0 1 2 3 4 5 6 7 8 9 10 11 12 13
11
10
9 R3
8
7
6 R3
5
4
3 R3
2
1
0 R3
TM3/4  Ant3
Subframe 0
Slot 0 Slot 1
PRB 0
TM3/4  Ant2
Subframe 0
Slot 0 Slot 1
PRB 0
TM3/4  Ant1
Subframe 0
Slot 0 Slot 1
PRB 0
TM3/4  Ant0
Subframe 0
Slot 0 Slot 1
PRB 0
Layer0(x0_0,x0_1,..x0_i)
Layer1(x1_0,x1_1,..x1_i)
Layer2(x2_0,x2_1,..x2_i)
R0 RS Ant0
R1 RS Ant1
R2 RS Ant2
R3 RS Ant3
PDSCH Ant0
PDSCH Ant1
PDSCH Ant2
PDSCH Ant3
PDCCH
Blank
A
N
T
E
N
N
A
M
A
P
P
I
N
G
P
R
E
C
O
D
I
N
G
 1
Figure I-7 : TM3/TM4, 3 Layers 4 Antenna Ports 2
 3
 4
 5
 6
 7
 8
 9
 10
 11
 12
 13
 14
 15
 16

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        180
ORAN-WG4.CUS.0-v01.00
 1
 2
 3
Figure I-8 : TM3 rank 2/4 CRS Ports 4
CRS location assignment: reMask Bit position for Layer0, 2 and 4 for all 5
possible vShift cases 6
Note: CRS shift pattern for antenna port 0 when 3 ≤ vshift ≤ 5 is same as 0 ≤ vshift ≤ 3 for antenna port 1 resulting in 7
only three possible vshift for a 2-antenna port case and this holds good for 4-antenna port case as well.  Hence the 8
crsReMask is differentiated with the crsShift field. If the O-RU identifies crsShift as 1, then shift in CRS belongs to 9
each antenna have to read properly. 10
 11
Table I-1 : CRS Location Assignment For layer1 12
 Layer1
   crsSymNum 0 and 7  crsSymNum 4 and 11
vshift crsShift crsReMask PosInd in Bit Ant 0 crsReMask PosInd in Bit Ant 0
0 0 0000 0100 0001 0,6 0010 0000 1000  3,9
1 0 0000 1000 0010  1,7 0100 0001 0000 4,10
2 0 0001 0000 0100 2,8 0100 0010 0000 5,11
3 0 0010 0000 1000 3,9 0000 0100 0001 6,0
4 0 0100 0001 0000 4,10 0000 1000 0010 7,1
5 0 1000 0010 0000 5,11 0001 0000 0100 8,2
crsReMask is not repeated for all for vShift combinations, hence crsShift is always indicated as 0.  13
 14
 15
 16
O-DU
O-RU

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        181
ORAN-WG4.CUS.0-v01.00
 1
Table I-2 : CRS Location Assignment For layer2 2
 Layer2

  crsSymNum 0 and 7  crsSymNum 4 and 11
vshift crsShift crsReMask
PosInd in
Bit Ant 0
PosInd in
Bit Ant 1 crsReMask
PosInd in
Bit Ant 0
PosInd in
Bit Ant 1
0 0 0010 0100 1001 0,6 3,9 0010 0100 1001 3,9 0,6
1 0 0100 1001 0010 1,7 4,10 0100 1001 0010 4,10 1,7
2 0 1001 0010 0100 2,8 5,11         1001 0010 0100 5,11         2,8
3 1 0010 0100 1001 3,9 6,0         0010 0100 1001 6,0         3,9
4 1 0100 1001 0010 4,10 7,1         0100 1001 0010 7,1         4,10
5 1 1001 0010 0100 5,11 8,2          1001 0010 0100 8,2          5,11
crsReMask for vShift 0 is same as for vShift 3 case but RE locations are different for Ant 0 and 1. Hence indicating 1 3
for 3,4,5 vShift cases, thereby O-RU must pick the positions as interpreted in above table. 4
 5
 6
Table I-3 : CRS Location Assignment For layer4 7
 Layer4
   crsSymNum 0 and 7  crsSymNum 4 and 11
vshift crsShift crsReMask
PosInd in
Bit Ant 0
PosInd in
Bit Ant 1 crsReMask
PosInd in
Bit Ant 0
PosInd in
Bit Ant 1
0 0 0010 0100 1001 0,6 3,9 0010 0100 1001 3,9 0,6
1 0 0100 1001 0010 1,7 4,10 0100 1001 0010 4,10 1,7
2 0 1001 0010 0100 2,8 5,11         1001 0010 0100 5,11         2,8
3 1 0010 0100 1001 3,9 6,0         0010 0100 1001 6,0         3,9
4 1 0100 1001 0010 4,10 7,1         0100 1001 0010 7,1         4,10
5 1 1001 0010 0100 5,11 8,2          1001 0010 0100 8,2          5,11
 8
 Layer4
   crsSymNum 1  crsSymNum 8
vshift crsShift crsReMask
PosInd in
Bit Ant 2
PosInd in
Bit Ant 3 crsReMask
PosInd in
Bit Ant 3
PosInd in
Bit Ant2
0 0 0010 0100 1001 0,6 3,9 0010 0100 1001 0,6 3,9
1 0 0100 1001 0010 1,7 4,10 0100 1001 0010 1,7 4,10
2 0 1001 0010 0100 2,8 5,11         1001 0010 0100 2,8 5,11
3 1 0010 0100 1001 3,9 6,0         0010 0100 1001 3,9 6,0
4 1 0100 1001 0010 4,10 7,1         0100 1001 0010 4,10 7,1
5 1 1001 0010 0100 5,11 8,2          1001 0010 0100 5,11 8,2
crsReMask for vShift 0 is same as for vShift 3 case but RE locations are different for Ant 0 and 1. Hence indicating 1 9
for 3,4,5 vShift cases, thereby O-RU must pick the positions as interpreted in above table. 10
 11
Pseudo code to determine the CRS belongs to ANT port-N 12
• Determine vShift = N_CELL_ID % 6 13
• Below pseudo code for Num Layer = 4 14
Switch(crsSymNum) 15
{ 16
Case 0 || case 7: 17

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        182
ORAN-WG4.CUS.0-v01.00
                        if( vShift  == 0 ) 1
{ 2
    if (bitSet_0 && bitSet_6)  3
  { 4
         mapIQ of 0 and 6 to Ant0 //rest blank 5
   } 6
   if (bitSet_3 && bitSet_9)  7
   { 8
         mapIQ of 0 and 6 to Ant1 //rest blank 9
   } 10
} 11
            Break; 12
Case 1: 13
if( vShift  == 0 ) 14
{ 15
   if (bitSet_0 && bitSet_6)  16
  { 17
       mapIQ of 0 and 6 to Ant2 18
  } 19
  if (bitSet_3 && bitSet_9)  20
  { 21
       mapIQ of 3 and 9 to Ant3 22
  } 23
} 24
     Break; 25
Case 4 || case 11: 26
if( vShift  == 0 ) 27
{ 28
   if (bitSet_0 && bitSet_6)  29
  { 30
       mapIQ of 0 and 6 to Ant1 31
  } 32
  if (bitSet_3 && bitSet_9)  33
  { 34
       mapIQ of 0 and 6 to Ant0 35
  } 36
} 37
Break; 38
Case 8: 39
if( vShift  == 0 ) 40
{ 41
   if (bitSet_0 && bitSet_6)  42
  { 43
       mapIQ of 0 and 6 to Ant3 44
  } 45
  if (bitSet_3 && bitSet_9)  46
  { 47
       mapIQ of 3 and 9 to Ant2 48
  } 49
} 50
Break; 51
} 52
 53
Annex J Beamforming Methods Description: 54
Beams are RF energy directed in specific angular directions in space.  Beamforming can generate energy lobes 55
(maxima, or “peaks”) &/or energy nulls (minima, or “valleys”) in the spatial dimension.  They can be formed using 56
various methods in the analog domain, the digital domain, or a combination thereof.  Beams and beamforming can 57
further be used to re-utilize temporo-spectral (Time-Frequency) resources to achieve Spatial Multiplexing.   58
O-RAN has four distinct methods supported at the O-RU for beamforming. 59
 60
1. Predefined-Beam Beamforming.  61
In this method, beam indices (“beamId” values) are conveyed from the O-DU to the O-RU to indicate which beam to 62
apply to the DL or UL data.  The beams are expected to be pre-defined within the O-RU and the method of 63

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        183
ORAN-WG4.CUS.0-v01.00
beamforming is not specified. However, the O-DU still needs to know whether the beamforming is frequency-domain, 1
time-domain or “hybrid” so the beamId values can be correctly applied e.g. to not apply different time -domain beamIds 2
to subcarriers in the same OFDM symbol. 3
 4
2. Weight-based Dynamic Beamforming.  5
In this method, beamforming weights are transmitted across the interface using C-Plane messages.  6
For frequency-domain beamforming the operation may be considered as follows: 7
Let X = [x0 x1 …x𝑃]  represent the frequency domain IQ data in one data section, where P is the number of PRBs in 8
the data section and x is a PRB, 𝑥∈ ℂ𝐿∗1  , L is the number of streams.  9
Let W = [w0 w1 …w𝐾]   represent the beamforming weights associated with the tx-array, where w is a beamforming 10
weight, w ∈ ℂ𝐾∗𝐿  , K is the number of array elements. 11
The output after beamforming Y = [y0 y1 …y𝑃]  is given by 12
y=w.x 13
where y is a beamforming output for the PRB x ,  y∈ ℂ𝐾∗1   14
The equation above refers to DL beamforming but the same principle is applied for UL as well.  15
 16
For time-domain beamforming the operation is the similar: 17
Here, however, instead of being applied per data section the beamforming is applied for the entire OFDM symbol . 18
Let X = [x0 x1 …x𝑃]  represent the frequency domain IQ data in one OFDM symbol, where P is the number of PRBs 19
in the OFDM symbol and x is a PRB, 𝑥∈ ℂ𝐿∗1  , L is the number of streams.  20
Let W = [w0 w1 …w𝑃]   represent the beamforming weights associated with one tx-array, where w is a beamforming 21
weight, w ∈ ℂ𝐾∗𝐿  , K is the number of array elements. 22
The output after beamforming Y = [y0 y1 …y𝑃]  is given by 23
y=w.x 24
where y is a beamforming output for the PRB x ,  y∈ ℂ𝐾∗1   25
The equation above refers to DL beamforming but the same principle is applied for UL as well.  26
 27
For hybrid beamforming the operation involves the multiplication by frequency-domain weights and time-28
domain weights. 29
There are K number of time-domain weights (the is the same as the number of array elements) and K’ number of 30
frequency-domain weights (K’ is less than K, see chapter 10.5).  The K’ frequency-domain weights are applied for the 31
PRBs in a data section, and the K time-domain weights are applied for all the PRBs in the entire OFDM symbol. 32
Let X = [x0 x1 …x𝑃]  represent the frequency domain IQ data in one OFDM symbol, where P is the number of PRBs 33
in the OFDM symbol and x is a PRB, 𝑥∈ ℂ𝐿∗1  , L is the number of streams.  34
 35
Let W = [w0 w1 …w𝑃]   represent the beamforming weights in one OFDM symbol, where w is a time-domain 36
beamforming weight, w ∈ ℂ𝐾∗𝐿  , K is the total number of array elements. 37
Let W′ = [w′
0 w′
1 …w′
𝑃′, w′
0 w′
1 …w′
𝑃′ …w′0 w′1 …w′𝑃′ ]   represent the beamforming weights in one data 38
section, where w′ is a frequency-domain beamforming weight, w′ ∈ ℂ𝐾′∗𝐿  . 39
Note that 𝐾=𝐾′ ∗𝑝′   so the W’ vector represents K / K’ repetitions of the K’ frequency-domain weights., 40
 41

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        184
ORAN-WG4.CUS.0-v01.00
The output after beamforming Y = [y0 y1 …y𝑃]  is given by 1
y=(w∗w′).x 2
where y is a beamforming output for the PRB x ,  y∈ ℂ𝑀∗1   3
The equation above refers to DL beamforming but the same principle is applied for UL as well.  4
 5
3. Attribute-Based Dynamic Beamforming.  6
In this method, beamforming attributes and/or their indices (if already known to the O-RU) are transmitted across the 7
interface.  8
Whereas a beam index provides a pointer to a beamforming vector already known to the O-RU, and beamforming 9
weights specify an important method for how to form the beam, beamforming attributes specify the what, an inherently 10
compact characterization of the desired beam pattern itself, to be formed directionally in space.  11
These beamforming attributes include:  12
• bfAzPt: the azimuth beamforming pointing angle in degrees 13
• bfZePt: the zenith beamforming pointing angle in degrees 14
• bfAz3dd: the azimuth beamforming 3dB down beam width in degrees 15
• bfZe3dd: the zenith beamforming 3dB down beam width in degrees 16
• bfAzSl: the azimuth beamforming sidelobe suppression value in dB 17
• bfZeSl: the zenith beamforming sidelobe suppression value in dB 18
 19
Multiple methods of forming the beam per the Beam Attributes are possible and are left as O-RU implementation 20
choices.  Some potential schemes are: Beamforming phased array weights (Analog or Digital), Holographic 21
Beamforming, Butler Matrices, Lenses, and other known and emerging techniques.  These schemes may also be 22
hybridized with method #4 “Channel-Information-Based beamforming”. 23
 24
4. Channel-Information-Based Beamforming.  25
In this method, beamforming weights are calculated at the O-RU based on the channel estimates that are transmitted 26
across the interface.  27
Assuming K users who are jointly scheduled for MU-MIMO, a beamforming matrix G = [g1,...,gK] ∈ ℂ𝑀𝑥𝐾  is applied 28
to the frequency domain IQ data for K users.  29
Let H ≜ [ℎ1...,ℎ𝐾]  ∈ ℂ𝐾𝑥𝑀 be the channel estimates for the K users.  30
Multiple methods to calculate the beamforming weights are possible and are left as the O-RU implementation choices. 31
Some potential schemes are: 32
Zero-forcing : 𝐺 =
1
√Ψ  (𝐻𝐻  𝐻)−1 𝐻𝐻   33
Regularized zero-forcing/ MMSE:  𝐺 =
1
√Ψ  (𝐻𝐻  𝐻 +𝜉𝐼𝑀)−1 𝐻𝐻   ,    34
ξ is the regularization parameter and, the normalization parameter Ψ can be chosen to satisfy the total power constraint 35
{GGH} < M with equality 36
Note that the O-RAN specification allows configuration of regularization factor per user.  37
 38

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        185
ORAN-WG4.CUS.0-v01.00
Annex K: Layers of Array Elements 1
Figure A-1 shows an example of a rectangular array with 12 rows and 4 columns of array elements. There are four data 2
converters (not shown in the figure). Each data converter connects to all the 48 array elements (also known as the full -3
connection model in 3GPP). The array element contains 4 gain and phase control elements each connecting to one of 4
the data converters. The gain and phase control element is used to apply time domain (TD) beamforming weights. This 5
type of connection creates four overlapping arrays (“array-layers”) by reusing the same array elements. On the transmit 6
side each DAC can correspond to one layer, which is then connected to one of the overlapping Tx arrays. Hence the 7
structure of the tx-array so constructed can support 4 layers. The 48 elements corresponding to layer Q = 0…3 receive 8
the same input from DAC Q and this input can be beamformed with a 48 element TD beamforming vector 9
( 𝑞,0, 𝑞,47)and a Frequency Domain (FD) beamforming weight  𝑞 corresponding to layer 𝑞. Each array element hence 10
can receive 4 equivalent beamforming weights  0 0,0𝑡𝑜 3 3,0  corresponding to 4 layers. 11
 12
K.1 Use Case A 13
Use case A is to send eAxC via 48 elements. In this case, the eAxC is beamformed in frequency domain (FD) by   0and 14
48 complex weights corresponding to time domain (TD) using( 𝑞,0, 𝑞,47) see Figure K-2 . In this case, the O-RU has 15
4 simple tx-arrays with 48 elements each.  16
 17
 18
      19
 20
 21
 22
 23
 24
 25
 26
Figure K-1
Figure K-2

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        186
ORAN-WG4.CUS.0-v01.00
 1
K.2 Use Case B 2
In this use case, one eAxC signal is sent over all the 4x48 elements. This can be accomplished by using 4 digital 3
weights in FD and 4x48 TD weights (Figure K-3). In this case, O-RU has one tx-array with 4x48 elements. 4
  5
 6
 7
 8
 9
 10
 11
 12
Figure K-3 13
 14
One should note in the above cases that the 48 array elements each have one power amplifier which is shared across the 15
layers Q = 0…3.  16
  17

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        187
ORAN-WG4.CUS.0-v01.00
Annex ZZZ : O-RAN Adopter License Agreement 1
BY DOWNLOADING, USING OR OTHERWISE ACCESSING ANY O-RAN SPECIFICATION, ADOPTER 2
AGREES TO THE TERMS OF THIS AGREEMENT. 3
This O-RAN Adopter License Agreement (the “Agreement”) is made by and between the O -RAN Alliance and the 4
entity that downloads, uses or otherwise accesses any O-RAN Specification, including its Affiliates (the “Adopter”). 5
This is a license agreement for entities who wish to adopt any O-RAN Specification. 6
Section 1: DEFINITIONS 7
1.1 “Affiliate” means an entity that directly or indirectly controls, is controlled by, or is und er common control with 8
another entity, so long as such control exists. For the purpose of this Section, “Control” means beneficial ownership of 9
fifty (50%) percent or more of the voting stock or equity in an entity. 10
1.2 “Compliant Implementation” means any system, device, method or operation (whether implemented in hardware, 11
software or combinations thereof) that fully conforms to a Final Specification. 12
1.3 “Adopter(s)” means all entities, who are not Members, Contributors or Academic Contributors, includin g their 13
Affiliates, who wish to download, use or otherwise access O-RAN Specifications. 14
1.4 “Minor Update” means an update or revision to an O-RAN Specification published by O-RAN Alliance that does 15
not add any significant new features or functionality and remains interoperable with the prior version of an O-RAN 16
Specification. The term “O-RAN Specifications” includes Minor Updates. 17
1.5 “Necessary Claims” means those claims of all present and future patents and patent applications, other than design 18
patents and design registrations, throughout the world, which (i) are owned or otherwise licensable by a Member, 19
Contributor or Academic Contributor during the term of its Member, Contributor or Academic Contributorship; (ii) 20
such Member, Contributor or Academic Contributor has the right to grant a license without the payment of 21
consideration to a third party; and (iii) are necessarily infringed by a Compliant Implementation (without considering 22
any Contributions not included in the Final Specification). A claim is necessarily infringed only when it is not possible 23
on technical (but not commercial) grounds, taking into account normal technical practice and the state of the art 24
generally available at the date any Final Specification was published by the O -RAN Alliance or the date the patent 25
claim first came into existence, whichever last occurred, to make, sell, lease, otherwise dispose of, repair, use or operate 26
a Compliant Implementation without infringing that claim. For the avoidance of doubt in exceptional cases where a 27
Final Specification can only be implemented by technical solutions, all of which infringe patent claims, all such patent 28
claims shall be considered Necessary Claims. 29
1.6 “Defensive Suspension” means for the purposes of any license grant pursuant to Section 3, Member, Contributor, 30
Academic Contributor, Adopter, or any of their Affiliates, may have the discretion to include in their license a term 31
allowing the licensor to suspend the license against a licensee who brings a patent infringement suit aga inst the 32
licensing Member, Contributor, Academic Contributor, Adopter, or any of their Affiliates.  33
Section 2: COPYRIGHT LICENSE 34
2.1 Subject to the terms and conditions of this Agreement, O-RAN Alliance hereby grants to Adopter a nonexclusive, 35
nontransferable, irrevocable, non-sublicensable, worldwide copyright license to obtain, use and modify O-RAN 36
Specifications, but not to further distribute such O-RAN Specification in any modified or unmodified way, solely in 37
furtherance of implementations of an ORAN 38
Specification. 39
2.2 Adopter shall not use O-RAN Specifications except as expressly set forth in this Agreement or in a separate written 40
agreement with O-RAN Alliance. 41
Section 3: FRAND LICENSE 42
3.1 Members, Contributors and Academic Contributors and their Affiliates are prepared to grant based on a separate 43
Patent License Agreement to each Adopter under Fair Reasonable And Non - Discriminatory (FRAND) terms and 44
conditions with or without compensation (royalties) a nonexclusive, non-transferable, irrevocable (but subject to 45
Defensive Suspension), non-sublicensable, worldwide patent license under their Necessary Claims to make, have made, 46
use, import, offer to sell, lease, sell and otherwise distribute Compliant Implementations; provided, however, that such 47
license shall not extend: (a) to any part or function of a product in which a Compliant Implementation is incorporated 48

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        188
ORAN-WG4.CUS.0-v01.00
that is not itself part of the Compliant Implementation; or (b) to any Adopter if that Adopter is not making a reciprocal 1
grant to Members, Contributors and Academic Contributors, as set forth in Section 3.3. For the avoidance of doubt, the 2
foregoing licensing commitment includes the distribution by the Adopter’s distributors and the use by the Adopter’s 3
customers of such licensed Compliant Implementations. 4
3.2 Notwithstanding the above, if any Member, Contributor or Academic Contributor, Adopter or their Affiliates has 5
reserved the right to charge a FRAND royalty or other fee for its license of Necessary Claims to Adopter, then Adopter 6
is entitled to charge a FRAND royalty or other fee to such Member, Contributor or Academic Contributor, Adopter and 7
its Affiliates for its license of Necessary Claims to its licensees. 8
3.3 Adopter, on behalf of itself and its Affiliates, shall be prepared to grant bas ed on a separate Patent License 9
Agreement to each Members, Contributors, Academic Contributors, Adopters and their Affiliates under Fair 10
Reasonable And Non-Discriminatory (FRAND) terms and conditions with or without compensation (royalties) a 11
nonexclusive, non-transferable, irrevocable (but subject to Defensive Suspension), non -sublicensable, worldwide patent 12
license under their Necessary Claims to make, have made, use, import, offer to sell, lease, sell and otherwise distribute 13
Compliant Implementations; provided, however, that such license will not extend: (a) to any part or function of a 14
product in which a Compliant Implementation is incorporated that is not itself part of the Compliant Implementation; or 15
(b) to any Members, Contributors, Academic Contributors, Adopters and their Affiliates that is not making a reciprocal 16
grant to Adopter, as set forth in Section 3.1. For the avoidance of doubt, the foregoing licensing commitment includes 17
the distribution by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ distributors 18
and the use by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ customers of such 19
licensed Compliant Implementations. 20
Section 4: TERM AND TERMINATION 21
4.1 This Agreement shall remain in force, unless early terminated according to this Section 4.  22
4.2 O-RAN Alliance on behalf of its Members, Contributors and Academic Contributors may terminate this Agreement 23
if Adopter materially breaches this Agreement and does not cure or is not capable of curing such breach within thirty 24
(30) days after being given notice specifying the breach. 25
4.3 Sections 1, 3, 5 - 11 of this Agreement shall survive any termination of this Agreement. Under surviving Section 3, 26
after termination of this Agreement, Adopter will continue to grant licenses (a) to entities who become Adopters after 27
the date of termination; and (b) for future versions of ORAN Specifications that are backwards compatible with the 28
version that was current as of the date of termination. 29
Section 5: CONFIDENTIALITY 30
Adopter will use the same care and discretion to avoid disclosure, publication, and dissemination of O -RAN 31
Specifications to third parties, as Adopter employs with its own confidential information, but no less than reasonab le 32
care. Any disclosure by Adopter to its Affiliates, contractors and consultants should be subject to an obligation of 33
confidentiality at least as restrictive as those contained in this Section. The foregoing obligation shall not apply to any 34
information which is: (1) rightfully known by Adopter without any limitation on use or disclosure prior to disclosure; 35
(2) publicly available through no fault of Adopter; (3) rightfully received without a duty of confidentiality; (4) disclosed 36
by O-RAN Alliance or a Member, Contributor or Academic Contributor to a third party without a duty of 37
confidentiality on such third party; (5) independently developed by Adopter; (6) disclosed pursuant to the order of a 38
court or other authorized governmental body, or as required by law, provided that Adopter provides reasonable prior 39
written notice to O-RAN Alliance, and cooperates with O-RAN Alliance and/or the applicable Member, Contributor or 40
Academic Contributor to have the opportunity to oppose any such order; or (7) disclose d by Adopter with O-RAN 41
Alliance’s prior written approval. 42
Section 6: INDEMNIFICATION 43
Adopter shall indemnify, defend, and hold harmless the O-RAN Alliance, its Members, Contributors or Academic 44
Contributors, and their employees, and agents and their respective successors, heirs and assigns (the “Indemnitees”), 45
against any liability, damage, loss, or expense (including reasonable attorneys’ fees and expenses) incurred by or 46
imposed upon any of the Indemnitees in connection with any claims, suits, investigat ions, actions, demands or 47
judgments arising out of Adopter’s use of the licensed O-RAN Specifications or Adopter’s commercialization of 48
products that comply with O-RAN Specifications. 49

________________________________________________________________________________________________
Copyright © 2019 by the O-RAN Alliance.
Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        189
ORAN-WG4.CUS.0-v01.00
Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY 1
EXCEPT FOR BREACH OF CONFIDENTIALITY, ADOPTER’S BREACH OF SECTION 3, AND ADOPTER’S 2
INDEMNIFICATION OBLIGATIONS, IN NO EVENT SHALL ANY PARTY BE LIABLE TO ANY OTHER 3
PARTY OR THIRD PARTY FOR ANY INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL 4
DAMAGES RESULTING FROM ITS PERFORMANCE OR NON-PERFORMANCE UNDER THIS AGREEMENT, 5
IN EACH CASE WHETHER UNDER CONTRACT, TORT, WARRANTY, OR OTHERWISE, AND WHETHER OR 6
NOT SUCH PARTY HAD ADVANCE NOTICE OF THE POSSIBILITY OF SUCH DAMAGES. O -RAN 7
SPECIFICATIONS ARE PROVIDED “AS IS” WITH NO WARRANTIES OR CONDITIONS WHATSOEVER, 8
WHETHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE. THE O -RAN ALLIANCE AND THE 9
MEMBERS, CONTRIBUTORS OR ACADEMIC CONTRIBUTORS EXPRESSLY DISCLAIM ANY WARRANTY 10
OR CONDITION OF MERCHANTABILITY, SECURITY, SATISFACTORY QUALITY, N ONINFRINGEMENT, 11
FITNESS FOR ANY PARTICULAR PURPOSE, ERROR-FREE OPERATION, OR ANY WARRANTY OR 12
CONDITION FOR O-RAN SPECIFICATIONS. 13
Section 8: ASSIGNMENT 14
Adopter may not assign the Agreement or any of its rights or obligations under this Agreement or make any  grants or 15
other sublicenses to this Agreement, except as expressly authorized hereunder, without having first received the prior, 16
written consent of the O-RAN Alliance, which consent may be withheld in O-RAN Alliance’s sole discretion. O-RAN 17
Alliance may freely assign this Agreement. 18
Section 9: THIRD-PARTY BENEFICIARY RIGHTS 19
Adopter acknowledges and agrees that Members, Contributors and Academic Contributors (including future Members, 20
Contributors and Academic Contributors) are entitled to rights as a third-party beneficiary under this Agreement, 21
including as licensees under Section 3. 22
Section 10: BINDING ON AFFILIATES 23
Execution of this Agreement by Adopter in its capacity as a legal entity or association constitutes that legal entity’s or 24
association’s agreement that its Affiliates are likewise bound to the obligations that are applicable to Adopter hereunder 25
and are also entitled to the benefits of the rights of Adopter hereunder. 26
Section 11: GENERAL 27
This Agreement is governed by the laws of Germany without regard to its conflict or choice of law provisions.  28
This Agreement constitutes the entire agreement between the parties as to its express subject matter and expressly 29
supersedes and replaces any prior or contemporaneous agreements between the parties, whether written or oral, relating 30
to the subject matter of this Agreement.  31
Adopter, on behalf of itself and its Affiliates, agrees to comply at all times with all applicable laws, rules an d 32
regulations with respect to its and its Affiliates’ performance under this Agreement, including without limitation, export 33
control and antitrust laws. Without limiting the generality of the foregoing, Adopter acknowledges that this Agreement 34
prohibits any communication that would violate the antitrust laws. 35
By execution hereof, no form of any partnership, joint venture or other special relationship is created between Adopter, 36
or O-RAN Alliance or its Members, Contributors or Academic Contributors. Except as expressly set forth in this 37
Agreement, no party is authorized to make any commitment on behalf of Adopter, or O -RAN Alliance or its Members, 38
Contributors or Academic Contributors. 39
In the event that any provision of this Agreement conflicts with governing law or if any provision is held to be null, 40
void or otherwise ineffective or invalid by a court of competent jurisdiction, (i) such provisions will be deemed stricken 41
from the contract, and (ii) the remaining terms, provisions, covenants and restrictions  of this Agreement will remain in 42
full force and effect. 43
Any failure by a party or third party beneficiary to insist upon or enforce performance by another party of any of the 44
provisions of this Agreement or to exercise any rights or remedies under this  Agreement or otherwise by law shall not 45
be construed as a waiver or relinquishment to any extent of the other parties’ or third party beneficiary’s right to assert 46
or rely upon any such provision, right or remedy in that or any other instance; rather the same shall be and remain in full 47
force and effect. 48