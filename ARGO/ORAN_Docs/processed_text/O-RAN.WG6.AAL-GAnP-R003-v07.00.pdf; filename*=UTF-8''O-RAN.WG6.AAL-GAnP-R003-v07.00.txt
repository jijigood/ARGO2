1
          O-RAN.WG6.AAL-GAnP-R003-v07.00
Technical Specification

O-RAN Working Group 6
(Cloudification and Orchestration Work Group)

O-RAN Acceleration Abstraction Layer
General Aspects and Principles

Copyright © 2023 by the O-RAN ALLIANCE e.V.
The copying or incorporation into any other work of part or all of the material available in this specification in any form w ithout the
prior written permission of O -RAN ALLIANCE e.V.  is prohibited, save that you may print or download extracts of the material of
this specification for your personal use, or copy the material of this specification for the purpose of sending to individual  third parties
for their information provided that you acknowledge O-RAN ALLIANCE as the source of the material and that you inform the third
party that these conditions apply to them and that they must comply with them.

O-RAN ALLIANCE e.V., Buschkauler Weg 27, 53347 Alfter, Germany
Register of Associations, Bonn VR 11238, VAT ID DE321720189

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        2

                   O-RAN.WG6.AAL-GAnP-R003-v07.00

Contents 1
 2
Contents .............................................................................................................................................................. 2 3
Table of Figures ............................................................................................................................................... 4 4
Chapter 1. Introduction ............................................................................................................................... 5 5
1.1 Scope of this document ...................................................................................................................................... 5 6
1.2 References.......................................................................................................................................................... 5 7
1.3 Definitions and Abbreviations ........................................................................................................................... 6 8
1.3.1 Definitions .................................................................................................................................................... 6 9
1.3.2 Abbreviations ............................................................................................................................................... 7 10
Chapter 2. General Aspects ........................................................................................................................ 9 11
2.1 Hardware Acceleration ...................................................................................................................................... 9 12
2.2 AAL Architecture .............................................................................................................................................. 9 13
2.2.1 HW Accelerator Manager functionality ..................................................................................................... 11 14
2.2.2 AAL Interfaces ........................................................................................................................................... 12 15
2.2.3 AAL Deployed in Cloud environments ...................................................................................................... 13 16
2.3 AAL Specification Objectives ......................................................................................................................... 14 17
2.4 Scope of the AAL ............................................................................................................................................ 14 18
2.5 Relationship with Standards ............................................................................................................................ 14 19
2.5.1 Relationship with ETSI .............................................................................................................................. 15 20
Chapter 3. HW Accelerator Manager and AAL Interface definition General Principles and 21
Requirements .......................................................................................................................................... 16 22
3.1 General Principles ............................................................................................................................................ 16 23
3.1.1 Extensibility ............................................................................................................................................... 16 24
3.1.2 HW Independence ...................................................................................................................................... 16 25
3.1.3 Interrupt and Poll Mode ............................................................................................................................. 16 26
3.1.4 Discovery and Configuration ..................................................................................................................... 16 27
3.1.5 Multiple AAL-LPU Support ...................................................................................................................... 16 28
3.1.6 AAL offload capabilities ............................................................................................................................ 17 29
3.1.7 Look-aside Acceleration Model ................................................................................................................. 17 30
3.1.8 Inline Acceleration Model .......................................................................................................................... 17 31
3.1.9 AAL Application interface Concurrency and Parallelism .......................................................................... 19 32
3.1.10 Separation of Control and User Plane AAL Application interface APIs ................................................... 19 33
3.1.11 Support of Versatile Acceleration Payload ................................................................................................ 19 34
3.1.12 Support of Different Transport Mechanisms .............................................................................................. 19 35
3.1.13 AAL API namespace .................................................................................................................................. 19 36
3.1.14 Chaining of AAL Profiles .......................................................................................................................... 20 37
3.2 High-PHY Profile Specific Principles ............................................................................................................. 22 38
3.2.1 Separation of Cell and Slot Level Parameter Configurations ..................................................................... 22 39
3.2.2 SFN/slot-based Synchronization ................................................................................................................ 22 40
3.2.3 Compatibility with O-RAN FH interface ................................................................................................... 22 41
3.2.4 Inline Profile for High-PHY Stack ............................................................................................................. 22 42
Chapter 4. AAL-LPU Principles .............................................................................................................. 24 43
4.1 Overview ......................................................................................................................................................... 24 44
4.1.1 Example AAL-LPU Mapping .................................................................................................................... 24 45
4.1.2 Statistics ..................................................................................................................................................... 28 46
4.1.3 Memory Management ................................................................................................................................ 28 47
4.1.4 Run Time Configurations ........................................................................................................................... 28 48
4.1.5 AAL Profile(s) offload, processing status query and processed data retrieval  ........................................... 28 49
4.1.6 AAL-LPU Exposure ................................................................................................................................... 28 50

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    3
O-RAN.WG6.AAL-GAnP-R003-v07.00

Chapter 5. AAL Profiles ........................................................................................................................... 31 1
5.1 O-DU AAL Profiles ......................................................................................................................................... 31 2
5.1.1 O-DU Protocol Stack Reference ................................................................................................................ 31 3
5.1.2 O-DU Protocol Stack Reference for mMTC .............................................................................................. 35 4
5.1.3 O-DU AAL Profile Definitions .................................................................................................................. 39 5
5.2 O-CU AAL Profiles ......................................................................................................................................... 62 6
History .............................................................................................................................................................. 63 7
 8
  9

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        4
O-RAN.WG6.AAL-GAnP-R003-v07.00
Table of Figures  1
Figure 2-1 Example illustration of the effect of hardware acceleration on functional compute performance  .................... 9 2
Figure 2-2 High Level AAL Architecture Diagram .......................................................................................................... 10 3
Figure 2-3  AAL Resource Relationship and Cardinality ................................................................................................. 11 4
Figure 2-4 Example HAM software deployment scenarios .............................................................................................. 12 5
Figure 2-5 AAL Application Common and profile APIs.................................................................................................. 13 6
Figure 2-6 Accelerator APIs/Libraries in Container and Virtual Machine Implementations ........................................... 13 7
Figure 2-7 AAL Specification Scope ................................................................................................................................ 14 8
Figure 3-1. Logical Representation of AAL Application interface support for multiple AAL-LPUs .............................. 16 9
Figure 3-2. AAL Application interface look-aside acceleration model - Data flow ......................................................... 17 10
Figure 3-3. AAL Application interface inline acceleration model - Data flow ................................................................ 18 11
Figure 3-4. User plane dataflow paths in look-aside and inline acceleration architectures. ............................................. 19 12
Figure 3-5 Data flow through unchained AAL Profiles.................................................................................................... 20 13
Figure 3-6 Data flow through chained AAL Profiles........................................................................................................ 20 14
Figure 3-7 Dataflow through chained lookaside HW Accelerator for consecutive Hi-PHY functions ............................ 21 15
Figure 3-8 Dataflow through chained lookaside HW Accelerator for consecutive and non-consecutive PHY ................ 22 16
Figure 3-9 Partial Inline Model for AAL Hi-PHY Profile ................................................................................................ 23 17
Figure 4-1 Scenario 1: A single AAL LPU exposes a single AAL Profile Queue used by a single AAL Application.  ... 24 18
Figure 4-2 A single HW Accelerator supporting two LPU's each assigned to individual AAL Applications  .................. 25 19
Figure 4-3 Two HW Accelerators each supporting a single AAL-LPU assigned to a single AAL Application. ............. 26 20
Figure 4-4 A single AAL LPU exposes two AAL Profile Queues used by a single AAL Application.  ........................... 26 21
Figure 4-5 A single AAL LPU supporting two AAL Profile Instances exposes two AAL Profile Queues used by a single 22
AAL Application. ............................................................................................................................................................. 27 23
Figure 4-6 AAL-LPU Mapping example showing chained profile support ..................................................................... 27 24
Figure 4-7 Example AAL-LPU and profile supported ..................................................................................................... 29 25
Figure 4-8 Example HW Accelerator configuration ......................................................................................................... 29 26
Figure 4-9 Example assignment of AAL-LPUs and supported profiles to POD .............................................................. 29 27
Figure 4-10 Example AAL Application configured AAL-Profile-Instances .................................................................... 30 28
Figure 5-1 O-DU PHY processing blocks for 5G NR Downlink ..................................................................................... 31 29
Figure 5-2 O-DU PHY processing blocks for 5G NR Uplink .......................................................................................... 33 30
Figure 5-3 O-DU PHY processing blocks for mMTC Downlink ..................................................................................... 36 31
Figure 5-4 O-DU PHY processing blocks for mMTC Uplink .......................................................................................... 38 32
Figure 5-5 AAL_MU-MIMO_PRECODER_WEIGHTS_CALC .................................................................................... 40 33
Figure 5-6 Example AAL_MU-MIMO_PRECODER_WEIGHTS_CALC use ............................................................... 40 34
Figure 5-7 AAL_FFT ....................................................................................................................................................... 41 35
Figure 5-8 AAL_FFT example for SRS Processing ......................................................................................................... 42 36
Figure 5-9 AAL_PDSCH_FEC Profile ............................................................................................................................ 43 37
Figure 5-10 AAL_PDSCH_HIGH-PHY Profile............................................................................................................... 44 38
Figure 5-11 AAL_PDCCH_HIGH-PHY Profile .............................................................................................................. 45 39
Figure 5-12 AAL_PBCH_HIGH-PHY Profile ................................................................................................................. 46 40
Figure 5-13 AAL_CSI-RS_HIGH-PHY Profile ............................................................................................................... 47 41
Figure 5-14 AAL_PT-RS-DL_HIGH-PHY Profile .......................................................................................................... 48 42
Figure 5-15 AAL_DOWNLINK_ HIGH-PHY Profile..................................................................................................... 49 43
Figure 5-16 AAL_PUSCH_FEC Profile .......................................................................................................................... 50 44
Figure 5-17 AAL_PUSCH_HIGH-PHY Profile............................................................................................................... 51 45
Figure 5-18 AAL_PUCCH_HIGH-PHY Profile (PUCCH format 0) ............................................................................... 52 46
Figure 5-19 AAL_PUCCH_HIGH-PHY Profile (PUCCH format 1) ............................................................................... 53 47
Figure 5-20 AAL_PUCCH_HIGH-PHY Profile (PUCCH format 2/3/4) ........................................................................ 54 48
Figure 5-21 AAL_PRACH_HIGH-PHY Profile .............................................................................................................. 55 49
Figure 5-22 AAL_SRS_HIGH-PHY Profile .................................................................................................................... 56 50
Figure 5-23 AAL_PT-RS-UL_HIGH-PHY profile .......................................................................................................... 57 51
Figure 5-24 AAL_UPLINK_ HIGH-PHY Profile ............................................................................................................ 58 52
Figure 5-25 AAL_NPDSCH_FEC Profile ........................................................................................................................ 59 53
Figure 5-26 AAL_NPDCCH_FEC Profile ....................................................................................................................... 60 54
Figure 5-27 AAL_NPBCH_FEC Profile .......................................................................................................................... 61 55
Figure 5-28 AAL_NPUSCH_FEC Profile ........................................................................................................................ 62 56
 57

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    5
O-RAN.WG6.AAL-GAnP-R003-v07.00

Chapter 1.  Introduction 1
1.1 Scope of this document 2
This Technical Specification has been produced by the O-RAN.org. 3
The contents of the present document are subject to continuing work within O-RAN WG6 and may change following 4
formal O-RAN approval. Should the O-RAN.org modify the contents of the present document, it will be re -released by 5
O-RAN Alliance with an identifying change of release date and an increase in version number as follows:  6
Release x.y.z 7
where: 8
x the first digit  is incremented for all changes of substan ce, i.e. technical enhancements, corrections, updates, 9
etc. (the initial approved document will have x=01). 10
y the second digit is incremented when editorial only changes have been incorporated in the document . 11
z the third digit included only in working ver sions of the document indicating incremental changes during the 12
editing process. 13
This document defines O-RAN O-Cloud hardware accelerator  interface functions and protocols for the O -RAN AAL 14
interface. The document studies the functions conveyed over the in terface, including configuration and management 15
functions, procedures, operations and corresponding solutions , and identifies existing standards and industry work that 16
can serve as a basis for O-RAN work. 17
1.2 References 18
The following documents contain provisions which, through reference in this text, constitute provisions of the present 19
document. 20
- References are either specific (identified by date of publication, edition numbe r, version number, etc.) or 21
non-specific. 22
- For a specific reference, subsequent revisions do not apply. 23
- For a non-specific reference, the latest version applies. 24
- For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a 25
GSM document), a non-specific reference implicitly refers to the latest version of that document in Release 15. 26
 27
[1] O-RAN WG1 Architecture Description 28
[2] O-RAN WG1 OAM Architecture 29
[3] O-RAN WG6 Cloud Architecture and Deployment Scenarios 30
[4] ETSI GS NFV-IFA 002: "Network Functions Virtualization (NFV)  Release 2; Acceleration Technologies; 31
VNF Interfaces Specification" 32
[5] ETSI GS NFV-IFA 019: "Network Function Virtualization (NFV); Acceleration Technologies; Acceleration 33
Resource Management Interface Specification; Release 3"  34
[6] 5G; NR; Physical Channels and Modulation 3GPP TS 38.211 v15.2.0 Release 15   35
[7] 5G; NR; Multiplexing and Channel Coding 3GPP TS 38.212 v15.2.0 Release 15   36
[8] LTE; E-UTRA Physical Channels and Modulation 3GPP TS 36.211 v15.2.0 Release 15  37
[9] LTE; E-UTRA Multiplexing and Channel Coding 3GPP TS36.212 v15.2.1 Release 15  38
[10]  ETSI GS NFV-IFA 001: "Network Functions Virtualisation (NFV); Acceleration Technologies; Report on 39
Acceleration Technologies & Use Cases" 40
   41

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        6
O-RAN.WG6.AAL-GAnP-R003-v07.00
[11] Vocabulary for 3GPP Specifications (TR21.905)   1
[12] O-RAN WG6 O2 General Aspects and Principles 2
[13]  O-RAN WG6 Cloudification and Orchestration Use Cases and Requirements for O-RAN Virtualized RAN 3
[14]  ETSI GS NFV-IFA 011: "Network Functions Virtualisation (NFV) Release 4; Management and Orchestration; 4
VNF Descriptor and Packaging Specification" 5
[15]  ETSI GR NFV-IFA 046: "Network Functions Virtualisation (NFV) Release 5; Architectural Framework; 6
Report on NFV support for virtualisation of RAN" 7
[16] O-RAN WG6 AAL Common API R003 8
 9
1.3 Definitions and Abbreviations 10
1.3.1 Definitions 11
For the purpose of this document the terms and definitions given in O-RAN WG6 Cloudification and Orchestration Use 12
Cases (UC) and Requirements for O-RAN Virtualized RAN [13], ETSI GS NFV-IFA 002 [4], and the following apply: 13
Hardware (HW) Accelerator (HWA) is a specialized HW implementation that can offload processing from 14
application(s) running on General-Purpose Processor. The Hardware (HW) Accelerator is a physical Managed Element 15
as defined in [13].   16
NOTE: Examples of Hardware Accelerators include ASIC, FPGA, DSP and GPU. 17
NOTE: Throughout this document, the term “Accelerator” and “Hardware (HW) accelerator” are used 18
interchangeably. 19
Acceleration Abstraction Layer (AAL)  specifies a common and consistent  set of interfaces used by different types of 20
HW Accelerators within an O-Cloud instance.  21
AAL Implementation is a realization of an AAL including but not limited to the software libraries, drivers and Hardware 22
Accelerator 23
Accelerated Function (AF) is a representation of a workload building block that a n accelerator processes on behalf of 24
an AAL Application within an O-RAN Cloudified Network Function.  25
AAL Application (AAL-App) is defined as a workload that can offload Accelerated Functions to AAL-LPU(s). 26
NOTE: Unless explicitly noted, the term Application refers to an AAL Application in AAL specifications. 27
NOTE: Unless explicitly noted, the terms Application, NF Application, L2 Application, VNF/CNF, or NF workload 28
accessing the AAL in figures of this present document refers to an AAL Application. 29
AAL Profile(s) (AAL-Profile) specify one or more Accelerated Functions that an accelerator processes on behalf o f an 30
AAL Application within an O-RAN Cloudified Network Function.  31
AAL Operations Actions supported by the AAL interface.    32
AAL Profile Instance (AAL-Profile-Instance) is an executing instance of an AAL profile that can be used by an AAL 33
Application via the AAL interface. The AAL-Profile-Instance executes within an AAL-LPU execution environment. 34
AAL Logical Processing Unit (AAL-LPU) is a logical representation of resources within an instance of a HW 35
Accelerator (example: there can be multiple processing units or subsystems on a hardware accelerator, or resource 36
partitioning (hard – dedicated resources, soft – soft resources) and these can be logically represented as a AAL Logical 37
Processing Unit)   38
• An AAL-LPU maps to a single HW Accelerator. An AAL-LPU can be identified uniquely within a HW 39
Accelerator.   40
• A HW Accelerator may support 1 to N AAL-LPU’s.  41

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    7
O-RAN.WG6.AAL-GAnP-R003-v07.00

• Each AAL-LPU shares the resources of the associated HW Accelerator with other AAL-LPU(s) mapped to the 1
same HW Accelerator. AAL-LPU can also represent a hard partition of the HW Accelerator where resources 2
are dedicated to the partition. 3
• Mapping of HW Accelerator resources to AAL-LPU shall be configurable from O2 interface  4
• An AAL-LPU may support more than one AAL profile. For each supported AAL profile, an AAL-LPU may 5
execute 0 to N AAL-Profile-Instances.  6
• An AAL-LPU can be assigned to a single POD or VM. Multiple LPU's can be assigned to a POD or VM. 7
• An AAL-LPU can provide service to 0 or more AAL Applications within a POD or VM. 8
• AAL-LPU is a virtual Managed Element as defined in [13]. 9
AAL Profile Queue is exposed by the AAL Profile Instance’s API and may be used by the AAL Application to group 10
operations together. For example, AAL Profile Queues may access specific resources (compute, I/O) of an AAL-LPU 11
executing specific AAL Profile Instances(s).  12
• From the AAL Application point of view, an AAL Profiles Instances exposes one or more AAL Profile Queues  13
o The AAL Profile Queue  optionally also support s priority, allowing the AAL Application to schedule 14
jobs of different priorities.  15
NOTE: An AAL Profile Queue can be used by an AAL Application to share AAL-LPU resources between 16
threads/cores belonging to the same process address space  17
NOTE: An AAL Application may use multiple AAL Profile Queues to access different AAL Profile Instances 18
supported by an AAL-LPU  19
AAL Profile Queue ID is a unique index used to designate the AAL Profile Queue in function exported by the specific 20
AAL profile API’s.   21
NOTE: An AAL Profile Queue or an AAL Profile Queue ID does not reflect a HW design or an AAL Implementation 22
specification   23
HW Accelerator Manager (HAM) is an acceleration management function, that provides management capabilities for 24
the HW Accelerato r(s) and the AAL -LPU's in the O -Cloud Node. Management capabilities include but not limited to 25
lifecycle management, configuration, updates/upgrades and failure handling.  The HW Accelerator Manager is O-Cloud 26
Platform Software. 27
AAL Managed Elements and Managed Functions are managed by SMO via the O2 interface exposed by the IMS and 28
DMS using the AALI -C-MGMT interface terminated by the HW Accelerator Manager. Specifically, AAL Ma naged 29
Elements and Managed Functions do not utilize the O1 interface for management of AAL Managed Elements and 30
Managed Functions. 31
The HW Accelerator , the HW Accelerator Manager , AAL -LPU and AAL drivers are defined as O -Cloud Platform 32
Software for the purp oses of management and orchestration [13]. The O -Cloud Infrastructure and O -Cloud Platform 33
Software use case flows in [13] are applicable for these AAL elements. 34
 35
1.3.2 Abbreviations 36
For the purposes of the present document, the abb reviations given in 3GPP TR 21.905 [11] and the following apply. An 37
abbreviation defined in the present document takes precedence over the definition of the same abbr eviation, if any, in 38
3GPP TR 21.905 [11]. 39
 40

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        8
O-RAN.WG6.AAL-GAnP-R003-v07.00
AF     Accelerated Function 1
AAL     Acceleration Abstraction Layer  2
AAL-App   Acceleration Abstraction Layer - Application 3
AAL-LPU  Acceleration Abstraction Layer - LPU 4
AALI-C   Acceleration Abstraction Layer Interface-Common  5
AALI-C-Mgmt Acceleration Abstraction Layer Interface-Common-Management 6
AALI-C-App  Acceleration Abstraction Layer Interface-Common-Application 7
AALI-P   Acceleration Abstraction Layer Interface-Profile 8
BF                        Beam-forming  9
CNF    Cloudified Network Function 10
DFT/iDFT  Discrete Fourier Transform / Inverse Discrete Fourier Transform  11
DMS Deployment Management Services 12
FCAPS Fault, Configuration, Accounting, Performance, Security 13
FEC     Forward Error Correction  14
FFT/iFFT   Fast Fourier Transform / inverse Fast Fourier Transform 15
IMS Infrastructure Management Services 16
LPU    Logical Processing Unit 17
RAN    Radio Access Network 18
RB                       Resource Block 19
SMO    Service Management and Orchestration 20
TR     Technical Report 21
TS     Technical Specification 22
UC     Use Case 23
VNF    Virtual Network Function 24

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    9
O-RAN.WG6.AAL-GAnP-R003-v07.00

Chapter 2. General Aspects 1
2.1 Hardware Acceleration 2
In the design of digital computing systems, ranging from general-purpose processors to fully customized hardware, 3
there is a tradeoff between flexibility and efficiency, with efficiency increasing by orders of magnitude when any given 4
application is implemented in hardware. The range of implementation options includes general-purpose processors such 5
as CPUs, more specialized processors such as GPUs, functions implemented on field -programmable gate arrays 6
(FPGAs), and fixed-functions implemented on application-specific integrated circuits (ASICs). Hardware accelerator is 7
a specialized HW implementation that can offload processing from application(s) running on the General-Purpose 8
Processor. Any transformation of data or computation can be implemented purely in software running on a generic 9
CPU, or purely in a specialized hardware accelerator, or using a combination of both. The implementation of computing 10
tasks in hardware to improve performance is known as hardware acceleration. The hardware acceleration can be 11
implemented in the form of lookaside or inline mode where in the former case, the host CPU invokes an accelerator for 12
data processing and receives the result after processing is complete, while in the latter case, the accelerator, after being 13
invoked by the host CPU with the request for data processing, completes the processing request of data received from a 14
source node and directly transfers the post-processed data to a destination node, where the source or destination node 15
can be different than host CPU (e.g., an Ethernet Interface). The principle of hardware acceleration and functional 16
offloading in lookaside mode is illustrated in Figure 2-1, allowing the application to offload workload to a hardware 17
accelerator and to continue performing other work in parallel- this could be to continue to execute other software tasks 18
in parallel or to sleep and wait for the accelerator hardware to complete. The hardware acceleration boosts application 19
performance in environments with compute-intensive, deeply pipelined, massively parallel operations as shown in 20
Figure 2-1. This model requires the API to support two operations, one for initiating the offload and another for 21
retrieving the operation once complete. 22
 23
 24
Figure 2-1 Example illustration of the effect of hardware acceleration on functional compute performance 25
2.2 AAL Architecture  26
The goal of the acceleration abstraction layer (AAL) is to specify a common and consistent interface for HW 27
Accelerators to the AAL Application which facilitates decoupling of an AAL Application, from a specific HW 28
implementation. In order to accommodate the many different combinations of HW and SW implementation and also 29
many different network deployment scenarios, the AAL introduces the concept of an AAL profile which is used to 30
distinguish between the different combinations of accelerated functions to be offloaded. The end to end high-level AAL 31
architecture block diagram is shown in Figure 2-2.  32
 33

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        10
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
Figure 2-2 High Level AAL Architecture Diagram 2
 3
Figure 2-3 shows a pictorial view of the entity relationship and cardinality between AAL entities that constitute the 4
AAL architecture. It is not meant to be the basis of a class diagram or object model which would normally be the start 5
of an information model. Its purpose is just to help the reader mentally conceptualize the concepts depicted. 6
 7

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    11
O-RAN.WG6.AAL-GAnP-R003-v07.00

 1
Figure 2-3  AAL Resource Relationship and Cardinality 2
2.2.1 HW Accelerator Manager functionality  3
The HW Accelerator Manager is responsible for exposing a consistent mechanism to the O -Cloud platform for the 4
discovery, lifecycle management, fault, state/status, performance, configuration, updates/upgrades, and error handling 5
of the HW Accelerator(s) that are part of the O-Cloud Platform Hardware. The HW Accelerator Manager terminates the 6
AALI-C-Mgmt interface. The interfaces between the HW Accelerator and the HW Accelerator Manager are vendor 7
specific and not in the scope of AAL specifications. The HW Accelerator Manager is managed by IMS as per Figure 8
2-2 High Level AAL Architecture Diagram of this document. 9
• Discovery and Life Cycle Management:  10
o The HW Accelerator Manager shall provide a mechanism to expose inventory information and 11
capabilities of the physical and logical partitioning of the hardware and software. 12
o The HW Accelerator Manager shall provide the ability to discover the capabilities of the HW 13
Accelerator(s). 14
o The HW Accelerator Manager is under the control of the O-Cloud Infrastructure. It is integrated into 15
the Cloud Infrastructure using the O-Cloud Infrastructure's installation procedures. The HW 16
Accelerator Manager shall be certified by the O-Cloud vendor. 17
• Software/ Firmware upgrade services 18

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        12
O-RAN.WG6.AAL-GAnP-R003-v07.00
o The HW Accelerator Manager shall allow the update and/or upgrade of the software for a HW 1
Accelerator(s) on the O-Cloud node. An example of this may include the programming or re-2
programming of a downloadable firmware or driver upgrades. Updates/Upgrades can be done locally 3
or remotely. 4
• Configuration   5
o The HW Accelerator Manager shall allow the configuration of the HW Accelerator as prescribed by 6
the IMS through the AALI-C-Mgmt interface. The configuration of the HW Accelerator Manager 7
may include HW Accelerator resource assignment to AAL-LPUs. 8
• Fault and Performance Monitoring: 9
o The HW Accelerator Manager shall allow exposure of faults, alarms, logs and performance 10
measurements toward the IMS. 11
• Deployment Scenarios 12
o The HW Accelerator Manager's software is deployed as part of the O -Cloud Platform software. The 13
installation and update of the HW Accelerator Manager's software, deployed as a part of O-Cloud 14
platform software, is described section 3.1.2 and section 3.1.6 of Cloudification and Orchestration 15
Use Cases and Requirements for O-RAN Virtualized RAN [13]. 16
o The HW Accelerator Manager may be located on O-Cloud Nodes designated as part of the clusters 17
used to deploy the AAL-Applications (NFs) or otherwise as shown below. The figure shows HAM 18
from the perspective termination point of AAL-C-Mgmt interface and the actual software entities for 19
managing the HWA can reside in other locations as well. 20
 21
Figure 2-4 Example HAM software deployment scenarios 22
The scenarios do not preclude other locations and models but are considered an exemplification of the most 23
common deployment scenarios.  24
2.2.2 AAL Interfaces 25
The AAL interface API has two distinct parts, the first part corresponds to a set of common APIs (AALI-C) to address 26
all the profile independent aspects of the underlying AAL Implementation(s) within an O -Cloud platform.  27
There are two categories of AALI-C interface: 28
• AALI-C-Mgmt: Common administrative operations/actions/events from the HW Accelerator Manager (HAM) 29
toward the O-Cloud Infrastructure Management Service for resources exposed by this interface.  30
• AALI-C-App: Common operations/actions/events towards the RAN AAL Application for resources exposed 31
by this interface.  32
A candidate set of functionalities for AAL resources supported by the AAL common API(s) potentially includes (but is 33
not limited to) the following: 34
• Inventory Management, Fault, Alarms, Performance, Configuration Management  35

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    13
O-RAN.WG6.AAL-GAnP-R003-v07.00

• Software/ Firmware upgrade services 1
• Operations (Query status, Reset/Restart) 2
• Life Cycle Management of resources exposed by the interface. The AALI -C-Mgmt provides the Life Cycle 3
Management of the HW Accelerator and the AAL-LPU resources.  4
• Configuration of the state of these AAL-LPU(s) (for example, start, stop, or reset of an AAL-LPU). 5
• Configuration of various counters and resources associated with AAL-LPU(s) (for example, performance 6
measurements/indicators, performance monitoring metrics, events, faults etc.) . 7
• Discovery of AAL-profile(s) supported by these AAL-LPU(s) and associated configurations etc.  8
• Abstraction of transport mechanism between the AAL Application and AAL Implementation 9
 10
The information model and the exact list of operations and actions applic able across AAL-C-Mgmt and AAL-C-App 11
are defined in [16]. 12
The second part of AAL interface corresponds to a set of AAL profile spec ific APIs (AALI-P) which is specific to each 13
defined AAL profile. The AAL profile shall be common across the AAL Implementation accelerating the same set of 14
AFs. It enables the AAL Application to efficiently offload an AAL profile workload to the AAL Implementation in a 15
consistent way without requiring the HW implementations to expose every single detail of the underlying HW 16
implementation to the AAL Applications. Figure 2-5 shows examples of the AAL APIs presented to an AAL 17
Application in three different scenarios.  18
  19
Figure 2-5 AAL Application Common and profile APIs 20
2.2.3 AAL Deployed in Cloud environments 21
 22
Figure 2-6 Accelerator APIs/Libraries in Container and Virtual Machine Implementations 23
The AAL specifications define the AAL interface and the AAL profiles that may be supported by that interface. The 24
AAL-C-Application interface is used by AAL Application to access the AAL Implementation encompassing HW 25

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        14
O-RAN.WG6.AAL-GAnP-R003-v07.00
Accelerator and associated SW libraries, drivers etc. In Figure 2-6 two deployment scenarios are shown, one with 1
Containers and the other with Virtual Machines.  2
Figure 2-6 also shows the O-Cloud Infrastructure Management Services and Accelerator management . The 3
orchestration of the HW Accelerator Manager is outside the scope of the AAL and shall be specified in the O-RAN 4
WG6 O2 specification [12].    5
2.3 AAL Specification Objectives  6
The AAL specification facilitates the following:  7
A “cloudified” RAN is one that provides the flexibility of deploying multipl e software implementations from different 8
software vendors on a common CPU-based (e.g., x86/ARM) platform with hardware accelerators (e.g., 9
FPGA/DSP/ASIC/GPU) for specific functions, and conversely, also allows multiple physical deployment scenarios in 10
terms of centralizing or distributing each network element with the same software implementation.  11
A disaggregated and cloudified multi-vendor RAN requires a common vendor-neutral APIs for managed element 12
discovery, lifecycle management, FM/PM, and orchestration across both PNFs and VNFs in order to function as a 13
cohesive unit that supports key lifecycle use cases such as scale-out, slice management, fault tolerance, and hitless 14
software upgrades. 15
2.4 Scope of the AAL  16
The AAL specifications shall define the AAL interface between the AAL Application and AAL Implementation in the 17
O-Cloud instance. This includes the APIs, information models, operations and input/outputs used by the AAL 18
Application to interface with the AAL Implementation. In addition, the AAL Specification shall define the requirements 19
for managing the hardware accelerator in the O-Cloud instance. The AAL Implementation itself shall not be defined by 20
the AAL GAnP specification. ETSI GS NFV-IFA 002 [5] defines several abstraction models including pass through and 21
abstracted models that can be used to realize an AAL Implementation.   22
 23
Figure 2-7 AAL Specification Scope 24
2.5 Relationship with Standards  25
The O-RAN AAL interface shall leverage existing standards wherever possible.  26

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    15
O-RAN.WG6.AAL-GAnP-R003-v07.00

2.5.1 Relationship with ETSI 1
In [4,5,10], ETSI has specified a generic acceleration and abstraction model as well as acceleration resource 2
management that have served as the basis of this specification.  3
ETSI GS NFV-IFA 001 [10] provides a classification of acceleration types and describes several related uses cases, for 4
example about compute acceleration when considering Virtual Base Stations (VBS). ETSI GS NFV -IFA 002 [4] 5
specifies an acceleration architectural model for NFV. The acceleration model considers that a single HW device 6
exposes multiple abstract virtual accelerators and multiple instances of these virtual accelerators per VNF. ETSI GS 7
NFV-IFA 002 [4] defines the interfaces between the NFVI and the VNF instances to support this concept. ETSI GS 8
NFV-IFA 019 [5] defines acceleration resource management interfaces between the VIM and the NFVI (e.g., 9
Acceleration Image Management interface). From an NFV orchestration and management perspective, acceleration 10
capabilities are defined as part of the relevant Virtual Compute Resource informat ion elements, i.e., a virtual compute 11
resource (e.g., a VM) can have associated acceleration capabilities from the set of capabilities offered by the 12
acceleration resources. For the relevant descriptors, ETSI GS NFV-IFA 011 [14] details the VirtualComputeDesc 13
information element in VNFD which describes CPU, Memory and acceleration requirements of the virtualisation 14
container (e.g., a VM or a set of OS containers, such as a Pod) realizing a VNFC (i.e., a component of a VNF). For 15
containerized deployments required acceleration capabilities can be described by the extendedResourcesRequests 16
attribute in the OsContainerDesc information element. In addition, in the case of a containerized deployment, 17
requirements about constraints on the placement of the set of one or more OS containers (a Pod) to cluster nodes with 18
certain capabilities, such as acceleration, can also be defined. In both cases (VM -based and OS container-based), the 19
VDU information element also supports an attribute to request for additional capabil ities, being acceleration related 20
capabilities as one possible example. 21
In ETSI NFV the concept of the abstract virtual accelerator has been devised based on the idea of an extensible para -22
virtualised device. However, the concept has only been defined considering its use in hypervisor-based virtualization 23
systems and is not ad-hoc applicable to the case of containerized deployments without further analysis. Also, there is no 24
relevant ETSI NFV stage 3 work which can be referenced for the interfaces described  in ETSI GS NFV-IFA 002 [4] 25
and ETSI GS NFV-IFA 019 [5].This specification builds upon the concepts described by the aforementioned ETSI NFV 26
specifications but also goes beyond to consider the advances introduced by cloud native solutions, for example by 27
introducing the concept of LPUs.  .  28
ETSI GR NFV-IFA 046 [15] profiles the NFV-MANO acceleration abstraction framework and compares it to the O-29
RAN acceleration abstraction solution developed in the context of O -RAN, from which several challenges are further 30
described. A set of recommendations about future work in the NFV framework are derived in the same referenced 31
group report, some considering an alignment between the two designs to make ETSI NFV specifications more 32
expressive to support additional functionality. 33

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        16
O-RAN.WG6.AAL-GAnP-R003-v07.00
Chapter 3. HW Accelerator Manager and AAL Interface 1
definition General Principles and Requirements 2
3.1 General Principles 3
The set of generic and profile-specific features of the AAL interface described in the following subsections are defined 4
from an AAL Application point of view. 5
3.1.1 Extensibility  6
O-RAN has defined the functions that can be accelerated by the cloud platform based on 3GPP specifications and O-RAN 7
deployment scenarios. However, the AAL should not limit innovation of future implementations and should evolve as 8
the specification requires. To that end, the AAL Application interface shall be extensible to accommodate future revisions 9
of the specification. 10
3.1.2 HW Independence  11
AAL Application interface shall be independent of the underlying AAL Implementation.  12
3.1.3 Interrupt and Poll Mode 13
The AAL Application interface shall support multiple design choices for AAL Application vendors and shall not preclude 14
an AAL Application/HW Accelerator vendor from adopting /supporting an interrupt-driven design or poll -mode design 15
or any combination of both. As such, the AAL Application interface  shall support both interrupt mode , poll mode and 16
any combination of interrupt and poll modes for the data-path AAL Application interface.   17
3.1.4 Discovery and Configuration 18
The AAL Application interface  shall enable AAL Application  to discover and configur e AA L-LPU(s). The AAL 19
Application interface shall allow an AAL Application to discover what physical resources have been assigned to it from 20
the upper layers and then to configure said resources for offload operations.  21
3.1.5 Multiple AAL-LPU Support  22
There may be scenarios where multiple AAL-LPUs (either implementing the same or different AAL profile(s) are 23
assigned to a single AAL Application, which uses one or more of these AAL-LPU(s) as needed. The AAL Application 24
interface shall support an AAL Application using one or more AAL-LPU(s) at the same time, as shown in Figure 3-1. 25
 26
 27
Figure 3-1. Logical Representation of AAL Application interface support for multiple AAL-LPUs 28

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    17
O-RAN.WG6.AAL-GAnP-R003-v07.00

3.1.6 AAL offload capabilities 1
The AAL Application interface  in supporting different AAL profiles and AAL Implementation s shall support different 2
offload architectures including look -aside, inline, and any combination of both. An AAL Implementation shall support 3
one or more of these offload architectures depending on the supported AAL profile(s).  4
3.1.7 Look-aside Acceleration Model  5
The AAL Application interface shall support look-aside acceleration model where the AAL Application invokes a HW 6
Accelerator for data processing and receives the result after processing is complete. A look-aside architecture, 7
illustrated in Figure 3-2, allows the AAL Application to offload AF(s) specified by AAL profiles(s) to a HW 8
Accelerator and continue to perform other work in parallel—this could be to continue to execute other software tasks in 9
parallel or to sleep and wait for the HW Accelerator to complete. This model requires the AAL Application interface to 10
support two operations, one for initiating the offload and another for retrieving the output data once complete. 11
 12
Figure 3-2. AAL Application interface look-aside acceleration model - Data flow 13
3.1.8 Inline Acceleration Model 14
The AAL Application interface shall support inline acceleration model where the AAL Application, after invoking a HW 15
Accelerator for offloading AF(s) specified by AAL profile(s), does not necessarily retrieve the post processed data. Unlike 16
the look-aside acceleration model where data source/sink is always the AAL Application (i.e., the HW Accelerator always 17
receives the data to be processed from the AAL Application and returns the post processed data to the same), a HW 18
Accelerator operating in inline acceleration mode receives/returns data from/to a different source/destination endpoint 19
than the AAL Application, depending on the dir ection of data flow (e.g., in downlink (DL) direction versus uplink (UL) 20
direction).Figure 3-3 shows one possible implementation of an inline acceleration model. 21

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        18
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
Figure 3-3. AAL Application interface inline acceleration model - Data flow  2
In Error! Reference source not found., “Tx” refers to the transmission of the data from the HW Accelerator through an 3
egress port (e.g., an Ethernet interface) to a destination node (e.g., O -RU), while “Rx” refers to the reception  of data 4
through an ingress port (e.g., Ethernet interface) to the HW Accelerator from a source node (e.g O -RU).  5
While the look -aside architecture (in DL) shall support dataflow from the CPU to the HW Accelerator and back to the 6
CPU before being sent to the egress port (front-haul interface), the inline architecture (in DL) shall support data flow from 7
the CPU to the HW Accelerator and directly from the HW Accelerator to the egress port (front-haul interface), instead of 8
being sent back to the CPU. The typ ical user plane data flows for accelerating the O -DU High-PHY functions for the 9
look-aside and inline architectures are as follows. 10
Look-aside architecture user plane dataflow 11
CPU ↔ HW Accelerator ↔ CPU ↔ front-haul: for a set of consecutive PHY functions offload (e.g., FEC) 12
CPU ↔ HW Accelerator ↔ CPU ↔ HW Accelerator ↔…↔ CPU ↔ front-haul: for a set of non -consecutive PHY 13
functions offload 14
Inline architecture user plane dataflow 15
CPU ↔ HW Accelerator ↔ front-haul: for a set of consecutive PHY functions offload (up to the end of the PHY pipeline)  16
Figure 3-4 illustrates one possible implementation of the look -aside and inline architectures. While a set of PHY -layer 17
functions are offloaded to the HW Accelerator for look -aside acceleration, the entire end -to-end High-PHY pipeline is 18
offloaded to the accelerator for inline acceleration.  19

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    19
O-RAN.WG6.AAL-GAnP-R003-v07.00

L
2
+
P
H
Y
F
H
O-DU
L2+ on
CPU
Func. 2 on
accelerator
L2+ on
CPU

RRU
RRU
Fronthaul
interface
Func. (n-1) on
accelerator
Look-aside
model
Inline
model
Func.
1
Func.
3
Func.
4
Func.
n
AAL
L1/L2
interface*
High PHY on CPU
High PHY on accelerator
Func.
n-1
Func.
2
Func.
3
Func.
1
Accelerator interface on CPU
Fronthaul
interface
I/O data flow PHY downlink
PHY uplink
L1/L2
interface*
Func.
n
*e.g. FAPI
...
...
 1
Figure 3-4. User plane dataflow paths in look-aside and inline acceleration architectures. 2
 3
3.1.9 AAL Application interface Concurrency and Parallelism   4
To enable greater flexibility and design choice by AAL Application vendors, the AAL Application interface shall support 5
multi-threading environment allowing an AAL Application to offload acceleration requests in parallel from several 6
threads.  7
3.1.10 Separation of Control and User Plane AAL Application interface APIs    8
For efficiency and flexibility of AAL Implementation, AAL Application interface shall support separation of control and 9
user plane APIs with appropriate identifiers, as required by different AAL pro files.  10
3.1.11 Support of Versatile Acceleration Payload    11
Range of payload sizes can vary widely, depending on the specific layer of the RAN protocol stack from which the 12
workload for AAL profile(s) is offloaded to a HW Accelerator. AAL Application interface API shall be flexible to support 13
various ranges of payload sizes as required by different AAL profiles.  14
3.1.12 Support of Different Transport Mechanisms    15
The transport between an AAL Application and an AAL Implementation can be of different types (e.g., based on  shared 16
memory, PCIe interconnect, over ethernet). The AAL Application interface shall support abstraction of these various 17
transport mechanisms between the AAL Application and the AAL Implementation.  18
3.1.13 AAL API namespace    19
For convenience of AAL Implementation, the AAL shall follow a unique name space for all AAL API functions.  20

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        20
O-RAN.WG6.AAL-GAnP-R003-v07.00
3.1.14 Chaining of AAL Profiles 1
AAL profiles specify one or multiple AFs in specific order offloaded to the HWA. To take advantage of multiple AFs 2
offloaded to the same or different HWAs, the AAL Implementation can permit the chaining of AAL Profile(s) 3
executing the AF or set thereof. In such a case, the AAL Implementation redirects the output of preceding AAL Profile 4
as input to the subsequent AAL Profile belonging to the same or different L PU(s) on the same or different HWA(s). 5
Such a chaining of AAL Profiles allows data to be transferred from one AAL Profile to another AAL Profile without 6
the intervention of the AAL Application thereby reducing transfer latencies. Chained AAL Profile Instan ces can reside 7
on the same or different LPUs and HWAs. However, in this version of specification, only considers the chaining of 8
AAL Profiles on single AAL-LPU, and the HAM announces chained AAL Profiles which can be satisfied on the single 9
AAL- LPU and HWA. Other cases where the chained AAL Profile straddles across multiple AAL -LPUs and HWAs are 10
for further study.  11
The use of chaining two AAL Profiles is optional for the AAL Implementation and depends on the AAL Profiles 12
requested by the AAL Application. During CNF deployment as per K8s profile, or VNF deployment as per ETSI 13
profile, AAL Implementation can chain the AAL Profiles to create a chained AAL Profile with more AFs implemented 14
as part of the chained AAL Profile.  The chained AAL Profile should conform to the AAL Profile requested by the 15
AAL Application, i.e., the chained AAL Profile has same properties towards the AAL Application a s well as the IMS 16
and the DMS. It is the responsibility of the AAL Implementation to announce that the chained profile as an AAL Profile 17
as defined in AAL specifications to which the chain conforms. The first AAL Profile in the chain takes data from the 18
AAL Application and the last AAL Profile returns the transformed data to the AAL Application.  19
A chained AAL Profile Instance is valid only if the two or more AAL Profiles form semantically correct sequence of 20
consecutive blocks in the AF processing chain and no intervention is required by the AAL Application for control or 21
data exchanged between the two AAL Profiles. Additionally, the output format of the preceding AAL Profile should 22
match with the input format of the succeeding AAL Profile. 23
AAL Profile chaining may be applicable to both inline and look-aside acceleration. The data flows in these cases are 24
depicted in Figure 3-7 and Figure 3-8. 25
 26
Figure 3-5 Data flow through unchained AAL Profiles 27
 28
Figure 3-6 Data flow through chained AAL Profiles 29
Notes: 30

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    21
O-RAN.WG6.AAL-GAnP-R003-v07.00

1. In Figure 3-5Error! Reference source not found. and Figure 3-6Error! Reference source not found. above, 1
the chained AAL Profile Instance is a data stream transformer that works upon the input data stream to 2
produce output stream. Input data and parameters are passed on from preceding AAL Profile to next. These are 3
provided by the AAL Application in case of the first AAL Profile. The difference is that in Figure 3-5, the 4
AAL Application would call a series of AAL Profile Instances, while in Figure 3-6, the AAL Application calls 5
only one AAL Profile Instance, which happens to be the chained AAL Profile instance. 6
2. The mechanisms for transfer of data and parameters to each of the AAL Profile Instances in unchained mode 7
and to the chained AAL Profile Instances follow the AAL-C-App interface’s transport as defined in AAL 8
Common API Specifications [14]. The AAL Profiles in the chained mode shall continue to follow the AAL-C-9
App Interface specified in [14] 10
3. The AAL-Implementation can configure the chaining of AAL-Profiles during its initialization in order to avoid 11
disruption in the processing chain while the AAL-Application is in service. 12
The chaining of AAL Profiles is possible across the HWAs and LPUs, however, it is beyond the current scope of 13
document and for future studies. 14
 15
The chained look-aside acceleration architecture follows the same dataflow models as look-aside acceleration functions 16
with subtle difference. The first and the last blocks in the chain interfacing the CPU to HW Accelerator support 17
respectively dataflow from the CPU to the accelerator and then from accelerato r back to the CPU. All the intermediate 18
blocks support dataflow to and from the preceding and succeeding accelerated functions when those are configured as 19
links in the chain. When not configured as chained accelerated functions, these should support dataf low as in look-aside 20
acceleration. 21
Look-aside chained architecture user plane dataflow. 22
CPU ↔ HW Accelerator (AF1) ↔ HW Accelerator (AF2) ↔ … ↔ HW Accelerator (AFn) ↔ CPU ↔ front-haul: for 23
offload of a set of consecutive PHY functions (e.g., FEC) 24
CPU ↔ HW Accelerator (AF1) ↔… ↔HW Accelerator (AFn) ↔ CPU ↔ HW Accelerator ↔…↔ CPU ↔ front-25
haul: for offload of a set of non-consecutive PHY functions  26
Figure 3-7 illustrates the data flow through the chained HW Accelerated functions within an accelerator when 27
configured for consecutive PHY function offload while Figure 3-8 represents it for non-consecutive PHY function 28
offload.   29
 30
Figure 3-7 Dataflow through chained lookaside HW Accelerator for consecutive Hi-PHY functions 31

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        22
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
Figure 3-8 Dataflow through chained lookaside HW Accelerator for consecutive and non-consecutive PHY 2
3.2 High-PHY Profile Specific Principles   3
The set of features of AAL described in the following subsections are relevant for inline High-PHY AAL profiles 4
(profile names with suffix ‘_HIGH-PHY’) defined in Chapter 5 5
3.2.1 Separation of Cell and Slot Level Parameter Configurations  6
In general, “cell-specific” (typically static or semi-static in nature) parameters change less frequently than “slot-specific” 7
(typically dynamic in nature, specific to PHY channels/signals) parameters associated with inline, High -PHY AAL 8
profiles. Hence, for optimizing signalling overhead, the AAL Application interface shall support configuration of “cell -9
specific” and “slot -specific” parameters to the AAL Implementation using separate AAL Application interface API 10
functions. It is noteworthy that the cell/slot specific configurations can include both control and user planes.  11
3.2.2 SFN/slot-based Synchronization  12
The AAL Application interface shall support system frame number (SFN) based or slot -based synchronization between 13
the AAL Application and the AAL Implementation supporting inline, high-PHY AAL profiles. 14
3.2.3 Compatibility with O-RAN FH interface  15
The AAL Application interface API shall be compatible with O-RAN FH interface (7.2-x split) to enable communication 16
between the O -DU AAL Application  and O -RU via AAL Implementation as required by inline, High -PHY AAL 17
profile(s). 18
3.2.4 Inline Profile for High-PHY Stack 19
Inline data flow for the AAL Profile that specifies a complete stack of High -PHY functions implies that the set of 20
Accelerated Functions is constituted by the entire U-plane processing of the High-PHY channels or signals (with 7-2x 21
PHY functional split) and the IQ data (in DL) or decoded bits (in UL) (post processing) and these are transferred 22
directly from the HW Accelerator to the Fronthaul interface (in DL) or to the Layer 2 (in UL). 23
Inline acceleration for AAL Profiles that specify a partial stack of the High-PHY for UL and for DL Accelerated 24
Functions is also possible; in such case only parts of the U-Plane, i.e., not all the functions of the High-PHY stack of a 25
given channel, may be offloaded to a HW Accelerator.  For inline acceleration of a partial High-PHY stack, the IQ data 26
or decoded bits are also transferred directly from the HW Accelerator to the Fronthaul (in DL) and to the non-27
accelerated part of the High-PHY stack (in UL). The set of Accelerated Functions that are offloaded in Inline mode for 28
acceleration of a partial High-PHY stack would be AAL Profile specific. The support of AAL Profiles that specify the 29
support of partial High-PHY stack is for future study. 30

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    23
O-RAN.WG6.AAL-GAnP-R003-v07.00

 1
Figure 3-9 Partial Inline Model for AAL Hi-PHY Profile 2
 3

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        24
O-RAN.WG6.AAL-GAnP-R003-v07.00
Chapter 4. AAL-LPU Principles  1
4.1 Overview 2
This section discusses about AAL-LPU(s) presented to AAL Applications using the AAL Application interface. An 3
AAL-LPU should not be confused with a physical HW Accelerator. Within a process address space each AAL-LPU 4
shall abstract the AAL Application from underlying HW Accelerator. 5
Depending on HW design and implementation choice, a HW Accelerator may accelerate multiple profiles or offer 6
support for sharing HW Accelerator resources between multiple threads, processes, VMs, PODs. For this reason, a 7
second abstract construct known as AAL Profile Queue can optionally be used to  8
• distinguish between multiple supported AAL profiles per AAL-LPU 9
• prioritize access to AAL-LPU resources   10
• group operation requests  11
• allow parallel access through AAL Application interface for multiple threads  12
As an abstract construct, an AAL Profile Queue does not reflect a HW design specification or requirement.  13
4.1.1 Example AAL-LPU Mapping  14
The following Section contains example deployments mapping AAL-LPUs to AAL Applications. The labels ‘profile-15
instanceID’ and ‘queueID’ in the following diagrams denote AAL Profile Instance object handle and identifier of an 16
AAL Profile Queue respectively. 17
• Scenario 1: Basic implementation: A HW Accelerator supports a single AAL-LPU which exposes a single 18
AAL-Profile-Instance for one AAL Application to use  19
 20
  21
Figure 4-1 Scenario 1: A single AAL LPU exposes a single AAL Profile Queue used by a single AAL Application. 22
 23

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    25
O-RAN.WG6.AAL-GAnP-R003-v07.00

 1
 2
Scenario 2: Basic Multi Application Support: A HW Accelerator supports multiple AAL LPUs for multiple AAL 3
Applications  4
 5
 6
Figure 4-2 A single HW Accelerator supporting two LPU's each assigned to individual AAL Applications  7
 8
 9
• Scenario 3: Multiple Accelerator Support: Mapping example showing multiple HW Accelerators assigned 10
to a single AAL Application 11
 12

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        26
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
 2
Figure 4-3 Two HW Accelerators each supporting a single AAL-LPU assigned to a single AAL Application. 3
• Scenario 4: Multi Queue Support: AAL LPU mapping showing multiple AAL Profile Queue support  4
 5
Figure 4-4 A single AAL LPU exposes two AAL Profile Queues used by a single AAL Application. 6
 7
• Scenario 5: Multi Profile Support: Mapping example showing multi-function support  8
 9

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    27
O-RAN.WG6.AAL-GAnP-R003-v07.00

 1
Figure 4-5 A single AAL LPU supporting two AAL Profile Instances exposes two AAL Profile Queues used by a 2
single AAL Application. 3
• Scenario 6: Chained Profile Support: Mapping example showing a multi-profile chained AAL Profile 4
Instance on an AAL-LPU 5
 6
Figure 4-6 AAL-LPU Mapping example showing chained profile support 7
 8
 9

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        28
O-RAN.WG6.AAL-GAnP-R003-v07.00
4.1.2 Statistics  1
The AAL Application interface shall provide an AAL Application with general statistics upon request. Statistics may 2
include but not limited to operation counts and error counts.  3
4.1.3 Memory Management  4
O-RAN network functions (O-DU, O-CU, etc.) will be responsible for input, output and operation structure memory 5
allocation and freeing, using AAL defined memory management functions. All other AAL Application memory is not 6
required to use the AAL memory management functions.  7
Device Drivers are free to manage their own internal memory, DMA implementation as needed, the AAL specification 8
does not add any memory requirements to device driver.  9
Each AAL Implementation shall define its own memory requirements and implement its own memory backing if 10
needed.  11
Each AAL Implementation may define its own operation memory structure and allocation if needed. 12
4.1.4 Run Time Configurations  13
Operations are requested to the AAL-LPU to execute specific HW Accelerated Function(s). Each operation shall be 14
represented by an operation struct that shall define all necessary metadata, configurations and information required for 15
the operation to be processed on an AAL-LPU. The operation structs shall define the operation type to be performed, 16
including an operation status and reference to the AAL profile specific operation data which can vary in size and 17
content depending on the AAL profile. Each AAL profile shall define its own operation structure for its specific 18
functions.  19
4.1.5 AAL Profile(s) offload, processing status query and processed data 20
retrieval 21
An AAL Application aggregates one or more AAL profile(s) and offload to the AAL Implementation using a single 22
AAL Application interface API invocation. As one example, for High-PHY AAL profiles defined in Chapter 5, multiple 23
AAL profiles (where an AAL profile refers to a PHY channel/signal for one or more than one cell(s) and one or more 24
than one UE(s)) scheduled within a slot can be aggregated and offloaded to an AAL-LPU by the AAL Application 25
using a single AAL Application interface API invocation. 26
The processing status of offloaded/enqueued AAL profile(s) can be queried by the AAL Application in an 27
‘asynchronous’ manner, i.e., not necessarily in the same order in which the AAL profile(s) are offloaded. In case the 28
AAL Application retrieves the post-processed data from the AAL Implementation, a ‘processing status query’ request 29
can be bundled with a ‘processed data retrieval/dequeue’ request. In general, status query and dequeue request 30
corresponding to multiple enqueue requests can be bundled together by the AAL Application and invoked through a 31
single AAL Application interface API function. 32
4.1.6 AAL-LPU Exposure 33
After using the HW Accelerator Manager to create the AAL-LPU(s) and the profiles supported, we can then expose it to 34
the AAL Application (e.g. in KubernetesⓇ it will be part of the POD environment variables). The goal of this section is 35
to abstract the way the AAL-LPU and its supported profiles are exposed to the AAL Application in order to achieve 36
AAL Application portability. Hence, the AAL-LPU and its profile(s) shall be exposed the AAL Application in an 37
abstracted descriptor. 38
As of today many implementations refer to the AAL-LPU by its PCI address and describe a single profile for the entire 39
HW Accelerator, meaning exposure of one single profile for all LPUs supported. This section provides step -by-step 40
example that shows how the AAL-LPU could be exposed to abstract the PCIe address and the profile(s) supported by 41
the AAL-LPU. Although the below example is a KubernetesⓇ example, the outcome of it is independent of 42
orchestration technology supported. 43

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    29
O-RAN.WG6.AAL-GAnP-R003-v07.00

4.1.6.1 Example  1
4.1.6.1.1 AAL-LPU Configuration  2
1. A given HW Accelerator can support 16 AAL-LPUs and FEC LDPC, PHY profiles but the default setup of the 3
AAL-LPUs is FEC: 4
 5
 6
Figure 4-7 Example AAL-LPU and profile supported 7
2. Now assume HW Accelerator Manager configured the HW Accelerator as follow: 8
 9
•  LPU-1 supports FEC version 01, PHY and LDPC version 01 profiles 10
•  LPU-2 supports LDPC version 02 profile 11
•  LPU-3 supports LDPC version 02 profile 12
•  LPU-4 supports LDPC version 02 profile 13
 14
Figure 4-8 Example HW Accelerator configuration 15
3. Assigning it to a the a vDU POD and exposing the two LPU/Profiles needed by vDU (in green):  16
 17
 18
Figure 4-9 Example assignment of AAL-LPUs and supported profiles to POD  19
We can see that the AAL-LPU resources requested in the manifest is translated in the POD environment to three AAL-20
LPU addresses plus the strings that describe the profiles supported by the LPU. Please note that the AAL Application 21
will be able to query the AAL-LPUs and their supported profiles via the AAL-C-App API. 22

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        30
O-RAN.WG6.AAL-GAnP-R003-v07.00
4.1.6.1.2 AAL-LPU Control by the AAL Application  1
The figure below shows how the AAL Application for a vDU can create several PHY profiles on LPU-1, for example, 2
PHY Profile-1 handles cell-1 and PHY Profile-2 handles cell-2, as well as running different LDPC profiles on different 3
LPUs and all in the same HW Accelerator. As mentioned before the AAL Application can query what profiles 4
supported by reading the POD environment variables or by querying it using the AAL-C-App API. 5
 6
Figure 4-10 Example AAL Application configured AAL-Profile-Instances  7
4.1.6.1.3 AAL-LPU resource tracking  8
It is a key to be able to track the AAL-LPU as a resource for providing the AAL Application with acceleration resources 9
it needs otherwise the attempt to create the NF will fail due to insufficient resource s available.  10
There are few notes related to the tracking of the AAL-LPU resources in relation to the example’s above in : 11
• If another POD needs to use the LDPC profile, Kubernetes will allow it as 2 out of 3 were used (LPU -4 12
supports it). 13
• If another POD needs to use FEC and PHY profiles (FEC&PHY), Kubernetes will reject it as only one LPU is 14
configured this way. 15
• We need to consider if a logic is needed to track the AAL-LPU availability from the SMO. For example, a 16
total of ten AAL-LPU/FEC profiles available in a cluster, three is being used by a deployment, seven left for a 17
new deployment. The seven available could be revealed to the user or automation at the SMO level when 18
considering additional deployments. 19
 20
The conclusion is that the SMO shall be able to track the AAL-LPU as a resource and its availability.  21

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    31
O-RAN.WG6.AAL-GAnP-R003-v07.00

Chapter 5. AAL Profiles  1
An AAL profile specifies a set of Accelerated Functions that a Hardware Accelerator processes on behalf of an AAL 2
Application within an O-RAN Cloudified Network Function (e.g. O-DU, O-CU etc.). Accordingly, AAL profiles can be 3
categorized as O-DU AAL profiles, O-CU AAL profiles and so on. The following sections describe these different 4
AAL profile categories in further details.    5
5.1 O-DU AAL Profiles  6
An O-DU AAL profile can specify a set of Accelerated Functions within the O-DU protocol stack. These functions may 7
belong to a single layer (e.g., PHY) or span across multiple layers (e.g., PHY and MAC) within O -DU. The current O-8
DU AAL profiles being studied by O-RAN WG6 are focusing on Accelerated Functions from PHY layer of O-DU. 9
5.1.1 O-DU Protocol Stack Reference 10
Figure 5-1 illustrates the building blocks for processing various O-DU PHY layer Downlink (DL) channels and signals 11
(with 7.2-x functional split between O-DU and O-RU) defined by 3GPP in [6] & [7] as part of 5G NR specification.  12
 13
Figure 5-1 O-DU PHY processing blocks for 5G NR Downlink 14
The O-DU PHY layer in downlink consists of the following physical channels and reference signals:  15
• Physical Downlink Shared Channel (PDSCH) and associated Demodulation Reference Signal (PDSCH DM -RS).  16
• Physical Downlink Control Channel (PDCCH) and associated Demodulation Reference Signal (PDCCH DM -RS). 17
• Synchronization Signal Block (SSB) consisting of 18
o Physical Broadcast Channel (PBCH) and associated DMRS (PBCH DM-RS). 19
o Primary Synchronization Signal (PSS). 20
o Secondary Synchronization Signal (SSS). 21
• Channel State Information-Reference Signal (CSI-RS) and Tracking Reference Signal (TRS). 22
L2+
TB CRC attachment
CB segmentation +
CB CRC attachment
LDPC encoding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
RE mapping
O-RAN FH (7-2x lower layer split)
CRC attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
TB CRC
attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
Data
scrambling
Precoding*
Modulation
Sequence
Generation
CSI-RS/PT-RS/TRS
PDSCH TB(s)
PDCCH (DCI)
PBCH TB
Modulation
IQ compression*
Precoding* Precoding*
Sequence
generation
PDSCH DM-RS
Modulation
Sequence
generation
PDCCH DM-RS
Sequence
Generation
Modulation
PSS/SSS
PBCH DM-RS
RE mapping RE mapping RE mapping
IQ compression* IQ compression* IQ compression*

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        32
O-RAN.WG6.AAL-GAnP-R003-v07.00
• Phase Tracking Reference Signal (PT-RS) for DL. 1
The downlink physical channels (PDSCH, PDCCH, PBCH) carry information originating from higher layers (i.e. layer 2
2 and above). 3
The downlink physical layer processing of data channel (PDSCH) carrying transport block s consists of the following 4
steps: 5
TB CRC attachment: Error detection is provided on each transport block (TB) through a Cyclic Redundancy Check 6
(CRC). Refer to Subclause 7.2.1 in [7] for details. 7
CB segmentation and CRC attachment: The transport block is segmented when it exceeds the code block (CB) size 8
specified by 3GPP [7]. Code block segmentation and code block CRC attachment are performed according to 9
Subclauses 7.2.3 and 5.2.2 of [7].  10
LDPC encoding: Refer to Subclauses 7.2.4 and 5.3.2 in [7] for details. 11
Rate matching: Refer to Subclauses 7.2.5 and 5.4.2 in [7] for details. 12
CB concatenation: Refer to Subclauses 7.2.6 and 5.5 in [7] for details. 13
Scrambling: Refer to Subclause 7.3.1.1 in [6] for details. 14
Modulation: Refer to Subclause 7.3.1.2 in [6] for details. 15
Layer mapping: Refer to Subclause 7.3.1.3 in [6] for details. 16
RE mapping: Refer to Subclause 7.3.1.5 and 7.3.1.6 in [6] for details on Resource Element (RE) mapping. 17
The downlink physical layer processing of control channel (PDCCH) carrying Downlink Cont rol Information (DCI) 18
consists of the following steps: 19
CRC attachment: Error detection is provided on DCI transmissions through a Cyclic Redundancy Check (CRC). Refer 20
to Subclause 7.3.2 in [7] for details. 21
Polar encoding: Refer to Subclauses 7.3.3 and 5.3.1 in [7] for details. 22
Rate matching: Refer to Subclauses 7.3.4 and 5.4.1 in [7] for details. 23
Scrambling: Refer to Subclause 7.3.2.3 in [6] for details. 24
Modulation: Refer to Subclause 7.3.2.4 in [6] for details. 25
RE mapping: Refer to Subclause 7.3.2.5 in [6] for details. 26
The downlink physical layer processing of broadcast channel (PBCH) carrying maximum one transport block consists 27
of the following steps: 28
PBCH payload generation: Refer to Subclause 7.1.1 in [7] for details.  29
Scrambling: Refer to Subclause 7.1.2 in [7] for details. 30
TB CRC attachment: Refer to Subclause 7.1.3 in [7] for details. 31
Polar encoding: Refer to Subclauses 7.1.4 and 5.3.1 in [7] for details. 32
Rate matching: Refer to Subclauses 7.1.5 and 5.4.1 in [7] for details. 33
Data scrambling: Refer to Subclause 7.3.3.1 in [6] for details. 34
Modulation: Refer to Subclause 7.3.3.2 in [6] for details. 35
RE mapping: Refer to Subclause 7.3.3.3 in [6] for details. 36
The downlink physical signals (DM-RS, PSS, SSS, CSI-RS/TRS, PT-RS) correspond to a set of resource elements used 37
by the physical layer but does not carry information originated from higher layers (i.e. layer 2 and  above). 38

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    33
O-RAN.WG6.AAL-GAnP-R003-v07.00

Reference Signals (DM-RS, CSI-RS/TRS, PT-RS) and Synchronization Signals (PSS/SSS) are generated using the 1
following steps: 2
Sequence Generation and Modulation: Refer to Subclauses 7.4.1.1.1 (PDSCH DM -RS), 7.4.1.3.1 (PDCCH DM-RS), 3
7.4.1.4.1 (PBCH DM-RS), 7.4.1.5.2 (CSI-RS/TRS), 7.4.1.2.1 (PT-RS), 7.4.2.2.1 (PSS) and 7.4.2.3.1 (SSS) in [6] for 4
details. 5
RE mapping: Refer to Subclauses 7.4.1.1.2 (PDSCH DM-RS), 7.4.1.3.2 (PDCCH DM-RS), 7.4.1.4.2 (PBCH DM-RS), 6
7.4.1.5.3 (CSI-RS/TRS), 7.4.1.2.2 (PT-RS), 7.4.2.2.2 (PSS) and 7.4.2.3.2 (SSS) in [6] for details. 7
An O-DU AAL profile for 5G NR downlink shall specify a set of accelerated functions corresponding to one or more 8
than one physical downlink channel(s) and/or physical downlink signal(s). 9
In addition to the processing blocks mentioned above, each of these downlink physical ch annels/signals may include 10
some additional functional blocks (e.g. precoding, IQ compression) which are implementation specific and may also 11
depend on system configurations/capabilities (for example, whether a O -DU is connected to a CAT-A/CAT-B O-RU). 12
Each of these physical channels/signals can be implemented with/without these optional functional blocks.  The AAL 13
Application interface shall expose to the AAL Application whether these functional blocks are supported or not within 14
the AAL Implementation.   15
Figure 5-2 illustrates the building blocks for processing various O-DU PHY layer Uplink (UL) channels and signals 16
(with 7.2-x functional split between O-DU and O-RU) defined by 3GPP [6] as part of 5G NR specification. 17
 18
 19
Figure 5-2 O-DU PHY processing blocks for 5G NR Uplink 20
The O-DU PHY layer in uplink consists of the following physical channels and reference signals:  21
• Physical Uplink Shared Channel (PUSCH). 22
• Physical Uplink Control Channels (PUCCH) with formats 0/1/2/3/4. 23
• Physical Random-Access Channel (PRACH). 24
• Sounding Reference Signal (SRS). 25
• Phase Tracking Reference Signal (PT-RS) for UL. 26
L2 +
TB CRC check
LDPC decoding
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
O-RAN FH (7-2x lower layer split)
PUSCH
UL data
IDFT for DFT-s-
OFDM
PUCCH format 1
UCI
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
Channel
estimation
SRS
IQ
decompression*
Channel
estimation
Channel
estimation
Channel
equalization
Demodulation
PUCCH format 0
UCI
Sequence
detection
CRC check
Polar/Block decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUCCH format 2/3/4
UCI
IDFT for DFT-s-OFDM
Channel estimation
PRACH
Sequence
detection
PT-RS
RE demapping RE demapping RE demapping RE demapping RE demapping RE demapping
IQ
decompression*
IQ
decompression* IQ decompression* IQ
decompression*
IQ
decompression*
IQ
decompression*
CB CRC + CB
Desegmentation
CB
Deconcatenation

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        34
O-RAN.WG6.AAL-GAnP-R003-v07.00
The uplink physical channels (PUSCH, PUCCH, PRACH) carry information originating from higher layers (i.e. layer 2 1
and above). 2
The uplink physical layer processing of shared channel (PUSCH) carrying uplink data with or without Uplink Control 3
Information (UCI) consists of the following steps at the receiver (O -DU): 4
RE de-mapping: Refer to Subclauses 6.3.1.6, 6.3.1.7 and 6.4.1.1.3 of [6] for details on RE mapping at the transmitter. 5
Channel estimation and equalization: up to O-DU implementation.  6
Transform precoding (IDFT): optional, only required for DFT-s-OFDM waveform. Refer to Subclause 6.3.1.4 of [6] for 7
details on transform precoding (if applicable) applied at the transmitter. 8
Demodulation: Refer to Subclause 6.3.1.2 in [6] for details on modulation applied at the transmitter.  9
Descrambling: Refer to Subclause 6.3.1.1 in [6] for details on scrambling applied at the transmitter. 10
CB de-concatenation: Refer to Subclause 6.2.6 in [7] for details on CB concatenation applied at the transmitter.  11
Rate de-matching: Refer to Subclause 6.2.5 in [7] for details on rate matching applied at the transmitter. 12
LDPC decoding: Refer to Subclause 6.2.4 in [7] for details on LDPC encoding applied at the transmitter. 13
CB de-segmentation and CB CRC check: Refer to Subclause 6.2.3 in [7] for details on CB segmentation and CB CRC 14
attachment applied at the transmitter. 15
TB CRC check: Refer to Subclause 6.2.1 in [7] for details on TB level CRC attachments applied at the transmitter. 16
The uplink physical layer processing for control channel (PUCCH) carrying UCI depends on PUCCH formats.  17
PUCCH format 0 processing consists of the following steps at the receiver (O -DU): 18
RE de-mapping: Refer to subclause 6.3.2.3.2 of [6] for details on RE mapping applied at the transmitter. 19
Sequence detection: The transmitted sequence (refer to Subclause 6.3.2.3 in [6] for details) is detected at O-DU using a 20
non-coherent detector, since PUCCH format 0 does not carry any DM-RS. The detailed design is up to O-DU 21
implementation.  22
PUCCH format 1 processing consists of the following steps at the receiver (O -DU): 23
RE de-mapping: Refer to Subclauses 6.3.2.4.2 and 6.4.1.3.1.2 of [6] for details on RE mapping applied at the 24
transmitter. 25
Channel estimation and equalization: up to O-DU implementation. 26
Demodulation: Refer to Subclause 6.3.2.4.1 in [6] for details on modulation applied at the transmitter. 27
PUCCH formats 2/3/4 processing consists of the following steps at the receiver (O -DU): 28
RE de-mapping: Refer to Subclauses 6.3.2.5.3 and 6.4.1.3.2.2 (format 2); 6.3.2.6.5 and 6.4.1.3.3.2 (formats 3/4) of [6] 29
for details on RE mapping applied at the transmitter. 30
Channel estimation and equalization: up to O-DU implementation.  31
Transform precoding (IDFT): optional, only required for DFT-s-OFDM waveform. Refer to Subclause 6.3.2.6.4 of [6] 32
for details on transform precoding (applicable for formats 3/4) applied at the transmitter. 33
Demodulation: Refer to Subclause 6.3.2.5.2 (format 2) and 6.3.2.6.2 (formats 3/4) in [6] for details on modulation 34
applied at the transmitter.  35
Descrambling: Refer to Subclause 6.3.2.5.1 (format 2) and 6.3.2.6.1 (formats 3/4) in [6] for details on scrambling 36
applied at the transmitter. 37
Rate de-matching: Refer to Subclause 6.3.1.4 in [7] for details on rate matching applied at the transmitter. 38
Polar/Block decoding: Refer to Subclause 6.3.1.3 in [7] for details on Polar/Block encoding applied at the transmitter. 39

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    35
O-RAN.WG6.AAL-GAnP-R003-v07.00

CRC check: Refer to Subclause 6.3.1.2 in [7] for details on CRC attachment applied at the transmitter. 1
The uplink physical layer processing for random access channel (PRACH) carrying preamble consists of the following 2
steps at the receiver (O-DU): 3
RE de-mapping: Refer to Subclause 6.3.3.2 in [6] for details on RE mapping applied at the transmitter. 4
Root sequence correlation: Perform correlation operation between root sequence and received signals. Refer to 5
Subclause 6.3.3.1 in [6] for details on root sequence generation. 6
IFFT: perform the inverse Fast Fourier Transform (iFFT) operation on the received signal(s). 7
Noise estimation: perform the noise estimation operation. 8
Peak search: detect the peak for different root sequences. 9
Preamble detection and Timing Advance (TA) or delay estimation: determine the preamble se quence(s) received and 10
the corresponding timing advance estimate(s). 11
The uplink physical signals (SRS, PT-RS) do not carry any information from the higher layers (i.e. layer 2 and above).  12
The Sounding Reference Signal (SRS) in uplink is received at O-DU using the following steps: 13
RE de-mapping: Refer to Subclauses 6.4.1.4.3 and 6.4.1.4.4 in [6] for details on RE mapping applied at the transmitter. 14
Sequence detection and Channel estimation: Up to O-DU implementation. Refer to 6.4.1.4.2 in [6] for details on SRS 15
sequence generation at the transmitter. Channel condition in uplink is estimated at the O-DU based on the processing of 16
received SRS. 17
The Phase-Tracking Reference Signal (PT-RS) in uplink is received at the O-DU using the following steps: 18
RE de-mapping: Refer to Subclause 6.4.1.2.2 in [6] for details on RE mapping applied at the transmitter. 19
Sequence detection: Up to O-DU implementation. Refer to Subclause 6.4.1.2.1 in [6] for details on sequence generation 20
at the transmitter. 21
An O-DU AAL profile for 5G NR uplink shall specify a set of accelerated functions corresponding to one or more than 22
one physical uplink channel(s) and/or physical uplink signal(s). 23
In addition to the processing blocks mentioned above, each of these uplink physical channels/signals may include an 24
additional functional block, viz. IQ decompression, which is implementation specific and may depend on system 25
configuration/capability. Each of these physical channels/signals can be implemented with/without this optional 26
functional block. The AAL Application interface shall expose to the AAL Application whether these functional blocks 27
are supported or not within the AAL Implementation.  28
5.1.2 O-DU Protocol Stack Reference for mMTC 29
Figure 5-3 illustrates the building blocks for processing various O-DU PHY layer Downlink (DL) channels and signals 30
(with 7.2-x functional split between O-DU and O-RU) defined by 3GPP in [8] & [9] as part of 4G/5G NR specification. 31

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        36
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
Figure 5-3 O-DU PHY processing blocks for mMTC Downlink 2
 3
The O-DU PHY layer in downlink consists of the following physical channels and reference signals: 4
• Narrow-band Physical Downlink Shared Channel (NPDSCH).  5
• Narrow-band Physical Downlink Control Channel (NPDCCH). 6
• Narrow-band Physical Broadcast Channel (NPBCH). 7
• Narrow-band Primary Synchronization Signal (NPSS). 8
• Narrow-band Secondary Synchronization Signal (NSSS). 9
• Narrow-band Reference Signal (NRS) and Narrow-band Position Reference Signal (NPRS). 10
• Narrow-band Wake-Up Signal (NWUS) 11
The Narrow-band downlink physical channels (NPDSCH, NPDCCH, NPBCH) carry information originating  from 12
higher layers (i.e. layer 2 and above). 13
The Narrow-band downlink physical layer processing of data channel (NPDSCH) carrying transport blocks consists of 14
the following steps: 15
TB CRC attachment: Error detection is provided on each transport block (TB)  through a Cyclic Redundancy Check 16
(CRC). Refer to Subclause 6.4 in [9] for details. 17
CRC attachment: CRC attachment is performed according to Subclauses 6.4 of [9] 18
L2+
TB CRC attachment
Tail Biting
Convolutional
Coding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
RE mapping
O-RAN FH (7-2x lower layer split)
CRC attachment
Tail Biting
Convolutional
Coding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
Tail Biting
Convolutional
Coding
Rate Matching
Scrambling
CRC
attachment
Layer Mapping
Modulation
Precoding*
Sequence
Generation
NPRS/NWUS
NPDSCH TB(s)
N PDCCH (DCI)
NPBCH TB
Modulation
IQ compression*
Precoding* Precoding*
Sequence
Generation
Modulation
NPSS/NSSS/
NRS
RE mapping RE mappingRE mapping
IQ compression* IQ compression* IQ compression*

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    37
O-RAN.WG6.AAL-GAnP-R003-v07.00

Tail-biting Convolutional coding: Refer to Subclauses 6.2 and 5.1.3.1 in [9] for details. 1
Rate matching: Refer to Subclauses 6.4 in [9] for details. 2
Scrambling: Refer to Subclause  10.2.5.2 in [8] for details. 3
Modulation: Refer to Subclause 10.2.5.3 in [8] for details. 4
Layer mapping: Refer to Subclause 10.2.5.3in [8] for details. 5
RE mapping: Refer to Subclause 10.2.5.5in [8] for details on Resource Element (RE) mapping. 6
The downlink physical layer processing of control channel (PDCCH) carrying Downlink Control Information (DCI) 7
consists of the following steps: 8
CRC attachment: Error detection is provided on DCI transmissions through a Cyclic Redundancy Check (CRC). Ref er 9
to Subclause 6.4 in [9] for details. 10
Tail-biting Convolutional coding: Refer to Subclauses 6.2 and 5.1.3.1 in [9] for details. 11
Scrambling: Refer to Subclause 10.2.5.2 in [8] for details. 12
Modulation: Refer to Subclause 10.2.5.3 in [8] for details. 13
Layer mapping: Refer to Subclause 10.2.5.3 in [8] for details. 14
RE mapping: Refer to Subclause 10.2.5.5 in [8] for details on Resource Element (RE) mapping. 15
The downlink physical layer processing of broadcast channel (NPBCH) carrying maximum one transport block consists 16
of the following steps: 17
NPBCH payload generation: Refer to Subclause 6.4.1 in [9] for details.  18
TB CRC attachment: Error detection is provided on each transport block (TB) through a Cyclic Redundancy Check 19
(CRC). Refer to Subclause 6.4 in [9] for details. 20
Scrambling: Refer to Subclause 10.2.5.2 in [8] for details. 21
Modulation: Refer to Subclause 10.2.5.3 in [8] for details. 22
Layer mapping: Refer to Subclause 10.2.5.3 in [8] for details. 23
RE mapping: Refer to Subclause 10.2.5.5 in [8] for details on Resource Element (RE) mapping. 24
The downlink physical signals (NRS, NPSS, NSSS, NPRS, NWUS) correspond to a set of resource elements used by 25
the physical layer but does not carry information originated from higher layers (i.e. layer 2 and above).  26
Reference Signals and Synchronization signals (NPSS/NSSS) are gen erated using the following steps: 27
Sequence Generation and Modulation and RE mapping : Refer to Subclauses, 10.2.6B (NWUS), 10.2.7.1 (NPSS) and 28
10.2.7.2 (NSSS) , 10.2.6  (NRS), 10.2.6A (NPRS) in [8] for details. 29
An O-DU AAL profile for 4G NR downlink shall specify a set of accelerated functions corresponding to one or more 30
than one physical downlink channel(s) and/or physical downlink signal(s). 31
In addition to the processing blocks mentioned above, each of these downlink physical channels/signals may include 32
some additional functional blocks (e.g. precoding, IQ compression) which are implementation specific and may also 33
depend on system configurations/capabilities (for example, whether a O-DU is connected to a CAT-A/CAT-B O-RU). 34
Each of these physical channels/signals can be implemented with/without these optional functional blocks.  The AAL 35
Application interface shall expose to the AAL Application whether these functional blocks are supported or not within 36
the AAL Implementation. 37
Figure 5-4 illustrates the building blocks for processing various O-DU PHY layer Uplink (UL) channels and signals 38
(with 7.2-x functional split between O-DU and O-RU) defined by 3GPP in [8] & [9] as part of 4G/5G NR specification.  39

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        38
O-RAN.WG6.AAL-GAnP-R003-v07.00
L2 +
CRC check
Turbo decoding
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
O-RAN FH (7-2x lower layer split)
NPUSCH
UL data
IDFT for DFT-s-
OFDM
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
IQ
decompression*
Channel
estimation
DMRS with PUSCH
Format 1 and
Format 2
Channel
Estimation
AC-NACK detection
Channel decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUSCH Format 2
UCI
Channel estimation
NPRACH
RE demapping RE demapping RE demapping
IQ
decompression* IQ decompression* IQ
decompression*
Layer
Demapping
 1
Figure 5-4 O-DU PHY processing blocks for mMTC Uplink 2
The O-DU PHY layer in uplink consists of the following physical channels and reference signals: 3
• Narrow-band Physical Uplink Shared Channel (NPUSCH). 4
• Narrow-band Physical Random-Access Channel (NPRACH). 5
The uplink physical channels (NPUSCH, NPRACH) carry information originat ing from higher layers (i.e. layer 2 and 6
above). 7
The uplink physical layer processing of shared channel (NPUSCH) carrying uplink data with or without Uplink Control 8
Information (UCI) consists of the following steps at the receiver (O -DU): 9
RE (de)mapping: Refer to Subclauses 5.3.4 of [8] for details on RE mapping at the transmitter/receiver. 10
Channel estimation and equalization: up to O-DU implementation.  11
Transform precoding (IDFT): optional, only required for DFT-s-OFDM waveform. Refer to Subclause 5.3.3A of [8] for 12
details on transform precoding (if applicable) applied at the transmitter. 13
Demodulation: Refer to Subclause 5.3.2 in [8] for details on modulation applied at the transmitter.  14
Descrambling: Refer to Subclause 5.3.1 in [8] for details on scrambling applied at the transmitter. 15
Rate de-matching: Refer to Subclause 5.1.4.1 in [9] for details on rate matching applied at the transmitter. 16

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    39
O-RAN.WG6.AAL-GAnP-R003-v07.00

Turbo decoding: Refer to Subclause 5.1.3.2 in [9] for details on Turbo decoding applied at the transmitter. 1
CRC check: Refer to Subclauses 5.1.1 in [9] for details on TB and CB level CRC attachments applied at the transmitter. 2
The uplink physical layer processing for shared channel (NPUSCH) carrying UCI depends on NPUSCH formats.  3
An O-DU AAL profile for 4G/5G NR uplink shall specify a set of accelerated functions corresponding to one or more 4
than one physical uplink channel(s) and/or physical uplink signal(s). 5
In addition to the processing blocks mentioned above, each of these uplink physical channels/signals may include an 6
additional functional block, viz. IQ decompression, which is implementation specific and may depend on system 7
configuration/capability. Each of these physical channels/signals can be implemented with/without this optional 8
functional block. The AAL Application interface shall expose to the AAL Application whether these functional blocks 9
are supported or not within the AAL Implementation. 10
5.1.3 O-DU AAL Profile Definitions 11
O-DU AAL profiles are defined below with future specification(s) to define the AAL Application interface for each 12
profile.  13
5.1.3.1 Profile Definitions General Guidelines  14
5.1.3.1.1 Naming  15
As discussed above O-DU AAL profiles are specific to one or more physical channel(s) or signal(s) as such should 16
follow the naming guidelines  17
• O-DU AAL profiles shall be prefixed with “AAL_”  18
• O-DU AAL profiles when specific to a single channel or signal shall include the channel or signal in the name 19
e.g. “AAL_PUSCH”  20
• O-DU AAL profiles when common across multiple channels or signals shall not include the channel or signal 21
name, instead just reference the Accelerated Function(s), e.g. AAL_RE-MAPPING 22
• O-DU AAL profiles that include a subset of the functional blocks within a channel or signal shall include a 23
functional description after the channel name e.g. AAL_PUSCH_CHANNEL_ESTIMATION  24
 25
5.1.3.1.2 Data Flow 26
O-DU AAL profiles shall specify the data flow supported by the AAL Profile as discussed in section Error! Reference 27
source not found. and Error! Reference source not found. above e.g. Look aside, Inline or other.  28
Look aside data flow implies the remaining functions not included in the Profile that comprise the channel or signal are 29
implemented  on the AAL Application or other entity associated with the AAL Application  and not implemented in the 30
HW Accelerator.  31
Inline data flow implies that the signal (with a 7-2x PHY functional split) and the IQ data from the AAL Application  32
(in DL) or the decoded bits (in UL) (post processing) are transferred directly from the HW Accelerator to the Fronthaul 33
interface (in DL) or to the AAL Application (in UL).  34
The profile shall specify if the data flow includes only user plane, or only control plane, or both. 35

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        40
O-RAN.WG6.AAL-GAnP-R003-v07.00
5.1.3.2 O-DU AAL Profiles 1
5.1.3.2.1  AAL_MU-MIMO_PRECODER_WEIGHTS_CALC 2
 3
Figure 5-5 AAL_MU-MIMO_PRECODER_WEIGHTS_CALC  4
The AAL_MU-MIMO_PRECODER_WEIGHTS_CALC is used by AAL Application to offload beamforming 5
(precoding) weight calculation to the hardware accelerator (HWA) in look-aside acceleration mode. The AAL 6
Application shall provide HWA with all the information required to calculate precoding weights.  7
This profile is implemented as a look aside accelerator. 8
The below figure shows an example use of the AAL_MU-MIMO_PRECODER_WEIGHTS_CALC in an O-DU with 9
AAL_DOWNLINK_HIGH-PHY and AAL_UPLINK_HIGH-PHY 10
 11
Figure 5-6 Example AAL_MU-MIMO_PRECODER_WEIGHTS_CALC use 12

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    41
O-RAN.WG6.AAL-GAnP-R003-v07.00

5.1.3.2.2 AAL_FFT 1
 2
Figure 5-7 AAL_FFT 3
The AAL_FFT is used by application to offload FFT/iFFT processing to the hardware accelerator (HWA)  in look- aside 4
acceleration mode. The application shall provide HW Accelerator with all the information required to perform the FFT 5
operations. The AAL_FFT Profile can be used for 3GPP specification 38.211 clause 5.3, and clause 6.4.1.4.  The below 6
list and Figure 5-7 AAL_FFT highlights the set of accelerated functions that define the AAL_FFT Profile.  7
• Zero Padding  8
• iDFT 9
• Windowing  10
• DFT 11
• De padding  12
The below figure shows an example use of the AAL_FFT Profile for accelerating the SRS processing in an 13
O-DU. The highlighted green blocks show the set the accelerated functions.  14
L2 +
TB CRC check
LDPC decoding
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
O-RAN FH (7-2x lower layer split)
PUSCH
UL data
IDFT for DFT-s-
OFDM
PUCCH format 1
UCI
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
Channel
estimation
SRS
IQ
decompression*
Channel
estimation
Channel
estimation
Channel
equalization
Demodulation
PUCCH format 0
UCI
Sequence
detection
CRC check
Polar/Block decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUCCH format 2/3/4
UCI
IDFT for DFT-s-OFDM
Channel estimation
PRACH
Sequence
detection
PT-RS
RE demapping RE demapping RE demapping RE demapping RE demapping RE demapping
IQ
decompression*
IQ
decompression* IQ decompression* IQ
decompression*
IQ
decompression*
IQ
decompression*
CB CRC + CB
desegmentation
CB
deconcatentation

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        42
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
Figure 5-8 AAL_FFT example for SRS Processing 2
5.1.3.3 This profile is implemented as a look aside accelerator.O-DU AAL Profiles for 3
Downlink  4
5.1.3.3.1 AAL_PDSCH_FEC 5
Figure 5-9 highlights the set of accelerated functions that define the AAL_PDSCH_FEC Profile. These include  6
• CRC Generation 7
• LDPC Encoding  8
• PDSCH Rate Matching 9
 10
The AAL_PDSCH_FEC Profile is implemented as a look aside accelerator. The AAL_PDSCH_FEC Profile will 11
support both Transport Block and Code Block operations.   12
L2 +
O-RAN FH (7-2x
lower layer split)
Channel
estimation
SRS
RE demapping
IQ
decompression*
iDFT
Zero Padding
Windowing
DFT
Depadding
Zadoff-Chu, RB/Comb
Extraction
Timing error
correcton, SNR
Estimation etc.. AAL_FFT Profile

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    43
O-RAN.WG6.AAL-GAnP-R003-v07.00

L2+
TB CRC attachment
CB segmentation +
CB CRC attachment
LDPC encoding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
RE mapping
O-RAN FH (7-2x lower layer split)
CRC attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
TB CRC
attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
Data
scrambling
Precoding*
Modulation
Sequence
Generation
CSI-RS/PT-RS/TRS
PDSCH TB(s)
PDCCH (DCI)
PBCH TB
Modulation
IQ compression*
Precoding* Precoding*
Sequence
generation
PDSCH DM-RS
Modulation
Sequence
generation
PDCCH DM-RS
Sequence
Generation
Modulation
PSS/SSS
PBCH DM-RS
RE mapping RE mapping RE mapping
IQ compression* IQ compression* IQ compression*
 1
Figure 5-9 AAL_PDSCH_FEC Profile 2
5.1.3.3.2 AAL_PDSCH_HIGH-PHY 3
Figure 5-10 highlights the set of accelerated functions that defines the AAL_PDSCH_HIGH-PHY Profile, which 4
includes the processing of PDSCH TB(s) and associated DM-RS. 5
The set of accelerated functions associated with the processing of PDSCH TB(s) is as follows:  6
• TB CRC attachment 7
• CB segmentation and CRC attachment 8
• LDPC encoding 9
• Rate matching 10
• CB concatenation 11
• Scrambling 12
• Modulation 13
• Layer mapping 14
• Precoding 1 15
• RE mapping  16
• IQ compression1 17

1 Configurable functional block, depends on implementation and/or system configuration

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        44
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
The set of accelerated functions associated with the processing of PDSCH DM-RS is as follows: 2
• PDSCH DM-RS sequence generation 3
• Modulation 4
• Precoding1 5
• RE mapping 6
• IQ compression1 7
 8
The AAL_PDSCH_HIGH-PHY Profile is executed in inline acceleration mode. 9
 10
L2+
TB CRC attachment
CB segmentation +
CRC attachment
LDPC encoding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
O-RAN FH (7-2x lower layer split)
CRC attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
TB CRC
attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
Data
scrambling
Precoding*
Modulation
Sequence
Generation
CSI-RS/PT-RS/TRS
PDSCH TB(s)
PDCCH (DCI)
PBCH TB
Modulation
IQ compression*
Precoding* Precoding*
Sequence
generation
PDSCH DM-RS
Modulation
Sequence
generation
PDCCH DM-RS
Sequence
Generation
Modulation
PSS/SSS
PBCH DM-RS
RE mapping RE mapping RE mapping
IQ compression* IQ compression* IQ compression*
RE mapping
 11
Figure 5-10 AAL_PDSCH_HIGH-PHY Profile 12
5.1.3.3.3 AAL_PDCCH_HIGH-PHY 13
Figure 5-11 highlights the set of accelerated functions that defines the AAL_PDCCH_HIGH-PHY Profile, which 14
includes the processing of PDCCH DCI and associated DM-RS. 15
The set of accelerated functions associated with the processing of PDCCH TB(s) is as follows: 16
• CRC attachment 17
• Polar encoding 18
• Rate matching 19
• Scrambling 20
• Modulation (QPSK) 21

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    45
O-RAN.WG6.AAL-GAnP-R003-v07.00

• Precoding1 1
• RE mapping  2
• IQ compression1 3
 4
The set of accelerated functions associated with the processing o f PDCCH DM-RS is as follows: 5
• PDCCH DM-RS sequence generation 6
• Modulation 7
• Precoding1 8
• RE mapping 9
• IQ compression1 10
The AAL_PDCCH_HIGH-PHY Profile is executed in inline acceleration mode. 11
L2+
TB CRC attachment
CB segmentation +
CRC attachment
LDPC encoding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
O-RAN FH (7-2x lower layer split)
CRC attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
TB CRC
attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
Data
scrambling
Precoding*
Modulation
Sequence
Generation
CSI-RS/PT-RS/TRS
PDSCH TB(s)
PDCCH (DCI)
PBCH TB
Modulation
IQ compression*
Precoding* Precoding*
Sequence
generation
PDSCH DM-RS
Modulation
Sequence
generation
PDCCH DM-RS
Sequence
Generation
Modulation
PSS/SSS
PBCH DM-RS
RE mapping RE mapping
IQ compression* IQ compression* IQ compression*
RE mapping RE mapping
 12
Figure 5-11 AAL_PDCCH_HIGH-PHY Profile 13
5.1.3.3.4 AAL_PBCH_HIGH-PHY 14
Figure 5-12 highlights the set of accelerated functions that defines the AAL_PBCH_HIGH-PHY Profile, which includes 15
the processing of PBCH TB and associated DM-RS, PSS and SSS, or in other words, the processing of SSB. 16
The set of accelerated functions associated with the processing of PBCH TB is as follows:  17
• PBCH payload generation 18
• Scrambling 19
• TB CRC attachment 20
• Polar encoding 21

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        46
O-RAN.WG6.AAL-GAnP-R003-v07.00
• Rate matching 1
• Data scrambling 2
• Modulation (QPSK) 3
• Precoding1 4
• RE mapping  5
• IQ compression1 6
 7
The set of accelerated functions associated with the processing o f PBCH DM-RS/PSS/SSS is as follows: 8
• PDCCH DM-RS/PSS/SSS sequence generation 9
• Modulation 10
• Precoding1 11
• RE mapping 12
• IQ compression1 13
 14
The AAL_PBCH_HIGH-PHY Profile is executed in inline acceleration mode. 15
L2+
TB CRC attachment
CB segmentation +
CRC attachment
LDPC encoding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
O-RAN FH (7-2x lower layer split)
CRC attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
TB CRC
attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
Data
scrambling
Precoding*
Modulation
Sequence
Generation
CSI-RS/PT-RS/TRS
PDSCH TB(s)
PDCCH (DCI)
PBCH TB
Modulation
IQ compression*
Precoding* Precoding*
Sequence
generation
PDSCH DM-RS
Modulation
Sequence
generation
PDCCH DM-RS
Sequence
Generation
Modulation
PSS/SSS
PBCH DM-RS
RE mapping RE mapping
IQ compression* IQ compression* IQ compression*
RE mapping RE mapping
 16
Figure 5-12 AAL_PBCH_HIGH-PHY Profile 17
 18
5.1.3.3.5 AAL_CSI-RS_HIGH-PHY 19
Figure 5-13 highlights the set of accelerated functions that defines the AAL_CSI-RS_HIGH-PHY Profile, which 20
includes the following: 21

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    47
O-RAN.WG6.AAL-GAnP-R003-v07.00

• CSI-RS sequence generation 1
• Modulation 2
• Precoding1 3
• RE mapping 4
• IQ compression1 5
 6
The AAL_CSI-RS_HIGH-PHY Profile is executed in inline acceleration mode. 7
L2+
TB CRC attachment
CB segmentation +
CRC attachment
LDPC encoding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
O-RAN FH (7-2x lower layer split)
CRC attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
TB CRC
attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
Data
scrambling
Precoding*
Modulation
CSI-RS
PDSCH TB(s)
PDCCH (DCI)
PBCH TB
IQ compression*
Precoding* Precoding*
Sequence
generation
PDSCH DM-RS
Modulation
Sequence
generation
PDCCH DM-RS
Sequence
Generation
Modulation
PSS/SSS
PBCH DM-RS
RE mapping RE mapping
IQ compression* IQ compression* IQ compression*
RE mapping RE mapping
Sequence
Generation
Modulation
 8
Figure 5-13 AAL_CSI-RS_HIGH-PHY Profile 9
 10
5.1.3.3.6 AAL_PT-RS-DL_HIGH-PHY 11
Figure 5-14 highlights the set of accelerated functions that defines the AAL_PT-RS-DL_HIGH-PHY Profile, which 12
includes the following: 13
• PT-RS sequence generation 14
• Modulation 15
• Precoding1 16
• RE mapping 17
• IQ compression1 18
 19
The AAL_PT-RS-DL_HIGH-PHY Profile is executed in inline acceleration mode. 20

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        48
O-RAN.WG6.AAL-GAnP-R003-v07.00
L2+
TB CRC attachment
CB segmentation +
CRC attachment
LDPC encoding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
O-RAN FH (7-2x lower layer split)
CRC attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
TB CRC
attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
Data
scrambling
Precoding*
Modulation
PT-RS-DL
PDSCH TB(s)
PDCCH (DCI)
PBCH TB
IQ compression*
Precoding* Precoding*
Sequence
generation
PDSCH DM-RS
Modulation
Sequence
generation
PDCCH DM-RS
Sequence
Generation
Modulation
PSS/SSS
PBCH DM-RS
RE mapping RE mapping
IQ compression* IQ compression* IQ compression*
RE mapping RE mapping
Sequence
Generation
Modulation
 1
Figure 5-14 AAL_PT-RS-DL_HIGH-PHY Profile 2
5.1.3.3.7 AAL_DOWNLINK_HIGH-PHY 3
Figure 5-15 highlights the set of accelerated functions that defines the AAL_DOWNLINK_HIGH-PHY Profile. This 4
profile includes the aggregation of all the individual downlink channel profiles as follows: 5
PDSCH 6
• Data: see list of accelerated functions associated with the processing of PDSCH TB(s), per section 5.1.3.3.2 7
• DM-RS: see list of accelerated functions associated with the processing of PDSCH DM-RS, per section 8
5.1.3.3.2. 9
• PT-RS: see list of accelerated functions listed in section 5.1.3.3.6.  10
 11
PDCCH: 12
• Data: see list of accelerated functions associated with the processing of PDCCH TB(s), per section 5.1.3.3.3 13
• DM-RS: see list of accelerated functions associated with the processing of PDCCH DM -RS, per section 14
5.1.3.3.3 15
 16
SSB: 17
• PSS + SSS: see list of accelerated functions associated with the processing of PSS/SSS, per section 5.1.3.3.4 18
• PBCH DM-RS: see list of accelerated functions associated with the processing of PBCH DM -RS, per section 19
5.1.3.3.4 20
• PBCH: see list of accelerated functions associated with the processing of PBCH TB(s), per section 5.1.3.3.4 21
 22
CSI-RS: 23
• see list of accelerated functions listed in section 5.1.3.3.5 24
 25
The AAL_DOWNLINK_HIGH-PHY Profile is executed in inline acceleration mode. 26

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    49
O-RAN.WG6.AAL-GAnP-R003-v07.00

L2+
TB CRC attachment
CB segmentation +
CRC attachment
LDPC encoding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
O-RAN FH (7-2x lower layer split)
CRC attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
TB CRC
attachment
Polar encoding
Rate matching
Scrambling
Modulation
(QPSK)
Data
scrambling
Precoding*
Modulation
CSI-RS/TRS
PDSCH TB(s)
PDCCH (DCI)
PBCH TB
IQ compression*
Precoding* Precoding*
Sequence
generation
PDSCH DM-RS
/PT-RS
Modulation
Sequence
generation
PDCCH DM-RS
Sequence
Generation
Modulation
PSS/SSS
PBCH DM-RS
IQ compression* IQ compression* IQ compression*
RE mapping RE mapping RE mapping
Sequence
Generation
Modulation
RE mapping
 1
Figure 5-15 AAL_DOWNLINK_ HIGH-PHY Profile 2
5.1.3.4 O-DU AAL Profiles for Uplink 3
5.1.3.4.1 AAL_PUSCH_FEC 4
Figure 5-16 highlights the set of accelerated functions that define the AAL_PUSCH_FEC Profile. These include  5
• PUSCH Rate De-matching 6
• LDPC Decoder  7
• CRC Check 8
 9
The AAL_PUSCH_FEC Profile is implemented as a look aside accelerator. The AAL_PUSCH_FEC Profile will 10
support both Transport Block and Code Block operations.   11

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        50
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
Figure 5-16 AAL_PUSCH_FEC Profile 2
5.1.3.4.2 AAL_PUSCH_HIGH-PHY 3
Figure 5-17 highlights the set of accelerated functions that defines the AAL_PUSCH_HIGH-PHY Profile, which 4
includes the processing of PUSCH data (with or without UCI). 5
The set of accelerated functions associated with the processing of PUSCH data is as follows:  6
• IQ decompression1 7
• RE de-mapping 8
• Channel estimation 9
• Channel equalization 10
• Transform precoding (optional- only required for DFT-s-OFDM waveform) 11
• Demodulation 12
• Descrambling 13
• Rate de-matching 14
• LDPC decoding 15
• CRC check 16
 17
The AAL_PUSCH_HIGH-PHY Profile is executed in inline acceleration mode. 18
 19
L2 +
TB CRC check
LDPC decoding
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
O-RAN FH (7-2x lower layer split)
PUSCH
UL data
IDFT for DFT-s-
OFDM
PUCCH format 1
UCI
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
Channel
estimation
SRS
IQ
decompression*
Channel
estimation
Channel
estimation
Channel
equalization
Demodulation
PUCCH format 0
UCI
Sequence
detection
CRC check
Polar/Block decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUCCH format 2/3/4
UCI
IDFT for DFT-s-OFDM
Channel estimation
PRACH
Sequence
detection
PT-RS
RE demapping RE demapping RE demapping RE demapping RE demapping RE demapping
IQ
decompression*
IQ
decompression* IQ decompression* IQ
decompression*
IQ
decompression*
IQ
decompression*
CB CRC + CB
desegmentation
CB
deconcatentation

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    51
O-RAN.WG6.AAL-GAnP-R003-v07.00

 1
 2
Figure 5-17 AAL_PUSCH_HIGH-PHY Profile 3
 4
5.1.3.4.3 AAL_PUCCH_HIGH-PHY 5
Figure 5-18, Figure 5-19 and Figure 5-20 highlight the set of accelerated functions that defines the 6
AAL_PUCCH_HIGH-PHY Profile, which includes the processing of UCI. 7
The set of accelerated functions associated with the processing of PUCCH UCI depends on the PUCCH format being 8
configured by the AAL Application.  9
5.1.3.4.3.1 PUCCH format 0 10
The set of accelerated functions associated with the processing of PUCCH UCI using PUCCH format 0 is as follows:  11
• IQ decompression1 12
• RE de-mapping 13
• Sequence detection 14
L2 +
O-RAN FH (7-2x lower layer split)
PUCCH format 1
UCI
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
Channel
estimation
SRS
Channel
estimation
Channel
equalization
Demodulation
PUCCH format 0
UCI
Sequence
detection
CRC check
Polar/Block decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUCCH format 2/3/4
UCI
IDFT for DFT-s-OFDM
Channel estimation
PRACH
Sequence
detection
PT-RS
RE demapping RE demapping RE demapping RE demapping RE demapping RE demapping
IQ
decompression*
IQ
decompression* IQ decompression* IQ
decompression*
IQ
decompression*
IQ
decompression*
CB
deconcatentation
Descrambling
PUSCH
UL data
IQ decompression*
CB CRC check + CB
desegmentation
TB CRC check
LDPC decoding
Rate dematching
Demodulation
IDFT for
 DFT-s-OFDM
Channel
equalization
Channel estimation
RE demapping

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        52
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
Figure 5-18 AAL_PUCCH_HIGH-PHY Profile (PUCCH format 0) 2
 3
5.1.3.4.3.2 PUCCH format 1 4
The set of accelerated functions associated with the processing of PUCCH UCI using PUCCH format 1 is as follows:  5
• IQ decompression1 6
• RE de-mapping 7
• Channel estimation 8
• Channel equalization 9
• Demodulation 10
 11
L2 +
O-RAN FH (7-2x lower layer split)
PUCCH format 1
UCI
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
Channel
estimation
SRS
Channel
estimation
Channel
equalization
Demodulation
PUCCH format 0
UCI
Sequence
detection
CRC check
Polar/Block decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUCCH format 2/3/4
UCI
IDFT for DFT-s-OFDM
Channel estimation
PRACH
Sequence
detection
PT-RS
RE demapping RE demapping RE demapping RE demapping RE demapping
IQ
decompression*
IQ
decompression* IQ decompression* IQ
decompression*
IQ
decompression*
IQ
decompression*
RE demapping
TB CRC check
LDPC decoding
CB
deconcatentation
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
PUSCH
UL data
IDFT for
DFT-s-OFDM
IQ decompression*
Channel estimation
CB CRC check + CB
desegmentation

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    53
O-RAN.WG6.AAL-GAnP-R003-v07.00

 1
Figure 5-19 AAL_PUCCH_HIGH-PHY Profile (PUCCH format 1) 2
 3
5.1.3.4.3.3 PUCCH format 2/3/4 4
The set of accelerated functions associated with the processing of PUCCH UCI using PUCCH format 2/3/4 is as 5
follows: 6
• IQ decompression1 7
• RE de-mapping 8
• Channel estimation 9
• Channel equalization 10
• Transform precoding (optional- only required for DFT-s-OFDM waveform) 11
• Demodulation 12
• Descrambling 13
• Rate de-matching 14
• Polar/Block decoding 15
• CRC check 16
 17
L2 +
O-RAN FH (7-2x lower layer split)
PUCCH format 1
UCI
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
Channel
estimation
SRS
Channel
estimation
Channel
equalization
Demodulation
PUCCH format 0
UCI
Sequence
detection
CRC check
Polar/Block decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUCCH format 2/3/4
UCI
IDFT for DFT-s-OFDM
Channel estimation
PRACH
Sequence
detection
PT-RS
RE demapping RE demapping RE demapping RE demapping
IQ
decompression*
IQ
decompression* IQ decompression* IQ
decompression*
IQ
decompression*
IQ
decompression*
RE demapping RE demapping
TB CRC check
LDPC decoding
CB
deconcatentation
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
PUSCH
UL data
IDFT for
DFT-s-OFDM
IQ decompression*
Channel estimation
CB CRC check + CB
desegmentation

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        54
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
 2
Figure 5-20 AAL_PUCCH_HIGH-PHY Profile (PUCCH format 2/3/4) 3
The AAL_ PUCCH_ HIGH -PHY profile is executed in inline acceleration mode. 4
5.1.3.4.4 AAL_PRACH_HIGH-PHY 5
Figure 5-21 highlights the set of accelerated functions that defines the AAL_PRACH_HIGH-PHY Profile. 6
The set of accelerated functions associated with the processing of PRACH preamble is as follows:  7
• IQ decompression1 8
• RE de-mapping 9
• Root sequence generation and correlation  10
• IFFT 11
• Noise estimation 12
• Peak search for power delay profile 13
• Preamble detection and delay/timing advance estimation 14
L2 +
O-RAN FH (7-2x lower layer split)
PUCCH format 1
UCI
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
Channel
estimation
SRS
Channel
estimation
Channel
equalization
Demodulation
PUCCH format 0
UCI
Sequence
detection
CRC check
Polar/Block decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUCCH format 2/3/4
UCI
IDFT for DFT-s-OFDM
Channel estimation
PRACH
Sequence
detection
PT-RS
RE demapping RE demapping RE demapping RE demapping
IQ
decompression*
IQ
decompression* IQ decompression* IQ
decompression*
IQ
decompression*
IQ
decompression*
RE demapping RE demapping
TB CRC check
LDPC decoding
CB
deconcatentation
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
PUSCH
UL data
IDFT for
DFT-s-OFDM
IQ decompression*
Channel estimation
CB CRC check + CB
desegmentation

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    55
O-RAN.WG6.AAL-GAnP-R003-v07.00

 1
 2
Figure 5-21 AAL_PRACH_HIGH-PHY Profile 3
The AAL_PRACH_HIGH-PHY Profile is executed in inline acceleration mode.  4
5.1.3.4.5 AAL_SRS_HIGH-PHY 5
Figure 5-22 highlights the set of accelerated functions that defines the AAL_SRS_HIGH-PHY Profile. 6
The set of accelerated functions associated with the processing of SRS is as follows:  7
• IQ decompression1 8
• RE de-mapping 9
• Channel estimation 10
 11
L2 +
O-RAN FH (7-2x lower layer split)
PUCCH format 1
UCI
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
Channel
estimation
SRS
Channel
estimation
Channel
equalization
Demodulation
PUCCH format 0
UCI
Sequence
detection
CRC check
Polar/Block decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUCCH format 2/3/4
UCI
IDFT for DFT-s-OFDM
Channel estimation
PRACH
Sequence
detection
PT-RS
RE demapping RE demapping RE demapping RE demapping
IQ
decompression*
IQ
decompression* IQ decompression* IQ
decompression*
IQ
decompression*
IQ
decompression*
RE demapping RE demapping
TB CRC check
LDPC decoding
CB
deconcatentation
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
PUSCH
UL data
IDFT for
DFT-s-OFDM
IQ decompression*
Channel estimation
CB CRC check + CB
desegmentation

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        56
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
Figure 5-22 AAL_SRS_HIGH-PHY Profile 2
The AAL_SRS_ HIGH-PHY Profile is executed in inline acceleration mode. 3
5.1.3.4.6 AAL_PT-RS-UL_HIGH-PHY 4
Figure 5-23 highlights the set of accelerated functions that defines the AAL_PT-RS-UL_HIGH-PHY Profile. 5
The set of accelerated functions associated with the processing of PT-RS-UL sequence is as follows: 6
• IQ decompression1 7
• RE de-mapping 8
• Sequence detection 9
L2 +
O-RAN FH (7-2x lower layer split)
PUCCH format 1
UCI
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
Channel
estimation
SRS
Channel
estimation
Channel
equalization
Demodulation
PUCCH format 0
UCI
Sequence
detection
CRC check
Polar/Block decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUCCH format 2/3/4
UCI
IDFT for DFT-s-OFDM
Channel estimation
PRACH
Sequence
detection
PT-RS
RE demapping RE demapping RE demapping RE demapping
IQ
decompression*
IQ
decompression* IQ decompression* IQ
decompression*
IQ
decompression*
IQ
decompression*
RE demapping RE demapping
TB CRC check
LDPC decoding
CB
deconcatentation
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
PUSCH
UL data
IDFT for
DFT-s-OFDM
IQ decompression*
Channel estimation
CB CRC check + CB
desegmentation

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    57
O-RAN.WG6.AAL-GAnP-R003-v07.00

 1
 2
Figure 5-23 AAL_PT-RS-UL_HIGH-PHY profile 3
The AAL_PT-RS-UL_HIGH-PHY profile is executed in inline acceleration mode. 4
5.1.3.4.7 AAL_UPLINK_HIGH-PHY 5
Figure 5-24 highlights the set of accelerated functions that defines the AAL_UPLINK_HIGH-PHY Profile, this profile 6
includes the aggregation of all the individual uplink channel profiles as follows: 7
PUSCH: 8
• Data: see list of accelerated functions associated with the processing of PUSCH data, per section  5.1.3.4.2 9
• DM-RS:  see list of accelerated functions listed in section 5.1.3.4.6, implemented to process DM-RS IQ 10
samples. 11
• PT-RS: see list of accelerated functions listed in section 5.1.3.4.6 12
 13
PUCCH: 14
• Format 0: see list of accelerated functions listed in section 5.1.3.4.3.1 15
• Format 1:  16
o UCI: see list of accelerated functions listed in section 5.1.3.4.3.2 17
o DM-RS: see list of accelerated functions listed in section 5.1.3.4.6, implemented to process DM-RS 18
IQ samples. 19
• Formats 2/3/4: 20
o UCI: see list of accelerated functions listed in section 5.1.3.4.3.3 21
o DM-RS: see list of accelerated functions listed in section 5.1.3.4.6, implemented to process DM-RS 22
IQ samples. 23
 24
PRACH: 25
• see list of accelerated functions listed in section 5.1.3.4.4 26
L2 +
O-RAN FH (7-2x lower layer split)
PUCCH format 1
UCI
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
Channel
estimation
SRS
Channel
estimation
Channel
equalization
Demodulation
PUCCH format 0
UCI
Sequence
detection
CRC check
Polar/Block decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUCCH format 2/3/4
UCI
IDFT for DFT-s-OFDM
Channel estimation
PRACH
Sequence
detection
PT-RS-UL
RE demapping RE demapping RE demapping RE demapping
IQ
decompression*
IQ
decompression* IQ decompression* IQ
decompression*
IQ
decompression*
IQ
decompression*
RE demapping RE demapping
TB CRC check
LDPC decoding
CB
deconcatentation
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
PUSCH
UL data
IDFT for
DFT-s-OFDM
IQ decompression*
Channel estimation
CB CRC check + CB
desegmentation

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        58
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
SRS: 2
• see list of accelerated functions listed in section 5.1.3.4.5 3
 4
The AAL_UPLINK_HIGH-PHY Profile is executed in inline acceleration mode. 5
 6
L2+
TB CRC check
CB CRC + CB
desegmentation
LDPC decoding
Rate
dematching
CB de-
concatenation
Descrambling
Demodulation
O-RAN FH (7-2x lower layer split)
PUSCH Data
PUCCH
Format 0
UCI
IQ decompression*
Sequence
detection
PUSCH
DM-RS/
PT-RS
De-
modulation
PUCCH
Format 1
UCI
RE demapping RE demapping
Channel
equalization
IDFT for DFT-s
OFDM
Channel
estimation
Sequence
detection
RE demapping
Channel
Estimation
Channel
equalization
IQ
decompression* IQ decompression*
De-
modulation
PUCCH
Format 2/3/4
UCI
RE demapping
Channel
Estimation
Channel
equalization
IQ decompression*
IDFT for
DFT-s OFDM
CRC Check
Polar/Block
decoding
Rate
dematching
De-
scrambling
Peak search
RE demapping
Root Sequence
correlation
IFFT
IQ
decompression*
Noise
estimation
Preamble
detection &
delay
estimation
SRS
RE demapping
Sequence
detection
IQ
decompression*
PRACH
Sequence
detection
PUCCH
Format 1
DM-RS
Sequence
detection
PUCCH
Format
2/3/4
DM-RS
 7
Figure 5-24 AAL_UPLINK_ HIGH-PHY Profile  8
 9
5.1.3.5 O-DU AAL Profiles for mMTC  10
5.1.3.5.1 AAL_NPDSCH_FEC 11
Figure 5-25 highlights the set of accelerated functions that define the AAL_NPDSCH_FEC Profile. These include 12
• CRC Generation  13
• Tail-Biting Convolutional Coding 14
• Rate Matching 15
The AAL_NPDSCH_FEC Profile is implemented as a look aside accelerator. 16

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    59
O-RAN.WG6.AAL-GAnP-R003-v07.00

 1
 2
Figure 5-25 AAL_NPDSCH_FEC Profile 3
5.1.3.5.2 AAL_NPDCCH_FEC 4
Figure 5-26 highlights the set of accelerated functions that define the AAL_NPDCCH_FEC Profile. These include 5
• CRC Generation  6
• Tail-Biting Convolutional Coding 7
• Rate Matching 8
The AAL_NPDCCH_FEC Profile is implemented as a look aside accelerator. 9
L2+
TB CRC attachment
Tail Biting
Convolutional
Coding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
RE mapping
O-RAN FH (7-2x lower layer split)
CRC attachment
Tail Biting
Convolutional
Coding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
Tail Biting
Convolutional
Coding
Rate Matching
Scrambling
CRC
attachment
Layer Mapping
Modulation
Precoding*
Sequence
Generation
NPRS/NWUS
NPDSCH TB(s)
N PDCCH (DCI)
NPBCH TB
Modulation
IQ compression*
Precoding* Precoding*
Sequence
Generation
Modulation
NPSS/NSSS/
NRS
RE mapping RE mappingRE mapping
IQ compression* IQ compression* IQ compression*

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        60
O-RAN.WG6.AAL-GAnP-R003-v07.00
 1
Figure 5-26 AAL_NPDCCH_FEC Profile 2
5.1.3.5.3 AAL_NPBCH_FEC 3
Figure 5-27 highlights the set of accelerated functions that define the AAL_NPBCH_FEC Profile. These include 4
• CRC Generation  5
• Tail-Biting Convolutional Coding 6
• Rate Matching 7
The AAL_NPBCH_FEC Profile is implemented as a look aside accelerator. 8
L2+
TB CRC attachment
Tail Biting
Convolutional
Coding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
RE mapping
O-RAN FH (7-2x lower layer split)
CRC attachment
Tail Biting
Convolutional
Coding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
Tail Biting
Convolutional
Coding
Rate Matching
Scrambling
CRC
attachment
Layer Mapping
Modulation
Precoding*
Sequence
Generation
NPRS/NWUS
NPDSCH TB(s)
N PDCCH (DCI)
NPBCH TB
Modulation
IQ compression*
Precoding* Precoding*
Sequence
Generation
Modulation
NPSS/NSSS/
NRS
RE mapping RE mappingRE mapping
IQ compression* IQ compression* IQ compression*

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    61
O-RAN.WG6.AAL-GAnP-R003-v07.00

 1
Figure 5-27 AAL_NPBCH_FEC Profile 2
5.1.3.5.4 AAL_NPUSCH_FEC 3
Figure 5-28 highlights the set of accelerated functions that define the AAL_NPUSCH_FEC Profile. These include 4
• CRC Generation  5
• Turbo Decoding 6
• Rate Matching 7
The AAL_NPUSCH_FEC Profile is implemented as a look aside accelerator. 8
L2+
TB CRC attachment
Tail Biting
Convolutional
Coding
Rate matching
CB concatenation
Scrambling
Modulation
Layer mapping
Precoding*
RE mapping
O-RAN FH (7-2x lower layer split)
CRC attachment
Tail Biting
Convolutional
Coding
Rate matching
Scrambling
Modulation
(QPSK)
PBCH payload
generation
Tail Biting
Convolutional
Coding
Rate Matching
Scrambling
CRC
attachment
Layer Mapping
Modulation
Precoding*
Sequence
Generation
NPRS/NWUS
NPDSCH TB(s)
N PDCCH (DCI)
NPBCH TB
Modulation
IQ compression*
Precoding* Precoding*
Sequence
Generation
Modulation
NPSS/NSSS/
NRS
RE mapping RE mappingRE mapping
IQ compression* IQ compression* IQ compression*

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.        62
O-RAN.WG6.AAL-GAnP-R003-v07.00
L2 +
CRC check
Turbo decoding
Rate dematching
Descrambling
Demodulation
Channel
equalization
RE demapping
O-RAN FH (7-2x lower layer split)
NPUSCH
UL data
IDFT for DFT-s-
OFDM
Preamble
detection +
delay estimation
IFFT
Peak search
Root sequence
correlation
Noise estimation
IQ
decompression*
Channel
estimation
DMRS with PUSCH
Format 1 and
Format 2
Channel
Estimation
AC-NACK detection
Channel decoding
Rate dematching
Descrambling
Demodulation
Channel equalization
PUSCH Format 2
UCI
Channel estimation
NPRACH
RE demapping RE demapping RE demapping
IQ
decompression* IQ decompression* IQ
decompression*
Layer
Demapping
 1
Figure 5-28 AAL_NPUSCH_FEC Profile 2
5.2   O-CU AAL Profiles  3
The O-CU AAL profiles shall be part of further study for O-RAN WG6.  4
 5
 6
 7
 8

________________________________________________________________________________________________

© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.    63
O-RAN.WG6.AAL-GAnP-R003-v07.00

History 1
Date Revision Description
2023.07.31 07.00 Published from version 06.00.08
2023.03.20 06.00 Published from version 05.00.04
2022.11.02 05.00 Published as version 05.00
2022.09.02 04.00 Published as version 04.00
 2