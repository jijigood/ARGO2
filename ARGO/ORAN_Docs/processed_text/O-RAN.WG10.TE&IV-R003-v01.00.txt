Copyright © 2023 by the O-RAN ALLIANCE e.V.
The copying or incorporation into any other work of part or all of the material available in this specification in any form without the prior written permission of O-RAN ALLIANCE e.V.  is prohibited, save that you may print or download extracts of the material of this specification for your personal use, or copy the material of this specification for the purpose of sending to individual third parties for their information provided that you acknowledge O-RAN ALLIANCE as the source of the material and that you inform the third party that these conditions apply to them and that they must comply with them.
O-RAN ALLIANCE e.V., Buschkauler Weg 27, 53347 Alfter, Germany
Register of Associations, Bonn VR 11238, VAT ID DE321720189
Contents
Foreword	3
Modal verbs terminology	3
1	Scope	3
2	References	3
2.1	Normative references	3
2.2	Informative references	4
3	Definition of terms, symbols and abbreviations	4
3.1	Terms	4
3.2	Symbols	4
3.3	Abbreviations	4
4	Use Case Description	5
4.1         Analysis of Existing O-RAN Use Cases	5
4.1.1       Use case 1: O-RAN network provisioning	5
4.1.1.1            Background and goal of the use case	5
4.1.1.2	 Entities/resource involved in the use case	5
4.1.1.3	 Solutions	5
4.1.1.4	 Required Data	10
4.1.2	Use case 2: Alarm query with TE&IV services	10
4.1.2.1	Background and goal of the use case	10
4.1.2.2	Entities/resources involved in the use case	11
4.1.2.3	Solutions	12
4.1.2.4	Required data	13
4.2         New Topology and Inventory Use Cases	13
4.2.1      Use case 1: Topology based alarm correlation	13
4.2.1.1	Background and goal of the use case	14
4.2.1.2	Entities/resource involved in the use case	14
4.2.1.3            Solutions	14
4.2.1.4             Required data	17
4.2.2       Use case 2: O-RAN Network Planning	17
4.2.2.1           Background and goal of the use case	17
4.2.2.2           Entities/resource involved in the use case	18
4.2.2.3           Solutions	18
4.2.2.4           Required Data	22
5. Requirements	23
5.1 Functional Requirements	23
5.2 Non-Functional Requirements	24
Change History	25
Foreword
This Technical Specification (TS) has been produced by WG10 of the O-RAN Alliance.
Modal verbs terminology
In the present document "shall", "shall not", "should", "should not", "may", "need not", "will", "will not", "can" and "cannot" are to be interpreted as described in clause 3.2 of the O-RAN Drafting Rules (Verbal forms for the expression of provisions).
"must" and "must not" are NOT allowed in O-RAN deliverables except when used in direct citation.
1	Scope
The content of the present document is subject to continuing work within O-RAN and may change following formal O-RAN approval. Should the O-RAN Alliance modify the contents of the present document, it will be re-released by O-RAN with an identifying change of version date and an increase in version number as follows:
version xx.yy.zz
where:
xx:	the first digit-group is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc. (the initial approved document will have xx=01).  Always 2 digits with leading zero if needed.
yy:	the second digit-group is incremented when editorial only changes have been incorporated in the document. Always 2 digits with leading zero if needed.
zz:	the third digit-group included only in working versions of the document indicating incremental changes during the editing process. External versions never include the third digit-group.  Always 2 digits with leading zero if needed.
The present document specifies new use cases and refines existing use cases present in O-RAN specifications for Topology Exposure and Inventory Management. For each use case, the document describes the motivation, resources, steps involved and the data requirements. The functional and non functional requirements for Topology Exposure and Inventory Management services are derived from the use cases that further serve as a basis for specifying the topology and inventory models, services and APIs.
2	References
2.1	Normative references
References are either specific (identified by date of publication and/or edition number or version number) or non-specific. For specific references, only the cited version applies. For non-specific references, the latest version of the referenced document (including any amendments) applies.
NOTE:	While any hyperlinks included in this clause were valid at the time of publication, O-RAN cannot guarantee their long-term validity.
The following referenced documents are necessary for the application of the present document.
[1] 3GPP TS 23.032: “3rd Generation Partnership Project; Technical Specification Group Services and System Aspects; Universal Geographical Area Description (GAD) (Release 17)”
2.2	Informative references
References are either specific (identified by date of publication and/or edition number or version number) or non-specific. For specific references, only the cited version applies. For non-specific references, the latest version of the referenced document (including any amendments) applies.
NOTE:	While any hyperlinks included in this clause were valid at the time of publication, O-RAN cannot guarantee their long-term validity.
The following referenced documents are not necessary for the application of the present document, but they assist the user with regard to a particular subject area.
[i.1] 3GPP TR 21.905: “Vocabulary for 3GPP Specifications”
[i.2] O-RAN-WG10.OAM-Architecture-v07.00: “O-RAN Operations and Maintenance Architecture v07.00”
[i.3] 3GPP TS 28.541: “5G Network Resource Model (NRM); Stage 2 and Stage 3 (Release 18)”
[i.4] O-RAN.WG6.O2-GA&P-R003-v03.00:"O2 Interface General Aspects and Principles"
[i.5] O-RAN.WG6.O2IMS-INTERFACE-v03.00: “O2ims Interface Specification”
[i.6] O-RAN.WG2.R1UCR-R003-v03.00: “R1interface: Use Cases and Requirements”
3	Definition of terms, symbols and abbreviations
3.1	Terms
For the purposes of the present document, the terms given in [i.1] and the following apply:
Inventory: Inventory consists of information about planned, active and available networks, resources, services, their states, relationships and specific properties.
Topology:  Topology consists of information about relationships and characteristics of services and resources, derived from inventory and from other SMO services.
RAN Resources: RAN resources includes GNBDUFunction, GNBCUCPFunction, GNBCUUPFunction, NRCellCU, NRCellDU, NRSectorCarrier, NRCellRelation, NRFreqRelation, NRFrequency etc., as depicted in 3GPP 5G NRM [i.3]
NF Deployment: Based on term usage in [i.4], NF Deployment covers O-DU, O-CU-UP, O-CU-CP, near-RT RIC deployments in the O-Cloud
O-Cloud Resources: O-Cloud Resources include O-Cloud IMS model elements as depicted in the O-RAN IMS Interface [i.5]
TE&IV resources: TE&IV resources depict RAN resources, O-Cloud resources, and relationships with other RAN or O-Cloud resources etc., represented in topology and inventory models.
Planned inventory:  Represents the physical, logical and virtual resources, their state, specific properties and relationships, reserved for planned network realization.
3.2	Symbols
Void
3.3	Abbreviations
TE&IV: Topology Exposure and InVentory management
4	Use Case Description
4.1	Analysis of Existing O-RAN Use Cases
4.1.1 Use case 1: O-RAN network provisioning
4.1.1.1    Background and goal of the use case
The O-RAN Provisioning use case in WG10 OAM Architecture Specification [i.2] describes the sequence of steps to deploy and provision O-RAN NFs on physical/virtualized resources by leveraging the SMO Framework and O-Cloud management entities.
The goal of this use case is to highlight the role of Topology Exposure (TE) and Inventory Management (IV) services during provisioning of O-RAN NFs.  This use case leverages the OAM flows of O-RAN provisioning use case and highlights the interactions of O-RAN entities with TE & IV service producer. These interactions are for CRUD operations on inventory objects corresponding to the newly deployed NFs.
4.1.1.2		Entities/resource involved in the use case
The SMO Framework leverages TE &IV services within the SMO. TE&IV services maintain the state of O-RAN NFs in the inventory, which will be used by SMO to derive the contextual information of the network.  TE&IV services support CRUD operations on inventory objects and interactions with OAM functions.
4.1.1.3		Solutions
Table 4.1.1.3-1: O-RAN network provisioning
@startuml
skinparam sequenceArrowThickness 2
skinparam ParticipantPadding 5
skinparam BoxPadding 10
autonumber
Box “Personnel” #lightblue
Actor “Radio \nPlanner” as RP
Actor “Field \nTechnician” as Tech
End box
box “Service Management & \nOrchestration Framework” #gold
Participant “NFO/FOCOM” as OSMO
Participant “TE & IV Service \nProducer” as IVF
Participant “OAM Functions” as SMO
Participant “Non-RT RIC” as NonRTRIC
end box
Box “Cloud Platform \nInfrastructure” #lightseagreen
participant “O-Cloud” as IMF
End box
box "O-RAN Components"#lightpink
Participant “Near-RT RIC” as NearRTRIC
collections “O-CU-CP” as OCUCP
collections “O-CU-UP” as OCUUP
collections "O-DU" as ODU
collections "O-RU" as ORU
end box
rnote over OSMO,ODU
Complete onboarding of VNF descriptors
Endnote
== O-RAN Service Deploy ==
RP -> SMO: Order RAN Service Deployment
SMO --> SMO : Instantiate (\n\tO-RAN Service)
autonumber 3.1
SMO->IVF: Create O-RAN service
IVF->SMO: Confirm success
|||
== O-RAN Service Resource VNF Deploy ==
rnote over OSMO,DU
Repeat steps 4 to 8 for O-CU-CP and O-CU-UP
Endnote
autonumber 4
group O-RAN Virtualized Part Instantiation and Configuration
OSMO -> IMF: Instantiate (Near-RT RIC_VNFD)
'SMO -> IMF: Instantiate (O-RAN Service NSD)
rnote left IMF
Details of VNF creation omitted
Endnote
IMF -> NearRTRIC **: Create VNF
IMF -> SMO: Notify Near-RT RIC instantiated
autonumber 7.1
SMO->IVF: Create Near-RT RIC object
IVF->SMO: Confirm success
autonumber 8
SMO -> NearRTRIC : Configure (Near-RT RIC_Config)
|||
SMO -> NearRTRIC : deploy xAPPs
autonumber 10.1
SMO-> IVF: Create xApp objects
IVF->SMO: Confirm success
rnote over SMO,OCUUP
Near-RT RIC subscribes to O-CU-CP and O-CU-UP
endrnote
end
|||
newpage
== O-RAN Service Resource PNF Deploy ==
group PNF Registration and Configuration
autonumber 11
Tech -> ODU : Power-on O-DU
rnote over NonRTRIC, ODU
Controller address as
per O-RAN O1 Spec
Endrnote
ODU -> SMO : Register O-DU (ID)
SMO -> SMO: Register PNF Online
rnote over SMO,ODU
SMO configures O-DU and xAPPS.
endrnote
rnote over IVF
Transition O-DUs to "active" state
endrnote
Loop foreach O-DU in O-CU-CP.DUs
autonumber 14.1
SMO->IVF: Transition from "planned" to "active"
IVF->SMO: Confirm success
end
rnote over SMO, ODU
Near-RT RIC subscribes to O-DU.
Endrnote
autonumber 15
Tech -> ORU : Power-on O-RU
rnote over SMO, ORU
Power on and Register O-RU Online. Controller address as
per O-RAN O1 Spec for flat (SMO) management. Controller address as per
WG4.MP.0 Spec for Hybrid mode.
Endrnote
SMO->SMO: Register PNF Online
rnote over SMO, ORU
SMO configures O-RU in flat (SMO) management. O-DU configures O-RU in Hybrid mode.
Endrnote
rnote over IVF
Transition O-RUs to "active" state
endrnote
Loop foreach O-RU in O-DU.RUs
autonumber 17.1
SMO-> IVF: Transition O-RU from "planned" to "active"
IVF->SMO: Confirm success
end
autonumber 18.1
SMO->IVF: Update status of O-RAN service as "Available"
IVF->SMO: Acknowledge status update
|||
== Test the deployed NFs ==
Autonumber 19
Tech->IVF: View status of deployed NFs
IVF->Tech: Return inventory objects and requested info
@enduml
Figure 4.1.1.3-1: O-RAN network provisioning
4.1.1.4		Required Data
A unique identifier is assigned during creation of TE&IV resource in the inventory, which is returned by the TE&IV 
       service producer in the response for create operation.
Representation of TE&IV resources in the inventory may include, but not limited to the following:
Unique identifier, name, lifecycle state of the resource etc.
Any of the above parameters may be used to update or query the TE&IV resources
4.1.2	Use case 2: Alarm query with TE&IV services
This use case is improvement of alarm query use case specified in R1UCR [i.6] with TE&IV services.
This use case allows an rApp acting as service consumer to query identities of cells and NF Deployments in specific geo-location and then use retrieved identities to query alarm information.
4.1.2.1	Background and goal of the use case
An rApp acting as service consumer can query from the RAN OAM-related functions information about an individual alarm, a set of alarms matching provided filtering criteria or all active alarms available in the alarm list.
An rApp acting as TE&IV service consumer can query TE&IV service provider to get identities of cells and NF Deployments in specific geo-location.
4.1.2.2	Entities/resources involved in the use case
RAN OAM-related functions
Receives request to query alarm information,
Responds with success or failure to the query of alarm information
rApp
Initiates query of alarm information
Inititaes query to get identities of cells and NF Deployment in specific geo-location.
TE&IV service producer
Exposes TE&IV services based on a Topology and Inventory Models and APIs, which offers among others the capability to provide the relationship between TE&IV resources and geo-location
Consumes the data provided by the SMO functions (e.g., O1-related data, O2-related data, DME, SME, etc) and exposes it via the Topology and Inventory Model and APIs.
4.1.2.3	Solutions
Table 4.1.2.3-1: Query alarm information use case using TE&IV services
@startuml
!pragma teoz true
skinparam ParticipantPadding 70
skinparam BoxPadding 10
skinparam defaultFontSize 12
skinparam lifelineStrategy solid


box "Non-RT RIC" #whitesmoke
  participant "rApp" as rapp
endbox

box "Non-anchored functions in SMO/Non-RT RIC Framework" #cadetBlue
  participant "RAN OAM-related functions" as fmsp
  participant “TE&IV service  producer” as Tproducer
endbox

rapp -> Tproducer : Query for cells and NF Deployments in specific geo-location
Tproducer --> Tproducer : validate the request and \n retrieve cell and its associated NF deployments in specific geo-location\n  from the TE&IV repositories.
Tproducer -> rapp : Return cell and its associated NF Deployments
rapp -> fmsp: <<R1>> Query alarm information request (rAppId, NF Deployment,queryInfo)
fmsp --> fmsp: AuthZ
note right
Check authorization in collaboration
with SME functions
end note
fmsp --> fmsp: Validate request
fmsp -> rapp: <<R1>> Query alarm information response (alarmInfo)
@enduml
Figure 4.1.2.3-1: Query alarm information use case flow diagram
4.1.2.4	Required data
TE&IV service producer has the relationship information about the cells and NF deployments associated with geo-location.
The query request to TE&IV service producer contains the geo-location [1], cell type and NF Deployment type. TE&IV service returns identities of the requested cell and its associated NF deployment in the requested geo-location.
The Query alarm information request contains the rAppId and optional query information. The query information determines the requested alarm information, for instance a single alarm with a particular alarm ID, all alarms in the alarm list or a subset of these alarms that match a set of filtering parameters.
The Query alarm information response contains the requested alarm information scoped by the query information provided in the request.
4.2 New Topology and Inventory Use Cases
4.2.1   Use case 1: Topology based alarm correlation
This use case provides the background , motivation , and requirements for Topology based alarm correlation , allowing operators to resolve or handle the alarms triggered through O1, O2 and M-Plane interface(in case of hybrid O-RU) using Topology Exposure and Inventory Management services, thereby reducing effort for root cause analysis of alarms.
4.2.1.1	Background and goal of the use case
Faults are inevitable in big distributed system like O-RAN. Unhandled alarms will degrade the performance of the O-RAN network and will impact the users. It is important to quickly find the relationship between different alarms. Faults in O1 nodes are reported through O1 interface, faults in O-Cloud resources are reported through O2 interface and faults in the O-RU are reported through M-Plane interface. With disaggregated nature of O-RAN architecture, it becomes difficult to determine the relationship between alarms raised in O1 node or O-Cloud or O-RU. Topology and Inventory models with capability to show relationship between RAN resources , O-Cloud resources and transport resources is required to pinpoint the relationship between alarming resources.
                             
 Scenario: Internal network switch failure in O-Cloud may impact NF Deployments which might affect the O-RAN network. Different alarms will be raised over O2, O1 and M-Plane interface as result of cascading effect of failure of an internal network switch in O-Cloud.
Topology based alarm correlation shall query the TE&IV service producer to understand the relationships between the topology/inventory resources and the alarmed resources.
The objective of this use case is to leverage TE&IV services for alarm correlation in order to determine the root cause of a problem
4.2.1.2	Entities/resource involved in the use case
TE&IV service consumer (e.g., : an rAPP)
Queries TE&IV service producer to get the relationship between alarmed resources
TE&IV service producer
Exposes TE&IV services based on Topology and Inventory Models and APIs, which offers among others the capability to provide the relationship between resources provided by O1 nodes, O-Cloud and O-RU
Consumes the data provided by the SMO functions (e.g., O1-related data, O2-related data, DME, SME, etc) and exposes it via the Topology and Inventory Models and APIs
4.2.1.3 Solutions
Table 4.2.1.3-1 Topology based Alarm Correlation
Figure 4.2.1.3-1:  Topology based Alarm Correlation
4.2.1.4 Required data
TE&IV service producer has the information about the O-Cloud resources, the O-RAN NFs and their associated NF Deployments.
TE&IV service producer has information regarding the relationship between O-Cloud resources, the O-RAN NFs and their associated NF Deployments.
TE&IV service producer has the connectivity relationships information
- Between the O-RAN NFs
- Between the O-Cloud resources
TE&IV service producer has the logical resource relationship of RAN resources.
TE&IV service producer has the identity information of TE&IV resources which enables correlation of the different identities used across different functions in SMO.
TE&IV service producer shall provide fault state and associated properties of the TE&IV resources to reflect the result of alarm correlation
4.2.2   Use case 2: O-RAN Network Planning
4.2.2.1 Background and goal of the use case
Network Planning enables CSPs to design, manage and optimize networks efficiently. Network planning and network design aim at ensuring that the new telecommunications network operates at optimum cost and has sufficient capacity and reliability to meet the needs of the subscriber and operator. With the advent of cloud native technologies and the ability to iterate and deploy quickly through containers, microservices etc., the time period between network planning and design to network deployment and realization has reduced significantly compared to the traditional process.
Inventory supports the network planning process by storing and providing information regarding planned networks. TE &IV services enable bulk upload of network data to inventory, which eases planning and deployment of large scale networks
The objective of this use case is to illustrate the use of bulk upload services offered by TE&IV service producer during O-RAN network planning and deployment.
NOTE: File format for bulk upload of inventory data is dependant on the common topology and inventory model and is not covered in this specification
4.2.2.2 Entities/resource involved in the use case
Service Management and Orchestration Framework - Supports the deployment of PNFs
OAM Functions -. Manages provisioning of NFs and state of inventory objects
NFO - Interacts with O-Cloud to perform life cycle management of NFs
TE&IV service producer  - Enables bulk upload of data in the inventory
O-Cloud - Interacts with SMO for deployment of NFs
4.2.2.3 Solutions
Table 4.2.2.3-1: O-RAN Network Planning
@startuml
skinparam sequenceArrowThickness 2
skinparam ParticipantPadding 5
skinparam BoxPadding 10
autonumber
Box “Personnel” #lightblue
Actor “Radio \nPlanner” as RP
Actor "Transport \nPlanner" as TP
Actor “Field \nTechnician” as Tech
Actor "Network \nOperator" as NO
End box
box “Service Management & \nOrchestration Framework” #gold
Participant “TE&IV \nService Producer” as IVF
Participant “OAM Functions” as SMO
Participant "NFO" as NFO
end box
box "O-RAN Components"#lightpink
collections “NFs/PNFs” as NFs
end box
box “O-Cloud Platform \nInfrastructure” #lightseagreen
participant “O-Cloud” as IMF
end box
== Create Radio network objects in planned inventory ==
RP-> IVF: Prepare and upload RAN Planning data
IVF -> IVF: Create RAN objects in planned inventory
IVF -> RP: Notify creation of RAN objects
Rnote over SMO, IVF
Notify subscriber(s) about creation of RAN objects
End rnote
== Create Transport network objects in planned inventory ==
TP->IVF: Prepare and upload transport planning data
IVF -> IVF: Create transport objects in planned inventory
IVF -> TP: Notify creation of transport objects
Rnote over SMO, IVF
Notify subscriber(s) about creation of transport objects
End rnote
==Deploy NFs and PNFs==
NFO->IMF: Query available capacity of OCloud
IMF->NFO: Return requested information
Rnote over SMO, IMF
Details of NF instantiation omitted
End rnote
NFO->IMF: Deploy NFs
IMF->SMO: Notify successful instantiation of NFs
Rnote over SMO, NFs
Initiate network discovery for NFs through O-Cloud to query NF state (details are omitted).
End rnote
SMO->IVF: Transition NF inventory objects to "active"
Rnote over SMO, NFs
Details of PNF deployment omitted
End rnote
Tech->NFs: Power-on PNFs
NFs->SMO: Register PNFs Online
== Configure NFs ==
Rnote over SMO, NFs
Details of NF configuration omitted
End rnote
Autonumber 14.1
SMO->IMF:  Configure NFs
SMO->NFs:  Configure PNFs
Autonumber 15
SMO->IVF:  Transition PNF inventory objects to "active" state
==Monitor health of newly deployed NFs ==
Rnote over NO, NFs
NFs report alarms and performance metrics to SMO. Network Operator monitors fault and performance of NFs.
End rnote
@enduml
Figure 4.2.2.3-1: O-RAN Network Planning
4.2.2.4 Required Data
Geo-location Id and O-Cloud Id may be used for deployment of PNFs and NFs.
A unique identifier is assigned during create operation of TE&IV resource, which is returned by the TE&IV service producer in the response for create operation.
Representation of TE&IV resources in the inventory may include, but not limited to the following:
Unique identifier, name, lifecycle state of the resource etc.
5. Requirements
5.1 Functional Requirements
Table 5.1-1: TE&IV services Functional Requirements
5.2 Non-Functional Requirements
Void
Change History