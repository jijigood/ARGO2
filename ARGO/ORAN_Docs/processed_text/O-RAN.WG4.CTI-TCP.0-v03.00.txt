 
 
                          O-RAN.WG4.CTI-TCP.0-v03.00 
Technical  Specification 
 
O-RAN Working Group 4 (Open Fronthaul Interfaces) 
 
Cooperative Transport Interface 
Transport Control Plane Specification 
 
 
  
Copyright © 2022 by the O-RAN ALLIANCE e.V. 
The copying or incorporation into any other work of part or all of the material available in this specification in any form w ithout the prior 
written permission of O-RAN ALLIANCE e.V.  is prohibited, save that you may print or download extracts of the material of this specification 
for your personal use, or copy the material of this specification for the purpose of sending to individual third parties for their information 
provided that you acknowledge O -RAN ALLIANCE as the source of the material and that you inform the third party that these conditions 
apply to them and that they must comply with them. 
 
O-RAN ALLIANCE e.V., Buschkauler Weg 27, 53347 Alfter, Germany 
Register of Associations, Bonn VR 11238, VAT ID DE321720189 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   2 
O-RAN.WG4.CTI-TCP.0-v03.00 
Contents  1 
Foreword............................................................................................................................................................. 4 2 
Modal verbs terminology ................................................................................................................................... 4 3 
1 Scope ........................................................................................................................................................ 5 4 
2 References ................................................................................................................................................ 5 5 
2.1 Normative references ......................................................................................................................................... 6 6 
2.2 Informative references ....................................................................................................................................... 6 7 
3 Definition of terms, symbols and abbreviations ....................................................................................... 6 8 
3.1 Terms ................................................................................................................................................................. 6 9 
3.2 Symbols ............................................................................................................................................................. 7 10 
3.3 Abbreviations ..................................................................................................................................................... 7 11 
4 Cooperative Transport Interface (CTI) ..................................................................................................... 9 12 
4.1 General Network Architecture and Mechanism ................................................................................................. 9 13 
4.1.1 High Level CTI Message Flow .................................................................................................................. 10 14 
4.1.2 Packet-based Transport Network topologies supported by CTI ................................................................. 11 15 
4.1.3 Forwarding and addressing of CTI messages ............................................................................................. 13 16 
4.2 Information Required for Cooperative Transport ............................................................................................ 13 17 
4.2.1 From O-DU to Transport ............................................................................................................................ 13 18 
4.2.2 From Transport to O-DU ............................................................................................................................ 14 19 
4.3 Calculation of CTI reports by O-DU ............................................................................................................... 14 20 
4.3.1 Required load ............................................................................................................................................. 14 21 
4.3.2 Time interval of the reported load .............................................................................................................. 16 22 
2.3.3 Exchange rate of CTI Reporting ................................................................................................................ 16 23 
5 CTI Message Protocol ............................................................................................................................ 18 24 
5.1 CTI Packet Format ........................................................................................................................................... 18 25 
5.1.1 CTI Message Format .................................................................................................................................. 20 26 
5.1.2 CTI Common Header ................................................................................................................................. 21 27 
5.1.3 CTI Signaling Messages ............................................................................................................................. 22 28 
5.1.4 CTI Report Body ........................................................................................................................................ 24 29 
5.1.5 CTI Signature ............................................................................................................................................. 26 30 
5.2 Operation ......................................................................................................................................................... 26 31 
5.2.1 CTI Discovery & Configuration ................................................................................................................. 26 32 
5.2.2 Operations .................................................................................................................................................. 28 33 
5.3 Interface to OSS ............................................................................................................................................... 30 34 
5.3.1 Timers ........................................................................................................................................................ 30 35 
5.3.2 Summary of Objects (Informative) ............................................................................................................ 30 36 
5.4 Examples of the CTI Pattern Descriptor for Fronthaul .................................................................................... 30 37 
5.5 Other O-DU Functional requirements.............................................................................................................. 32 38 
5.5.1 Reporting scope .......................................................................................................................................... 32 39 
5.5.2 Reporting accuracy ..................................................................................................................................... 32 40 
5.5.3 O-DU CTI performance ............................................................................................................................. 33 41 
6 Time alignment between O-DU and Transport ...................................................................................... 34 42 
6.1 Timing architecture options ............................................................................................................................. 34 43 
6.2 Resource allocation alignment ......................................................................................................................... 34 44 
7 Conclusion .............................................................................................................................................. 37 45 
7.1 Summary .......................................................................................................................................................... 37 46 
7.2 Open issue list .................................................................................................................................................. 37 47 
Annex A CTI Use Cases .............................................................................................................................. 38 48 
A.1 Passive Optical Network (PON) as Transport Technology ............................................................................. 38 49 
A.1.1 Dynamic Bandwidth Allocation (DBA) ..................................................................................................... 39 50 
A.1.2 DBA Latency Analysis............................................................................................................................... 39 51 
A.1.3 Cooperative Dynamic Bandwidth Allocation (CO-DBA) .......................................................................... 40 52 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   3 
O-RAN.WG4.CTI-TCP.0-v03.00 
A.1.4 PON ranging............................................................................................................................................... 42 1 
A.1.5 PON technologies ....................................................................................................................................... 42 2 
A.2 DOCSIS as a Transport Technology ................................................................................................................ 43 3 
A.2.1 DOCSIS resource scheduling ..................................................................................................................... 43 4 
A.2.2 DOCSIS Latency Analysis ......................................................................................................................... 44 5 
A.2.3 Bandwidth Report (BWR) .......................................................................................................................... 45 6 
Revision History ............................................................................................................................................... 47 7 
History .............................................................................................................................................................. 47 8 
 9 
  10 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   4 
O-RAN.WG4.CTI-TCP.0-v03.00 
Foreword 1 
This Technical Specification (TS) has been produced by O-RAN Alliance. 2 
Modal verbs terminology 3 
In the present document " shall", "shall not", "should", "should not", "may", "need not", "will", "will not", "can" and 4 
"cannot" are to be interpreted as describe d in clause 3.2 of the O -RAN Drafting Rules (Verbal forms for the expression 5 
of provisions). 6 
"must" and "must not" are NOT allowed in O-RAN deliverables except when used in direct citation. 7 
  8 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   5 
O-RAN.WG4.CTI-TCP.0-v03.00 
1 Scope 1 
The contents of the present document are subject to contin uing work within O-RAN and may change following formal 2 
O-RAN approval. Should the O-RAN Alliance modify the contents of the present document, it will be re -released by O-3 
RAN with an identifying change of release date and an increase in version number as fo llows: 4 
Release x.y.z 5 
where: 6 
x the first digit  is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, 7 
etc. (the initial approved document will have x=01). 8 
y the second digit is incremented when editorial only changes have been incorporated in the document. 9 
z the third digit included only in working versions of the document indicating incremental changes during the 10 
editing process. 11 
 12 
The present document describes the Cooperative Transport Interface (CTI). CTI is an optional interface between O-DUs 13 
and Transport Nodes of a packet-based transport network that is used to interconnect the O -DUs to a variety of O -RUs. 14 
CTI specifically targets transport Nodes that manage a shared point -to-multipoint access network. Tra nsport nodes 15 
(routers and switches) that only manage point-to-point links do not exchange CTI messages with the O-DUs. CTI consists 16 
of a CTI Transport Control plane (TC-plane) and a Transport Management (Information Model, Data Model, procedures) 17 
(TM). This document specifies the TC-plane. The TM is specified in [4].  18 
The use of CTI targets packet-based transport networks that contain Transport Nodes (TNs) that terminate one or multiple 19 
shared distribution networks, where each distribution network (one po rt on one TN) aggregates a multitude of Transport 20 
Units (TUs). This implies that the bandwidth of a distribution network is shared among multiple TUs. In the upstream 21 
direction, the TN manages this sharing by scheduling bandwidth allocations to the multipl e TUs. There are two ways to 22 
determine how much bandwidth to allocate, either statically or dynamically. Statically (i.e. continuously) granting a fixed 23 
bandwidth provides the lowest latency but requires to assign the peak rate. When the bandwidth need is below the peak, 24 
the allocated bandwidth is not fully consumed and this difference will be wasted because unavailable for other traffic. On 25 
the other hand, dynamically granting bandwidth is typically done with a reactive system in the sense that the bandwid th 26 
allocations follow the needs by monitoring the past and present traffic and buffer status.  This provides a more efficient 27 
multiplexing of multiple traffic streams by maximizing the use of the shared bandwidth, but the reaction time of the 28 
system introduces more latency. 29 
The intent of providing cooperation between the O-DU and the TN over CTI is to make the upstream bandwidth allocation 30 
by the TN pro -active by anticipating the bandwidth needs . This is possible in the upstream direction because the O -DU 31 
allocates uplink grants to the UEs for slots in the future, based on their requests. The O-DU can notify corresponding 32 
future bandwidth needs of the O -RUs based on its granting decisions. T he TN can then prepare the corresponding 33 
bandwidth allocations for the corresponding TUs. The effect is to allow for dynamic bandwidth allocation following the 34 
variations of the carried fronthaul traffic (providing statistical multiplexing on the shared network), while minimizing 35 
upstream buffering in the TU, hence keeping upstream latency low. It allows for a more efficient use of transport network 36 
resources than with a fixed allocation to peak bandwidth values, and for a lower latency than with a purely reactive 37 
allocation of bandwidth values by the TN.  38 
The CTI functionality as such is optional. If an O-DU supports CTI, it has to follow the O-RAN CTI TC (this document) 39 
and CTI TM [4] specifications.     40 
The uplink latency that CTI aims to limit is specified as “T34max” in [2]. 41 
The wording for requirements in this document follows the guidelines of RFC 2119.  42 
2 References 43 
The following documents contain provisions which, through reference in this text, constitute provisions of the present 44 
document. 45 
 46 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   6 
O-RAN.WG4.CTI-TCP.0-v03.00 
2.1 Normative references 1 
References are either specific (identified by date of publication and/or edition number or version number) or non specific. 2 
For specific references, only the cited version applies. For non -specific references, the latest version of the referenced 3 
document (including any amendments) applies. 4 
NOTE: While any hyperlinks included in this clause were valid at the time of publication, O -RAN cannot guarantee 5 
their long term validity. 6 
The following referenced documents are necessary for the application of the present document.  7 
[1] 3GPP TR 21.905: “Vocabulary for 3GPP Specifications”. 8 
[2] ORAN-WG4.CUS.0-v09.00, “Control, User and Synchronization Plane Specification”. 9 
[3] ORAN-WG4.MP.0-v09.00, “Management Plane Specification”. 10 
[4] ORAN-WG4.CTI-TMP.0-v03.00, “Cooperative Transport Interface Transport Management Procedures 11 
Specification” 12 
 13 
2.2 Informative references 14 
References are either specific (identified by date of publication and/or edition number or version number) or non specific. 15 
For specific refe rences, only the cited version applies. For non -specific references, the latest version of the referenced 16 
document (including any amendments) applies. 17 
NOTE: While any hyperlinks included in this clause were valid at the time of publication, O -RAN cannot guarantee 18 
their long term validity. 19 
The following referenced documents are not necessary for the application of the present document but they assist the user 20 
with regard to a particular subject area. 21 
[5] ITU-T Study Group 15/Question 2, G.Sup66 -201810 , “5G wire less fronthaul requirements in a passive optical 22 
network context”.  https://www.itu.int/rec/T-REC-G.Sup66-201907-I 23 
[6] CM-SP-LLX-I01-190628, “Low Latency Xhaul over DOCSIS Technology Specification”, Cable Television 24 
Laboratories, Inc 25 
[7] CM-SP-MULPIv3.1-I19-191016, “DOCSIS 3.1 MAC and Upper Layer Protocols Interface Specification” , Cable 26 
Television Laboratories, Inc 27 
 28 
3 Definition of terms, symbols and abbreviations 29 
3.1 Terms 30 
For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. 31 
A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 32 
[1]. 33 
New terms used in this document: 34 
• CTI client: a process in the O-DU that exchanges CTI messages to one or multiple CTI servers, e.g. to request a 35 
given transport capacity.  36 
• CTI server: a process in the Transport Node that exchanges CTI messages with one or multiple CTI clients, e.g. 37 
to receive capacity requests. 38 
• CTI message sender: CTI client or CTI server generating a CTI message 39 
• CTI message receiver; CTI client or CTI server receiving a CTI message 40 
 41 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   7 
O-RAN.WG4.CTI-TCP.0-v03.00 
Generic terms used in this document:  1 
• Mobile slot: a subframe in 3GPP LTE or a slot in 3GPP NR. 2 
 3 
Conventions used in this document: 4 
• The following convention applies any time a bit field is displayed in a figure. The bit field should be interpreted 5 
by reading the figure from left to right, then from top to bottom, with the MSB being the first bit so read and the 6 
LSB being the last bit so read. 7 
 8 
3.2 Symbols 9 
None. 10 
3.3 Abbreviations 11 
For the purposes of the present document, the following abbreviations apply. 12 
BWR   Bandwidth Reporting 13 
CM   Cable Modem 14 
CMTS    Cable Modem Termination System 15 
CoS   Class of Service 16 
CO DBA   Cooperative DBA 17 
CTI   Cooperative Transport Interface 18 
DBA   Dynamic Bandwidth Allocation 19 
DOCSIS   Data Over Cable Service Interface Specification 20 
DSCP   Differentiated Services Code Point 21 
eAxC   extended Antenna Carrier 22 
eNB   e NodeB (applies to LTE)   23 
gNB   g NodeB (applies to NR) 24 
GNSS   Global Navigation Satellite System 25 
HFC   Hybrid Fiber Coax 26 
L2   Layer 2 27 
L3   Layer 3 28 
LAA   Licensed Assisted Access 29 
LBT   Listen Before Talk (applies to LAA) 30 
LLID   Logical Link ID 31 
LLS   Lower Layer Split 32 
MAC   Media Access Control 33 
O-CU   O-RAN Central Unit 34 
O-DU   O-RAN Distributed Unit 35 
O-RU   O-RAN Radio Unit 36 
OLT   Optical Line Termination 37 
ONU   Optical Networking Unit 38 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   8 
O-RAN.WG4.CTI-TCP.0-v03.00 
OSS   Operations Support System 1 
PCP   Priority Code Point 2 
PON   Passive Optical Network 3 
PTP   Precision Time Protocol 4 
QoS   Quality of Service 5 
Ra, R1, R2, R3, R4:  eCPRI reference points as shown in Figure 2-9 of [2] 6 
SF   Service Flow 7 
T-CONT   Transmission Container 8 
TC   Traffic Class for IPv6 9 
Ta3, T34   Transmission delays as defined in Figure 2-9 of [2] 10 
TC-plane   Transport Control plane 11 
TDM   Time Division Multiplexing 12 
TM   Transport Management 13 
TN   Transport Node 14 
ToS   Type of Service for IPv6 15 
TPID   Tag Protocol Identifier 16 
TU   Transport Unit 17 
UDP    User Datagram Protocol 18 
UE   User Equipment 19 
VLAN   Virtual LAN 20 
WDM   Wavelength Division Multiplexing 21 
  22 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   9 
O-RAN.WG4.CTI-TCP.0-v03.00 
4 Cooperative Transport Interface (CTI) 1 
4.1 General Network Architecture and Mechanism 2 
With reference to the O -RAN CUS -plane and M -plane specification [2][3], the fronthaul reference architecture is 3 
extended to include  the cooperative transport interface and transport network, as depicted in  Figure 4-1, where the  new 4 
functions are defined as follows:    5 
 6 
Figure 4-1 :  CTI basic reference architecture 7 
Cooperative Transport Interface (CTI):  an O-RAN defined interface designed to support real-time and non-real time 8 
cooperation between the eNB/gNB and the resource allocation based transport networks.  9 
Transport Network:  transfers lls-C/U/S and lls-M traffics between O-DU and O-RU. 10 
Transport Node (TN): a master transport network node at O-DU side.  A TN schedules one or multiple TUs to perform 11 
resource allocation for upstream transmission.   It also interfaces with O-DU via CTI and decodes T-plane messages in 12 
order to coordinate its own scheduling with forward-looking traffic requirements communicated by O-DU.  13 
Transport Unit (TU): a slave transport network node at O-RU side. The control and management interface between TN 14 
and TU is out of scope of this document. 15 
 16 
CTI TC-plane: (Transport Control plane). The TC-plane  refers specifically to real-time Transport Control between the 17 
CTI Client in the O-DU and the CTI Server in the TN.. 18 
CTI TM (Transport Management) . The TM Information Model / Data Model model refers to the configuration of 19 
parameters for the CTI functionality on the O-DU, and to those CTI configuration parameters that need to be coordinated 20 
between mobile SMO and transport network OSS. The purpose of CTI (TC -plane and TM model) is  to support 21 
cooperation between the O-DU and the TN in the transport network. 22 
 23 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   10 
O-RAN.WG4.CTI-TCP.0-v03.00 
The interface between TN and TU is transport network specific and is out of the scope of this specification. 1 
Figure 4-2 shows how the CTI relates to the transport network used for fronthaul. The uplink latency T34max is specified 2 
between the R3 reference point of the O-RU and the R4 reference point of the O-DU. Note that additionally there could 3 
be intermediate nodes (switches or routers) between the O -DUs and TNs (not shown in the figure). Th ese nodes do not 4 
interact with the CTI process. However, they can introduce extra latency, which shall then be subtracted from the T34max 5 
limit to obtain the resulting latency budget for the TN-TU part of the transport network. 6 
 7 
Figure 4-2 :  Detailed view of CTI  8 
 9 
 10 
4.1.1 High Level CTI Message Flow 11 
Figure 4-3 below illustrates a high level view of how CTI works. For simplification only a single O -RU and a single O-12 
DU are shown. The UEs are not shown in this figure. 13 
 14 
 15 
 16 
Figure 4-3 :  Message Flow for CTI in UL Operations 17 
The actions and related message exchanges are as follows: 18 
1. O-DU determines UE grants for slot n. 19 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   11 
O-RAN.WG4.CTI-TCP.0-v03.00 
2. O-DU sends the CTI message to the TN to request fronthaul bytes for slot n, sufficiently in advance (see Figure 1 
6-1 for background). 2 
3. O-DU sends DL U-plane and C-plane data (packets) for slot n.  3 
4. O-DU sends C-plane data to the O-RU indicating commands for reception of slot n. 4 
5. Upon receiving UL data from its UEs in symbols of slot n, O -RU sends U -plane data (possibly also C -plane 5 
data). Data is then buffered in TU until step 6. 6 
6. TN grants to the corresponding TU based on the CTI message. 7 
7. TU transports UL U-plane (and possibly C-plane) packets to the TN when receiving grants from step 6. 8 
8. After transport from TU to TN and from TN to the O-DU, UL U-plane (and possibly C-plane) packets arrive at 9 
the O-DU.  10 
 11 
Steps 3 and 4 can occur around the same time in any order. Step 2 can occur independently of the time of steps 3 and 4. 12 
Step 5 occurs per OFDM symbol  carrying UL data . The frequency of occurrence of step s 6 + 7 depends on TN 13 
implementation. A step 7 is followed by a step 8. 14 
Note: the symbols which carry data and the symbol duration can vary depending on the use case, this is not shown on this 15 
simplified diagram 16 
Since the O-RU sends the IQ data in the form of U-plane packets every OFDM symbol time rather than queuing the data 17 
and sending them at the end of the slot, the TN can schedule transport grants each time u -plane packets arrive at the TU. 18 
Doing so reduces the latency on the transport link, compared to scheduling grants only at the end of a slot. The frequency 19 
of the transport grant is up to the TN implementation (each grant can provide transport network resource for fronthaul 20 
packets pertaining to 1 symbol, more than 1 symbol, or a slot), and depends in part on the granularity of the TN scheduling 21 
interval. 22 
4.1.2 Packet-based Transport Network topologies supported by CTI  23 
The simplest way to provide connectivity for Fronthaul is to provide one point-point link (e.g. optical fiber) between each 24 
O-RU network interface and its correspodning O-DU. One O-DU can serve multiple O -RUs, and each O-RU can have 25 
multiple network interfaces  and multiple radio carriers. In such case there is no sharing of transport resources, each 26 
connection has its dedicated bandwidth and physical link, the CTI mechanism is not required. 27 
 28 
Figure 4-4 : Direct interconnections between multiple O-DUs and multiple O-RUs over point-point links 29 
Things change when a packet-based transport network is used to interconnect the O-DUs and their corresponding O-RUs. 30 
The use of CTI targets transport networks that contain Transport Nodes (TNs) that terminate one or multiple shared 31 
distribution networks, where each distribution network (one port on one TN) aggregates multiple Transport Units (TUs). 32 
This implies that the bandwidth of a distribution network is shared among multiple TUs. In the upstream direction, the 33 
TN manages this sharing by scheduling bandwidth allocations to the multiple TUs.  34 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   12 
O-RAN.WG4.CTI-TCP.0-v03.00 
The concept of CTI can be applied to inform the relevant Transport Nodes (TN) of the required uplink traffic load and 1 
traffic timing that each O -RU to O -DU connection will have to carry. There is a need to uniquely indentify the 2 
corresponding connection in each traffic request being signaled over CTI. This identifier is added by the O-DU, and must 3 
be commonly known by both the O -DU and TN. However, the identifier  should be agnostic of any  TN-technology-4 
specific parameters in order to maintain general applicability of the concept to any technology. The TN then has the 5 
responsibility to translate this generic identifier into its own  technology-specific parameter s, e ,g. a Tra nsmission 6 
Container (T-CONT) or Logical Link ID (LLID) for PON (the TN being an OLT) or a Service Flow (SF) for DOCSIS 7 
(the TN being a CMTS). 8 
The uniqueness of the identifier must allow for multiple architecture use  cases, whereby the O -DU should not be 9 
dependent on the underlying Transport Network topology. The diffe rent architecture use cases are illustrated in Figure 10 
4-5. Basically, O-DUs and TNs can be connected in  multiple ways (each O-DU can connect to multiple TN s, each TN 11 
can connect to multiple O-DUs).  12 
 13 
Figure 4-5 : Possible interconnections between multiple O-DUs and multiple O-RUs over a transport network 14 
consisting of a multitude of Transport Nodes (TNs) and their corresponding shared distribution networks with 15 
multiple Transport Units (TUs). 16 
Basically, a “fronthaul traffic flow” is a flow of packets that requires a given capacity and latency limit. A unique 17 
identification is needed in the TN to convert a reque st for a fronthaul traffic flow into a scheduling action on the 18 
corresponding managed entity (Traffic Container / alloc-ID or Logical Link ID in PON or Service Flow in DOCSIS) on 19 
the corresponding TU (PON ONU or DOCSIS CM).  20 
The unique identification consists of two parts. The first is called “CTI Session ID” and refers uniquely and globally to a 21 
specific O-RU physical interface  (used by one or multiple radio carriers). In case there is no differentiation beyond the 22 
O-RU physical interface, the CTI Session ID is sufficient. The second is called “Flow ID”, which allows to differentiate 23 
and report different fronthaul flows per CTI session. The CTI Flow ID is unique only within the context of its CTI Session 24 
ID, the same CTI Flow IDs can be re-used across different sessions. See section 5 for more details. 25 
Examples of using the CTI Session ID and CTI Flow ID are shown in Figure 4-5: 26 
• O-RU 1: 1:1 mapping between one O -DU scheduler and one O -RU interface (single radio carrier instance), 27 
carrying a single flow. A single CTI Session ID is sufficient. A single report is communicated. 28 
• O-RU 2: 1:1 mapping between one O -DU scheduler and one O -RU interface (single radio carrier instance), 29 
carrying multiple flows. A single CTI Session ID is sufficient. Multiple reports with different Flow IDs can be 30 
used to differentiate the flows. 31 
• O-RU 3 and O-RU 4: Multiple O-RUs being served by a single TU, each with 1:1 mappings between an O -DU 32 
scheduler and an O-RU interface. Each O-RU has one different CTI session ID.  33 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   13 
O-RAN.WG4.CTI-TCP.0-v03.00 
• O-RU 5: N:1 mapping between multiple radio carrier instances (e.g. multiple sectors, multiple frequency bands) 1 
and one O-RU interface. A single message with a single CTI Session ID reporting the sum of the different radio 2 
carrier loads is sufficient.   3 
• O-RU 6: Multiple 1:1 mappings between one O -DU scheduler and one O -RU interface, on the same O -RU and 4 
TU. One CTI Session ID is used per O-RU interface. 5 
Notes 6 
• These high-level use cases can also be combined together (e.g. Multiple flows on multiple O-RU interfaces). The 7 
protocol also supports such combined use cases. 8 
• The use case of multiple network interfaces per O-RU radio instance (for bonding or redundancy purposes) is out 9 
of scope of this version on CTI.  This specification only considers a single network interface per O -RU radio 10 
instance. In case of multiple O-RU radio instances, each will use a single O -RU network interface (which could 11 
be the same as the other radio instances, or a dedicated one (like O-RU 6 in Figure 2-5). 12 
• The CTI client side generating the CTI reports can be implemented as multiple instances per O -DU. 13 
• The CTI server side treating the CTI reports can be implemented as multiple instances per TN. 14 
There are two possible ways to populate the  CTI Session IDs in the O -DUs and TNs, either statically by means of 15 
preconfiguration via their OAM systems, or dynamically by means of an auto -discovery mechanism (see section 5.2.1). 16 
The CTI operation between the O -DU and the TN is  specified independently of the configuration method of the CTI 17 
Session IDs. 18 
4.1.3 Forwarding and addressing of CTI messages  19 
The CTI messages generated by a CTI instance in the O-DU must be forwarded to and addressed to the corresponding 20 
CTI peer in the corresponding TN. Depending on the interconnection between the O-DUs and the TNs, CTI messages are 21 
encapsulated at Layer 2 or at Layer 3: 22 
• Point to point links; Layer 2 or Layer 3 23 
• Ethernet switches; Layer 2 or Layer 3 24 
• IP Routers; Layer 3 25 
Encapsulation details are described in section 5.1. 26 
4.2 Information Required for Cooperative Transport 27 
4.2.1 From O-DU to Transport  28 
The O-DU needs to convey the bandwidth needs per O -RU interface per time interval with a unique identifier of the 29 
traffic being reported. There is also the option to convey information about load patterns inside the reported time interval.   30 
A report carries the following information; 31 
• Time interval End (time at which all fronthaul packets pertaining to that time interval  have been sent by the O -32 
RU) 33 
• Time interval Start (time at which fronthaul packets pertaining to that time interval start to be sent by the O -RU) 34 
• CTI Session ID + optionally Flow ID 35 
• Required load for the time interval of the session (and flow in the session) 36 
The TN needs to correlate the unique identifi cation (CTI Session ID + optionally Flow ID) to a corresponding unique 37 
traffic container on a corresponding TU. The T N needs to interpret the required load and convert it to bandwidth 38 
allocations corresponding to the reported time interval.  39 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   14 
O-RAN.WG4.CTI-TCP.0-v03.00 
Note that the TN should also be aware of the latency budget it has available per O-RU interface (or per flow per O -RU 1 
interface in case of differentiation between multiple flows) . This is the portion of T34max for the TN-TU segment. It 2 
allows the TN to give relative priorities between the fronthaul connections it manages. As this parameter is a fixed value, 3 
it is not carried in CTI messages but should be configured on the TN  by its OAM. 4 
4.2.2 From Transport to O-DU 5 
Uplink CTI messages can be used for the specific case of notification of PON ranging (see  Annex A.1.4 for background 6 
on PON ranging). The uplink interruptions caused by PON ranging will be felt in the O-DU as jitter or packet drop on the 7 
upstream fronthaul packets. In worst case, the interruptions can be in the order of several hundreds of µs.  8 
Such relatively short interruptions  will not cause an outage of the radio system (no action by the network, no radio link 9 
interruption), but can still have detrimental effects, depending on whether the data is protected by HARQ and on the way 10 
the O-DU would react to the perceived jitter or loss.  11 
However, an adaptive RAN scheduler might conclude the degradation is due to an impaired radio channel, which would 12 
be inappropriate an d could lead to wrong reactions by the O -DU, further degrading performance. To avoid thi s, the O-13 
DU can benefit from knowing when the uplink is subject to interruptions due to the transport network.  14 
A specific CTI signaling message is defined in section 5.1.3.1 that allows the TN (OLT) to notify the O -DU about an 15 
upcoming ranging event.  One event has a maximum duration and contains a series of interruptions.  A PON ranging 16 
notification carries the following information; 17 
• Event start and Maximal Event duration in which ranging interruptions will occur 18 
• Maximal duration per interruption (corresponding to the quiet window size on the PON)  19 
• List of CTI Session IDs impacted by the ranging event 20 
The notification message must arrive at the O-DU at least 10  ms in advance of  the event. The O-DU is free to apply 21 
whatever proprietary action after reception of the ranging notifications. 22 
 23 
Figure 4-6 : Notification of PON ranging upstream interruptions 24 
4.3 Calculation of CTI reports by O-DU   25 
4.3.1 Required load 26 
Uplink fronthaul traffic from O -RU to O-DU can consist of U -plane, C-plane, and M-plane packets. The load reporting 27 
by CTI must allow the TN to follow the traffic variations over time, but this needs prediction of this traffic.  28 
4.3.1.1 U-plane 29 
The U-plane uplink traffic can be predicted by the O -DU based on the decisions made by the RAN schedulers  and other 30 
processes. As the TN only handles aggregate traffic from the O -RUs, the O -DU must provide information about the 31 
aggregate traffic load ove r all UEs per O -RU interface  (and optionally per flow per O -RU interface)  at a given time 32 
interval. The prediction accuracy depends on the capability of the O -DU to estimate the processes (e .g. compression) 33 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   15 
O-RAN.WG4.CTI-TCP.0-v03.00 
done by the O -RU. The O-DU must take enough margin so as to not underestimate the actual traffic being generated 1 
(underestimation leads to accumulated buffering hence latency and loss). On the other hand, the O -DU should keep the 2 
margin as low as possible in order to reduce overestimation (overestim ation reduces the efficiency of the transport 3 
system). 4 
The CTI protocol allows for differentiating between different flows on the same O-RU interface. Each flow is linked to a 5 
Layer 2 and/or Layer 3 mapping.  6 
For cases where one O-RU (or O-RU interface) aggregates fronthaul traffic from multiple RAN schedulers (e.g. multiple 7 
sectors), the O-DU must be able to report the aggregated traffic load for the O-RU (or O-RU interface). 8 
4.3.1.2 C-plane 9 
Uplink C-plane messages are not present except for the special case of Licensed Assisted Access (LAA). If LAA is used, 10 
the C-plane uplink traffic consists of messages for Listen Before Talk ( LBT).  LBT is performed per carrier. There can 11 
be more than one carrier per RU.  It is expected that typical deployments will be maximum 4 carriers. The LBT process 12 
depends on the channel utilization and is hence unpredictable, but it is possible to determine the following worst -case 13 
assumptions: 14 
- Repetition of LBT_PDSCH_RSP every subframe (1ms) of (message size 25 Bytes) . With max 4 carriers this 15 
gives 4 such messages per subframe. 16 
- Repetition of the other messages LBT_DRS_RSP, LBT_Buffer_Error, LBT_CWCONFIG_RSP (message sizes 17 
of 21 Bytes) is much less, we can assume one of those messages every subframe (1ms) 18 
- Assuming transport over UDP/IPv4/tagged Ethernet gives encapsulation overhead of 50 Bytes per message  19 
- Full burstiness; the O-RU sends these 5 messages back-to-back close to the end of the subframe, but exact timing 20 
can vary. 21 
- The average C-plane uplink load is 3 Mbit/s per O-RU.  22 
 23 
In terms of latency, there are two aspects to take care of. First, the typical latency requirement for LBT C-plane messages 24 
themselves is 0.5ms (minus some margin for processing). Second, the presence of uplink C-plane messages may not push 25 
the latency of uplink U-plane messages above their tolerance threshold. 26 
There are two ways to accommodate for the uplink C-plane messages; 27 
 28 
Including C-plane traffic in CTI messaging 29 
The C-plane can be part of the CTI reporting when the CTI client continuously adds a certain fixed bandwidth ( eg based 30 
on the above worst -case example) for the C -plane traffic in all its reports. The advantage is that the transport network 31 
does not need to be aware of the nature of such traffic and does not need extra configu ration, and the O -DU can use a 32 
simple constant term in its calculations. 33 
Such allocated bandwidth for C -plane messages must ensure that they are not buffered too long, so that their latency is 34 
respected (assuming 0.45 ms for including processing time). In the example above t his requires to include enough extra 35 
bandwidth in each report to transmit 3 Mbit/s in less than 0.45ms,  being an extra  bandwidth of at least 6.6 Mbit/s.   36 
(Because the exact timing of the LBT messages is not known, even if the CTI reporting would be more frequent than the 37 
frequency of LBT messages (1ms), it would not be accurate to estimate which report would be capturing the LBT 38 
messages, so the extra bandwidth must be granted in each report). 39 
The impact of C-plane on U-plane latency is due to the sharing of the same TU buffer for U -plane and C-plane packets, 40 
and the TDM nature of the transport network (bandwidth allocation is not (fully) done by line rate adjustment but (also) 41 
by TDM burst adjustment). C-plane packets in the head of the queue will impact U -plane packets behind them. U-plane 42 
traffic typically has stricter transport latency requirements than the 0.5ms (or 0.45ms) for the C-plane traffic.  43 
- If the U-plane bandwidth gets small compared to the C-plane bandwidth and the combined allocated bandwidth 44 
is just their sum, then the C-plane packets may block the U-plane packets behind them for too long before being 45 
transmitted. Hence a floor value of allocated bandwidth (even if U -plane traffic would be very low) could be 46 
needed. 47 
- Most of the time the U-plane traffic is much higher than the C-plane traffic, but even so if the allocated bandwidth 48 
is just the sum of C- and U-plane traffic, the U-plane traffic may need more TDM bursts to be fully transmitted 49 
than without the C -plane traffic. This increases latency. Using a higher value than the actual C-plane traffic as 50 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   16 
O-RAN.WG4.CTI-TCP.0-v03.00 
the extra term in the CTI report calculation  could be needed to reduce this impact. This must be estimated  1 
depending on the technology of the Transport network and the latency requirements.    2 
 3 
In summary, this approach can be chosen by configuring at the CTI client (per CTI session ID) a parameter for a fixed 4 
extra bandwidth (#bytes to be added per report) and a parameter for a minimum total bandwidth (minimum #bytes to be 5 
used per report independently of the actual need). The CTI server and TN is not aware of the differences between U-plane 6 
and C-plane. 7 
  8 
Separate transport flows for uplink C-plane traffic and uplink U-plane traffic 9 
Alternatively, for full latency isolation of C -plane and U -plane traffic, t he transport system may offer a dedicated and 10 
fixed uplink transport channel that can be used for LBT messages. The C -plane packets would have to be uniquely 11 
identified for classification to the transport flow  (eg by means of PCP or DSCP marking) . The C-plane traffic is then 12 
decoupled from the CTI reporting, CTI only handles U-plane uplink traffic in CTI -controlled transport channel. The U-13 
plane traffic will not share the same TU buffer and will experience latency impact from the C -plane traffic. 14 
The transport system should provide a dedicated bandwidth to the C-plane transport channel that will provide sufficiently 15 
low latency. This requires the O-RU to be configured to apply differentiated marking between C-plane and U-plane traffic, 16 
and coordination between Transport and Mobile management systems to configure an appropriate value of the dedicated 17 
C-plane transport channel bandwidth. In CTI messages there is no need to take C -plane traffic into account, so the fixed 18 
extra bandwidth and minimum total bandwidth can be set to 0 in the configuration of the CTI client. 19 
 20 
4.3.1.3 M-plane 21 
The M-plane uplink traffic is not fully predictable by the O -DU. However, that traffic is much less latency-sensitive and 22 
can be differentiated by different Layer 2 or Layer 3 marking from U -plane and C -plane. It can be kept out of CT I 23 
reporting and transported separately from the U-plane and C-plane traffic by the TN.   24 
4.3.2 Time interval of the reported load 25 
The TN must be informed about the time interval in which the reported load will be arriving at the TU interface. Each 26 
CTI message can carry the  start and end of uplink fronthaul transmission on the O-RU R3 interface (please see section 27 
5.1.4.2 and 5.1.4.3).  28 
There is an inherent O-RU latency Ta3 between the antenna interface Ra and the uplink reference point R3, characterized 29 
by the O-RU category with a margin of 20µs or 50µs (See Table B -5 in [2]). The O-DU is aware of the category p er O-30 
RU.  31 
In CTI a time of day is communicated as a Base time (granularity in ns) + an Offset (granularity in µs), see section 5.1.4.1. 32 
Accuracy of time references (Base + Offset) shall be better than half the category margin, namely 10µs (-5µs/+5µs). 33 
 34 
2.3.3 Exchange rate of CTI Reporting 35 
4.3.2.1 Equipment capability (CTI_MIN) 36 
Depending on the implementation, the O-DU can be limited by a maximum generation rate of CTI messages, and the TN 37 
can be limited by a maximum reception rate of CTI messages. When using a given combination of O -DU and TN, the 38 
applied CTI message exchange rate must be supported by both sides.  39 
In order to select a workable CTI exchange rate between a given O -DU and a given TN, the supported capability of the 40 
O-DU and TN must be known. This is expressed as a performance parameter CTI_MIN for the O -DU and for the TN. 41 
CTI_MIN represents the minimal supported spacing between two CTI messages. When an equipment supports a given 42 
CTI_MIN, higher values shall also be supported. The CTI_MIN values can be categorized as in Table 2 -1. For example 43 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   17 
O-RAN.WG4.CTI-TCP.0-v03.00 
a device with CTI_MIN higher than 0.5ms and lower or equal to 1 ms falls in category 3. It can also behave as a device 1 
of category 1 or 2. 2 
Table 2-1 : CTI message rate categories for O-DU or TN 3 
Category Capability of equipment: 
supported message interval  
1 5 ms 
2 2 ms 
3 1 ms 
4 0.5 ms 
5 0.25 ms 
 4 
Note that a category only represents a capability, it does NOT mandate the use of that particular value as actual CTI 5 
message exchange rate. The selection of the actual rate is described hereunder.  6 
4.3.2.2 Determining common nominal CTI rate (CTI_NOM) 7 
A common CTI rate must be selected  for a given combination of O -DU and TN and a given mobile slot duration. The 8 
common rate is a nominal value for the spacing between two messages, expressed as CTI_NOM.  9 
In principle, the maximum CTI exchange rate that is ever needed is one reporting message per mobile slot duration, as 10 
this is the granularity at which the RAN schedulers can allocate traffic. But such high e xchange rate will not always be 11 
possible or even needed. If the common CTI rate is less than once per every mobile slot, multiple mobile slots must be 12 
grouped in the same CTI reporting message, so CTI_NOM will always follow an integer number (N ≥ 1) of mobile slot 13 
units. CTI_NOM shall comply to both of the following:  14 
1) Shall be supported by O-DU and TN:  15 
CTI_NOM  ≥  max(CTI_MIN(O-RU), CTI_MIN(TN)) 16 
 17 
2) Shall be a multiple of mobile slot duration:  18 
CTI_NOM = N × (mobile slot duration), where N is a non-zero integer, and depends on the latency requirements. 19 
 20 
Example: Assuming a mobile slot of 0.5ms, if an O-DU supports a CTI_MIN of 0.5ms and a TN supports a CTI_MIN of 21 
1ms, the fastest common CTI exchange rate would be CTI_NOM = 1ms (containing 2 mobil e slots). However, if the 22 
required latency can still be reached by applying a higher CTI_NOM like 1.5ms (3 mobile slots) or 2ms (4 mobile slots), 23 
it is allowed to use such larger values as well. 24 
CTI_NOM has to be interpreted as follows: 25 
- If no load is to be reported for some period, CTI messages don’t need to be sent at CTI_NOM rate, so the spacing 26 
can be larger. Note that keepalives are still exchanged periodically in any case. See section 5.2.2 for background. 27 
- CTI_NOM represents an average rate and not a strict message spacing, there can be some jitter on CTI messages 28 
themselves, see section 4.2 for background. 29 
 30 
The sequence number i nside each CTI message can be used to detect the drop of a CTI message. Further actions for 31 
missing or out-of-order sequence numbers are not specified in this specification. 32 
  33 
  34 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   18 
O-RAN.WG4.CTI-TCP.0-v03.00 
5 CTI Message Protocol 1 
This section describes the mandatory functions of the CTI  protocol. Figure 5-1 is a reference diagram that includes the 2 
ORAN system and transport system functional blocks. The transmission system could be a PON or DOCSIS tran sport 3 
system. 4 
 5 
 6 
Figure 5-1 : Fronthaul Reference Diagram 7 
The O-RU may have one or more carriers (e.g., multiple antennas, multiple sectors), each corresponding to one eAxC and 8 
one RAN scheduler. One RAN scheduler can manage multiple carriers. The O-RU may also have one or more network 9 
interfaces between itself and the TU. The O -RU is responsible for associating byte streams from each carrier 10 
(antenna/sector) to a unique network interface. The CTI message describes the byte flow across a single network interface.  11 
Requirements are only listed for the ORAN components. This document provides the expectation on the transport 12 
network. Any parameter quoted as having a value “N” is a variable that is unique per usage. Note that N:1 and N:N in the 13 
above figure indicate many to 1, and many to many relations, respectively.   14 
5.1 CTI Packet Format 15 
The bit order and Byte order in which all CTI messages are transported shall follow the order shown in Figure 5-2. 16 
 17 
Figure 5-2 : Order of transmission of CTI messages 18 
 19 
The O-DU shall support Ethernet II as Layer 2, including the tagging aspects: 20 
• untagged Ethernet 21 
• single tagged (802.1Q) Ethernet 22 
• dual-tagged (802.1ad) Ethernet 23 
Use of Ethernet by the O-DU is mandatory. The choice of tagging is left to the operator. 24 
Support of IPv4 as Layer 3 is mandatory in the O-DU. Use of IPv4 or IPv6 by the O-DU is optional. When IPv4 or IPv6 25 
is used, CTI is carried over UDP. 26 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   19 
O-RAN.WG4.CTI-TCP.0-v03.00 
The CTI messages are exchanged between the CTI client located in the O-DU and the CTI server located in the TN. A 1 
message is either sent from the O-DU to the TN or from the TN to the O-DU. 2 
The CTI client and CTI server shall format the CTI messages specified in Figure 5-3 and Table 5-1, Table 5-3, and Table 3 
5-7. 4 
 5 
Figure 5-3 : CTI Message Format.  6 
The message is either transported over UDP/IP over Ethernet (using IPv4 or IPv6 Ethertype), or directly over 7 
Ethernet (using O-RAN Ethertype and O-RAN Protocol subtype). 8 
When IP is not used, the fields are (example for 802.1Q): 9 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   20 
O-RAN.WG4.CTI-TCP.0-v03.00 
• Ethernet MAC destination address is the MAC address of the CTI message receiver 1 
• Ethernet MAC source address is the MAC address of the CTI message sender 2 
• 802.1Q TPID value 0x8100 which indicates the presence of a VLAN header 3 
• 802.1Q PCP is determined by configuration 4 
• 802.1Q VLAN ID is determined by configuration 5 
• EtherType has value of 0x9433, dedicated for use by O-RAN. 6 
• A 2-byte  Protocol subtype. The protocol subtype for CTI is 0x0001.  7 
 8 
When IP is used, the fields are (example for 802.1Q): 9 
• Ethernet MAC destination address is the MAC address of the CTI message receiver corresponding to its IP 10 
address (or the interface of the next hop router) 11 
• Ethernet MAC source address is the MAC address of the CTI message sender corresponding to its IP address (or 12 
the interface of the last hop router) 13 
• 802.1Q TPID value 0x8100 which indicates the presence of a VLAN header if it is included 14 
• 802.1Q PCP is assigned by the operator 15 
• 802.1Q VLAN ID is assigned by the operator 16 
• EtherType is value 0x0800 (IPv4) or 0x86DD (IPv6) 17 
• IPv4 ToS / IPv6 TC is assigned by configuration 18 
• IPv4 Protocol Field = UDP ; IPv6 Next Header Field = UDP 19 
• the IP source address is the IP address of the sender 20 
• the IP destination address is defined by the sender’s OSS System 21 
• the UDP source port is defined by the sender’s OSS System, and 22 
• the UDP destination port is defined by the sender’s OSS System 23 
The contents of the payload (Ethernet or UDP) contain the CTI message elements as described in Table 5-1, followed by 24 
an optional CTI Signature, as defined in Section 5.1.5. The optionality of the CTI Signature and how it is configured will 25 
be defined in a future release of this specification.  26 
For processing simplicity at TN, a CTI message shall not be fragmented over multiple packets or frames. 27 
Note that the configuration of L2/L3 parameters for CTI transport is described in [4]. 28 
5.1.1 CTI Message Format 29 
A CTI message either conveys CTI reports or CTI signaling. In both cases, the message has a common message header. 30 
For CTI report  (CTI-Report) message, the CTI message comm on header is followed by a single report body. For CTI 31 
signaling (CTI-Signaling) message, the CTI message common header is followed by single signaling body , as shown in 32 
Figure 3-4. 33 
 34 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   21 
O-RAN.WG4.CTI-TCP.0-v03.00 
 1 
 Figure 5-4 : Structure of CTI-Signaling Messages and CTI-Report Messages  2 
 3 
A CTI report body can contain one or more report entries. Each report entry describes one CTI flow. A CTI flow could 4 
correspond to a CoS. A CTI report body can describe: 5 
• One or more mobile slots with a single report entry 6 
• More than one mobile slots with multiple report entries 7 
• One or more flows within a mobile slot by using multiple report entries  8 
• One of more flows across multiple mobile slots by using multiple report entries 9 
The typical packet length would be as follows. 10 
• (22+20+8+8+9+6) 73 bytes for IPv4 over 802.1Q, 1 CTI Type 1 Row with no CTI Type 1 Extension Row and 11 
no CTI Signature 12 
• (22+20+8+8+9+4*6) 91 bytes for IPv4  over 802.1Q, 4 CTI Type 1 Rows with no CTI Type 1 Extension Row 13 
and no CTI Signature 14 
• (22+40+8+8+9+4*6) 111 bytes for IPv6 over 802.1Q, 4 CTI Type 1 Rows with no CTI Type 1 Extension Row 15 
and no CTI Signature 16 
5.1.2 CTI Common Header 17 
Table 5-1 : CTI Message Common Header 18 
Information Element Size Description 
 CTI Common Header (8 bytes) 
Protocol Version 4 bits Version number of CTI message 
Reserved 2 bits Reserved. Sender sets all bits to zero. Receiver ignores all bits 
Header Format 1 bit 
0 = CTI signaling body 
1 = CTI report body 
CTI Signature 1 bit 
0 = Signature is not attached 
1 = Signature is attached 
   
Sequence number 8 bits Used for detecting dropped messages 
CTI Session ID 6 bytes 
Globally unique network interface ID 
0x00 0x00 0x00 0x00 0x00 0x00 : null session 
 19 
The version field is set to 1, referring to the current version of CTI TC-plane specification. 20 
The header format bit indicates the nature of the message body. 21 
The CTI Signature bit indicates if the signature is attached to the current message. 22 
The sequence field is incremented by one for each CTI message sent and continuously wraps after a count of  256. 23 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   22 
O-RAN.WG4.CTI-TCP.0-v03.00 
The CTI Session ID is a globally unique identifier. Typically, it corresponds to MAC address of the O-RU’s physical 1 
interface for which the bytes traverse that the CTI message describes. If the sender does not have a valid CTI Session ID, 2 
the null session is inserted.  3 
5.1.3 CTI Signaling Messages 4 
The CTI signaling message types and the body content each type contains are listed in Table 5-2. 5 
Table 5-2 : CTI Signaling Messages 6 
CTI Signaling Message Signaling Body Content 
CTI-Beacon The CTI-Beacon is sent from the O-DU to the TN. 
Shall contain: 
• Message Type, Length 
CTI-Beacon-Ack The CTI-Beacon-Ack is sent from the TN to the O-DU. 
Shall contain: 
• Message Type, Length 
CTI-Keep-Alive The CTI-Keep-Alive is sent between the O-DU and the TN. 
Shall contain 
• Message Type, Length 
TN Ranging Notification The TN ranging notification is sent from the TN to the O-DU  
Shall contain 
• Message Type, Length 
• TN Ranging TLVs 
 7 
5.1.3.1 CTI Signaling Body 8 
Table 5-3 : CTI Signaling Body 9 
Information Element Size Description 
Message Type 1 byte 
CTI Signaling Message Type 
  0 = CTI-Beacon 
  1 = CTI-Beacon Ack 
  2 = CTI-Keep-Alive 
  3 = TN Ranging Notification (RN) 
The values of 4 to 255 are reserved 
Length Field 2 bytes Length field from the next byte to the end of the TLV field. 
Parameter Field N Nested TLVs 
 10 
The signaling body is used to send information that is not request information between the CTI server and CTI client. A 11 
signaling message shall not span more than one Ethernet frame. 12 
5.1.3.2 CTI Signaling TLVs 13 
Table 5-4 : CTI Signaling TLVs 14 
Type Length Value 
1 4   TN Ranging Start Time, PTP format, seconds field 
2 4   TN Ranging Start Time, PTP format, nanoseconds field 
3 3   TN Ranging Maximum Event Duration, in units of 1.024 µs 
4 1   TN Ranging Maximum Interruption Size, in units of 2.048 µs 
5 Variable N+1     TN Ranging Impacted Sessions 
5.1 1      TN Ranging Amount of Session IDs 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   23 
O-RAN.WG4.CTI-TCP.0-v03.00 
5.2 Variable N      TN Ranging List of Session IDs 
 1 
Table 5-4 shows TLVs within their hierarchy. The type expression “x.y.z” wou ld refer to a sub-type value of “z” that is 2 
contained within a next higher level TLV with a sub-type of “y” which in turn is contained within a top level TLV of type 3 
“x”. The type field and length field are always one byte in size. The value in the length field is the length of the value 4 
field. A length of “N” indicates a variable size of the corresponding value field.  5 
5.1.3.3 Examples of CTI Signaling Messages 6 
Table 5-5 and Table 5-6 illustrate the structure of some example messages. 7 
Table 5-5: Example of CTI-Beacon-Ack Signaling Message 8 
Name Length (value) 
[Header] Version nb 4 bits 
[Header] Reserved 2 bits 
[Header] Header format  1 bit (value = 0) 
[Header] CTI signature 1 bit 
  
[Header] Sequence number 1 Byte 
[Header] CTI session ID 6 Bytes 
[Body] Message type 1 Byte (value = 0x01) 
[Body] Length field 2 Bytes (value = 0x00) 
 9 
Table 5-6: Example of TN Ranging Notification Signaling Message with 2 CTI Session IDs 10 
Name Length (value) 
[Header] Version nb 4 bits 
[Header] Reserved 2 bits 
[Header] Header format  1 bit (value = 0) 
[Header] CTI signature 1 bit 
  
[Header] Sequence number 1 Byte 
[Header] CTI session ID 6 Bytes 
[Body] Message type 1 Byte (value = 0x03) 
[Body] Length field 2 Bytes (value = 0x29) 
[Body] TN ranging start time, s – T 1 Byte (value = 0x01) 
[Body] TN ranging start time, s – L 1 Byte (value = 0x04) 
[Body] TN ranging start time, s – V 4 Bytes 
[Body] TN ranging start time, ns – T 1 Byte (value = 0x02) 
[Body] TN ranging start time, ns – L 1 Byte (value = 0x04) 
[Body] TN ranging start time, ns – V 4 Bytes 
[Body] TN ranging max event duration - T 1 Byte (value = 0x03) 
[Body] TN ranging max event duration – L 1 Byte (value = 0x03) 
[Body] TN ranging max event duration - V 3 Bytes 
[Body] TN ranging max interruption size - T 1 Byte (value = 0x04) 
[Body] TN ranging max interruption size – L 1 Byte (value = 0x01) 
[Body] TN ranging max interruption size - V 1 Byte 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   24 
O-RAN.WG4.CTI-TCP.0-v03.00 
[Body] TN ranging impacted sessions - T 1 Byte (value = 0x05) 
[Body] TN ranging impacted sessions – L 1 Byte (value = 0x13)  
[Body]     TN ranging amount of session IDs – T 1 Byte (value = 0x01) 
[Body]     TN ranging amount of session IDs – L 1 Byte (value = 0x01) 
[Body]     TN ranging amount of session IDs – V 1 Byte (value = 0x02) 
[Body]     TN ranging list of session Ids, nb1 – T 1 Byte (value = 0x02) 
[Body]     TN ranging list of session Ids, nb1 – L 1 Byte (value = 0x06) 
[Body]     TN ranging list of session Ids, nb1 – V 6 Bytes 
[Body]     TN ranging list of session Ids, nb2 – T 1 Byte (value = 0x02) 
[Body]     TN ranging list of session Ids, nb2 – L 1 Byte (value = 0x06) 
[Body]     TN ranging list of session Ids, nb2 – V 6 Bytes 
 1 
 2 
5.1.4 CTI Report Body 3 
Table 5-7 : CTI Report Body 4 
Information Element Size Description 
 CTI Report Message Body (9 bytes) 
CTI Base seconds 32 bits Absolute time value directly derived from the 1588v2 timestamp based on the lower 
four bytes of the PTP "seconds" field and the full value of the PTP "nanoseconds" 
field. The value typically corresponds to a slot boundary on the O-RU antenna 
interface. CTI Base nanoseconds 32 bits 
CTI Table Size 8 bits Number of row entries 
 
 CTI Type 1 Row (Repeated, N*6 bytes) 
Flow ID 8 bits User-defined Flow ID, valid range 0x00 to 0xEF. This ID is agreed upon by TN and 
O-DU. 
End Time Offset 
16 bits 
unsigned 
Offset in units of 210 nanoseconds (1.024 µs) that is added to the Base 
nanoseconds value to obtain when the last bit of the requested bytes will egress 
the R3 reference point of the O-RU. 
Bytes Requested 24 bits Bytes per Flow ID per time interval that cross the O-RU Network (Ethernet) 
Interface 
 
 CTI Type 1 Extension Row (6 bytes, optionally included after a CTI Report) 
Extension Field 8 bits Value = 0xFF 
Start Time Offset 
16 bits 
unsigned 
Offset in units of 210 nanoseconds (1.024 µs) that is added to the Base 
nanoseconds value to obtain when the subinterval described by the pattern ID 
begins on the network interface of the O-RU (R3 reference point). 
CTI Pattern ID 24 bits 
Pattern ID within a subinterval that begins with start time and ends with the End 
Time Offset as indicated in the previous CTI Report. The subinterval typically 
corresponds to a 5G slot 
 
 CTI Type 2 Row (6 bytes, optionally included, once per CTI message) 
Extension Field 8 bits Value = 0xFE 
CTI Message Generation 
Time 
16 bits 
signed 
Offset in units of 210 nanoseconds (1.024 µs) that is added to the Base 
nanoseconds value to obtain when the message is generated. This can be useful 
for TN to calculate message jitter. The upper most bit is signed. A “0” value 
represents a positive number while a “1” value represents a negative number. This 
creates a range of +/- 33.5 ms 
Reserved 24 bits Reserved field 
 5 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   25 
O-RAN.WG4.CTI-TCP.0-v03.00 
A reporting message shall not span more than one Ethernet frame. 1 
5.1.4.1 CTI Time Format 2 
The CTI message uses an abbreviated form of the ten -byte PTP timestamp format in its message header. The lower four 3 
bytes are used to count nanoseconds and the upper four bytes are used to count seconds. CTI then uses a two -byte offset 4 
in each row. This is shown in Figure 5-5. The two-byte offset has been chosen to have a minimum resolution of 1.024 μs. 5 
With a 16 -bit offset field, the maximum resolution is 67.1 ms. The offset itself is in a power -of-two format that is 6 
compatible with the nanosecond counter in the PTP timestamp so that the two values may be efficiently added together.  7 
 8 
Figure 5-5 : CTI Offset per Row 9 
Figure 5-6 shows the relationship between the CTI base timestamp and the various offsets. Note that the start and end 10 
time offsets are always positive values, while the message generation offset may be a positive or negative value.  If the 11 
value of CTI message generation time is negative, it indicates it is before the base time. 12 
 13 
Figure 5-6 : Time offsets within the CTI message 14 
 15 
5.1.4.2 CTI Type 1 Row 16 
Each row is used to request some number of bytes at some future time on a specific CTI flow. Each CTI row entry includes 17 
a CTI Flow ID and the number of bytes requested. The CTI Flow ID is defined via OSS and is common between the TN 18 
and the O-DU. The purpose of CTI Type 1 Row is to convey the Request ed Bytes (3 bytes in length) associated with a 19 
particular Flow ID and end time. The valid range of the Flow ID is 0x00 to 0xEF . The value 0x00 indicates there is no 20 
differentiation between the flows and that the Flow ID does not need to be interpreted by t he CTI server. The reserved 21 
types range from 0xF0 to 0xFD, allowing the option to use 0xFE to 0xFF to indicate special row extension types. 22 
A CTI Flow corresponds to a flow of packets that can be identified with a set of unique L2 and/or L3 headers that al l 23 
traverse the same O-RU network interface and share the same QoS. 24 
Typically, there is one CTI Flow ID per fronthaul flow, as designated by the eAxC header in the eCPRI message. 25 
Alternatively, CTI can agregate multiple fronthaul flows that are traversing t he same O-RU network interface into one 26 
CTI Flow ID. 27 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   26 
O-RAN.WG4.CTI-TCP.0-v03.00 
The CTI message can have more than one entry per CTI Flow ID, each entry covering a slot. This allows for a lower 1 
frequency message interval to cover multiple future events within a flow. 2 
5.1.4.3 CTI Type 1 Extension Row 3 
The purpose of CTI Type 1 Extension Row is to convey the fronthaul traffic pattern descriptor, encoded as the CTI Pattern 4 
ID, as defined in Table 5-7. The type 1 extension row can be included after a CTI Type 1 Row. The CTI client shall not 5 
include more than one CTI Type 1 Extension Row following a CTI Type 1 Row. The CTI client shall not include a CTI 6 
Type 1 Extension Row without a CTI Type 1 Row. 7 
The Extension Field uses a reserved value of 0xFF to indicate that the current row is an extension row  for fronthaul. 8 
The start time of the extension row and the CTI offset of the CTI row together  define an interval (e.g., a mobile slot) 9 
whose traffic pattern is described by the CTI Pattern ID field. See Figure 5-6. 10 
The Type 1 Extension Row can also be used to only communicate the start time of the time interval without details of the 11 
traffic pattern, by using CTI Pattern ID value of 0. 12 
5.1.4.4 CTI Type 2 Row 13 
The purpose of CTI Type 2 Row is to allow the measurement of message latency by the TN. The Type 2 Row can only 14 
be included at the end of the CTI report body, with or without the presence of a CTI Type 1 Row. The CTI client shall 15 
not include more than one CTI Type 2 Row per CTI message. 16 
The Extension Field uses a reserved value of 0xFE to indicate that the current row is a special row. 17 
The CTI message generation time (see Figure 5-6) is useful to calculate the transmission time of a CTI message and the 18 
jitter between the CTI messages. The value is the offset from the CTI base nanoseconds value.  19 
5.1.5 CTI Signature 20 
The CTI Signature is an optional feature that prevents a CTI message from a malicious source (which might have cloned 21 
an IP source address) from being accepted. A CTI message is sent in the clear followed by a CTI Signature. This permits 22 
implementations to use the contents of the CTI message without having to decrypt or decode each packet. For example, 23 
a system could be built in which the CTI message is received in real time but the CTI Signature is sampled on a random 24 
basis and not verified in real time. 25 
The full details of the CTI Signature will be specified in a future version of this specification.  26 
It is yet to be decided if the CTI Signature would also be on the CTI-Beacon-ACK message. 27 
5.2 Operation 28 
5.2.1 CTI Discovery & Configuration 29 
For each CTI Session ID, several associations are required for proper CTI operation: 30 
• the TN shall have the association of CTI Session ID (pertaining to an O-RU interface) with the corresponding TU 31 
interface 32 
• the TN shall have the association o f CTI Session ID with the corresponding CTI client (in O -DU) to which it 33 
must communicate CTI-Beacon-Ack, CTI-Keep-Alive and possibly PON ranging notifications. 34 
• the O-DU shall have the association of CTI Session ID with the corresponding CTI server (in TN) to communicate 35 
CTI reports and keepalives to. 36 
Before the O-RU is installed, it is assumed that the OSS does not know which O-RU is associated with which transmission 37 
system (TU, TN). Further, since fronthaul takes a lot of bandwidth on the transmission system, it must be a provisioned 38 
service. This section describes at least two ways that the two systems can learn of each other. 39 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   27 
O-RAN.WG4.CTI-TCP.0-v03.00 
In both of these procedures, the transport system comes up and is initialized.  This then provides connectivity for the 1 
mobile system to come up and initialize. This implies that there is a least enough bandwidth on the transport system to 2 
provide M-plane support between the O-RU and O-DU.  3 
The next step is to then associate the mobi le system with the transport system. The assumption is that the O-RU is an 4 
arbitrary unit that gets installed at an O-RU location. 5 
5.2.1.1 Manual Discovery 6 
   7 
Figure 5-7 : CTI Manual Discovery 8 
Proposed procedure: 9 
1. The installation technician will interface with the OSS, either verbally or through a user interface, and will enter 10 
identity information for the O-RU interface and TU interface 11 
2. The TN OSS knows or is able to determine the association of the TU w ith the TN. The OSS system(s) will 12 
initialize the O-DU and TN. The TN has the association of TU interface with O -RU interface (its CTI Session 13 
ID). The O-DU has the association of O-RU with TN (its CTI server) 14 
3. CTI messaging will commence between the O-DU and TN 15 
 16 
The advantage of this approach is that it is very simple and, depending on how the cross provisioning is performed, does 17 
not necessarily require a coupling between the two OSS systems. The disadvantage is that the system is not automated.  18 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   28 
O-RAN.WG4.CTI-TCP.0-v03.00 
5.2.1.2 Automatic Discovery using the OSS (Informative) 1 
  2 
Figure 5-8 : CTI Auto-Discovery with OSS 3 
Proposed Procedure, per Figure 5-8: 4 
The transport system comes up and is operational. The mobile system the n comes up and is operational but unaware of 5 
the identity of the transport system. 6 
1. The mobile OSS notices that an O-DU with CTI capability has paired with an O -RU. It queries the transport 7 
system to find the identity of the TN/TU pair that provides the transport for the O-RU/TN pair 8 
2. The mobile OSS (or associated OSS) configures the TN and O-DU for CTI operation 9 
3. CTI messaging will commence between the O-DU and TN 10 
 11 
The advantage of the system is scale and automation. One challenge is the coupling between separate OSS systems. One 12 
technique the mobile OSS can use with the transport OSS is a DHCP lease-query or similar network configuration query, 13 
assuming the configured DHCP server is accessible by both OSSs. 14 
5.2.2 Operations 15 
The CTI server and client shall operate as described in Figure 5-9. 16 
  17 
 18 
 19 
 20 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   29 
O-RAN.WG4.CTI-TCP.0-v03.00 
 1 
Figure 5-9 : CTI Configuration and Operational State Machines 2 
The following operation is illustrated in Figure 5-9. 3 
After necessary initial configuration, which is to be covered in the future Transport Management Plane Specification, a 4 
CTI interaction between a CTI client and a CTI serve r starts by including an exchange of CTI-Beacon message from the 5 
O-DU to the TN and its acknowledgement back from the TN to the O -DU. After reception of the CTI-Beacon-Ack 6 
message, both sides are operational for CTI. 7 
The CTI client and CTI server then interact according to the following: 8 
1. The CTI client periodically sends a CTI-Report message to the CTI server with request information. This occurs 9 
no more than one CTI -Report per CTI Nominal message exchange time interval  (CTI_NOM). If there is no 10 
internal request information, the CTI client shall not send a CTI-Report message to request bytes. 11 
 The CTI client shall generate a CTI-Keep-Alive message at least once within the CTI Time Keep-Alive (CTI_KA). 12 
2 The TN captures and processes CTI messages. 13 
 The CTI server shall generate a CTI-Keep-Alive message at least once within the CTI Time Keep-Alive (CTI_KA). 14 
3. If the TN does not receive a CTI message (CTI-Report or CTI-Keep-Alive) within the CTI Time Out (CTI_TO), 15 
it will suspend its CTI operation and return to the CTI configuration state. 16 
4. If the O-DU does not receive a CTI-Keep-Alive message within the CTI Time Out (CTI_TO), it will suspend its 17 
CTI operation and return to the CTI configuration state. 18 
The contents of the CTI-Report message are generated by the CTI client, which takes its inputs from the O -DU’s uplink 19 
scheduling decisions and from other operating entities within the O -DU. The CTI client gathers the uplink grant 20 
information from the RAN uplin k scheduler over an interval described by the CTI Nominal message exchange time 21 
interval  (CTI_NOM). This time is configured to be an integral number of mobile slot times. The choice of CTI_NOM 22 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   30 
O-RAN.WG4.CTI-TCP.0-v03.00 
shall follow the rules described in section 4.3.2.2. The CTI client should modify the local grant information from the O -1 
DU RAN scheduler to make it represent future bytes to be transmitted over the Ethernet interface with suffi cient margin 2 
for allowing for prediction uncertainties on the actual generated uplink fronthaul traffic.  3 
5.3 Interface to OSS 4 
5.3.1 Timers 5 
Table 5-8 : CTI Timers 6 
Name OSS 
to TN 
OSS  
to  
O-DU 
Min Max Description 
CTI Nominal 
message 
exchange time 
interval 
x x 0.25 
ms 
5 ms This value, abbreviated as CTI_NOM, is the minimum average interval 
that a CTI-Report message is sent from the CTI client to the CTI 
server. CTI-Report messages can be sent less often. Because of 
queuing in the system, this value should be interpreted as a rate and 
not as a spacing between packets. Typical values may be 1–2 ms for 
LTE, or lower for 5G. 
CTI Time Keep-
Alive 
x x  3 s This value, abbreviated as CTI_KA, is the maximum time interval 
between consecutive CTI-Keep-Alive messages between the CTI 
client and the CTI server. 
CTI Time Out x x  10 s This value, abbreviated as CTI_TO, is the timeout value that a CTI 
Keep-Alive message needs to be received by the CTI client (O-DU) or 
the CTI server (transport system) before that respective system 
suspends CTI operations and returns to its CTI configuration state. 
 7 
Note that CTI_TO must be greater than CTI_KA, for example  CTI_TO = N * CTI_KA with N being an integer greater 8 
than 1, to allow for the loss of one or several keepalives. 9 
5.3.2 Summary of Objects (Informative) 10 
Several parameters have to be configured in the O -DU and the TN by their respective management systems for the 11 
connectivity of CTI messages and the operation of CTI. The reader is referred to [4] for a full list of parameters and the 12 
accompanying YANG models. 13 
5.4 Examples of the CTI Pattern Descriptor for Fronthaul 14 
A high -speed transport system such as a 10 Gbps PON system may have the ability to schedule bandwidth with th e 15 
granularity of an 5G OFDMA symbol time of which is on the order of 4.5μs to 71μs. However, sending CTI messages at 16 
this rate would result in too high a message rate. Further, describing bytes for every single symbol would result in 17 
excessively long CTI messages. In order to balance message frequency and length, a compression scheme ba sed on 5G 18 
TDD/FDD patterns is allowed.  19 
The CTI pattern object model  allows one entry in a CTI message to describe multiple transmissions over the network 20 
interface that follow a specific pattern. The intended use is to describe the bytes per symbol for ea ch symbol or group of 21 
symbols within a mobile slot. The pattern of bytes per symbol within a mobile slot depends upon the 5G use of TDD or 22 
FDD. 23 
The total byte count for a pattern is always contained in the CTI table entry. If a non-zero pattern ID is used in the CTI 24 
reporting, there are two ways to interpret the CTI pattern parameters at the CTI server:  25 
Option 1) The CTI client is configured so that the total byte count is equal to the sum of the bytes per event within the 26 
pattern. This implies that for eac h different load in a mobile slot (different total byte count), a different pattern ID is 27 
needed. This can be used when the reporting can be coarse and not too many pattern IDs are needed.   28 
Note that it is also possible to use a mix of explicit byte values  for some symbols and a residual byte count (indicated by 29 
a reserved special value) for the other symbols. The absolute bytes for the residual symbols are deduced based on the CTI 30 
total byte count and the per-event explicit byte counts (see example 3 below). 31 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   31 
O-RAN.WG4.CTI-TCP.0-v03.00 
Option 2) If option 1 has a scalability issue, the alternative is to normalize the amount of bytes in each symbol so that the 1 
sum of all symbols is always the same value independently of the total reported byte count. The CTI server can then 2 
deduce the actual amount of bytes per symbol by using a multiplier  (the reported total byte count  divided by the 3 
normalized sum). This allows to re-use the same pattern ID for the same relative distribution of bytes across the symbols, 4 
by adding an extra calculation step at the CTI server.  5 
The choice between option 1) and option 2) is reflected by a dedicated configuration parameter per CTI session ID, so 6 
that the CTI client knows how to generate the values and the CTI server knows how to interpret the values.  7 
 8 
Examples  9 
Example 1: FDD pattern of 1 ms slot (n), 14 symbols, 1,000 bytes per symbol and same pattern but with 2,000 bytes per 10 
symbol in another 1 ms slot (m) 11 
Option 1: Absolute event bytes 12 
For slot n: 13 
• Pattern ID = 1 14 
• Pattern duration = 8 (because 8×125 μs = 1 ms) 15 
• Number of events per pattern = 14 (because each symbol is described) 16 
• Event description 17 
o Event multiplier = 14 (because each event is the same within the pattern) 18 
o Bytes per event = 1,000 bytes (because there are 1,000 bytes per symbol) 19 
• The sum over the symbols corresponds to the CTI total byte count of 14,000 bytes. This is the total number of bytes 20 
transmitted during the entire slot time. 21 
 22 
For slot m: 23 
• Pattern ID = 2 24 
• Pattern duration = 8 (because 8×125 μs = 1 ms) 25 
• Number of events per pattern = 14 (because each symbol is described) 26 
• Event description 27 
o Event multiplier = 14 (because each event is the same within the pattern) 28 
o Bytes per event = 2,000 bytes (because there are 2,000 bytes per symbol) 29 
• The sum over the symbols corresponds to the CTI total byte count of 28,000 bytes. This is the total number of bytes 30 
transmitted during the entire slot time. 31 
 32 
Option 2: Normalized event bytes 33 
For slot n: 34 
• Pattern ID = 1 35 
• Pattern duration = 8 (because 8×125 μs = 1 ms) 36 
• Number of events per pattern = 14 (because each symbol is described) 37 
• Event description 38 
o Event multiplier = 14 (because each event is the same within the pattern) 39 
o Bytes per event = 100 bytes (normalized sum / 14) 40 
• The normalized sum (arbitrary choice) is 1,400 bytes. The CTI total byte count is 14,000 bytes. The per-symbol 41 
multiplying factor to be used at the CTI server is 10. 42 
 43 
For slot m: 44 
• Same Pattern ID = 1 45 
• The normalized sum is 1,400 bytes. The CTI total byte count is 28,000 bytes. The per-symbol multiplying factor to 46 
be used at the CTI server is 20. 47 
 48 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   32 
O-RAN.WG4.CTI-TCP.0-v03.00 
 1 
Example 2 (Option 1): TDD receive pattern of 500 μs slot; 14 symbols; 1,000 bytes on symbols 0, 1, 2, 10, 11, 12; 0 bytes 2 
otherwise 3 
• Pattern ID = 2 4 
• Pattern duration = 4 (because 4×125 μs = 500 μs) 5 
• Number of events per pattern = 14 (because each symbol is described) 6 
• Event description 7 
o Event multiplier = 3 for symbols 0–2 8 
o Bytes per event = 1,000 bytes for each of the first three symbols 9 
o Event multiplier = 7 for symbols 3–9  10 
o Bytes per event = 0 bytes 11 
o Event multiplier = 3 for symbols 10–12 12 
o Bytes per event = 1,000 bytes for each of these three symbols 13 
o The entry for symbol 13 is optional because the value is 0 bytes.  14 
• The CTI byte count is 6,000 bytes. 15 
 16 
Example 3 (Option 1): A 5G 500 μs slot; 200 bytes total of signaling information on symbols 0 and 1; variable but evenly 17 
distributed payload on symbols 4 to 7. An event is two symbols. The CTI byte count is 1,000 bytes.  18 
• Pattern ID = 3 19 
• Pattern duration = 4 (because 4×125 μs = 500 μs) 20 
• Number of events per pattern = 7 (because each event is described as a pai r of symbols) 21 
• Event description 22 
o Event multiplier = 1 for symbols 0 and 1 23 
o Bytes per event = 200 bytes total for the first two symbols 24 
o Event multiplier = 1 for symbols 2 and 3  25 
o Bytes per event = 0 bytes 26 
o Event multiplier = 2 for symbols 4–7 27 
o Bytes per event = residual average (0xFFFF) 28 
o The entry for symbols 8–13 is optional because the value is 0 bytes per symbol. 29 
• Residual average = (1,000–200)/2 = 400 bytes per event 30 
o The total byte count is 1,000 bytes. There were 7 events. Each event is two symbols. The first event 31 
was explicitly described as 200 bytes. The next event was explicitly described as 0 bytes. The next two 32 
events where declared as residual averages. The las t four events were not explicitly described, so they 33 
are implicitly considered to be 0 bytes per event.  34 
o Because each event is two symbols, the byte count for symbols 4–7 is 200 bytes per symbol. 35 
 36 
5.5 Other O-DU Functional requirements  37 
5.5.1 Reporting scope 38 
The O -DU shall be able to generat e uplink bandwidth reports per O -RU, aggregated over all corresponding RAN 39 
schedulers for that O-RU.  40 
The O-DU shall be able to generate uplink bandwidth reports per O-RU interface, aggregated over all corresponding RAN 41 
schedulers for that O-RU interface. 42 
The CTI protocol additionally allows to generate uplink bandwidth reports per fronthaul Flow (Layer 2 / Layer 3 43 
mapping). 44 
5.5.2 Reporting accuracy 45 
The reported bandwidth shall be at least equal to the actual upstream U -plane traffic gen erated by the O -RU (no 46 
underestimation).  47 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   33 
O-RAN.WG4.CTI-TCP.0-v03.00 
The accuracy of reported time references (Base + Offset) shall be better than 10µs (-5µs/+5µs). 1 
5.5.3 O-DU CTI performance  2 
The O-DU shall be characterized according to a CTI message rate category based on its supported CTI_MIN (as defined 3 
in section 2.3.3). When an equipment supports a category, all lower numbered categories shall also be supported. 4 
The O-DU shall be characterized according  to a value of CTI message timing performance (as defined in section 6.2). 5 
These parameters shall be exposed to the OSS for configuration and management.  6 
  7 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   34 
O-RAN.WG4.CTI-TCP.0-v03.00 
6 Time alignment between O-DU and Transport 1 
 2 
6.1 Timing architecture options 3 
 4 
The Fronthaul O-DU is scheduling in the future . The TN must follow this by  granting allocations aligned in time. This 5 
requires the timing of both systems to be time synchronized to a common reference for the grants to line up. There are 6 
three options to achieve this; 7 
• Using GNSS: Both the O -DU and the TN are independen tly synchronized using a GNSS  source. There is n o 8 
synchronization interaction needed between the O-DU and the TN. 9 
• Using IEEE PTPv2 (1588-2008): Both the O-DU and the TN have access to a common GM clock by using PTPv2. 10 
The PTP packets are either independently received by O -DU and TN, or the PTP packets are distributed to the 11 
TNs via O-DUs (e.g. when the GM resides in the O-DU). 12 
• Mix of both: The O-DU uses either GNSS or PTP, while the TN independently uses the other method. 13 
Note that the synchronization of the O-RU itself is not influenced by CTI and is out of scope of the CTI specification (see 14 
[2] instead). 15 
6.2 Resource allocation alignment 16 
With CTI , the TN scheduler aligns its granting decisions on reporting by RAN schedulers, in order to follow traffic 17 
variations (per slot or per group of slots) of O -RUs. The better the time alignment precision of the TN scheduler to the 18 
uplink fronthaul traffic from the O-RUs, the lower the need for buffering uplink packets and hence the lower the upstream 19 
latency. 20 
The precision of aligment depends on two factors, as shown in Figure 6-1; 21 
Firstly, the arrival time of the CTI reporting message at the TN. The TN will need some processing time once the message 22 
is received before it can apply the updates of bandwidth scheduling to its TUs. This can be expressed as a minimal spacing 23 
(called “TN CTI message timing performance”)  needed between the arrival time of the CTI message and the  start 24 
boundary at Ra of the mobile slot N being reported in the message. A given TN equipment is characterized by a value of 25 
CTI message timing performance. 26 
The arrival time depends on the O -DU generation time, which depends on the necessary processing ti me after the RAN 27 
scheduler decisions were made for the corresponding slot. This can be expressed as the “O -DU CTI message timing 28 
performance”, the minimal spacing guaranteed by the O -DU between the generation time of the CTI message and the 29 
start boundary at Ra of the mobile slot N being reported in the message.  The O-DU shall be characterized by a value of 30 
CTI message timing performance. 31 
The arrival time also depends on the transmission latency of the CTI message itself (in case of intermediate nodes between 32 
O-DU and TN). 33 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   35 
O-RAN.WG4.CTI-TCP.0-v03.00 
 1 
Figure 6-1 : Timing of CTI message generation by O-DU and reception at TN, limits for TN being able to apply 2 
bandwidth updates for the reported mobile slot. 3 
 4 
If the O-DU CTI message timing performance after subtraction with the maximal CTI transport latency still respects the 5 
TN CTI message timing performance, the TN can update the bandwidth for the mobile slot N on time.  Note that as long 6 
as this condition is met, the jitter on arrival time of the CTI message will have no effect on the bandwidth updates and on 7 
the resulting fronthaul uplink latency. 8 
If the CTI messages arrive early, they must be buffered in the TN until they need to be processed for their associated 9 
mobile slot (N). The earliest arrival time is just after the O-DU has made scheduling decisions for mobile slot (N), which 10 
is in the order of several mobile slot durations before the start of mobile slot (N).  11 
If the CTI messages arrive too late at the TN , the TN will only be able to  apply the update for slot N in the next (or one 12 
of the next) bandwidth update opportunities by the TN, leading to buffering of the traffic of slot N at the TU, and hence 13 
an increase of latency. That latency depends on the granularity of TN to apply bandwidth updates per TU, and the previous 14 
bandwidth setting of the TN and buffer status of the TU.  15 
Secondly, assuming the CTI reporting message does arrive on time at TN, p erfect alignment will not be possible due to 16 
sources of uncertainty that cannot be influenced or compensated by the O-DU: 17 
• Time granularity of TN to send bandwidth allocations. 18 
• Variation on Ta3_max per O-RU (based on its category), typically 20µs (see table B-5 in [2]) 19 
• Possible mix of different O-RU categories on the shared distribution networks of the same TN.  20 
Note that the difference in propagation distance between different TUs is compensated by time equalization of the TUs 21 
by the TN. The actual latency (buffering + propagation) of each TU is brou ght to the same level, with the furthest TU 22 
having the longest propagation and shortest buffering, and the shortest TU having the shortest propagation and the longest 23 
buffering. In other words, the time equalization does not introduce an extra delay penalt y, but it brings the propagation 24 
delay of all TUs to the level of the furthest TU. 25 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   36 
O-RAN.WG4.CTI-TCP.0-v03.00 
 1 
Figure 6-2 : Time alignment of O-DU scheduler decisions, CTI message generation, CTI message reception, TN 2 
scheduler updates, uplink traffic at O-RU R3 reference point. Example for two TUs at different distance from 3 
the TN. 4 
  5 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   37 
O-RAN.WG4.CTI-TCP.0-v03.00 
7 Conclusion 1 
7.1 Summary 2 
This document specifies the TC-plane of CTI. TC-plane messages between O-DU and TN allow for the initialisation and 3 
operation of a CTI session, and for the exchange of future load requirements so that the TN scheduler can schedule the 4 
transport resource pro -actively, reducing the upstream latency of the fronthaul packets compared to a reactive TN 5 
scheduling system.   6 
The document includes (Chapter 4) a description of the context (topologies of interconnecting O-RUs to O-DUs via TNs 7 
aggregating multiple TUs on shared distribution networks), (Chapter 5) the required functions on the O-DU for supporting 8 
CTI exchange with TNs, the role of the parameters needed for CTI, the message types and formats, the protocol operation, 9 
the list of parameters, ways for associating the O-RU interface with corresponding TN managed entity, and (Chapter 6) 10 
the time alignment aspects between O-DU scheduler and TN scheduler.   11 
7.2 Open issue list 12 
1 (section 4.1.2) Impact of MAC address as CTI Session ID for load balancing  (single flow over multiple O -RU 13 
network interfaces) 14 
2 (sections 4.3.1.1, 5.1.4.2, 5.5.1) Analysis if and how the flow ID (L2/L3 classifier) could be used to differentiate the 15 
CoS of U-plane traffic, and whether this could reflect the CoS of user-generated or user-consumed application data. 16 
3 (section 5.1.5) Optionality and details of CTI Signature 17 
4 In case of congestion in the transport network, analysis of a feedback mechanism and of the use of priorities between 18 
O-RUs  19 
 20 
  21 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   38 
O-RAN.WG4.CTI-TCP.0-v03.00 
Annex A CTI Use Cases 1 
This informative section describes the use cases of the resource allocation -based networks being used as fronthaul  2 
transport. 3 
Note that this document does not make assumptions on the possible concurrent use of the Transport network for other 4 
types of traffic than mobile fronthaul (other types of traffic could be traffic from other mobile functional splits, mobile 5 
backhaul traffic, residential user traffic, or business user traffic). 6 
A.1 Passive Optical Network (PON) as Transport Technology  7 
Passive Optical Networks (PONs) cover a range of access technologies that deliver FTTx connectivity over a shared and 8 
passive point-multipoint optical distribution network. The system consists of a head node (OLT) serving multiple optical 9 
distribution networks (ODNs), each ODN connecting multiple user -facing Optical Network Units (ONUs) to the OLT. 10 
Communication is full duplex by using different wavelength bands on the fiber. 11 
 12 
  13 
Figure A-1 : Transmission on Passive Optical Networks 14 
There are several standardized Passive optical networks (PON) technologies. There are two families of PONs, depending 15 
on whether they follow an ITU-T standard (see A.1.5) or an IEEE standard (see A.1.5).  16 
Within ITU -T standards, a further distinction can be made between WDM PONs (one upstream + one downstream 17 
wavelength per ONU, n o sharing of capacity between ONUs), TDM PONs (multiple ONUs share the same upstream + 18 
downstream wavelength), and TWDM PONs (mutliple TDM PONs in overlay over different Channel Pairs, with one 19 
channel pair = one upstream + one downstream wavelength). As W DM PONs are essentially point -point connections, 20 
they do not require CTI. TDM PONs and TWDM PONs rely on TDMA for the upstream direction, and are a target for 21 
CTI. 22 
Within IEEE standards, TDM and TWDM PONs (use of multiple channel pairs per ONU for higher t hroughput) are 23 
considered. 24 
Although there are variations at the Physical layer (basically resulting in the optical reach) and MAC/TC layer 25 
(encapsulation, coding, FEC, control messages, support of Ethernet frame fragmentation or not, request-based allocations 26 
vs monitoring-based allocations, frame structure or not), all T(W)DM PON variants follow common TDMA principles 27 
for the allocation of upstream bandwith to the different ONUs. These principles are described in the following sections. 28 
They show the rationale for using CTI for T(W)DM PONs in the context of LLS fronthaul.  In these scenario’s, the OLT 29 
acts as the TN, the ONU acts as the TU, as shown in Figure A-4. 30 
 31 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   39 
O-RAN.WG4.CTI-TCP.0-v03.00 
A.1.1 Dynamic Bandwidth Allocation (DBA) 1 
Fundamentally, the OLT is the master and tells each ONU when to send traffic (and when to remain silent) by sending  2 
grants telling it when to begin and end transmission. This is the responsibility of the DBA algorithm. To be more precise, 3 
it is possible to give multiple grants per ONU; 4 
• In ITU-T compliant PONs, grants are scheduled per Transmission Container (T-CONT, one or multiple T-CONTs 5 
per ONU UNI). Each T -CONT can correspond to a different traffic class or to an ONU UNI. G rants are sent in 6 
BW maps (1 map every 125µs). 7 
• In IEEE compliant PONs, grants are scheduled per Logical Link ID (LLID, one (typical) or multiple LLIDs per 8 
ONU). Typically the ONU does the internal scheduling between traffic classes into a single grant. Grants are sent 9 
in special GATE messages (one message per ONU, up to 4 grants per message).  10 
DBA ensures that data bursts from different ONUs are nicely interleaved without any collision at the OLT receiver. The 11 
allocation of bandwidth per T-CONT / LLID and the level of interleaving between the ONUs is chosen by the DBA. 12 
 13 
Figure A-2 : DBA on Passive Optical Networks (ITU-T PON) 14 
The choice of allocation of bursts to the TCONTs / LLIDs can either be fixed by preconfiguration (Fixed Bandwidth 15 
Allocation, allocations are always granted and don’t change over time) or dynamic (Dynamic Bandwidth Allocation, the 16 
system reacts to measured parameters and adapts the allocations while staying within bounds set by preconfiguration).  17 
For DBA the re are traditionally two types of ways to react; either based on monitoring of the received traffic versus 18 
allocated bandwidth, or based on status reports sent by the ONU informing the OLT about the buffer filling levels. Both 19 
methods are reactive in the sense that they use snapshots from the (recent) past. 20 
A.1.2 DBA Latency Analysis 21 
The upstream transmission latency and jitter on a T(W)DM PON depends on several factors; 22 
a) The actual fiber length 23 
All ONUs are equalized in time to the furthest ONU. As most PON te chnologies reach out to 20km (some to 40km), the 24 
one-way delay due to fiber propagation alone can reach 100µs (200µs) for such distances. Obviously the latency 25 
requirement can limit the maximal distance for the deployment. 26 
b) Buffering in the ONU  27 
Whenever Ethernet frames have to wait before being transmitted in a PON burst, they need to be buffered and they will 28 
experience buffer latency. The waiting time in the buffer depends on two factors, both being controlled by DBA;  29 
The amount of bandwidth allocated to the T-CONT / LLID 30 
• As mentioned above, the DBA estimates how much bandwidth to allocate for each T-CONT / LLID. This is either 31 
fixed or a dynamic update. If the allocated bandwidth is below the required bandwidth, the ONU buffers will 32 
gradually fill up. The filling level depends on the duration and amplitude of this mismatch. Low buffer latency 33 
requires fast and accurate DBA updates, but as DBA is a dynamic system influenced by all ONUs, and which 34 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   40 
O-RAN.WG4.CTI-TCP.0-v03.00 
also possibly interacts with other dynamics like TCP congestion control, it is difficult to predict the latency for a 1 
given situation.  2 
The inter-burst gap for the T-CONT / LLID 3 
• Once the amount of bandwidth allocated to each T-CONT / LLID is chosen by the DBA, it is delivered in a bursty 4 
fashion. The burstiness is also controlled by the DBA. It can be a regular repetition of equal sized bursts at a given 5 
rate, or an irregular sequ ence of bursts. Even when the allocated bandwidth corresponds to the actual demand, 6 
Ethernet frames arriving after the end of a burst have to wait for the next burst before they can be sent, thereby 7 
experiencing delay up to the gap between the bursts.  8 
For a given average throughput, it is possible to achieve lower latency by decreasing the burst size while increasing the 9 
burst rate, thereby decreasing the inter-burst gap. However this comes at the expense of higher overheads on the PON as 10 
each upstream bur st “consumes” a fixed amount of non -information bytes (so-called physical layer overhead). Hence a 11 
trade-off between efficiency and latency. 12 
c) Forwarding latency in the switching stages of the OLT and ONU 13 
As the ONU and OLT act as aggregation points (comb ination of multiple UNIs in the ONU to a single PON interface, 14 
combination of multiple ODNs to fewer network uplinks in the OLT), they include internal switching stages, which each 15 
can add some forwarding latency to the Ethernet frames.  16 
d) Fragmentation and serialization delay 17 
When fragmentation is supported over the PON, large frames can be split over multiple bursts. Such frames will 18 
experience fragmentation delay (waiting up to the burst transmitting the last fragment) and re-assembly processing delay 19 
in the OLT. 20 
Serialization delay occurs when frames are egressing a node or internal node module. It depends on the frame size and 21 
the line rate of the interface. However , for the rates considered relevant for LLS fronthaul (10 Gbit/s and above) such 22 
delay will be small compared to the other causes of delay.  23 
A.1.3 Cooperative Dynamic Bandwidth Allocation (CO-DBA) 24 
 Rationale for CO DBA 25 
As noted above, bandwidth is traditionally allocated either in a fixed way or in a reactive dynamic way.  26 
When applying a fixed guaranteed bandwidth to low-latency traffic, there is no reaction time delay, leading to low latency. 27 
The downside however is that such bandwidth must be dimensioned to the peak rates, and unused portions of this 28 
bandwidth cannot be reallocated to other nodes or to other services. 29 
On the other hand, reactive DBA takes into consideration the dynamic upstream traffic and configured traffic contracts. 30 
The benefit to adapt to the actual demands is to allow for statistical multiplexing of many sources (ONUs). The 31 
disadvantage is now that upstream data must at times be buffered in the ONU until the completion of bandwidth allocation, 32 
leading to higher latency. 33 
With Cooperative DBA, however, the system becomes pro -active. There is a dynamic in -advance signaling from the O-34 
DU to the OLT to allow the PON system to adapt its dynamic bandwidth allocation to the expected upstream traffic load 35 
and timing, thereby limiting latency, while still allowing to apply statistical multiplexing. In other words, the goal of 36 
Cooperative DBA is to allow for a better balance on the PON between packet transport latency and bandwidth efficiency 37 
than either with fixed bandwidth allocation to peak values, or with traditional reactive DBA-based bandwidth allocation. 38 
The figure below shows CO DBA in action for two O -RUs, updating the allocated bandwidth per O -RU every mobile 39 
slot/TTI. The resulting upstream latency T34 consists of the internal latencies in ONU and OLT, and the DBA-controlled 40 
transport of the fronthaul packets in PON bursts. 41 

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   41 
O-RAN.WG4.CTI-TCP.0-v03.00 
 1 
Figure A-3 : LLS fronthaul over PON 2 
CO DBA is recognized as a new DBA type in ITU-T PON standards [G.989.3 Amd 2]. 3 
 Using CTI for CO DBA 4 
An information exchange is achieved with CTI between the mobile scheduler (in the O-DU) and the PON scheduler (CO 5 
DBA in the OLT). The O-DU makes allocation decisions and signals corresponding information to the OLT, aggregated 6 
at O-RU interface level (sum of all UEs) . This allows the OLT to determine upstream bandwidth allocations per O -RU 7 
interface in advance. The OLT then applies these bandwidth allocations as close as possible to the arrival time of upstream 8 
mobile traffic. This avoids the DBA to spend time to detect the presence of the mobile traffic by means of ONU buffer 9 
feedback. This enables low-latency upstream transmission. 10 
The basic mechanism and functional roles of this information exchange are as follows;  11 
• O-DU and OLT are connected by CTI interface (messages can use the same physical interface as the data traffic).  12 
• The O -DU determi nes how much traffic will be required for given time intervals and given services . T he 13 
associated required maximal upstream latency of this traffic  should be configured on the TN . The O -DU 14 
communicates such reports in signaling messages to corresponding OL T(s) on which the corresponding O -RUs 15 
are connected to a PON via ONUs. The O-DU adds an ID per report to identify the service and its corresponding 16 
O-RU interface.  17 
• The O-DU updates this information to follow variations in expected bandwidth of the O -RUs. 18 
• The OLT parses these CTI messages, using the ID to link a report to its corresponding T-CONT. The OLT adapts 19 
the corresponding PON bandwidth allocations to these T -CONTs according to the reports in the signaling 20 
messages, in a way to meet the required capa city and latency. The CO DBA follows the updates sent by the O -21 
DU. 22 
 23 
 24 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   42 
O-RAN.WG4.CTI-TCP.0-v03.00 
Figure A-4 : Using CTI for CO DBA 1 
A.1.4 PON ranging 2 
As previously explained, when PON is used for mobile fronthaul the OLT acts as the TN, the ONU acts as the TU.  The 3 
ranging description in this section is generic. 4 
A PON is an adaptive system in the sense that it enables any ONU to connect (e .g. at installation) or disconnect (e .g. at 5 
powering down) at any point in time without preliminary agreement or control from  the OLT. But this requires an 6 
autodiscovery and autoconfiguration mechanism of newly connected ONUs (this is called “ranging” in short). Both OLT 7 
and ONU sides maintain state machines to manage the mechanisms, to follow whatever status changes of the ONUs .  8 
Automatically connecting a new ONU requires two steps; first, ONU autodiscovery, and second, ONU ranging in order 9 
to equalize its time reference for upstream transmission to the ONU with (potential) furthest distance. The equalization is 10 
deducing and configuring an extra delay per ONU so as to achieve time alignment of all ONUs at the OLT receiver.  11 
In order to detect newly connected ONUs, the OLT needs to give them an opportunity to send their unique identification 12 
(Serial Number). This involves exchange  of information from ONU to OLT without the OLT knowing when this 13 
information will arrive. In order to avoid overlap with existing upstream traffic, the OLT opens a "quiet window” by 14 
temporarily suppressing the grants to the in -service ONUs for a given dur ation. The OLT broadcasts a special grant 15 
targeted only to new ONUs, such that they start sending their unique number in the upstream direction (a back -off 16 
mechanism is included to take care of multiple new ONUs overlapping), see Figure A-5. 17 
 18 
Figure A-5 : autodiscovery process (e.g. ONU 2) 19 
Once the unique number of a given new ONU is known, the OLT can open another quiet window silencing all other 20 
ONUs except the new ONU . The OLT receiver measures the arrival time of the upstream messages of that ONU in the 21 
quiet window, and deduces its necessary time equalization, which is then communicated back by the OLT to the ONU. 22 
At the end of this process, the ONU becomes operational and can receive normal service grants, and send upstream traffic.  23 
Note that the duration of the ranging window depends on the maximum differential distance (closest ONU to furtherst 24 
ONU) to be supported, The amount of windows per step can vary (e.g. a window could be repeated a couple of times for 25 
more robustness in case of distant or weak ONUs). The repetition rate of the process can be set by the operator (e.g. every 26 
second, but can be much shorter or much larger). 27 
When using PON for fronthaul traffic, such ranging process of new ONUs will cause upstream transport interruption. 28 
There are two ways to deal with this. Either  the PON system is able to reduce or avoid the interruption time (possibly 29 
with modifications to the ranging process as  described here , but that can require more complexity on the PON or a 30 
dependence on specific PON technologies ) so that there will be no o r limited impact on the mobile system. Or the PON 31 
system notifies the O-DU about upcoming ranging events, so that the O-DU can take mitigating measures.   32 
A.1.5 PON technologies 33 
CO DBA is recognized by ITU-T as a DBA method. There are multiple PON technology variants, and new ones are under 34 
definition by the ITU-T SG15/Q2. 35 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   43 
O-RAN.WG4.CTI-TCP.0-v03.00 
Technologies offering 10 Gbit/s or more: 1 
• G.9807 series (XGS-PON) 2 
• G.989 series (NG-PON2) 3 
• G.hsp (on-going work at time of publication of this document) 4 
 5 
There are multiple PON technology variants specified by IEEE offering 10 Gbit/s or more: 6 
• IEEE 802.3av, IEEE 802.3bk 7 
• IEEE 802.3ca (on-going work at time of publication of this document) 8 
 9 
A.2 DOCSIS as a Transport Technology  10 
Data Over Cable Service Interface Specification (DOCSIS) is a telecommunication standard that governs the transmission 11 
of high -speed data on a hybrid fiber coaxial (HFC) plant. DOCSIS protocol is developed by CableLabs with many 12 
contributing companies. The protocol has been ratified by the ITU-T as international standards. The DOCSIS protocol is 13 
deployed by cable operators worldwide. 14 
The DOCSIS protocol has had significant updates on both the physical and the MAC layers since DOCSIS 1.0. The most 15 
recent version is DOCSIS 3.1 (see [7]), with improvements to support higher symmetrical speeds and lower latency. Work 16 
is under way to support even higher speeds in the near future. 17 
These performance improvements make DOCSIS a viable transport technology for mobile traffic. Furthermore, the 18 
ubiquity of the HFC plants has the potential to make DOCSIS transport an economical solution.  19 
 20 
Figure A-6: DOCSIS Transport Network 21 
A.2.1 DOCSIS resource scheduling 22 
In a DOCSIS network, the cable modem termination system (CMTS) is the master controlling multiple cable modem 23 
slaves (CMs). Most upstream data are trasmitted using the best effort (BE) scheduling service. The DOCSIS upstream 24 
uses a request-grant approach as shown in Figure A-7. A request message is sent from the CM to the CMTS. The CMTS 25 
prepares a bandwidth allocation map, called the MAP, and inserts an entry indicating a grant for the CM. The grant entry 26 
in the MAP message contains an upstream service identifier (SID) associated with a service flow assigned to the CM, a 27 
CM
Mobile 
Core
CMTS 
Core
Converged Interconnect 
Network - CIN (ﬁber)
Coax (including 
ampliﬁers, taps)
CM
CM
Optical node (may 
include Remote 
PHY Device)
CM
Residential 
business 
services

 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   44 
O-RAN.WG4.CTI-TCP.0-v03.00 
transmission time signaled as a minislot number, and the number of minislots assigned. Based on the number of assigned 1 
minislots, the CM knows the number of bytes that have been granted. The CMTS broadcasts the MAP to the CM, so that 2 
the CM can make use of the grant to send its upstream data to the CMTS at the scheduled time.  3 
 4 
Figure A-7 : DOCSIS Request-Grant Scheduling 5 
Each CM can have multiple service flows. A service flow is defined by a set of quality of service (QoS) parameters, 6 
including scheduling priority. Within each service flow, the data are concatenated and fragmented. 7 
In addition to the BE scheduling service, the CMTS can choose to grant the CM on a periodic basis via unsolicited grant 8 
service (UGS) scheduling service, or proactive grant service (PGS). UGS was originally designed for carrying VoIP data, 9 
transmitting a fixed and discreet amount of traffic at a relatively fixed time interval. PGS is an update to UGS: it permits 10 
the flexibility for CM to concatenate and fragment the data. All DOCSIS scheduling services are reactive, in that the 11 
CMTS reacts to conditions such as a CM request or a preconfiguration on the DOCSIS channel. While PGS permits the 12 
CMTS to adjust the amount of periodic grants and the periodicity, the CMTS still reacts based on the past information.  13 
A.2.2 DOCSIS Latency Analysis 14 
The upstream latency on a DOCSIS network consists of several components. 15 
 CIN Network Latency 16 
The cable industry has been virtualizing and splitting the functionalities of their access network equipment since the early 17 
2010 timeframe. The distributed architecture split s the traditional CMTS into an intelligent core unit residing in a hub, a 18 
headend, or even a regional data center, with remote units that have minimal functionality residing in a fiber node close 19 
to the CM. The converged interconnect network (CIN) is the fiber network that connects a CMTS core to the remote units. 20 
The propagation delay between the CMs and the remote units is negligible due to the short coax run between them. 21 
However, the CIN vary between operators, and can be between 30 km and upwards. Therefore, depending on operator 22 
requirements, CIN delay may need to be considered when operators plan their fronthaul delay budgets.  23 
Reducing CIN delay is not the focus of this interface protocol. 24 
 Channel Access Latency 25 
Channel access latency is a result of the shared-medium scheduling provided by DOCSIS technology, in which the CMTS 26 
arbitrates access to the upstream channel via a request-grant mechanism.  27 
The CMTS scheduler typically processes REQs every 2 ms and generates a MAP that describes 2 ms worth of grant 28 
allocations. MAPs are scheduled one MAP interval in advance. Additionally, the CMTS and the CM each need processing 29 
time which can range from 0.5 to 1 ms on each device. So the theoretical minimum upstream latency for DOCSIS is about 30 
5 ms. Recent work to improve DOCSIS upstream latency include requiring a smaller MAP interval, as well as a shorter 31 
CMTS processing time. Still, these efforts only reduces minimum achieveable latency. The channel access latency on a 32 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   45 
O-RAN.WG4.CTI-TCP.0-v03.00 
DOCSIS network is load dependent. During periods of temporary congestion, channel access latency can increase to 10’s 1 
of milliseconds. 2 
The bandwidth report (BWR) and the CTI protocols both aim to significantly reduce the channel access latency.  3 
 Other Components 4 
Other sources of late ncy include serialization delay and switching / forwarding delay. They generally result in 5 
significantly less latency than the two above, and are not the target of this specification.  6 
A.2.3 Bandwidth Report (BWR) 7 
The bandwidth report (BWR) protocol is standardiz ed at the CableLabs DOCSIS Xhaul committee with many 8 
contributing cable and mobile infrastructure companies [6]. BWR significantly reduces the latency of mobile traffic when 9 
traversing the DOCSIS network. The protocol is designed for when DOCSIS network provides backhaul, midhaul, and 10 
fronthaul transport for a mobile system. Figure A-8 shows BWR transmitting across the DOCSIS xhaul network. 11 
 12 
Figure A-8 : BWR Transits Across Xhaul 13 
Since this transport plane specification focuses on the fronthaul transport, this specification  only considers BWR in 14 
fronthaul transport. 15 
 BWR Principles of Operations 16 
Ordinarily, without BWR, the CM waits for the fronthaul data to arrive from the O-RU and then makes bandwidth requests 17 
using the native DOCSIS request mechanism. The mobile data transfer from the UE to the O -RU takes a 3-way request-18 
grant loop, and then the transfer of fronthaul data on the DOCSIS link takes another 3 -way request-grant loop. Since 19 
DOCSIS and mobile networks are two independent systems, the two similar scheduling loops take place in serial.  20 
With BWR, the O-DU informs the CMTS when it performs the uplink scheduling about the number of bytes that is about 21 
to come to the CM from t he O-RU at a certain time in the future. The BWR replaces the CM’s internal layer 2 request 22 
message for the fronthaul data arriving at the CM. The BWR message itself is an external layer 3 IP or Ethernet -based 23 
message that is transmitted from the O-DU, directly to the CMTS. The content of the BWR is populated with information 24 
describing data that will arrive at the CM in the future. 25 
With this information, the CMTS has the ability to make scheduling decisions for the fronthaul data that is about to arrive 26 
but before its actual arrival at the CM. BWR enables DOCSIS and mobile systems to work together by defining an 27 
interface that allows the O -DU to share fronthaul scheduling information with the CMTS. In this way, the two similar 28 
scheduling loops take place in parallel. As a result, BWR reduces the latency on the DOCSIS link. 29 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   46 
O-RAN.WG4.CTI-TCP.0-v03.00 
BWR message enables QoS support on the DOCSIS network via the CTI Flow ID. Fronthaul traffic is sorted into priority 1 
classes and assigned a DOCSIS Service F low ID. BWR message includes one  or multiple CTI F low IDs and their 2 
associated bytes. There is a common understanding between the CTI Flow ID and the priority between the CMTS and the 3 
O-DU, so that the CMTS can prioritize traffic based on the CTI Flow ID. 4 
To allow for the flexibility to provide lower latency on the fronthaul transport, the CMTS may need to schedule transport 5 
grants as the fronthaul traffic arrives at the CM rather than at the end of the slot. BWR protocol defines the concept of 6 
traffic pattern in subintervals within the t ime interval the BWR message describes, and by doing so, the BWR message 7 
provides a more granular traffic arrive information to the CMTS. 8 
Details of the message exchange, as well as the interface protocol can be found in [6]. 9 
 10 
Figure A-9 : BWR Message Flow for Fronthaul 11 
 Using CTI for BWR 12 
CTI uses the basic mechanism that BWR uses that requires the O-DU to communicate to the CMTS via a transport plane 13 
interface. 14 
Both mechanisms require connecting the O-DU and the CMTS via logical interfaces. In both cases, the O-DU determines 15 
the amount of fronthaul allocations for a time interval and for a service. About the same time as O -DU sends O-RU the 16 
C-plane message about U-plane data for the time interval, the O -DU formulates and sends a CTI message to the CMTS. 17 
For both types (BWR and CTI) of messages, a common set of information elements are needed:  18 
• Unique ID to indicate the O-RU’s physical interface 19 
• Start time 20 
• End time: the start time and end time together defines the time interval that is associated with the bytes  21 
• QoS / priority ID: in the BWR case, priority is indicated. In the CTI case, a combination of priority and latency 22 
class can be indicated 23 
• Bytes associated with each QoS / priority ID 24 
• Traffic pattern ID to describe bytes in subintervals within the time interval 25 
The CMTS maps the QoS / priority ID to the DOCSIS upstream service ID (SID), and schedules transport grants according 26 
to CMTS scheduler and policy rules. 27 
 28 
 29 
  30 


 
________________________________________________________________________________________________
© 2022 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.   47 
O-RAN.WG4.CTI-TCP.0-v03.00 
Revision History 1 
Date Revision Description 
2022.07.14 03.00 Clarification on TC & TM terminology 
2021.03.03 02.00 Updated with specifications for EtherType, uplink C-Plane messaages,  and 
CTI pattern descriptor 
2020.03.13 01.00 Final version 01.00 
 2 
 3 
History 4 
Date Revision Description 
2022.07.14 03.00 Published as Final version 03.00 
2021.03.03 02.00 Published as Final version 02.00 
2020.03.13 01.00 Published as Final version 01.00 
 5 
 6 