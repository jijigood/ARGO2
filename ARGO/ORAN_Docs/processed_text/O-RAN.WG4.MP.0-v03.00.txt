O-RAN.WG4.MP.0-v03.00
Technical Specification 
O-RAN Alliance Working Group 4
Management Plane Specification 
O-RAN Alliance Working Group 4
Management Plane Specification 
This is a re-published version of the attached final specification. 
For this re-published version, the prior versions of the IPR Policy will apply, except that the previous 
requirement for Adopters (as defined in the earlier IPR Policy) to agree to an O-RAN Adopter License 
Agreement to access and use Final Specifications shall no longer apply or be required for these Final 
Specifications after 1st July 2022.
The copying or incorporation into any other work of part or all of the material available in this 
specification in any form without the prior written permission of O-RAN ALLIANCE e.V.  is prohibited, 
save that you may print or download extracts of the material on this site for your personal use, or copy 
the material on this site for the purpose of sending to individual third parties for their information provided 
that you acknowledge O-RAN ALLIANCE as the source of the material and that you inform the third 
party that these conditions apply to them and that they must comply with them.

1 
O-RAN.WG4.MP.0-v03.00 Technical Specification 
 O-RAN Alliance Working Group 4   Management Plane Specification    
  
 Prepared by the O-RAN Alliance. Copyright © 2020 by the O-RAN Alliance. By using, accessing or downloading any part of this O-RAN specification document, including by copying, saving, distributing, displaying or preparing derivatives of, you agree to be and are bound to the terms of the O-RAN Adopter License Agreement contained in Annex ZZZ of this specification. All other rights reserved. 
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ           1 
 O-RAN Alliance Working Group 4   Management Plane Specification    

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       2 
O-RAN.WG4.MP.0-v03.00 
Revision History 1 Date Revision Description 2019.03.11 01.00 First published version based on import of xRAN M-Plane 2019.07.03 02.00 Bug fixes and correction to v01.00  Addition of new functionality, including: - Beam tilting - Antenna calibration - CU plane monitoring - Trace - 3GPP MV PnP support - QSFP  2020.04.17 03.00 Bug fixes and correction to v02.00 - NACM table - Clarifications on CU plane monitoring - Clarification of allowed sync state transitions - Corrections on overall Start-Up operation  Addition of new functionality, including: - Shared cell - Dying Gasp - PM Counters - Config Notification - Hybrid Health Warning - Dynamic Spectrum Sharing - Grouping of eAxC-IDs - Energy, Power and Environmental statistics   2 3 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       3 
O-RAN.WG4.MP.0-v03.00 
Contents 1 Revision History ................................................................................................................................................. 2 2 Chapter 1 Introductory Material ......................................................................................................................... 7 3 1.1 Scope 7 4 1.2 References ...................................................................................................................................................................... 7 5 1.3 Definitions and Abbreviations ........................................................................................................................................ 8 6 1.3.1 Definitions ................................................................................................................................................................... 8 7 1.3.2 Abbreviations ............................................................................................................................................................ 10 8 1.4 Conventions .................................................................................................................................................................. 11 9 1.5 Topics for Future Specification Versions ..................................................................................................................... 11 10 Chapter 2 High Level Description ................................................................................................................... 12 11 2.1 Top level functional description, terminology, including hybrid, hierarchical ............................................................ 12 12 2.1.1 Architecture for O-RAN WG4 Fronthaul functional split ........................................................................................ 12 13 2.1.2 M-Plane architecture model ...................................................................................................................................... 12 14 2.1.3 Transport Network .................................................................................................................................................... 13 15 2.1.4 M-Plane functional description ................................................................................................................................. 14 16 2.2 Interfaces ...................................................................................................................................................................... 14 17 2.3 YANG Module Introduction ........................................................................................................................................ 15 18 2.4 Security ......................................................................................................................................................................... 15 19 Chapter 3 “Start up” installation ...................................................................................................................... 16 20 3.1 Management Plane Transport aspects .......................................................................................................................... 19 21 3.1.1 O-RU identification in DHCP ................................................................................................................................... 21 22 3.1.2 Management Plane VLAN Discovery Aspects ......................................................................................................... 21 23 3.1.3 O-RU Management Plane IP Address Assignment ................................................................................................... 22 24 3.1.4 O-RU Controller Discovery ...................................................................................................................................... 22 25 3.1.5 Multi-Vendor Plug-and-Play ..................................................................................................................................... 23 26 3.2 NETCONF Call Home to O-RU Controller(s) ............................................................................................................. 24 27 3.3 SSH Connection Establishment .................................................................................................................................... 26 28 3.3.1 NETCONF Security .................................................................................................................................................. 26 29 3.3.2 NETCONF Authentication ........................................................................................................................................ 26 30 3.3.3 User Account Provisioning ....................................................................................................................................... 27 31 3.4 NETCONF Access Control .......................................................................................................................................... 27 32 3.5 NETCONF capability discovery .................................................................................................................................. 29 33 3.6 Monitoring NETCONF connectivity ............................................................................................................................ 29 34 3.7 Closing a NETCONF Session ...................................................................................................................................... 32 35 Chapter 4 O-RU to O-DU Interface Management ........................................................................................... 32 36 4.1 O-RU Interfaces ........................................................................................................................................................... 32 37 4.2 Transceiver ................................................................................................................................................................... 32 38 4.3 C/U Plane VLAN Configuration .................................................................................................................................. 33 39 4.4 O-RU C/U Plane IP Address Assignment .................................................................................................................... 33 40 4.5 Definition of processing elements ................................................................................................................................ 34 41 4.6 O-DU Verification of C/U Plane Transport Connectivity ............................................................................................ 34 42 4.6.1 Ethernet connectivity monitoring procedure ............................................................................................................. 35 43 4.6.2 IP connectivity monitoring procedure ....................................................................................................................... 36 44 4.7 C/U-Plane Delay Management ..................................................................................................................................... 36 45 4.7.1 Delay Parameters ....................................................................................................................................................... 36 46 4.7.2 Reception Window Monitoring ................................................................................................................................. 37 47 4.8 O-RU Adaptive Delay Capability ................................................................................................................................ 38 48 4.9 Measuring transport delay parameters ......................................................................................................................... 38 49 4.10 O-RU Monitoring of C/U Plane Connectivity ........................................................................................................... 39 50 Chapter 5 Software Management ..................................................................................................................... 40 51 5.1 Software Package ......................................................................................................................................................... 40 52 5.2 Software Inventory ....................................................................................................................................................... 41 53 5.3 Download ..................................................................................................................................................................... 43 54 5.4 Install  ........................................................................................................................................................................... 45 55 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       4 
O-RAN.WG4.MP.0-v03.00 5.5 Activation ..................................................................................................................................................................... 47 1 5.6 Software update scenario .............................................................................................................................................. 49 2 5.7 Factory Reset ................................................................................................................................................................ 49 3 Chapter 6 Configuration Management ............................................................................................................. 50 4 6.1 Baseline configuration .................................................................................................................................................. 50 5 6.1.1 Retrieve State ............................................................................................................................................................ 50 6 6.1.2 Modify State .............................................................................................................................................................. 50 7 6.1.3 Retrieve Parameters ................................................................................................................................................... 53 8 6.1.4 Modify Parameters .................................................................................................................................................... 54 9 6.2 Framework for optional feature handling ..................................................................................................................... 55 10 6.3 M-Plane Operational State ........................................................................................................................................... 56 11 6.4 Notification of Updates to Configuration Datastore .................................................................................................... 56 12 6.4.1 Introduction ............................................................................................................................................................... 56 13 6.4.2 Subscribing to updates from an O-RU ...................................................................................................................... 56 14 Chapter 7 Performance Management ............................................................................................................... 57 15 7.1 Measurement Activation and De-activation ................................................................................................................. 57 16 7.2 Collection and Reporting of Measurement Result ....................................................................................................... 58 17 7.2.1 NETCONF process .................................................................................................................................................... 58 18 7.2.2 File Management process .......................................................................................................................................... 60 19 Chapter 8 Fault Management ........................................................................................................................... 62 20 8.1 Alarm Notification ....................................................................................................................................................... 63 21 8.2 Manage Alarms Request .............................................................................................................................................. 63 22 8.3 Fault Sources ................................................................................................................................................................ 65 23 Chapter 9 File Management ............................................................................................................................. 66 24 9.1 File System Structure ................................................................................................................................................... 67 25 9.2 File Management Operation: upload ............................................................................................................................ 67 26 9.3 File Management Operation: retrieve file list .............................................................................................................. 68 27 9.4 File Management Operation: download ....................................................................................................................... 69 28 Chapter 10 Synchronization Aspects ............................................................................................................... 70 29 10.1 Sync Status Object ...................................................................................................................................................... 70 30 10.2 Sync Capability Object ............................................................................................................................................... 71 31 10.3 PTP Configuration ...................................................................................................................................................... 71 32 10.3.1 G.8275.1 specific parameters .................................................................................................................................. 72 33 10.3.2 G.8275.2 specific parameters .................................................................................................................................. 73 34 10.4 PTP Status .................................................................................................................................................................. 73 35 10.5 SyncE Configuration .................................................................................................................................................. 74 36 10.6 SyncE Status ............................................................................................................................................................... 75 37 10.7 GNSS Configuration .................................................................................................................................................. 75 38 10.8 GNSS Status ............................................................................................................................................................... 76 39 Chapter 11 Operations Use Cases .................................................................................................................... 77 40 11.1 Supervision Failure ..................................................................................................................................................... 77 41 11.2 Log management ........................................................................................................................................................ 77 42 11.2.1 Troubleshooting ....................................................................................................................................................... 77 43 11.2.2 Trace ........................................................................................................................................................................ 80 44 11.3 Operational aspects of Antenna Line Devices ........................................................................................................... 81 45 11.3.1 HDLC Interworking ................................................................................................................................................ 82 46 11.3.2 ALD Operations ...................................................................................................................................................... 83 47 11.4 Operational aspects of external IO ............................................................................................................................. 85 48 11.4.1 External input .......................................................................................................................................................... 85 49 11.4.2 External output ........................................................................................................................................................ 86 50 Chapter 12 Details of O-RU Operations .......................................................................................................... 88 51 12.1 Retrieval of O-RU Information .................................................................................................................................. 88 52 12.2 User plane message routing ........................................................................................................................................ 89 53 12.2.1 Configurable format for eAxC_ID .......................................................................................................................... 89 54 12.2.2 U-Plane endpoint addressing ................................................................................................................................... 90 55 12.2.3 General configuration scenario ............................................................................................................................... 90 56 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       5 
O-RAN.WG4.MP.0-v03.00 12.3 Carrier Configuration ................................................................................................................................................. 92 1 12.3.1 Carrier creation ........................................................................................................................................................ 92 2 12.3.2 Activation, deactivation and sleep ........................................................................................................................... 92 3 12.3.3 Carriers relation to sync .......................................................................................................................................... 93 4 12.4 Beamforming Configuration ...................................................................................................................................... 98 5 12.4.1 Pre-Defined Beamforming Configuration ............................................................................................................... 98 6 12.4.2 Beamforming Configuration Update ....................................................................................................................... 98 7 12.4.3 Tilting Pre-defined Beams ..................................................................................................................................... 102 8 12.4.4 Dynamic Beamforming Control option ................................................................................................................. 105 9 12.5 Antenna Calibration ................................................................................................................................................. 105 10 12.5.1 Overall Operation .................................................................................................................................................. 106 11 12.5.2 O-RU Antenna Calibration Capability Parameter Configuration ......................................................................... 109 12 12.5.3 NETCONF antenna-calibration-required Notification Parameters ....................................................................... 109 13 12.5.4 Start-antenna-calibration RPC Request Parameters .............................................................................................. 110 14 12.5.5 Example Antenna Calibration Operation .............................................................................................................. 110 15 Chapter 13 Licensed-Assisted Access ........................................................................................................... 114 16 13.1 Introduction: ............................................................................................................................................................. 114 17 13.2 LAA-initiation Process ............................................................................................................................................. 115 18 13.2.1 LAA Module Capabilities ..................................................................................................................................... 115 19 13.2.2 LAA O-RU Parameter Configuration ................................................................................................................... 116 20 13.3 Carrier-Selection ...................................................................................................................................................... 117 21 13.3.1 LAA Measurements .............................................................................................................................................. 117 22 13.3.2 LAA Carrier Frequency Configuration ................................................................................................................. 117 23 Chapter 14 Shared Cell .................................................................................................................................. 117 24 14.1 Architecture .............................................................................................................................................................. 117 25 14.2 Start-up and Installation ........................................................................................................................................... 119 26 14.3 Performance Management ........................................................................................................................................ 123 27 14.3.1 Measurement-group ............................................................................................................................................... 123 28 14.4 Delay Management ................................................................................................................................................... 124 29 14.5 Details of O-RU operations for shared cell .............................................................................................................. 125 30 14.5.1 O-RU Information for Shared Cell ........................................................................................................................ 125 31 14.5.2 Topology Discovery procedure ............................................................................................................................. 126 32 14.5.3 Shared Cell Configuration ..................................................................................................................................... 127 33 14.5.4 U-plane Configuration for FHM mode ................................................................................................................. 131 34 Annex A Alarm definition ............................................................................................................................. 131 35 Annex B Counter definition ........................................................................................................................... 137 36 B.1 Transceiver Statistics ................................................................................................................................................. 138 37 B.1.1 Statistics Calculation .............................................................................................................................................. 139 38 B.1.2 Frequency Table Generation ................................................................................................................................... 139 39 B.2 Rx Window Statistics ................................................................................................................................................ 140 40 B.3 Tx Statistics ............................................................................................................................................................... 141 41 B.4 Energy, Power and Environmental Statistics ............................................................................................................. 141 42 Annex C Optional Multi-Vendor Functionality ............................................................................................. 141 43 C.1: Optional Namespace ................................................................................................................................................. 141 44 C.2: Optional YANG Features ......................................................................................................................................... 142 45 C.3: Optional Capabilities Exposed Using O-RAN YANG Models ................................................................................ 144 46 C.4: Optional Capabilities Exposed Using Common YANG Models ............................................................................. 146 47 Annex D YANG Module Graphical Representation ..................................................................................... 146 48 D.1 System Folder ............................................................................................................................................................ 146 49 D.1.1 o-ran-supervision.yang Module .............................................................................................................................. 146 50 D.1.2 o-ran-usermgmt.yang Module ................................................................................................................................ 146 51 D.1.3 o-ran-hardware.yang Module ................................................................................................................................. 147 52 D.1.4 o-ran-fan.yang Module ........................................................................................................................................... 147 53 D.1.5 o-ran-fm.yang Module ............................................................................................................................................ 147 54 D.2 Operations Folder ...................................................................................................................................................... 148 55 D.2.1 o-ran-operations.yang Module ............................................................................................................................... 148 56 D.2.2 o-ran-file-management.yang Module ..................................................................................................................... 148 57 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       6 
O-RAN.WG4.MP.0-v03.00 D.2.3 o-ran-software-management.yang Module ............................................................................................................. 149 1 D.2.4 o-ran-lbm.yang Module .......................................................................................................................................... 150 2 D.2.5 o-ran-udp-echo.yang Module ................................................................................................................................. 150 3 D.2.6 o-ran-ecpri-delay.yang Module .............................................................................................................................. 150 4 D.2.7 o-ran-performance-management.yang Module ...................................................................................................... 150 5 D.2.8 o-ran-uplane-conf.yang Module ............................................................................................................................. 153 6 D.2.9 o-ran-ald Module .................................................................................................................................................... 157 7 D.2.10 o-ran-troubleshooting Module .............................................................................................................................. 157 8 D.2.11 o-ran-laa-operations Module ................................................................................................................................ 157 9 D.2.11 o-ran-trace Module ............................................................................................................................................... 158 10 D.3 Interfaces Folder ........................................................................................................................................................ 158 11 D.3.1 o-ran-interfaces.yang Module ................................................................................................................................. 158 12 D.3.2 o-ran-processing-elements.yang Module ............................................................................................................... 159 13 D.3.3 o-ran-transceiver.yang Module ............................................................................................................................... 160 14 D.3.4 o-ran-mplane-int.yang Module ............................................................................................................................... 160 15 D.3.5 o-ran-dhcp.yang Module ........................................................................................................................................ 160 16 D.3.6 o-ran-externalio.yang Module ................................................................................................................................ 161 17 D.3.7 o-ran-ald-port.yang Module ................................................................................................................................... 161 18 D.3.8 o-ran-ethernet-forwarding.yang Module ................................................................................................................ 162 19 D.4 Sync Folder ................................................................................................................................................................ 162 20 D.4.1 o-ran-sync.yang Module ......................................................................................................................................... 162 21 D.5 Radio Folder .............................................................................................................................................................. 163 22 D.5.1 o-ran-module-cap.yang Module ............................................................................................................................. 163 23 D.5.2 o-ran-delay-management.yang Module .................................................................................................................. 165 24 D.5.3 o-ran-beamforming.yang Module ........................................................................................................................... 165 25 D.5.4 o-ran-laa.yang Module ........................................................................................................................................... 170 26 D.5.6 o-ran-antenna-calibration.yang Module ................................................................................................................. 170 27 D.5.7 o-ran-shared-cell.yang Module ............................................................................................................................... 171 28 Annex ZZZ O-RAN Adopter License Agreement ......................................................................................... 172 29 Section 1: DEFINITIONS ................................................................................................................................................ 172 30 Section 2: COPYRIGHT LICENSE ................................................................................................................................. 173 31 Section 3: FRAND LICENSE .......................................................................................................................................... 173 32 Section 4: TERM AND TERMINATION ....................................................................................................................... 173 33 Section 5: CONFIDENTIALITY ..................................................................................................................................... 173 34 Section 6: INDEMNIFICATION ..................................................................................................................................... 174 35 Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY .................................................................................... 174 36 Section 8: ASSIGNMENT ............................................................................................................................................... 174 37 Section 9: THIRD-PARTY BENEFICIARY RIGHTS ................................................................................................... 174 38 Section 10: BINDING ON AFFILIATES ........................................................................................................................ 174 39 Section 11: GENERAL .................................................................................................................................................... 175 40  41  42 43 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       7 
O-RAN.WG4.MP.0-v03.00 
Chapter 1 Introductory Material 1 
1.1 Scope 2 This Technical Specification has been produced by the O-RAN.org. 3 The contents of the present document are subject to continuing work within O-RAN WG4 and may change following formal 4 O-RAN approval. Should the O-RAN.org modify the contents of the present document, it will be re-released by O-RAN 5 Alliance with an identifying change of release date and an increase in version number as follows: 6 Release x.y.z 7 where: 8 x the first digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc. (the 9 initial approved document will have x=01). 10 y the second digit is incremented when editorial only changes have been incorporated in the document. 11 z the third digit included only in working versions of the document indicating incremental changes during the editing 12 process. 13 The present document specifies the management plane protocols used over the fronthaul interface linking the O-RU (O-RAN 14 Radio Unit) with other management plane entities, that may include the O-DU (O-RAN Distributed Unit) as well as other 15 Network Management Systems (NMS).  16 1.2 References 17 The following documents contain provisions which, through reference in this text, constitute provisions of the present document. 18 - References are either specific (identified by date of publication, edition number, version number, etc.) or non-specific. 19 - For a specific reference, subsequent revisions do not apply. 20 - For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM 21 document), a non-specific reference implicitly refers to the latest version of that document in Release 15. 22 [1] 3GPP TR 21.905: “Vocabulary for 3GPP Specifications” 23 [2] ORAN-WG4.CUS.0-v03 “Control, User and Synchronization Plane Specification”, O-RAN  Alliance, 24 Working Group 4  25 [3] RFC 6241, “Network Configuration Protocol (NETCONF)”, IETF, June 2011 26 [4] RFC 7950, “The YANG 1.1 Data Modeling Language”, IETF, August 2016 27 [5] RFC 6242, “Using the NETCONF Protocol over Secure Shell (SSH)”, IETF, June 2011 28 [6] RFC 4252, “The Secure Shell (SSH) Authentication Protocol”, IETF, January 2006 29 [7] RFC 4253, “The Secure Shell (SSH) Transport Layer Protocol”, IETF, January 2006 30 [8] RFC 2132, “DHCP Options and BOOTP Vendor Extensions”, IETF, March 1997 31 [9] RFC 3925, “Vendor-Identifying Vendor Options for Dynamic Host Configuration Protocol version 4 32 (DHCPv4)”, IETF, October 2004 33 [10] RFC 2131, “Dynamic Host Configuration Protocol”, IETF, March 1997 34 [11] RFC 4862, “IPv6 Stateless Address Autoconfiguration”, IETF, September 2007 35 [12] RFC 3315, “Dynamic Host Configuration Protocol for IPv6 (DHCPv6)”, IETF, July 2003 36 [13] RFC 3736, “Stateless Dynamic Host Configuration Protocol (DHCP) Service for IPv6”, IETF, April 2004 37 [14] draft-ietf-netconf-zerotouch, “Zero Touch Provisioning for NETCONF or RESTCONF based 38 Management”, IETF, work in progress 39 [15] RFC 8071, “NETCONF Call Home and RESTCONF Call Home”, IETF, February 2017 40 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       8 
O-RAN.WG4.MP.0-v03.00 [16] SFF-8472v11, “Diagnostic Monitoring Interface for Optical Transceivers”, SFF Committee, September 1 2010 2 [17] IEEE 802.1ag, “IEEE Standard for Local and Metropolitan Area Networks Virtual Bridged Local Area 3 Networks Amendment 5: Connectivity Fault Management”, IEEE, 2007 4 [18] RFC 862, “Echo Protocol”, IETF, May 1983 5 [19] MEF.38, “Service OAM Fault management YANG Modules”, Metro Ethernet Forum, April 2012 6 [20] RFC 7895, “YANG Model Library”, IETF, June 2016  7 [21] RFC 5277, “NETCONF Event Notifications”, IETF, July 2008 8 [22] G.8275.1, “Precision time protocol telecom profile for phase/time synchronization with full timing support 9 from the network”, ITU, June 2016 10 [23] G.810, “Definitions and terminology for synchronization networks”, ITU, August 1996 11 [24] 1588v2-2008, “IEEE Standard for a Precision Clock Synchronization Protocol for Networked 12 Measurement and Control Systems”, IEEE, 2008 13 [25] Y.1731, “Operation, administration and maintenance (OAM) functions and mechanisms for Ethernet 14 based networks”, ITU, August 2015 15 [26] AISG 2.0, “Control interface for antenna line devices”, Antenna Interface Standards Group, June 2006 16 [27] 3GPP 25.462, “UTRAN Iuant interface: Signalling transport”, 3GPP 17 [28] 3GPP 25.466, “UTRAN Iuant interface: Application part”, 3GPP 18 [29] 3GPP 25.463, “UTRAN Iuant interface: Remote Electrical Tilting (RET) antennas Application Part 19 (RETAP) signalling”, 3GPP 20 [30] ITU X.733, “Information Technology – Open Systems Interconnection - System Management: Alarm 21 Reporting Function”, 1992 22 [31] RFC 6187, “X.509v3 Certificates for Secure Shell Authentication”, IETF, March 2011 23 [32] 3GPP TS 36.213, “Evolved Universal Terrestrial Radio Access (E-UTRA); Physical layer procedures”, 24 3GPP, V13.6.0 (2017-06) 25 [33] RFC 4361, Node-specific Client Identifiers for Dynamic Host Configuration Protocol Version Four 26 (DHCPv4), IETF, February 2006 27 [34] SFF-8636v2.9.3, “Specification for Management Interface for Cabled Environment”, SFF Committee, 28 April 2019 29 [35] RFC 6470, “Network Configuration Protocol (NETCONF) Base Notifications”, IETF, February 2012 30  31 1.3 Definitions and Abbreviations 32 1.3.1 Definitions 33 For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A 34 term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1]. 35 Antenna Line: connection between O-RU and antenna 36 C-Plane: Control Plane: refers specifically to real-time control between O-DU and O-RU, and should not be confused with the 37 UE’s control plane 38 c_eAxC: component eAxC: a portion of an eAxC flow assigned to a specific O-DU processing element.  39 Cascade mode: Mode of Shared cell which is realized by several O-RUs cascaded in chain topology 40 DL: DownLink: data flow towards the radiating antenna (generally on the LLS interface) 41 eAxC: extended Antenna-Carrier: a data flow for a single antenna (or spatial stream) for a single carrier in a single sector. 42 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       9 
O-RAN.WG4.MP.0-v03.00 FHM mode: Mode of Shared cell which is realized by FHM and several O-RUs in star topology.  1 LLS: Lower Layer Split: logical interface between O-DU and O-RU when using a lower layer (intra-PHY based) functional 2 split. 3 LLS-U: Lower Layer Split User-plane: logical interface between O-DU and O-RU when using a lower layer functional split. 4 LLS-C: Lower Layer Split Control-plane: logical interface between O-DU and O-RU when using a lower layer functional split. 5 LLS-S: Lower Layer Split Synchronization-plane: logical interface between O-DU and O-RU when using a lower layer 6 functional split. 7 High-PHY: those portions of the PHY processing on the O-DU side of the fronthaul interface, including FEC encode/decode, 8 scrambling, and modulation/demodulation. 9 Low-PHY: those portions of the PHY processing on the O-RU side of the fronthaul interface, including FFT/iFFT, digital 10 beamforming, and PRACH extraction and filtering. 11 M-Plane: Management Plane: refers to non-real-time management operations between the O-DU and the O-RU 12 North-node: the O-DU or a connected O-RU closer to the O-DU for the O-RU, e.g., the cascade O-RU#1 connected to O-13 RU#2 is north-node for O-RU#2, when O-DU, O-RU#1 and O-RU#2 are in cascade chain topology. The O-DU in star 14 topology connected to an FHM is north-node for the FHM.  15 NMS: A Network Management System dedicated to O-RU operations 16 Port: End of a transport link – in most cases this is an optical port 17 Port Number: A number which identifies a port (see Port). In case of SFP/SFP+ port, port number value is 0 to N-1 where N 18 is number of ports in the device. Numbers 0 to N-1 are assigned to ports in order following order of labels on the device (labels 19 for ports are not necessarily numbers starting from zero) 20 O-DU: O-RAN Distributed Unit: a logical node hosting PDCP/RLC/MAC/High-PHY layers based on a lower layer functional 21 split. 22 O-RU: O-RAN Radio Unit: a logical node hosting Low-PHY layer and RF processing based on a lower layer functional split.  23 This is similar to 3GPP’s “TRP” or “RRH” but more specific in including the Low-PHY layer (FFT/iFFT, PRACH extraction).   24 O-RU Controller: A network function that is permitted to control the configuration of an O-RU. Examples of O-RU controllers 25 include, an O-DU, a classical NMS, or other network automation platforms.  26 S-Plane: Synchronization Plane: refers to traffic between the O-RU or O-DU to a synchronization controller which is generally 27 an IEEE-1588 Grand Master (however, Grand Master functionality may be embedded in the O-DU). 28 Shared cell: The operation for the same cell by several O-RUs.  29 Shared cell network: the network for several cascade O-RUs in a chain topology or the network for one FHM and several O-30 RUs in a star topology.  31 South-node: a connected O-RU far from O-DU for the O-RU, e.g., the cascade O-RU#2 connected to O-RU#1 is south-node 32 for O-RU#1, when O-DU, O-RU#1 and O-RU#2 are in cascade chain topology. The O-RU in star topology connected to an 33 FHM is south-node for the FHM. 34 Spatial stream: the data flow on the DL associated with precoded data (may be same as layers or different if there is expansion 35 in the precoding), and on UL associated with the number of outputs from the digital beamforming (sometimes called “beams”).  36 SSM: Synchronization Status Message: part of ITU G.781 and G.8264 standards. 37 TRX: Refers to the specific processing chain in an O-RU associated with D/A or A/D converters.  Due to digital beamforming 38 the number of TRXs may exceed the number of spatial streams, and due to analog beamforming the number of TRXs may be 39 lower than the number of antenna elements. 40 U-Plane: User Plane: refers to IQ sample data transferred between O-DU and O-RU 41 UL: UpLink: data flow away from the radiating antenna (generally on the LLS interface) 42 Virtual Connection: a connection between O-RU and O-RU controller. This connection is established by means of 43 autodetection procedure and is supervised by supervision procedure. 44 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       10 
O-RAN.WG4.MP.0-v03.00 
1.3.2 Abbreviations 1 For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An 2 abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP 3 TR 21.905 [1]. 4 ALD Antenna Line Device 5 AVP Average Power 6 BCN BTS Clock Number 7 CRC Cyclic Redundancy Check 8 CUS Control/User/Synchronization 9 DHCP Dynamic Host Configuration Protocol 10 DMTC DRS Measurement Timing Configuration 11 DRS Discovery Reference Signal 12 DSCP Differentiated Services Code Point  13 FHM Fronthaul Multiplexer 14 HDLC High-Level Data Link Control 15 lls-M Lower Layer Split Management plane 16 LAA Licensed Assisted Access 17 LBM Loop-Back Message 18 LBR Loop Back Reply 19 LBT Listen Before Talk  20 ME  Maintenance Entity 21 MEP Maintenance association End Point 22 NAT Network Address Translation 23 NETCONF Network Configuration Protocol 24 O-DU O-RAN Distributed Unit (see definitions section) 25 O-RU O-RAN Radio Unit 26 OMA Optical Modulation Amplitude 27 PDV Packet Delay Variation 28 QoS Quality of Service 29 RET Remote Electrical Tilt 30 RPC Remote Procedure Call 31 SFP Small Form-factor Pluggable 32 sFTP Secure File Transfer Protocol or SSH File Transfer Protocol 33 SLAAC Stateless Address Auto Configuration 34 SSH Secure Shell 35 VLAN Virtual LAN 36 YANG Yet Another Next Generation 37  38 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       11 
O-RAN.WG4.MP.0-v03.00 
1.4 Conventions 1 This management plane specification includes cross references to a set of associated YANG models. Text may reference 2 particular YANG leafs, notifications and remote procedure calls (RPCs). In order to assist in readability, all cross references to 3 YANG defined elements will keep the identical case format as defined in the corresponding YANG model, with the font-weight 4 set to bold. This convention applies only to text and not to YANG elements embedded into figures.  5 If there is any conflict between the YANG models and the accompanying text description in this specification, the definition of 6 the YANG models shall take precedence. 7 
1.5 Topics for Future Specification Versions 8 Extensions to this version of the O-RAN WG4 Management Plane specification together with corrected errors will be included 9 in the future versions of this document.  10  11 The following topics are to be considered for future versions of the specification: 12 1. Beam Id field interpretation for various types of beamforming 13 2. Redundancy and failover scenario 14 3. SELECTIVE mode in shared cell scenario 15 4. Shared cell support for IP-defined flows 16 5. Enhancements to better align with O-RAN Alliance O1 specification 17  18 The revision statement in the YANG models will be used to describe future revisions to the models that are backwards 19 compatible. Backwards incompatible changes will be addressed by incrementing the number used as part of the model name 20 and namespace, effectively creating a new YANG model. The format of the namespace used in all O-RAN YANG models is 21 “urn:o-ran:”<model-name>“:”<model-number>, where the initial <model-number> used in a newly defined YANG model is 22 “1.0”. Where this document makes reference to models, irrespective of their backward compatibity, a generic <model-number> 23 of “x.y” is used to enable reference to all versions of the namespace for a particular <model-name>. 24  25 The revision statement in all YANG models includes a reference statement used to cross-reference to the first version of this 26 document where the corresponding description was introduced. For example, the reference in all revision statements for the 27 initial O-RAN models include cross-reference to “ORAN-WG4.MP.0-v01.00”.  28  29 The revision statement of the YANG models also includes a description which is used to track the versioning of the YANG 30 model. All revision statement descriptions will begin with “version ”<a>“.”<b>“.”<c>, where <a>, <b> and <c> are used to 31 reflect the version of the YANG model, where 32  33 <a> corresponds to the first digit of the O-RAN WG4 management plane specification version where the 34 corresponding description was first introduced, corresponding to <x> in sub-section 1.1 35 <b>  is incremented when errors in the YANG model have been corrected 36 <c> is incremented only in working versions of the the YANG model indicating incremental changes during the 37 editing process 38  39  40 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       12 
O-RAN.WG4.MP.0-v03.00 
Chapter 2 High Level Description 1 
2.1 Top level functional description, terminology, including hybrid, 2 hierarchical 3 2.1.1 Architecture for O-RAN WG4 Fronthaul functional split 4 This O-RAN FH specification addresses the lower layer functional split as depicted in Figure 1. Refer to the O-RAN CUS plane 5 specification [2] for more details on the split architecture. The Lower-Layer Split M-plane (LLS-M) facilitates the initialization, 6 configuration and management of the O-RU to support the stated functional split. 7 
 8 Figure 1 – O-RAN WG4 FH functional split 9 2.1.2 M-Plane architecture model 10 A NETCONF/YANG based M-Plane is used for supporting the management features including “start up” installation, software 11 management, configuration management, performance management, fault management and file management towards the O-12 RU. The M-Plane supports two architectural models: 13 1. Hierarchical model.  As shown on the left side Figure 1, the O-RU is managed entirely by one or more O-DU(s) using 14 a NETCONF based M-Plane interface. When the O-RU is managed by multiple O-DUs, it is typically for enabling O-DU 15 and/or transport connectivity redundancy capabilities. Refer to Chapter 3 for more details. 16 2. Hybrid model. As shown on the right side of Figure 1, the hybrid architecture enables one or more direct logical 17 interface(s) between management system(s) and O-RU in addition to a logical interface between O-DU and the O-RU. It 18 should be noted that the NETCONF clients connecting to the O-RU may be of different classes (e.g. O-DU and NMS). For 19 example, functions like O-RU software management, performance management, configuration management and fault 20 management can be managed directly by the management system(s).  21 In the hybrid model, the O-RU has end to end IP layer connectivity with the NMS. From a physical network point of view, this 22 connectivity could be via the O-DU, where the O-DU is acting as an IP/Ethernet packet forwarder, forwards the packets between 23 O-RU and the NMS. Direct logical communication between an O-RU and NMS can be enabled via O-RUs being assigned 24 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       13 
O-RAN.WG4.MP.0-v03.00 routable IPs or local private IPs resolved by a NAT function in the network (or implemented at the O-DU). Refer to chapter 3 1 for details how O-RU acquires the IP address of O-DU and NMS for the M-plane communication. 2 As described in Chapter 3, there is no explicit signaling to indicate that an O-RU is operating in a hierarchical or hybrid 3 configuration. All NETCONF servers supporting this M-Plane specification shall support multiple NETCONF sessions, and 4 hence all complaint O-RUs shall be able to support both hierarchical and hybrid deployment. 5 
 6 Figure 2 - M-Plane Architecture 7 NETCONF/YANG is used as the network element management protocol [3] and data modeling language [4]. Use of such a 8 standardized framework and common modeling language simplifies integration between O-DU and O-RU as well as operator 9 network integration (in terms of running service) in case of elements sharing a common set of capabilities. The framework 10 supports integration of products with differing capabilities enabled by well-defined published data models. NETCONF also 11 natively supports a hybrid architecture which enables multiple clients to subscribe and receive information originating at the 12 NETCONF server in the O-RU. 13 2.1.3 Transport Network 14 Based on the transport topology, various modes of network connectivity are possible between O-RU and O-DU and NMS.  15 The basic requirement for M-Plane is to have end to end IP connectivity between the O-RU and the elements managing it (O-16 DU, NMS, or so called “O-RU Controllers”). The connectivity between the O-DU and NMS and its management plane are not 17 in scope of this specification. IPv4 shall be supported as a mandatory transport protocol for M-Plane and IPv6 support is 18 optional. The M-Plane shall be NAT agnostic for the O-RU to O-DU/NMS connectivity, in order to support a variety of possible 19 network and IP addressing deployments.  20 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       14 
O-RAN.WG4.MP.0-v03.00 
2.1.4 M-Plane functional description 1 The M-Plane provides the following major functionalities to the O-RU. These features are implemented using the NETCONF 2 provided functions. 3  “Start up” installation  4 During startup, the O-RU acquires its network layer parameters either via static (pre-configured in the O-RU) or dynamically 5 via DHCP or DHCPv6. During this process it also acquires the IP address of the O-RU controller(s), and establishes the 6 NETCONF connectivity using the “call home” feature. The capability exchange is performed between the client and server as 7 part of the initial NETCONF Hello exchanges. Details of these steps are provided in chapter 3. 8 Note, the use of “start up” terminology in this specification is distinct from the “startup” capability used in a NETCONF 9 environment to indicate that a device supports separate running and startup configuration datastores. This specification makes 10 specific reference to configuration which is required to be stored in “reset persistent memory”. The O-RU shall use this stored 11 configuration as its “startup” configuration. 12 SW management  13 The M-Plane is responsible for software download, installation, validation and activation of new SW when requested by O-RU 14 Controller. The software download is triggered by NETCONF RPC procedures, and the actual software package download is 15 done using sFTP. In this version of the M-Plane specification, sFTP is the only defined file transfer protocol for software and 16 file management. 17 Configuration management 18 Configuration management covers various scenarios like Retrieve Resource State, Modify Resource State, Modify Parameters 19 and Retrieve Parameters. NETCONF get-config and edit-config RPCs shall be used for configuration parameter retrieval and 20 updates at the O-RU  21 Performance management 22 Performance management describes the measurements and counters used to collect data related to O-RU operations. The 23 purpose of Performance Management is optimizing the operation of the O-RU.  24 The measurement results are reported by two options:  25 1. YANG Notification: This option uses the stats definition of YANG model per measurement group. In this case, get 26 rpc and/or notification will be used (see Chapter 7 for more details).  27 2. File Upload: This option uses the file upload procedure defined in File management. The measurement results are 28 saved to a data file periodically.  29 Fault Management 30 Fault management is responsible for sending alarm notifications to the NETCONF Client. Fault Management allows alarm 31 notifications to be disabled or enabled as well as alarm subscription. 32 File Management 33 File management allows the O-RU Controller to trigger an O-RU to perform upload of files stored on O-RU to O-RU Controller. 34 The O-RU may provide different kinds of files and retrieved files can be used for various purposes. Simultaneous multiple file 35 upload operations can be supported under the same sFTP connection between O-RU to O-DU/NMS. 36 
2.2 Interfaces 37 The M-Plane interface is defined between the O-DU/NMS and the O-RU. The protocol stack of the M-Plane interface is shown 38 in Figure 3. The transport network layer is built on IP transport and TCP/SSH is used to carry the M-Plane message between 39 the DU/NMS and the O-RU. 40 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       15 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 3 M-plane protocol stack 2 
2.3 YANG Module Introduction 3 The data models representing the M-Plane are organized as a set of reusable YANG modules. It is also the intent to reuse the 4 publicly available and generic YANG models as much as possible instead of developing customized O-RAN specific modules. 5 Refer to the various chapters, Annex D and the repository of YANG models for more details on each of these modules.  6 
2.4 Security 7 The M-Plane provides end to end security as a mandatory feature. The security is provided using the SSHv2 layer in accordance 8 with RFC 6242 [5]. RFC 6242 provides the procedure for interoperability with NETCONF implementations. If there are 9 multiple NETCONF sessions established with a single O-RU, each session should be established over a separate SSH tunnel. 10 Plane Integrity (protection from modifications) Confidentiality (encryption protection) Authentication (validity of the originator) Remarks 
M-Plane Yes Yes Yes Using the SSHv2 layer used for NETCONF transport Table 1- M-Plane Security 11 SSHv2 performs server host authentication, key exchange, encryption, and integrity protection. It also derives a unique session 12 ID that may be used by higher-level protocols. The end point authentication should be done as per RFC 4252 [6]. Chapter 3 13 describes the authentication approach based on username and password as well as based on X.509 certificates. 14 The SSHv2 transport level security (encryption algorithms, data integrity algorithms) shall be based on RFC4253 [7]. As per 15 this RFC, 3des-cbc shall be the mandatory cyphering protocol, and rest of the ones listed as optional. For data integrity, hmac-16 sha1 shall be the mandatory algorithm, and rest of the listed algorithms shall be optional. Public key-based host authentication 17 shall be used for authenticating the server (RFC 4253) by the clients, and username/password based client authentication shall 18 be done by the server as part of the SSH session establishment.  19 As an additional option, both client and server may implement authentication based on X.509 certificates. With this option, 20 RSA 2048 bit shall be supported for the Public Key algorithm, aes-cbc shall be supported for the cyphering algorithm and hmac-21 sha256 shall be supported for integrity algorithm. 22 Note: FIPS-186-3 introduces longer keys but as only FIPS/186-2 is referred in RFC4253 and SHA-1 is used, then key length 23 defined in FIPS-186-2 shall be supported. 24 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       16 
O-RAN.WG4.MP.0-v03.00 
Chapter 3 “Start up” installation  1 This chapter provides the overall start-up mechanism from the power-on of O-RU to available in service. 2 Pre-condition:  3 - Power-ON for O-RU/NETCONF Server or O-RU restart operation.  4  Power-ON for O-RU controller/NETCONF Client(s). 5 - Physical interface(s) is(are) connected. 6 Post-condition:   7 - O-RU is ready for the radio transmission to the air on at least one carrier if packet transmission received from O-DU  8 - O-RU is ready for the packet transmission to the O-DU if radio reception received at the air on at least one carrier. 9 - At least one O-RU Controller/NETCONF client with “super-user” access privileges can control any operation to the O-10 RU/NETCONF server in O-RU. 11 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       17 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 4: Overall of Start-Up Installation 2 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       18 
O-RAN.WG4.MP.0-v03.00  1 At the power-on of O-RU or following an O-RU restart, the following procedures are performed. 2 1. O-RU performs transport layer resolution (DHCP, MAC, VLAN, IP, etc.) and recovers IP address(es) of O-RU controller(s). 3 2. O-RU begins synchronization of the O-RU against a Primary Reference Clock. (Note: step 2 may be in parallel with step 1 4 for some O-RU implementation.) 5 3. O-RU performs NETCONF Call Home to O-RU controller(s). 6 4. O-RU controller performs SSH connection establishment. 7 5. O-RU and O-RU controller perform NETCONF capability discovery. 8 6. O-RU controller performs optional provisioning of new management accounts (typically only performed once during pre-9 staging) 10 7. O-RU and O-RU controller perform supervision of NETCONF connection. 11 8. O-RU controller performs retrieval of O-RU information. 12 9. O-RU controller performs SW management. 13 10. O-RU controller configures transport connectivity checking on the O-RU, enabling the O-DU to perform C/U-Plane 14 transport connectivity checking between O-DU and O-RU. 15 11. O-RU controller retrieves the O-RU delay profile from the O-RU. 16 12. O-RU controller performs U-Plane configuration between O-DU and O-RU. C/U-Plane transport connectivity between O-17 DU and O-RU is configured as part of this step. 18 13. O-DU optionally performs C/U-Plane delay measurements between O-DU and O-RU if the O-RU supports it. 19 14. O-RU controller performs Fault Management activation. 20 15. O-RU controller activates performance measurement (if required at start-up timing). 21 16. O-RU controller retrieves O-RU state, including synchronization information, from O-RU. 22 17. O-RU controller configures the O-RU operational parameters. 23 18. Service available. 24 Note, the synchronization procedures started in step 2 needs to be completed before service is available. 25  26 This chapter mainly covers 1 and 3 to 7 as sub-sections. 27 Cross Reference of other chapters: 28 The detail of 2. Synchronization management is described in Chapter 10. 29 The method of 8 and 16 retrieval of O-RU information is described in Chapter 6. 30 The detail of 9. SW management is described in Chapter 5. 31 The detail of 10. C/U-Plane transport connectivity checking between O-DU and O-RU is described in Chapter 4. 32 The detail of 11. Retrieval of the O-RU delay profile and 13. C/U-Plane delay measurements are described in Chapter 4. 33 The detail of 12. U-plane configuration is described in Chapter 12, and C/U-Plane transportation configuration is described in 34 Chapter 4.  35 The detail of 15. Performance management is described in Chapter 7. 36 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       19 
O-RAN.WG4.MP.0-v03.00 The detail of 14. Fault management is described in Chapter 8. 1 The method of 17. Control to make service available is described in Chapter 12. 2 3.1 Management Plane Transport aspects 3 This sub-section provides the M-plane transport establishment scenario between O-RU and O-RU controller(s), such as O-DU 4 and/or NMS. The transport layer address of M-plane is only the target in this section. Transport aspects of the C plane and U 5 plane are covered in Chapter 4. 6 Pre-condition:  7 - Physical interface is connected. 8 - The NETCONF server and NETCONF Client(s) have an identical NETCONF call home port configured, to ensure the 9 NETCONF client listens on the same port used by the NETCONF Server. 10 Post-condition:   11 - Transport Layer address(es) for M-plane are known to O-RU and controllers.  12 - O-RU is aware of the physical port(s) for M-plane, e.g., if there are multiple ports in the O-RU. 13 - O-RU is aware of the VLAN(s) to be used for M-Plane, e.g., if VLANs are used in the transport network. 14 - Then O-RU is ready to establish TCP connection for NETCONF call home. 15 For the transport establishment, there are the following alternatives: 16 a) Manual transport layer address configuration in O-RU. This configuration contains the addresses for O-RU and NETCONF 17 client(s). The method to manually configure the O-RU is out of scope in this specification. Assuming manual configuration is 18 successful, the NETCONF server shall be able to recover this configured information and use the o-ran-mplane-int.yang model 19 to communicate this operational-state to a NETCONF client. 20 b) DHCP server provides O-RU’s transport layer address information together with the identity of the NETCONF client. This 21 identity encodes either the transport layer address or FQDN of the NETCONF client. If an FQDN is signaled, the O-RU shall 22 use the DNS server address provided by the DHCP server to recover the IP address corresponding to FQDN of the NETCONF 23 client. 24 c) If IPv6 is supported, Stateless Address Auto-Configuration (SLAAC) is used to configure the O-RU’s transport address 25 with the DHCP server providing the identity of the NETCONF client. This identity encodes either the transport layer address 26 or FQDN of the NETCONF client. If an FQDN is signaled, the O-RU shall use the DNS server address provided by the DHCP 27 server to recover the IP address corresponding to FQDN of the NETCONF client.  28 Note, a NETCONF client can determine whether an O-RU supports IPv6 by using the get rpc to recover the list of interfaces 29 supported by the O-RU and using the presence of the augmented ipv6 container in the o-ran-interfaces module to indicate IPv6 30 is supported. 31 The O-RU uses the o-ran-dhcp.yang model to be able to expose information signaled by the DHCP server. 32 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       20 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 5: Transport Layer Establishment for M-plane 2 Transport Layer interface related information for M-plane contains at least the physical port number, the hardware address of 3 the Ethernet port, VLAN-ID, local IP address, remote IP address, Default Gateway address and Subnet mask.  4 In the case of option b) and c), the following subsections are used: 5 - O-RU identification in DHCP messages from O-RU. 6 - VLAN discovery aspect for M-plane. 7 - IP address assignment to O-RU. 8 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       21 
O-RAN.WG4.MP.0-v03.00 - Discovery of address information of O-RU controller(s). 1 3.1.1 O-RU identification in DHCP 2 The O-RU shall identify itself to DHCP servers by using DHCP option(s) using the vendor-class-data string within the o-ran-3 dhcp YANG model. For DHCPv4, there are two alternatives. One uses option 60 Vendor Class Identifier, RFC2132 [8]. The 4 other uses option 124 Vendor Identifying Vendor Class Option, RFC3925 [9]. The O-RU shall support at least one of these 5 options. If the O-RU supports IPv6, then it shall identify itself using the DHCPv6 Vendor Class Option. 6 DHCPv4 Vendor Class Option: 7 • Option: 60 8 • Vendor Class Identifier Option 60: string  9 The format of the vendor class string shall be configured to one of the following three options:  10 1. ““o-ran-ru2/<vendor>, e.g., “o-ran-ru2/vendorA 11 2. “o-ran-ru2/<vendor>/<product-code>”, e.g., “o-ran-ru2/vendorA/ORUAA100 12 3. “o-ran-ru2/<vendor>/<product-code>/<serial-number>”,e.g. , “o-ran-ru2/vendorA/ORUAA100/FR1918010111 13 DHCPv4 Vendor-Identifying Vendor Class Option: 14 • Option: 124 15 • Enterprise number: O-RAN-alliance 53148 16 • Vendor-Class-Data: the format of the string shall follow the rules defined for the DHCPv4 Vendor Class Option 17 DHCPv6 Vendor Class Option: 18 • Option: 16 19 • Enterprise number: O-RAN-alliance 53148 20 • Vendor-Class-Data: the format of the string shall follow the rules defined for the DHCPv4 Vendor Class Option 21 The DHCP Server may use this information when allocating IP addresses or when configuring management plane O-RU 22 Controller(s) information in the O-RU. 23 3.1.2 Management Plane VLAN Discovery Aspects 24 The O-RU will be connected to one or more Ethernet ports. The transport systems may be realized such that these Ethernet 25 ports may be configured either as an access port, where untagged Ethernet frames are used, or as a trunk port, where multiple 26 VLANs are configured. At start up, the O-RU will typically not be able to immediately determine whether its ports are attached 27 to remote transport equipment configured for access or trunk mode operation.   28 Once an O-RU completes its boot-up sequence and Ethernet connectivity is detected on at least one of its Ethernet interfaces, 29 the O-RU starts management plane connection establishment. 30 The O-RU needs to determine whether it is connected to an access port or a trunk port. In particular, when connected to a trunk 31 port, the O-RU needs to additionally determine the VLAN identity/ies used to support the management plane communication(s). 32 The VLAN(s) used to support management plane communications can be identified by the DHCP server replying to the DHCP 33 DISCOVER message, as described in section 3.1.4. 34 Note, an O-RU which supports IPv6 may infer that a VLAN is not used to support management plane communications if it 35 receives an IPv6 Router Advertisement without either the “managed address configuration” or “other configuration” bits set. 36 An O-RU may have been previously configured with management plane VLAN information, for example storing the last 37 VLAN(s) used for management plane connectivity, and/or being previously configured with a range of management plane 38 VLANs by a NETCONF client that has been stored in reset-persistent memory. The O-RU may use this information to optimize 39 its discovery of the VLAN ID(s) used for management plane connectivity. 40 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       22 
O-RAN.WG4.MP.0-v03.00 If the O-RU does not have previously configured management plane VLAN information, the O-RU shall attempt to discover 1 DHCP servers on all of its Ethernet ports using untagged Ethernet frames.  2 If the O-RU does not receive a DHCP OFFER from a DHCP server using untagged frames, or previously configured VLANs, 3 the O-RU should attempt to contact a DHCP server using individual VLANs on all of its Ethernet ports. 4 3.1.3 O-RU Management Plane IP Address Assignment 5 Automatic IP address assignment for the O-RU management plane can be achieved using different techniques: 6 1. IPv4 configuration using DHCPv4, RFC2131 [10] enables DHCP servers to configure IPv4 network address(es) on the O-7 RU. An O-RU shall support the behavior specified in RFC 4361 [33], using stable DHCPv4 node identifiers in their dhcp-8 client-identifier option. 9 Note: a network realized with multiple DHCP servers should ensure that their configurations are co-ordinated to ensure a 10 common default gateway is provisioned in an O-RU which receives multiple DHCPv4 responses, e.g., when received over 11 different interfaces. 12 Note: an O-RU may indicate that it supports configuration of routing information using RFC 3442, enabling static routes to be 13 used by the O-RU when determining how to route uplink packets, e.g., when the O-RU supports multiple interfaces. 14 For O-RUs that support IPv6, both stateful and stateless address assignment procedures are supported: 15 2. IPv6 Stateless Address Auto-Configuration (SLAAC), RFC4862 [11] enables the O-RU to generate link-local and global 16 addresses. 17 Note: a network realized with multiple IPv6-enabled routers that support dynamic address assignment is expected to use RFC 18 4191 to configure the preference of the default route prefixes learnt by the O-RU using SLAAC. 19 3. IPv6 State-full address configuration uses DHCPv6, RFC3315 [12] and enables DHCP servers to configure IPv6 network 20 address(es) on the O-RU. DHCPv6 is transported using UDP, using the link-local address on the O-RU and a link-scoped 21 multicast address on the DHCP server.  22 Note: the above does not restrict the realization of the DHCP server, which may be integrated with the O-DU, may be provided 23 by the transport system, or may be accessed via a relay. 24 The DHCP server should operate using static bindings, i.e., ensuring an O-RU identified by a particular client hardware address 25 will be re-allocated the same management plane IP address, e.g., after performing an O-RU reset procedure. 26 3.1.4 O-RU Controller Discovery 27 This section provides how to automatically discover the O-RU Controller address(es). 28 O-RUs that have obtained their IPv6 addresses by stateless address auto-configuration, shall use stateless DHCPv6, RFC3736 29 [13], to obtain NETCONF management plane configuration information.  30 Other O-RUs operating using stateful IPv4 or IPv6 address allocations shall obtain NETCONF management plane configuration 31 information during IP address allocation. 32 The O-RU as NETCONF Server shall be able to recover NETCONF Client information using the following DHCP Options, 33 draft-ietf-netconf-zerotouch [14]:  34 • DHCPv4 OPTION V4_ZEROTOUCH_REDIRECT [143] 35 • DHCPv6 OPTION_V6_ZEROTOUCH_REDIRECT [136] 36 These options are defined in [14] and are used to deliver bootstrap-server-list information to the O-RU. The O-RU shall use 37 these options to recover the NETCONF client information using the above IANA defined DHCP options. The O-RU is not 38 required to implement the remainder of the zerotouch capabilities defined in [14].  39 The above DHCP option provided information is encoded as a list of one or more server URIs, of the format “https://<ip-40 address-or-hostname>[:<port>]” signaled to the O-RU. The DHCP server shall ensure that all NETCONF client information is 41 encoded with these options. 42 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       23 
O-RAN.WG4.MP.0-v03.00 Other O-RUs which have had their IP address(es) manually configured, shall also have their O-RU Controller(s) manually 1 configured. 2 For IPv4, the O-RU may request the OPTION_V4_ZEROTOUCH_REDIRECT by including its option code in the Parameter 3 Request List (55) in DHCP discover/request messages. 4 For IPv6, the O-RU may request the OPTION_V6_ZEROTOUCH_REDIRECT option by including the requested option codes 5 in the Option Request Option. 6 Note, these operations are optional because the DHCP server will already be aware that it is communicating with an O-RU 7 based on the recovered vendor class option. 8 To enable O-RUs to operate in legacy environments where the DHCP server has not been enhanced with IANA defined DHCP 9 options for zero touch NETCONF capability, an O-RAN defined vendor specific option can be used to signal all NETCONF 10 client information to the O-RU using option 43 for DHCPv4 and option 17 for DHCPv6. Multiple instances of NETCONF 11 client information may be signaled, encoded as a sequence of type/length/value fields. 12 The definition of the types used within the DHCPv4 option 43/DHCPv6 Option 17 depends on the vendor-class option reported 13 by the O-RU in its DHCP messages. 14 When a legacy O-RU reports its vendor-class using the “o-ran-ru” prefix, the following types are defined: 15 Type: 0x01 – O-RU Controller IP Address 16 Type: 0x02 – O-RU Controller Fully Qualified Domain Name 17 When the O-RU reports its vendor-class using the “o-ran-ru2” prefix, the following types are defined: 18 Type: 0x81 – O-RU Controller IP Address 19 Type 0x82 – O-RU Controller Fully Qualified Domain Name 20 In all cases, the Type is followed by the length, which is the hexadecimal encoding of length of value field in octets, and the 21 Value. 22 When Type corresponds to an O-RU Controller IP Address, the value encodes IPv4 address(es) in hexadecimal format. For 23 example, a single server with IPv4 address 198.185.159.144 will be encoded in an option 43 TLV as 24 Type 0x81 (or x01 for legacy) 25 Length: 0x04  26 Value: C6 B9 9F 90 27 When Type corresponds to an O-RU Controller Fully Qualified Domain Name, this encodes the string representation of domain 28 name, using ACSII encoding (i.e., following for encoding used for the domain name in the Host Name DHCP Option 12). For 29 example, a server with FQDN “controller.operator.com” will be encoded in an option 43 TLV as 30 Type 0x82 (or x02 for legacy)  31 Length: 0x17  32 Value: 63 6F 6E 74 72 6F 6C 6C 65 72 2E 6F 70 65 72 61 74 6F 72 2E 63 6F 6D 33 The format of the DHCPv6 option 17 follows the format of the DHCPv4 encoding, with the additional inclusion of an Enterprise 34 Number prior to the TLV option data. The IANA allocated private enterprise number to be used with DHCPv6 option 17 is 35 53148. 36 3.1.5 Multi-Vendor Plug-and-Play 37 As described in sub-section 3.3.2, an O-RU may optionally support certificate enrollment using CMPv2. 3GPP 32.509 38 specifies how the O-RU can discover the IP address or FQDN of one or more Certification Authority (CA/RA) servers using 39 DHCP Option 43. 40 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       24 
O-RAN.WG4.MP.0-v03.00 In addition to the DHCPv4 encoding using Option 43, an O-RU supporting IPv6 and certificate enrollment using CMPv2 1 shall additionally support the signaling of vendor specific options using DHCPv6 option 17. The format of the DHCPv6 2 option 17 follows the format of the DHCPv4 encoding, with the additional inclusion of an Enterprise Number prior to the 3 TLV option data. The IANA allocated private enterprise number to be used with DHCPv6 option 17 is 53148 (as allocated by 4 IANA to O-RAN Alliance). 5 An O-RU shall report any discovered multi-vendor plug-and-play servers using the o-ran-dhcp YANG model. 6 
3.2 NETCONF Call Home to O-RU Controller(s) 7 The O-RU aims to have NETCONF sessions with all of the known O-RU Controller(s), either discovered using the DHCP 8 options defined in Section 3.1.4, provisioned by an existing NETCONF client, or statically configured. An O-RU controller 9 may attempt to autonomously initiate a NETCONF session with the O-RU, e.g., triggered by some out of band interaction with 10 the IP address management functionality. In order to support NETCONF clients corresponding to known O-RU Controllers that 11 either do not attempt to initiate a NETCONF session with the O-RU, or are prohibited from doing so, e.g., because of Network 12 Address Translation limitations, the O-RU shall call home to all known O-RU Controllers with which it does not already have 13 an active NETCONF session. 14 If the O-RU is unable to establish a NETCONF session with any of the O-RU Controller(s), the O-RU shall use the “re-call-15 home-no-ssh-timer” to repeatedly re-perform the call home procedure to all with which is does not have an established 16 NETCONF session.  17 The O-RU shall use RFC 8071 [15] whereby the O-RU (NETCONF Server) initiates a TCP connection to the NETCONF client. 18 The port used by the O-RU shall be the one signaled using the draft-ietf-netconf-zerotouch DHCP option, else, if no port was 19 signaled, the O-RU shall use the IANA-assigned port 4334. When the NETCONF client accepts a TCP connection on the 20 allocated port, it initiates an SSH session with the NETCONF Server. Using this SSH session, the NETCONF client initiates a 21 NETCONF session. 22 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       25 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 6: Outline of NETCONF call home procedure 2 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       26 
O-RAN.WG4.MP.0-v03.00 The O-RU shall ensure that a persistent connection to any NETCONF client with “sudo” privileges is maintained by actively 1 testing the aliveness of the connection using the keep-alive mechanism defined in [15]. The establishment of NETCONF client 2 privileges is covered in Section 3.4. 3 
3.3 SSH Connection Establishment 4 The identity of the SSH server (O-RU) shall be verified and authenticated by the SSH client (NETCONF client) according to 5 local policy before password-based authentication data or any configuration or state data is sent to or received from the SSH 6 server.  7 Public key-based host authentication shall be used for authenticating the server (RFC 4253) by the clients. In addition, server 8 authentication based on X.509 certificates may also be provided [31]. 9 Note: Public key-based host authentication requires that the SSH server (O-RU) public keys are provisioned in the NETCONF 10 client (e.g., O-DU). As an alternative, RFC4251 mentions that “a possible strategy is to only accept a host key without checking 11 the first time a host is connected, save the key in a local database, and compare against that key on all future connections to that 12 host.”. This option simplifies the key management procedure as it doesn’t require to pre-populate them in O-DU / NMS (SSH 13 client) but obviously at the price of degraded security, therefore the support of this option shall be configurable and left to 14 operator’s choice. 15 3.3.1 NETCONF Security 16 In this version of O-RU Management Plane Specification, the security of the NETCONF protocol is realized using SSHv2. O-17 RAN NETCONF implementations shall implement RFC 6242 [5] that addresses earlier delimiter issues when using RFC 4742. 18 As the default, the NETCONF Server in the O-RU shall provide access to the NETCONF subsystem only when using SSH 19 established using the IANA-assigned TCP port 830 [5]. The O-RU may be configured to additionally allow access to the 20 NETCONF subsystem over other ports. 21 If multiple NETCONF sessions are established to an O-RU, those sessions shall be established over separate SSH tunnels. 22 3.3.2 NETCONF Authentication 23 This version of the O-RU Management Plane Specification uses password authentication method for SSHv2 [6]. In addition, 24 client authentication based on X.509 certificates may also be provided [31]. 25 Upon initial system initialization, the O-RU is configured with a default account. The specific details of the default account are 26 to be agreed between operator and vendor. An example of a default user account is one with username “oranuser”.  27 The default account may be of account-type PASSWORD, in which case a default password also needs to be defined and 28 configured in the O-RU, for example “o-ran-password”. 29 Note: As the default account may be operator specific, this may require that the O-RU provides facilities to configure securely 30 this default account at installation time (i.e. before the O-RU is connected to the O-DU). 31 The default account is member of the “sudo” access control group (see Section 3.4 for details of groups/privileges) as it can be 32 used to create other accounts (see Section 3.3.3). 33 The identity of the SSH client (NETCONF client) shall be verified and authenticated by the SSH server (O-RU) according to 34 local policy to ensure that the incoming SSH client request is legitimate before any configuration or state data is sent to or 35 received from the SSH client.  36 Upon initial system initialization, the NETCONF client can authenticate itself to the O-RU using SSH Authentication, with the 37 agreed default username and password. 38 If authentication based on X.509 certificates according to [31] is supported by SSH client and server, the certificates need to be 39 installed at initial system initialization, or can be obtained through certificate enrolment with operator’s PKI (certificate 40 enrolment as defined by 3GPP with CMPv2 protocol between the NE and the operator’s CA). 41 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       27 
O-RAN.WG4.MP.0-v03.00 For the purposes of user authentication, the mapping between certificates and user names is provided by the SubjectAltName 1 field of the X.509 certificate, which means that the user name is coded in the subjectAltName. The username is determined 2 from the subjectAltName using the rules defined in RFC 7589. 3 3.3.3 User Account Provisioning 4 The NETCONF client with suitable privileges may provision user accounts on the O-RU, including the accounts (users) name, 5 password, group (see Section 3.4 for details of groups/privileges) and whether a particular account is enabled or disabled.  6 • The username name is a string between 3-32 characters. The first character must be a lowercase letter. The remaining 7 characters can be a lowercase letter or a number.  8 • The account-type is an enumeration, indicating whether password or certificate-based authentication is used for this 9 account. 10 • The password is a string between 8-128 characters. Allowed characters in the password field include lowercase and 11 uppercase letters, numbers and the special characters: ! $ % ^ ( ) _ + ~ { } [ ] . – The password leaf is not present for those 12 user accounts associated with certificate-based authentication. 13 • The access control group associated with an account (see Section 3.4 for details of groups/privileges). 14 • Whether an account is enabled. The YANG model ensures that at least one user account is always enabled on the O-RU 15 The new account information (user name, password, access group and whether the account is enabled) shall be stored in reset-16 persistent memory in O-RU. 17 When certificate based client authentication is used no password needs to be provisioned. At time of SSH connection, user’s 18 authorization is done based on the X.509 certificate’s SubjectAltName field that codes the associated account’s name. 19 When other user account (sudo) is created, the NETCONF client closes existing NETCONF session as described in section 3.7. 20 Then, the O-RU disables the default account and default account stays disabled over the resets. The default account becomes 21 enabled when the O-RU is reset to the factory default software by following the procedures defined in subsection 5.7. Any other 22 way to enable the default account is not precluded as O-RU vendor implementation matter. 23 
3.4 NETCONF Access Control 24 This subsection defines the access control for NETCONF clients. Its motivation is that when multiple NETCONF clients (users) 25 are defined, the NETCONF access control mechanism enables the NETCONF server to limit some operations for one client but 26 allow full access for another client. In particular, for hybrid access configuration as introduced in Chapter 2, this allows the 27 privileges associated with the NETCONF client in the O-DU to be distinct and different from the privileges associated with the 28 NETCONF client in the NMS. 29 In order to support interoperable access control management, the NETCONF Server shall use the IETF NETCONF Access 30 Control Model [RFC8341]. 31 Currently four access control groups are defined per SSH session: “sudo”, “nms”, “fm-pm”, and “swm”. The table below maps 32 the group name to different privileges. Privileges are defined per namespace for read “R”, write “W” and execute “X” rpc 33 operations or subscribe to Notifications.  34 Note: when operating in hybrid management, the definition of above groupings does not preclude the NETCONF client in a 35 centralized network management system from being configured “sudo” privileges that permit it to edit the configuration used 36 by an O-RU. However, importantly the operation of the O-DU in those situations may not be defined. For example, an O-DU 37 when operating with an O-RU which receives an autonomous reset RPC from a centralized NMS may not result in the O-DU 38 recovering the o-ran-operations:operational-info/operational-state/restart-cause from the O-RU to then determine that an 39 NMS triggered reset has been performed. 40 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       28 
O-RAN.WG4.MP.0-v03.00 Module Rules sudo nms fm-pm swm "urn:o-ran:supervision:x.y" RWX --- --- --- "urn:o-ran:hardware:x.y" RWX RWX --- --- "urn:ietf:params:xml:ns:yang:ietf-hardware" RWX RWX R-X --- “urn:ietf:params:xml:ns:yang:iana-hardware” RWX RWX R-X --- "urn:o-ran:user-mgmt:x.y" RWX note1 --- --- --- "urn:o-ran:fm: x.y " R-X R-X R-X --- "urn:o-ran:fan: x.y " R-- R-- R-- --- "urn:o-ran:sync: x.y " RWX RWX R-- --- "urn:o-ran:delay: x.y " RW- R-- R-- --- "urn:o-ran:module-cap: x.y " RW- R-- R-- --- "urn:o-ran:udpecho: x.y " RW- R-- --- --- "urn:o-ran:operations: x.y " RWX RW- R-- --- "urn:o-ran:uplane-conf: x.y " RWX RWX R-- --- “urn:o-ran:beamforming: x.y” R-X R-X R-- --- "urn:o-ran:lbm: x.y " RW- RW- R-- --- "urn:o-ran:software-management: x.y " R-X R-X R-- R-X "urn:o-ran:file-management: x.y " --X --X --X --- " urn:o-ran:message5: x.y " RW- R-- R-- --- "urn:o-ran:performance-management: x.y " RWX RWX RWX --- "urn:o-ran:transceiver: x.y " RW- RW- R-- --- "urn:o-ran:externalio: x.y " RWX RWX --- --- "urn:o-ran:ald-port: x.y " RWX RWX --- --- "urn:o-ran:interfaces: x.y " RWX RWX R-- --- "urn:ietf:params:xml:ns:yang:ietf-ip" RW- RW- R-- --- "urn:ietf:params:xml:ns:yang:ietf-interfaces" RW- RW- R-- --- "urn:o-ran:processing-elements: x.y " RW- RW- R-- --- " urn:o-ran:mplane-interfaces: x.y " RW- RW- note2 R-- --- "urn:o-ran:dhcp: x.y " R-- R-- R-- --- “urn:o-ran:ald: x.y” --X --- --- --- “urn:o-ran:troubleshooting: x.y” --X --X --X --- “urn:o-ran:trace: x.y” --X --X --X --- "urn:o-ran:laa: x.y " RW- RW- --- --- "urn:o-ran:laa-operations: x.y " --X --- --- --- "urn:o-ran:antcal: x.y " RWX R-- --- --- “urn:ietf:params:xml:ns:yang:ietf-netconf-acm” RW- R-- R-- R-- "urn:ietf:params:xml:ns:yang:ietf-yang-library" R-X R-X R-X R-X “urn:ietf:params:xml:ns:yang:ietf-netconf-monitoring” R-X R-X R-X R-X “urn:ietf:params:xml:ns:yang:ietf-netconf-notifications” --X --X --X --X "urn:o-ran:shared-cell:x.y" RW- RW- --- --- "urn:o-ran:ethernet-fwd:x.y" RW- RW- --- --- Note1: The rule list for "urn:o-ran:user-mgmt:1.0” shall additionally deny reading of the password leaf by any NETCONF client Note2: The rule list for “urn:o-ran:mplane-int:1.0” shall additionally deny the writing of the configured-client-info container for NETCONF sessions with “nms” group privileges.  Table 2: Mapping of account groupings to O-RU module privileges 1  2 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       29 
O-RAN.WG4.MP.0-v03.00 This mapping shall be encoded in the rule list in ietf-netconf-acm.yang model. This rule list shall be unmodifiable by any 1 NETCONF client. 2 The same model is responsble for configuring the mapping between different user-names and groups.  3 
3.5 NETCONF capability discovery 4 The O-RU advertises its NETCONF capabilities in the NETCONF Hello message. The Hello message provides an indication 5 of support for standard features defined in NETCONF RFCs as well as support for specific namespaces. 6 NETCONF capabilities are exchanged between the O-RU and the NETCONF client(s). Examples of capabilities include [3]: 7 • Writable-running Capability 8 • Candidate Configuration Capability and associated Commit operation 9 • Discard change operation 10 • Lock and un-lock operations 11 • Confirmed commit Capability 12 • Cancel commit operation 13 • Rollback on error capability 14 • Validate Capability 15 • Startup configuration capability 16 • URL capability 17 • XPATH capability 18 • Notifications 19 • Interleave capability 20 All O-RAN O-RUs shall support the XPATH capability, NETCONF Notifications and at least one of the writeable-running and 21 candidate configuration capabilities. 22 The NETCONF client uses the get RPC together with sub-tree based <filter> and XPATH based <filter> to recover particular 23 sub-trees from the O-RU. Please see Chapter 6 for more information on NETCONF based configuration management. 24 In order to avoid interactions between the operation of supervision watchdog timer (see section 3.6) and the confirmed commit 25 timer (default value set to 600 seconds in RFC 6241), when using the NETCONF confirmed commit capability, a NECTONF 26 client with “sudo” privileges shall ensure the confirmed-timeout is less than the supervision-notification-interval timer 27 (default value 60 seconds in o-ran-supervision.yang).  28 
3.6 Monitoring NETCONF connectivity 29 When having a session with a NETCONF client with “sudo” access privileges, the O-RU operates a watchdog supervision timer 30 to ensure that the session to the NECTONF client is persistent, as described in section 3.4. Additionally, the O-RU provides 31 NETCONF Notifications to indicate to remote systems that its management system is operational. This supervision is intended 32 to be used with the NETCONF client associated with the operation of the peer to the O-RAN Radio’s lower layer split. 33 Note, if another NETCONF client is discovered or configured, e.g., in hybrid mode of operation, and is used to establish 34 a NETCONF session with “sudo” access privileges, the same watchdog supervision rules shall apply, meaning that a 35 NETCONF server shall support the operation of individual supervision watchdog timers for each NETCONF client with 36 “sudo” privileges . 37 The NETCONF client is responsible for automatically enabling the operation of the supervision watchdog timer by creating 38 supervision-notification subscription, whenever the O-RU has an established NETCONF session to a client with “sudo” 39 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       30 
O-RAN.WG4.MP.0-v03.00 privileges. After it has been enabled, the O-RU is responsible for repeatedly sending supervision-notification. After that 1 NETCONF client is responsible for sending supervision-watchdog-reset RPC and server shall send next notification 2 timestamp in reply. When resetting the watchdog timer, the NETCONF client may configure a new value for the watchdog 3 timer.  4 The NETCONF client can set new value of watchdog timer without receiving supervision-notification from the O-RU. The 5 new value is taken into use immediately with respect to supervision-watchdog-reset RPC content. The next notification should 6 be expected not later than at the moment addressed in timestamp provided by RPC reply. 7 Note, if another NETCONF client has locked the running configuration, e.g., when operating in hybrid mode of 8 operation, and if the O-RU Controller attempts to configure a new value of the watchdog timer(s) when sending the 9 supervision-watchdog-reset RPC, then the RPC operation to reset the watchdog timer will succeed, but the 10 corresponding configuration modification will fail. In such circumstances, the O-RU shall use the error-message in the 11 RPC output to indicate to the O-RU Controller that the configuration modification has failed. 12 If the watchdog timer expires, the O-RU will enter “supervision failure” condition, as described in Chapter 11. If all NETCONF 13 sessions to NECTONF clients with “sudo” privileges are closed, the O-RU shall immediately disable operation of the 14 supervision timer. 15 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       31 
O-RAN.WG4.MP.0-v03.00 
 1  2 Figure 7: Monitoring NETCONF Connectivity 3 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       32 
O-RAN.WG4.MP.0-v03.00 Note: This figure uses create-subscription for the single stream "supervision-notification". In order to subscribe multiple 1 notifications, the appropriate create-subscription message is required. Please refer to setion 8.2 for the appropriate example of 2 create-subscription of multiple notifications. 3 
3.7 Closing a NETCONF Session 4 A NETCONF client closes an existing NETCONF session by issuing the RPC close-session command. The O-RU shall respond 5 and close the SSH session. The O-RU shall then re-commence call home procedures, as described in Section 3.2. 6 Note, under normal operations, it is expected that at least one NETCONF session with “sudo” privileges is long-lived and used 7 to repeatedly reset the O-RU’s supervision watchdog timer. 8 Note, if a NETCONF client has been previously become known to an O-RU by being configured using NETCONF, and the 9 NETCONF client is subsequently removed from the O-RU’s configuration, e.g., by a second NETCONF client with “sudo” 10 privileges, the NETCONF server shall force the termination of the NETCONF session to the removed client.  11 
Chapter 4 O-RU to O-DU Interface Management  12 An O-RU has a number of network interfaces, including Ethernet, VLAN and IP interfaces. This section describes the 13 management of these network interfaces.  14 
4.1 O-RU Interfaces 15 The O-RU’s configuration for its interfaces is defined using the o-ran-interfaces.yang module. This module augments the 16 standard ietf-interfaces.yang and ietf-ip.yang modules. The O-RU’s interfaces are built on a layering principle where each 17 interface has a unique name.  18 All interfaces are referenced by their port-number and name. The base interface corresponds to the Ethernet interface. These 19 leafs describe the maximum transmission unit (l2-mtu), the hardware-address as well as optional alias mac addresseses that 20 may be used to transport the CU plane. Above the Ethernet interface are VLAN interfaces. Both Ethernet and VLAN interfaces 21 can support IP interfaces. IP interfaces are defined using the standard ietf-ip.yang model. Accordingly, each IP interface can 22 have an IPv4 and/or optional IPv6 interface(s) defined. Operational state associated with these interfaces provide additional 23 detail of the layer 3 configuration, including prefix(es), domain name servers and default gateway addresses. 24 Finally, leafs associated with CoS and DSCP marking are defined, enabling independent configuration of CoS and DSCP 25 markings for u-plane, c-plane and m-plane traffic. As a default, all user-plane flows are marked identically by the O-RU. 26 Optionally, the interfaces can be configured to support enhanced user plane marking for up-link traffic whereby different CoS 27 or DSCP values can be configured. This enables individual receive endpoints in the O-RU to be configured with different 28 markings to then enable differentiated handling of up-link flows by the transport system. 29 Because the o-ran-interfaces model defines augments to the ietf-interfaces model, the O-RU can leverage the definition of 30 operational state in ietf-interfaces to optionally report packet and byte counts on a per interface basis. A single RPC is defined 31 in the o-ran-interfaces module, to enable these counters to be reset. 32 
4.2 Transceiver 33 The o-ran-transceiver YANG module is used to define operational state for the pluggable transceiver module (like SFP, SFP+, 34 SFP28, XFP and QSFP, QSFP+, QSFP28, QSFP56). Each transceiver is associated with a unique interface-name and port-35 number. 36 A digital diagnostic monitoring interface for optical transceivers is used to allow access to device operating parameters. As 37 specified in SFF-8472 [16] and SFF-8636 [34], data is typically retrieved from the transceiver module in a file. This file may 38 be obtained from O-RU by the NETCONF client. Please see Chapter 9 for more details. 39 With QSFP form factor, the optical links may be multi-wavelengths (4xTx & 4xRx) and/or multi-fibers (MPO - Multifiber 40 Parallel Optic). The QSFP digital diagnostic interface [34] describes the use of optical lanes and the O-RU interface 41 management defines alarm 29 :“transceiver fault” for all media lanes. 42 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       33 
O-RAN.WG4.MP.0-v03.00 The byte with offset i (i=0, …, 511) from the beginning of the file is the byte read from data address i of the transceiver memory 1 at two-wire interface address 0xA0 if i<256, otherwise it is the byte read from data address i-256 of the transceiver memory at 2 two-wire interface address 0xA2. The retrieved data is stored in the file without any conversion in binary format. 3 The O-RU stores data from the transceiver module on transceiver module detection during startup. The data from the transceiver 4 module is saved in the file. A NETCONF client can upload it by using the File Upload procedure defined in chapter 9. The O-5 RU does not synchronize contents of the file with transceiver memory in runtime, therefore bytes representing dynamic 6 information are expected to be outdated. The O-RU does not remove the file on transceiver module removal. If a transceiver 7 module is inserted during File Upload procedure then the procedure may provide a file with previous content or fail (with failure 8 reason as listed in File Upload procedure). If the O-RU is unable to retrieve the data from the transceiver module or it is not 9 present then the O-RU does not create the file or removes the file created earlier (note that File Upload procedure requesting 10 non-existing file shall fail).  11 The file name shall have the following syntax: 12 sfp_{portNumber}.sffcap 13 where {portNumber} is the value of port-number leaf of the corresponding list of port-transceiver data. Examples: 14 sfp_0.sffcap, sfp_1.sffcap. 15 
4.3 C/U Plane VLAN Configuration 16 Within the o-ran-interfaces YANG model, each named Ethernet interface includes a leaf to indicate whether VLAN tagging is 17 supported. By default, VLAN tagging is enabled on all interfaces. This permits an O-RU to autonomously discover that it is 18 connected to a trunk port, as described in Section 3.1.2. 19 When an O-RU is connected to a trunk port, VLANs will also typically be assigned to the C/U plane connections. The VLAN(s) 20 used to support C/U plane transport may be different from the VLAN(s) used to support management plane connectivity. When 21 different VLANs are used, the C/U plane VLANs shall be configured in the O-RU by the NETCONF client. In such 22 circumstances, as defined in o-ran-interfaces, the NETCONF client shall configure separate named interfaces for each active 23 VLAN. This configuration will define a C/U-Plane named VLAN interface as being the higher-layer-if reference for the 24 underlying Ethernet interface and the underlying Ethernet interface is defined as being the lower-layer-if reference for the 25 named VLAN interface. 26 
4.4 O-RU C/U Plane IP Address Assignment 27 In this release, the support for C/U plane transport over UDP/IP is optional and hence this section only applies to those O-RUs 28 that support this optional capability. 29 An O-RU that supports C/U plane transport over UDP/IP shall support IPv4 and optionally IPv6 based transport. A NETCONF 30 client can determine whether an O-RU supports IPv6 by using the get rpc to recover the list of interfaces supported by the O-31 RU and using the presence of the augmented ipv6 container in the o-ran-interfaces YANG module to indicate IPv6 is supported. 32 The IP interface(s) used to support UDP/IP based C/U plane transport may be different than the IP interface(s) used to support 33 management plane connectivity. When different IP interface(s) is/are used, the C/U plane IP interfaces shall be configured in 34 the O-RU by the NETCONF client by using the ietf-ip YANG model to configure the IPv4 container and/or IPv6 container. 35 When defined by the NETCONF client, this interface shall be configured using either a named Ethernet interface (i.e., where 36 the interface type is set to ianaift:ethernetCsmacd) and/or a named VLAN interface (i.e., where the interface type is set to 37 ianaift:l2vlan), depending upon whether VLANs are used to support IP based C/U plane traffic. 38 When a separate C/U plane IP interface is configured by the NETCONF client, additionally the NETCONF client may statically 39 configure the IP address(es) on this/these interface(s). If the NETCONF client does not statically configure an IP address, the 40 O-RU shall be responsible for performing IP address assignment procedures on the configured interfaces. 41 When an O-RU has not been configured with a static IP address, the O-RU shall support the IP address assignment using the 42 following techniques: 43 1. IPv4 configuration using DHCPv4 [10]. 44 And when the O-RU supports IPv6: 45 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       34 
O-RAN.WG4.MP.0-v03.00 2. IPv6 Stateless Address Auto-Configuration (SLAAC) [11]. 1 3. IPv6 State-full address configuration uses DHCPv6 [12]. 2 
4.5 Definition of processing elements 3 The CU-plane application needs to be uniquely associated with specific data flows. This association is achieved by defining an 4 O-RU “processing element” which can then be associated with a particular C/U plane endpoint address [2] or delay 5 measurement operation. 6 The O-RU management plane supports different options for defining the transport-based endpoint identifiers used by a 7 particular processing element (used depending on transport environment), supporting the following 3 options: 8 • Processing element definition based on usage of different (alias) MAC addresses; 9 • Processing element definition based on a combination of VLAN identity and MAC address; and 10 • Processing element definition based on UDP-ports and IP addresses. 11 Note: there is no well-defined source port currently allocated by IANA for the o-ran application and hence the NETCONF 12 client is responsible for configuring this port number in the O-RU.  13 A processing element defines both the local and remote endpoints used with a specific data flow. The processing element 14 definition includes its element name which is then used by other systems to refer to a particular processing element instance. 15 The o-ran-interfaces YANG model is used to define feature support for C/U plane transport based on alias MAC addresses and 16 UDP/IP. The exchange of NETCONF capabilities is used to signal which optional capabilities are supported by the O-RU, as 17 described in Annex C. 18 The o-ran-processing-elements YANG model uses a processing-elements container to define a list of processing elements. 19 Each processing element is identified by a unique element name. Each processing element references a particular interface-20 name used to support the data flows associated with a particular processing element. Depending upon the type of C/U plane 21 transport session, additionally leafs are configured that specify MAC addresses, and/or VLANs and/or IP addresses and/or UDP 22 ports used to identify a particular processing element. 23 
4.6 O-DU Verification of C/U Plane Transport Connectivity  24 As described above, there will likely be multiple C/U-plane data flows being exchanged between the O-DU and the O-RU. In 25 order to enable checks verifying end-to-end transport connectivity between the O-DU and O-RU, the O-RU shall support 26 transport connectivity check capabilities using a request/reply function.  27 Using that connectivity monitoring procedure, reachability/connectivity checks between user plane endpoints can be performed 28 by the O-DU: 29 - During O-RU configuration, to validate the transport configuration 30 - At runtime to monitor network connectivity 31 In packet networks connectivity checking is usually done by exchanging probe-messages between the endpoints. The periodicity 32 of this exchange depends on the use case. For availability measurement, the only use case relevant for this specification, the 33 periodicity is usually between 1 and 60 seconds. 34 Two different network protocols are defined for performing the transport connectivity check procedure: 35 - For C/U sessions over Ethernet: Loop-back Protocol (LB/LBM) as defined by IEEE 802.1Q (amendment 802.1ag) 36 [17]. 37 - When the O-RU supports C/U sessions over IP: UDP echo, RFC 862 [18]. 38 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       35 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 8: C/U Plane Transport Connectivity Verification 2 4.6.1 Ethernet connectivity monitoring procedure 3 If the O-RU and O-DU are operating their C/U sessions on Ethernet, the transport connectivity verification checks operate at 4 the Ethernet layer. In this O-RU Management Plane Specification, the protocol for Ethernet connectivity monitoring is based 5 on the Loop-back Protocol as defined by IEEE 802.1Q (amendment 802.1ag) [17].  6 For the purpose of connectivity monitoring all C/U -plane messaging endpoints in the fronthaul network are part of the same 7 Maintenance Entity (ME). They each get the assigned the role of a Maintenance association End Point (MEP) for LBM. 8 The sending of Loop-back Messages (LBMs) is administratively initiated and stopped in the O-DU. Therefore, sending LBM 9 requests needs to be requested by an administration entity, specifying an Ethernet MAC address assigned to the O-RU responder. 10 In this O-RU Management Plane Specification requests are always sent from an O-DU to a unicast Ethernet MAC address of 11 an O-RU. 12 4.6.1.1 Validating the transport configuration 13 After setting up a U/C-plane session between an O-DU and an O-RU, the O-DU can test whether connectivity exists as per the 14 configuration. To achieve that, at the time a U/C-plane messaging endpoint becomes operational at an O-RU, it starts an LBM 15 responder application which automatically responds to incoming LBM requests on that endpoint. Based on a configuration 16 command the O-DU starts sending out a predefined number of LBM requests to its O-RU(s) at a predefined interval, storing 17 the information received in LBM responses from the O-RU(s) in an internal database. O-RU(s) are identified by both Ethernet 18 MAC address and the CU plane VLAN.  19 Note, the O-RU shall be able to respond to LoopBack Messages received from different remote Maintenance Association 20 Endpoints 21 In case the configuration of the session is indeed correct, the O-DU should receive LBM responses from the O-RU(s) within a 22 time frame dependent on the network latency and the O-RU’s reaction time. If LBMs from the O-RU(s) are being received, the 23 session is determined to be operational. 24 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       36 
O-RAN.WG4.MP.0-v03.00 
4.6.1.2 Monitor network connectivity 1 After the procedure described in section 4.6.1.1 has been executed successfully, a further procedure may be executed 2 continuously to maintain the connectivity status. To achieve this the O-DU continues to send out LBM requests at the configured 3 interval. It also keeps track of LBM responses received.  4 Based on the LBM responses received the O-DU shall decide on the connectivity status. Connectivity shall be assumed to be 5 available as long as LBM responses from the O-RU(s) are being received at the configured interval. Connectivity shall be 6 assumed not available if no LBM response from the particular O-RU has been received for an interval that is as long as 3 x the 7 configured LBM request interval or longer. 8 4.6.1.3 Managing Ethernet connectivity monitoring procedure 9 An O-DU may have one or more Ethernet interfaces that have to support the Ethernet connectivity monitoring procedure. This 10 section describes the management of this function. The module described here is based on (i.e. a subset of) the mef-cfm module 11 defined by the Metro Ethernet Forum [19]. This is to allow for a later extension of the module to the full feature set of mef-cfm.  12 The YANG module provided below supports the configuration and fault management of the Loop-back Protocol as defined by 13 IEEE 802.1Q (amendment 802.1ag). 14 Derived from MEF CFM YANG, the subset of type definitions are defined as part of the o-ran-lbm.yang. 15 4.6.2 IP connectivity monitoring procedure 16 If the O-RU and O-DU are connected using IP (and UDP/IP is being used to transport the C/U plane), these transport 17 connectivity verification checks operate at layer 3. Layer 3 connection verification is based on the O-RU supporting the UDP 18 echo server functionality, RFC 862 [18]. The NETCONF client is responsible for enabling the UDP echo server in the O-RU, 19 triggering the O-RU to listen for UDP datagrams on the well-known port 7. When a datagram is received by the O-RU, the data 20 from it is sent back towards the sender, where its receipt can be used to confirm UDP/IP connectivity between the endpoints. 21 4.6.2.1 Managing IP Connectivity Monitoring Procedure 22 This section describes the management of the UDP echo functionality. The NETCONF client uses the enable-udp-echo leaf in 23 the udp-echo YANG model to control operation of the UDP echo server in the O-RU. The NETCONF client is able to control 24 the DSCP marking used by the O-RU when it echoes back datagrams using the dscp-config leaf. Additionally, the NETCONF 25 client can recover the number of UDP Echo messages sent by the O-RU by using echo-replies-transmitted operational state. 26 An O-DU may have one or more IP interfaces that have to support the UDP/IP connectivity monitoring procedure. An O-RU 27 with its UDP echo server enabled shall be able to respond to UDP datagrams originated from any valid source IP address. 28 4.7 C/U-Plane Delay Management  29 The Intra-PHY lower layer fronthaul split has the characteristic of a stringent bandwidth and tight latency requirement. The 30 CUS-Plane specification [2] describes how the propagation delay incurred due to distance between the O-DU and O-RU is an 31 important parameter in defining the optimization of windowing and receive-side buffering operations. This section describes 32 the procedures that are used to manage the delay parameters for the fronthaul split.  33 4.7.1 Delay Parameters 34 The reference points for delay management are introduced in [2] and included for reference in Figure 9. 35 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       37 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 9: Definition of reference points for delay management 2 Important delay parameters related to the operation of the O-RU are referred to as the O-RU delay profile. As the delay 3 characteristics for an O-RU may vary based on air interface properties, a table of the parameters is provided based on a 4 combination of sub-carrier spacing (SCS) and channel bandwidth. When considering the downlink data direction, these 5 parameters include: 6 T2a_min :  Corresponding to the minimum O-RU data processing delay between receiving the last data sample over the 7 fronthaul interface and transmitting the first IQ sample at the antenna. 8 T2a_max: Corresponding to the earliest allowable time when a data packet is received before the corresponding firs IQ 9 sample is transmitted at the antenna. 10 Using the above parameters, (T2a_max – T2a_min): The difference between these two parameters corresponds to the O-RU 11 reception window range. 12 T2a_min_cp_dl: Corresponding to the minimum O-RU data processing delay between receiving downlink real time control 13 plane message over the fronthaul interface and transmitting the corresponding first IQ sample at the antenna. 14 T2a_max_cp_dl: Corresponding to the earliest allowable time when a downlink real time control message is received before 15 the corresponding first IQ sample is transmitted at the antenna. 16 Tcp_adv_dl: Corresponding to the time difference (advance) between the reception window for downlink real time Control 17 messages and reception window for the corresponding IQ data messages. 18 The delay parameters related to the operation of the O-RU for the uplink data direction include: 19 Ta3_min: Corresponding to the minimum O-RU data processing delay between receiving an IQ sample at the antenna and 20 transmitting the first data sample over the fronthaul interface. 21 Ta3_max: Corresponding to the maximum O-RU data processing delay between receiving an IQ sample at the antenna and 22 transmitting the last data sample over the fronthaul interface. 23 Using the above parameters, (Ta3_max – Ta3_min): The difference between these two parameters corresponds to the O-RU 24 transmission window range. 25 T2a_min_cp_ul: The minimum O-RU data processing delay between receiving real time up-link control plane message over 26 the fronthaul interface and receiving the first IQ sample at the antenna. 27 T2a_max_cp_ul: The earliest allowable time when a real time up-link control message is received before the corresponding 28 first IQ sample is received at the antenna. 29 When requested, all O-RUs shall signal the table of statically “pre-defined” values of the above parameters, for different 30 supported combinations of SCS and channel bandwidth over the management plane interface. This will typically occur during 31 the initial startup phase. 32 4.7.2 Reception Window Monitoring 33 The O-RU shall monitor operation of its reception window, monitoring the arrival of packets received over the fronthaul 34 interface relative to the earliest and latest allowable times as defined by the values of T2a_max and T2a_min respectively. 35 See Annex B.2 for information on reception window counters. 36 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       38 
O-RAN.WG4.MP.0-v03.00 
4.8 O-RU Adaptive Delay Capability 1 O-RUs may optionally support the ability to optimize their buffers based on information signalled concerning the configuration 2 of the O-DU, e.g., including the O-DU delay profile, together with transport delay information, which may have been derived 3 by the O-DU by using a delay measurement procedures operated by the O-DU or by other techniques. This section describes 4 such optional O-RU buffer optimization functionality.  5 An O-RU that supports the optional adaptive timing capability shall indicate such to the O-RU Controller client by exchanging 6 NETCONF capabilities, as described in Section 6.2 and Annex C indicating that it supports the ADAPTIVE-O-RU-PROFILE 7 feature. An O-RU Controller may then provide the O-RU with the O-DU delay profile based on a combination of sub-carrier 8 spacing (SCS) and channel bandwidth, comprising the following parameters: 9 T1a_max_up: Corresponding to the earliest possible time which the O-DU can support transmitting an IQ data message 10 prior to transmission of the corresponding IQ samples at the antenna 11 TXmax: Corresponding to the maximum amount of time which the O-DU requires to transmit all downlink user plane IQ 12 data message for a symbol. 13 Ta4_max: Corresponding to the latest possible time which the O-DU can support receiving the last uplink user plane IQ 14 data message for a symbol 15 RXmax: Corresponding to the maximum time difference the O-DU can support between receiving the first user plane IQ 16 data message for a symbol and receiving the last user plane IQ data message for the same symbol. 17 In addition to the O-DU delay profile, the O-RU-Controller provides the O-RU with the transport network timing parameters: 18 T12_min: Corresponding to the minimum delay between any O-DU and O-RU processing elements 19 T12_max:  Corresponding to the maximum delay between O-DU and O-RU processing elements 20 T34_min: Corresponding to the minimum delay between any O-RU and O-DU processing elements 21 T34_max:  Corresponding to the maximum delay between O-RU and O-DU processing elements 22 The O-RU may use this information to adapt its delay profile, ensuring that the inequalities defined in Annex B of [2] are still 23 valid  24 The O-RU controller will typically provide this information during the O-RU’s start-up procedure. If an O-RU receives the 25 adaptive delay configuration information when operating a carrier, the O-RU shall not adapt its O-RU delay profile until all 26 carriers operating using the O-RU buffers have been disabled. Once an O-RU has adapted its O-RU profile, it will include the 27 newly adapted timing values when signaling its delay parameters to a NETCONF client. 28 
4.9 Measuring transport delay parameters 29 An O-RU may optionally indicate that it supports the eCPRI based measurement of transport delays between O-DU and O-RU, 30 as described in [2].  31 When indicated that it supports the optional eCPRI based delay measurement, an O-RU shall support the processing of delay 32 measurement messages at any time, including whenever the C/U plane is configured. As well as the O-RU including its timing 33 compensation values in the eCPRI delay measurement messages (tcv1 and tcv2 shown in the figure below), the YANG model 34 additionally enables a NETCONF client to recover these parameters from the O-RU over the M-Plane interface. 35 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       39 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 10: eCPRI One-Way Delay Measurement procedure [2] 2 An O-RU that supports the eCPRI based delay measurement capability, shall be able to support simultaneous operation of delay 3 measurements over any processing element configured as described in section 4.5. For each processing element configured for 4 use by the delay measurement procedure, the O-RU shall keep a record of the number of responses, requests and follow-up 5 messages transmitted by the O-RU. 6 
4.10 O-RU Monitoring of C/U Plane Connectivity  7 The O-RU is responsible for monitoring the C/U plane connection and raising an alarm if the logical C/U-plane connection 8 associated with a processing-element fails. The O-RU uses a timer to monitor the C/U plane connection on a per processing-9 element basis. This timer is enabled only when at least one array-carrier using the processing-element is in the active state and 10 is reset whenever it receives any C/U plane data flows associated with the particular processing-element. Because of the variety 11 of PHY and C/U plane configurations, the O-RU cannot independently determine the minimum frequency of messages across 12 the fronthaul interface. Therefore, as a default, the O-RU shall use a timer value of 160 milliseconds for monitoing the C/U 13 plane connection. An O-RU may indicate that its C/U-plane monitoring timer is configurable, by the presence of the cu-plane-14 monitoring container in the o-ran-supervision.yang model. A NETCONF client can use the container to configure the O-RU’s 15 timer value, including being able to disable the operation of C/U Plane monitoring. 16 Note, if the O-RU supports this timer, then depending on how long the O-DU takes to initiate sending of C/U plane data 17 flows, it may be advisable for the NETCONF client to initially disable the operation of the timer before carrier activation. 18 Such an approach will avoid the O-RU sending spurious alarm notifications triggered by O-DU delays in initializing the 19 sending of C/U plane data that exceed the default timer value. Once C/U plane data flows have commenced, the NECTONF 20 client can re-configure the timer with the desired value and hence activate monitoring of the C/U plane connectivity by the O-21 RU. 22  23 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       40 
O-RAN.WG4.MP.0-v03.00 
Chapter 5 Software Management 1 The Software Management function provides a set of operations allowing the desired software build to be downloaded, installed 2 and activated at O-RU. Successful software activation operation does not mean an O-RU is running the just activated software 3 build. An O-RU reset RPC is required to trigger the O-RU to take the activated software build into operational use. 4 A single software build is considered as set of internally consistent files compliant within such a build. Replacement of files 5 within a build is prohibited, as this will cause software version incompatibility. Software build is a subject of versioning and 6 maintenance and as such cannot be broken. 7 The use of compression and ciphering for the content of the software build is left to vendor implementation. The only file which 8 shall never be ciphered is the manifest.xml file.  9 It is also Vendor's responsibility to handle SW Build / package / file integrity check. 10 The O-RU provides a set of so called "software slots" or "slots". Each slot provides an independent storage location for a single 11 software build. The number of slots offered by O-RU depends on the device’s capabilities. At least two writable slots shall be 12 available at the O-RU for failsafe update operation. Presence of read only slot is optional. The software slots are resources 13 provided by the O-RU and as such are not the subject of creation and deletion. The size of individual software slots is fixed and 14 determined by the O-RU's vendor and sufficient to accommodate the full software build. 15 Note: procedures used in Software Management are covered by o-ran.software-management.yang module. 16 
5.1 Software Package 17 The software package is delivered by the O-RU vendor. 18 Each software package includes: 19 - manifest.xml 20 - software files to be installed on O-RU 21  22 The name of package should follow the following format: 23 “<Vendor Code><Vendor Specific Field>[#NUMBER].EXT” 24 Where: 25 - Vendor Code is a mandatory part which has two capital characters, 26 - Vendor Specific Field is any set of characters allowed in filename. The value must not include character “_” (underscore) 27 or “#” (hash). The value can be defined per vendor for the human readable information. Version information is necessary 28 in the Vendor Specific Field which defines load version, 29 - NUMBER is optional and used when the original file is split into smaller pieces – number after “#” indicates the number 30 of a piece. Numbering starts from 1 and must be continuous, 31 - EXT is a mandatory part which defines the extension of filename. A vendor provides one or more software packages. Eack 32 software package shall be compressed by zip. 33 Note: the name of package needs a <Vendor Code> prefix to avoid issue if two vendors provide files with same name. 34 Note: the NETCONF client shall support ZIP functionality to enable support of compressed files types.  35 Note: the operator needs to manage and control which O-RU files will be stored and used in the file server, e.g., based on O-36 RU files provided by O-RU vendors and network configurations. The operator needs to make sure that only the expected version 37 of O-RU files will be transferred from the file server to the O-RU. Different versions of files for O-RU with the same vendor 38 and same product code should be avoided. 39 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       41 
O-RAN.WG4.MP.0-v03.00 The content of the manifest.xml file allows to maintain software update process correctly in terms of compatibility between O-1 RU hardware and software build to be downloaded. The content of the Manifest file prohibits the O-RU from installing software 2 builds designed for device based on different hardware. The format of the manifest.xml file is: 3 <xml> 4 <manifest version=”1.0”> /// @version describes version of file format (not the content) 5  <products> 6   <product vendor=”XX” code=”0818820\.x11” name=”RUXX.x11” build-Id=”1”/>  7   <product vendor=”XX” code=”0818820\.x12” name=”RUXX.x12” build-Id=”1”/> 8   <product vendor=”XX” code=”0818818\…” name=”RUYY” build-Id=”2”/>  9   /// @vendor is as reported by O-RU 10   /// @code is a regular expression that is checked against productCode reported by O-RU 11   /// @name is optional and used for human reading – MUST NOT be used for other purposes! 12   /// @buildId is value of build@id (see below) 13  </products> 14  <builds> 15   <build id=”1” bldName=”xyz” bldVersion=”1.0”> 16   /// @id is index of available builds. 17   /// @bldName and @bldVersion are used in YANG (build-name, build-version) 18    <file fileName=”xxxx” fileVersion=”1.0” path=”full-file_name-with-path-relative-to- 19 package -root-folder” checksum=”FAA898”/> 20    <file fileName=”yyyy” fileVersion=”2.0” path=”full-file_name-with-path-relative-to- 21 package -root-folder” checksum=”AEE00C”/ > 22    /// @fileName and @fileVersion are used in YANG (name, version) 23    /// @path is full path (with name and extension) of a physical file, relative to package 24 root folder,used in YANG (local-path) 25    /// @checksum is used to chech file integrity on O-RU side 26   </build> 27   <build id=”2” bldName=”xyz” bldVersion=”1.0”> 28    <file fileName=”xxxx” fileVersion=”1.0” path=”full-file_name-with-path-relative-to- 29 package -root-folder” checksum=”FAA898”/> 30    <file fileName=”yyyy” fileVersion=”2.0” path=”full-file_name-with-path-relative-to- 31 package -root-folder” checksum=”AEE00C”/ > 32    <file fileName=”zzzz” fileVersion=”1.5” path=”full-file_name-with-path-relative-to- 33 package -root-folder” checksum=”ABCDEF”/ > 34   </build> 35  </builds> 36 </manifest> 37 </xml> 38  39 Note: Keywords in manifest.xml example are in bold, the keywords must be strictly followed considering of cross-vendor cases. 40 Note 2: Correspondency between content of manifest.xml tags and content of o-ran-software-management.yang is: 41 - XML tag "product vendor" corresponds to content leaf "vendor-code", 42 - XML tag "code" corresponds to content of leaf "product-code", 43 - XML tag "build-Id" corresponds to content of leaf "build-id", 44 - XML tag "bldName" corresponds to content of leaf "build-name", 45 - XML tag "bldVersion" corresponds to content of leaf "build-version", 46 - XML tag "fileName" corresponds to content of leaf "name" in list "files", 47 -XML tag "fileVersion" corresponds to content of leaf "version" in list "files" 48 
5.2 Software Inventory 49 Pre-condition:  50 - M-Plane NETCONF session established. 51 Post-condition: 52 - NETCONF client successfully collected the software inventory information from NETCONF server. 53 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       42 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 11: Inventory fetch call flow 2 Software Inventory is fetched by a NETCONF Client using the NETCONF get rpc filtered over the software-slot container. 3 The response contains information about each software slot and its contents. 4 The following information is provided by software-inventory reply message: 5 a) name - name of the software slot (the name is defined by the O-RU vendor) 6 b) status - status of the software package. Status of the package can be  7  - VALID - Slot contains a software build considered as proven valid. 8  - INVALID - software build is not currently used by O-RU. The software is considered by the O-RU as damaged 9 (e.g. wrong CRC). 10 Activation of a software slot containing an invalid software build shall be prohibited. Note: failed software install 11 operation can cause a slot status to change to "Invalid". 12  - EMPTY - software slot does not contain a software package. Activation of an empty software slot shall be 13 prohibited.  14 c) active - indicates if the software stored in particular slot is activated at the moment. 15  - True - software slot contains an activated software build. Active::True can be assigned only for slots with status 16 "Valid". At any time, only one slot in the O-RU MUST be marked as Active::True. The O-RU shall reject activation 17 for software slots with status "Empty" and "Invalid". 18  - False - software slot contains passive software build or is empty 19 d) running - informs if software stored in particular slot is used at the moment. 20  - True - software slot contains the software build used by the O-RU in its current run. 21 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       43 
O-RAN.WG4.MP.0-v03.00  - False - software slot contains a software build not used by O-RU at the moment. 1 e) access – informs about access rights for the current slot 2 - READ_ONLY – The slot is intended only for factory software, activation of such software slot means performing 3 a factory reset operation and a return to factory defaults settings. 4 - READ_WRITE – slot used for updating software 5 f) product-code - product code provided by the vendor, specific to the product. 6 g) vendor-code - unique code of the vendor. 7 h) build-id - Identity associated with the software build. This id is used to find the appropriate build-version for the 8 product consist of the vendor-code and the product-code. 9 i) build-name - Name of the software build. 10 j) build-version - Version of the software build for the product consist of the vendor-code and the product-code. 11 k) files – list of files in build 12 l) name – name of one particular file 13 m) version – version of the file 14 n) local-path - complete path of the file on local file system 15 o) integrity - result of the file integrity check 16 - OK – file integrity is correct 17 - NOK – file is corrupted 18 If a slot contains a file with integrity::NOK, the O-RU shall mark the whole slot with status::INVALID. The content of a 19 software-slot is fully under O-RU's management - including removal of the content occupying the slot (in case the slot is subject 20 of software update procedure), control of file system consistency and so on. The slot content shall not be removed until there is 21 a need for new software to be installed.  22 Note: The empty slot parameters shall be as follows 23 name: up to vendor, not empty 24 status: "INVALID" 25 active: False 26 running: False 27 access: READ_WRITE 28 product-code: up to vendor 29 vendor code: up to vendor 30 build-name: null (empty string) 31 build-version: null (empty string) 32 files: empty 33 
5.3 Download 34 Pre-condition:  35 - M-Plane NETCONF session established. 36 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       44 
O-RAN.WG4.MP.0-v03.00 Post-condition: 1 - O-RU downloads all files specified and successfully stores the downloaded files in the O-RU’s file system.  2 
 3  4 Figure 12: Software download call flow 5 Following types of authentications are supported for software-download: 6 a) password for RU authentication and list of public keys (DSA/RSA) for sFTP server authentication 7 b) certificate for both RU and sFTP server authentication 8 The software-download rpc is used to trigger the downloading of software to the O-RU. The download shall be performed 9 using sFTP. The rpc specifies the URI of the remote location of the software files.  10 The O-RU shall send an immediate rpc-reply message with one of following statuses: 11 a) STARTED – software download operation has been started 12 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       45 
O-RAN.WG4.MP.0-v03.00 b) FAILED – software download operation could not be proceeded, reason for failure in error-message  1 When the O-RU completes the software download or software download fails, the O-RU shall send NETCONF download-2 event notification with one of the following statuses: 3 a) COMPLETED 4 b) AUTHENTICATION_ERROR -  source available, wrong credentials 5 c) PROTOCOL_ERROR – sFTP protocol error 6 d) FILE_NOT_FOUND -  source not available 7 e) APPLICATION_ERROR - operation failed due to internal reason  8 f) TIMEOUT -  source available, credentials OK, Operation timed out (e.g. source becomes unavailable during ongoing 9 operation). 10 The above will be repeated until all files which are required for the O-RU and which belong to the software package have been 11 downloaded to the O-RU. 12 
5.4 Install 13 Pre-condition:  14 - M-Plane NETCONF session established. 15 - At least one software slot with status active::False and running::False exists in O-RU. 16 - Software Download has been completed successfully and files are available in O-RU 17 Post-condition: 18 - O-RU software is installed in the specified target software-slot. 19 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       46 
O-RAN.WG4.MP.0-v03.00 
 1  2 Figure 13 Software install call flow 3 NETCONF software-install rpc is used to install the previously downloaded software (all files provided in the package) to the 4 specified target software-slot on O-RU. This slot must have status active::False and running::False.  5 The O-RU shall send an immediate rpc-reply message with one of following statuses: 6 a) STARTED – software install operation has been started. 7 b) FAILED – software install operation could not be proceeded, reason for failure in error-message. 8 When O-RU completes the software install or software install procedure fails, the O-RU will send NETCONF install-event 9 notification with one of the following statuses: 10 a) COMPLETED - Install procedure is successfully completed. 11 b) FILE_ERROR – operation on the file resulted in in error, disk failure, not enough disk space, incompatible file format 12 c) INTEGRITY_ERROR – file is corrupted  13 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       47 
O-RAN.WG4.MP.0-v03.00 d) APPLICATION_ERROR – operation failed due to internal reason 1 When the software install commences, the O-RU shall set the slot status to INVALID. After the install procedure finishes, the 2 O-RU shall change the slot status to its appropriate status. This operation avoids reporting of inaccurate status when the install 3 procedure is in operation or when it is interrupted (e.g., by spurious reset operation). 4 
5.5 Activation 5 Pre-condition:  6 - M-Plane NETCONF session established. 7 - Software slot to be activated has status VALID. 8 Post-condition: 9 - O-RU software activates to the version of software-slot. 10  11 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       48 
O-RAN.WG4.MP.0-v03.00 
 1  2 Figure 14 Software activation call flow. 3 NETCONF software-activate rpc is used to activate the software. The name of the software-slot is specified in the activate 4 request.  5 The O-RU shall send an immediate rpc-reply message with one of following statuses: 6 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       49 
O-RAN.WG4.MP.0-v03.00 a) STARTED – software activation operation has been started 1 b) FAILED – software activation operation could not be proceeded, reason for failure in error-message 2  3 When the activation is completed, the O-RU shall send the NETCONF activation-event notification with the status of 4 activation. The following status is returned in the NETCONF activation-event notifications. 5 a) COMPLETED - Activation procedure is successfully completed. O-RU must be restarted via NETCONF reset rpc for the 6 new software to be activated. 7 b) APPLICATION_ERROR - operation failed due to internal reason 8 Only one software slot can be active at any time. Thus, successful software-activate command will set active::True to the slot 9 that was provided in the rpc and automatically will set active::False to the previously active slot. 10 NETCONF reset rpc shall be sent to O-RU to activate to the version of the software-slot. O-RU restarts and performs startup 11 procedure as described in Chapter 3 as regular startup with new software version running.  12 
5.6 Software update scenario 13 An example scenario of a successful software update procedure can be as follows: 14 1. NETCONF client performs a software inventory operation and determines that a new software package is available 15 and can be installed on the O-RU 16 2. NETCONF client using the software-download rpc requests the O-RU to download a software package (if the 17 software package contains several files, steps 2-4 need to be performed repeatedly until all files have been downloaded) 18 3. O-RU sends rpc response that download was started 19 4. O-RU finishes downloading the file(s) and reports this by sending the download-event notification 20 5. NETCONF client requests installation of the software using software-install rpc, and provides the slot name where 21 the software needs to be installed along with a list of filenames to be installed (if the software package contains only 22 one file, the list will contain only one entry) 23 6. O-RU sends rpc response that installation was started 24 7. O-RU sets installation slot status to INVALID 25 8. O-RU installs the software and after successful installation (with checksum control) changes status of the slot to 26 VALID 27 9. O-RU notifies the NETCONF client that the installation is finished using install-event notification 28 10. NETCONF client requests the O-RU to activate the newly installed software using the software-activate rpc 29 11. O-RU sends rpc response that activation was started 30 12. For requested slot, O-RU changes active to True and at the same time sets activate to False on previously active slot 31 13. O-RU notifies NETCONF client about activation finished using the activation-event notification 32 14. NETCONF client restarts the O-RU forcing it to use the newly installed and activated software into use. O-RU restarts 33 as regular startup with new software version running. 34 
5.7 Factory Reset  35 O-RU can be reset to the factory default software by activating the software-slot containing the factory default software and 36 initiating NETCONF reset rpc. O-RU may clear persistent memory data during factory reset as vendor implementation option. 37 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       50 
O-RAN.WG4.MP.0-v03.00 
Chapter 6 Configuration Management  1 
6.1 Baseline configuration 2 This chapter describes NETCONF standard operation (edit-config/get-config/get) [3] which belongs to the CM in Module to 3 modify/retrieve any parameters in YANG modules. Examples below use o-ran-hardware as an example YANG module. 4 Two following scenarios are feasible for Configuration Management purposes. 5 - 2 phase (modify/commit) operation using writable running datastore 6 - 3 phase (modify/commit/confirm) operation using candidate datastore. 7 The 2-phase operation performs edit config on running datastore directly and confirm operation is not used. 8 All O-RUs shall support 2 phase operation, with 3 phase operations being optional. 9 6.1.1 Retrieve State 10 O-RU Controller is able to retrieve state which is defined in o-ran-hardware by using NETCONF <get-config> or <get> 11 procedure: 12 
 13  14  Figure 15 – Retrieve Resource State 15 Preconditions: 16 - O-RU Controller has completed exchange of NETCONF capabilities as part of connection establishment between O-RU and 17 O-RU Controllers. 18 Post conditions: 19 - O-RU controller has retrieved O-RU state as per <get-config> or <get> request.  20 6.1.2 Modify State 21 O-RU Controller is able to change state which can be configurable by using NETCONF <edit-config> procedure without reset. 22 The configurable state are admin-state and power-state defined in o-ran-hardware. 23 In case of a failure, an error will be returned. Please refer to RFC6241 Appendix A for error codes. 24 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       51 
O-RAN.WG4.MP.0-v03.00 The vendor can define the behavior after the error occurred. 1 
 2  3 Figure 16 – Modify Resource State without reset 4  5 The followings are the information of state transition for each state. 6  7 [admin-state] 8 The admin-state transition diagram for the O-RU is illustrated in Figure 17 below. 9  10 
 11 Figure 17 – Admin State 12 - locked: This state indicates that any resource activation is prohibited for the O-RU and all resources have been deactivated 13 administratively.   14 - shutting-down: That usage is administratively limited to current instances of use. It's not mandatory (will be optional). 15 - unlocked: This state indicates that any resource activation is allowed and any resources can be active. The state "unlocked" 16 is the initial state after the reset of the O-RU. 17  18 [power-state] 19 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       52 
O-RAN.WG4.MP.0-v03.00 The power-state transition diagram for O-RU is presented in Figure 18 below. This state can be controlled by editing the 1 parameter energy-saving-enabled. 2  3 
 4 Figure 18 – Power State 5 - awake: This state indicates that the O-RU is operating normally, i.e. not in energy saving mode. The state "awake" is the 6 initial state after the reset of the O-RU. 7 - sleeping: This state indicates that the O-RU is in energy saving mode. M-plane connection and functions are alive whereas 8 other C/U/S functions may be stopped to reduce energy consumption. This state is optional. 9  10 [oper-state] 11 O-RU Controller is able to change oper-state defined in o-ran-hardware of the O-RU by using remote procedure call reset. In 12 this case, the O-RU responds <rpc-reply><ok> prior to reset operation. Whatever the previous state is, the O-RU oper-state 13 starts from disabled when O-RU receives reset. 14 
 15  16 Figure 19 – Modify Oper State (reset) 17 The oper-state transition diagram for O-RU is presented in Figure 20 below. 18 
 19 Figure 20 – Oper State 20 enabled: O-RU is partially or fully operational.  21 disabled: O-RU is not operational. This is the initial state of oper-sate after the reset of the O-RU  22 
RU Oper State
disabled enabled
enable
disable
rpc reset

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       53 
O-RAN.WG4.MP.0-v03.00 - O-RU Controller is able to reset the O-RU, even if the O-RU state is "disabled" or "enabled”. 1  2 [availability-state] 3 The availability-state transition diagram for the O-RU is presented in Figure 21 below. 4 
 5 Figure 21: Availability State 6 The availability state is derived from detected and active faults and their impact to O-RU’s operation. The availability state is 7 not affected by faults caused by external reasons.  8 • normal: There is no fault. 9 • degraded: When major or critical fault affecting module or any of O-RU’s subcomponents (e.g. transmitter) is active. 10 • faulty: The critical fault affecting whole O-RU is active and O-RU can't continue any services. 11  12 [usage-state] 13 The usage-state transition diagram for the O-RU is presented in Figure 22 below. 14 
 15 Figure 22 – usage State 16  17 idle: No carrier is configured in O-RU. 18 active: The carrier(s) is(are) configured in O-RU. 19 busy: No more carrier can be configured in O-RU. 20 6.1.3 Retrieve Parameters 21 O-RU Controller is able to retrieve parameters of the YANG module by using NETCONF <get-config> procedure 22 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       54 
O-RAN.WG4.MP.0-v03.00 
 1  2  Figure 23 – Retrieve Parameters 3 Preconditions: 4 - O-RU Controller has completed exchange of NETCONF capabilities as part of connection establishment between O-RU and 5 O-RU Controller(s). 6 Post conditions: 7 - O-RU controller has retrieved O-RU parameters as per <get-config><source><running/><filter> request. 8 6.1.4 Modify Parameters 9 Before an O-RU Controller modifies the configuration (candidate or running) of an O-RU, it shall first lock the target 10 configuration. This prevents other NETCONF clients from changing the shared configuration database until the O-RU 11 Controller releases the lock. If another NETCONF client has already locked the configuration datastore, then the O-RU will 12 respond with a NETCONF error indicating that the requested lock is denied. Note, in such circumstances, the O-RU controller 13 should wait for a period of time before re-attempting to modify the O-RU’s configuration. 14 O-RU Controller is able to modify parameters of the YANG module by using the NETCONF <edit-config> procedure. 15 In case of failures, an error will be returned. Please refer to RFC6241 Appendix A for error codes. 16 The vendor can define the behavior after error occurred. 17 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       55 
O-RAN.WG4.MP.0-v03.00 
 1  2 Figure 24 – Modify Parameters 3 Preconditions: 4 - O-RU Controller has completed exchange of NETCONF capabilities as part of connection establishment between the O-RU 5 and O-RU Controller(s). 6 - O-RU Controller has locked the target configuration 7 Post conditions: 8 - O-RU controller has retrieved O-RU resource state as per <edit-config> request 9 • Success case: The update is confirmed to O-RU Controller. 10 • Failure case: Failure reason is provided to O-RU Controller 11 Sequential processing is assumed. Only a single <edit-config> rpc is allowed at a time. Next <edit-config> rpc shall be 12 performed after previous <edit-config> rpc reply. 13 Modify Parameters is used to:  14 - update parameters of existing leafs,  15 O-RU shall be allowed to reject <edit-config> in case the content is found to be against e.g., functions supported by O-RU - 16 like carrier configured out of band. 17 After the modification procedure is complete, the O-RU Controller releases the lock on the target configuration. 18 
6.2 Framework for optional feature handling 19 This section describes the common and optional features about Configuration Management. 20 An O-RU may have some features which are not supported by other O-RUs, i.e. optional feature(s). In this case, the O-RU 21 needs to inform the O-RU controller which features the O-RU can provide, and this can be achieved by exchanging NETCONF 22 capabilities. 23 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       56 
O-RAN.WG4.MP.0-v03.00 Some of the YANG models are optional for the O-RU to support. For example, in this version of the management plane 1 specification, those models associated with External IO and Antenna Line Devices are not essential for the operation of the O-2 RAN fronthaul interface. Other mandatory models define optional feature capabilities. 3 The NETCONF Server shall use the ietf-yang-library model (RFC 7895) [20] to list the namespace of the models supported by 4 the Server. If an O-RU/NETCONF server does not return the namespace associated with an optional YANG model, the 5 NETCONF client determines that the O-RU does not support the optional capability associated with the model. 6 In addition, for each supported schema, the ietf-yang-library lists the YANG feature names from this module that are supported 7 by the server. The details of optional models and features are defined in Annex C. 8 
6.3 M-Plane Operational State 9 The o-ran-mplane-int YANG model allows the O-RU to report the connectivity to NETCONF clients on a per sub-interface 10 level. The client information includes the IP address(es) for the client(s) as well as the link-layer address used to forward packets 11 towards the various management plane clients. 12 
6.4 Notification of Updates to Configuration Datastore 13 6.4.1 Introduction 14 This sub-section defines an optional O-RU capability which allows O-RU Controllers to configure the O-RU to provide 15 notifications of modifications to its YANG datastore. This capability can be used when the O-RU is operating in a hybrid 16 environment with multiple simultaneous NETCONF sessions established to different O-RU controllers. Using this capability, 17 one particular O-RU controller uses the NETCONF notifications functionality specified in RFC 6470 [35] to enable it to be 18 automatically signalled changes to the O-RU’s configuration made by a second O-RU controller. Additionally, if the O-RU 19 supports a vendor specific interface to allow manual configuration, this functionality can also be used to signal such 20 configuration modifications to an O-RU Controller. 21 6.4.2 Subscribing to updates from an O-RU 22 When an O-DU receives an indication from an O-RU that it supports the optional capability to support notification of updates 23 to its configuration data store, as a minimum, it shall subscribe to the netconf-config-change notification. 24 An example subscription to the event notification stream is shown in Figure 25, where one O-RU Controller is receiving a 25 notification that the configuration of the O-RU’s timezone offset has been modified by a second O-RU controller.  26 
 27 Figure 25 – Example of a netconf-config-change notification 28 
<notification xmlns="urn:ietf:params:xml:ns:netconf:notification:1.0">   <eventTime>2020-03-01T08:00:14.12Z</eventTime>   <netconf-config-change xmlns= "urn:ietf:params:xml:ns:yang:ietf-netconf-notifications">     <id>102</id>     <changed-by>       <username>nms-user</username>       <session-id>1099</session-id>       <source-host>10.10.10.10</source-host>     </changed-by>     <datastore>running</datastore>     <edit>       <target>/oran-ops:operational-info/oran-ops:clock/oran-ops:timezoneutc-offset</target>       <operation>replace</operation>     </edit>   </netconf-config-change> </notification>  

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       57 
O-RAN.WG4.MP.0-v03.00  1 
Chapter 7 Performance Management 2 This chapter provides the description of scenarios related to performance management. It consists of 2 functions. One is for the 3 measurement activation and the other is the collection of measurement results. 4 7.1 Measurement Activation and De-activation 5 The measurement activation at the start-up installation is also allowed as described in chapter 3.  6 Pre-condition:  7 M-Plane is operational.  8 Post-condition: 9 Measurement is activated or deactivated as per NETCONF client’s request. 10 This sub-section provides information about how to activate and de-activate the performance measurement via NETCONF 11 <edit-config> to O-RU. The performance measurement is defined as o-ran-performance-management YANG module. In case 12 of multiple NETCONF clients, only one NETCONF client shall activate/deactivate the measurements in the O-RU. 13 In the performance-management YANG module, the following parameters are defined. 14 - group of the measurement results, e.g., transceiver-measurement-objects, rx-window-measurement-objects, tx-15 measurement-objects and epe-measurement-objects. 16 - measurement-interval: measurement interval for the measurement-objects to measure the performance periodically, 17 e.g., 300, 600, 900 seconds. It is defined per the group of the measurement result. 18 - measurement-object: target metric to measure the performance, e.g., RX_POWER, TX_POWER, defined as key 19 parameter. 20 - active: enable/disable the performance measurement per measurement-object. This value is Boolean. Default is 21 FALSE. 22 - start-time and end-time: to report the time of measurement start and end for the measurement-object at each 23 measurement-interval. 24 - object-unit: unit to measure the performance per object, e.g., O-RU, physical port number, antenna, carrier. The object-25 unit may be configurable Identifier object-unit-id means e.g., physical port number when object unit set to physical 26 port number. 27 - report-info: the reporting info to the measurement-object, e.g., MAXIMUM, MINIMUM, FIRST, LATEST, 28 FREQUENCY_TABLE and COUNT. Multiple info can be considered for one object if necessary. 29 - Optional configurable parameter(s) for report-info: some configurable parameters to report, e.g., function, bin-count, 30 upper-bound, lower-bound. For the bin-count configuration, it shall be less than the parameter max-bin-count that is 31 the capability information of NETCONF server for the maximum configurable value for bin-count. 32 - Additional reporting information for report-info: some additional information to report info, e.g., date-and-time. 33  34 The detail of the parameters per measurement-object and the group of measurement result are defined in Annex B. 35 The measurement-interval of measurement-object may be set to common or different values per group of the measurement 36 result.  37 It is allowed that the measurement is activated and deactivated at any time. When different parameter measurements have 38 intervals with a common factor, the O-RU shall synchronize the boundary of these measurements aligned with this factor, 39 irrespective of when the different measurements are activated. And all of start points of the measurement-intervals shall be 40 synchronized to zero o’clock mid-night by using an equation {full seconds (hour, minute and second) modulo ‘measurement-41 interval’ = 0}, in order to ensure the same start and end of the measurement-intervals between O-RUs. For more detail see 42 the following illustration. 43 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       58 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 26: synchronization of measurement-interval. 2  3 The modification of the configurable parameters for the measurement shall be allowed while active for the corresponding 4 measurement-object is set to FALSE. 5 All of the measurements are optionally supported in the O-RU.  6 The report-info, e.g., count, shall be started from 0 at the boundary of every measurement-interval. No accumulation is 7 applied between the measurement-intervals. 8  7.2 Collection and Reporting of Measurement Result 9 This sub-section provides the description of scenarios used to collect measurement results. There are two options. 10 - NETCONF process: Create-subscription from NETCONF client and NETCONF notification from NETCONF server are 11 used.  12 - File Management process: File upload mechanism is used for the measurement file from O-RU to configured file server(s) 13 that O-RU can reach to. 14 Both methods are mandatory for the O-RU. The method(s) to be used is the matter of NETCONF client. 15 In case of multiple NETCONF clients, the O-RU shall report the same notification-based measurement results to all subscribed 16 NETCONF clients, and the O-RU shall upload file-based results to all configured fileservers. 17 7.2.1 NETCONF process 18 This process needs the NETCONF capability: urn:ietf:params:netconf:capability:notification:1.0 19 1. NETCONF client subscribes to one or more measurement group(s) and/or measurement-object(s) to collect the 20 measurement result by sending NETCONF <subscribe-notification> to NETCONF server in the O-RU. In this message, 21 startTime and stopTime for the notification may be configurable. NETCONF client can configure the notification-interval 22 in the performance-measurement YANG module.  23 2.  NETCONF server sends NETCONF notification messages periodically to the client as configured by the notification-24 interval. The NETCONF notification message contains subscribed measurement group(s) and/or measurement-object(s). 25 The notification-interval doesn’t need to be same as the measurement-interval. The notification timing different from the 26 measurement-interval is a matter to O-RU implementation. 27 This procedure is described in the following figure. 28 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       59 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 27: NETCONF process of Measurement Result Collection 2 Note: This figure uses create-subscription for the single stream "measurement-result-stats". In order to subscribe multiple 3 notifications, the appropriate create-subscription message is required. Please refer to setion 8.2 for the appropriate example of 4 create-subscription of multiple notifications. 5 In order to terminate the subscription, the NETCONF client shall send <close-session> operation from the subscription session. 6 If NETCONF session is terminated by <kill-session>, the subscribed notification is terminated as well.  7 This procedure is described in the following figure. 8 
 9 Figure 28: NETCONF process of Measurement Result Collection to end 10 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       60 
O-RAN.WG4.MP.0-v03.00 When notification-interval is larger than measurement-interval, one notification may contain multiple stats which have 1 consecutive periods indicating start-time and end-time for the measurement. 2 When notification-interval is smaller than measurement-interval, one notification may not contain the stats which start-time 3 and end-time are not applicable to the period for the notification. 4 For example, when notification-interval = 60min, measurement-interval for measurement-object#A= 30min and 5 measurement-interval for measurement-object#B = 15min, one notification contains 2 measurement results for 6 measurement-object#A with consecutive start-time and end-time, and 4 measurement results for measurement-object#B 7 with consecutive start-time and end-time.  8 For the other example, when notification-interval = 15min, measurement-interval for measurement-object#A= 30min and 9 measurement-interval for measurement-object#B = 15min, one notification contains one measurement results for 10 measurement-object#B but not for measurement-object#A. next notification contains both measurements result for 11 measurement-object#A and #B. 12 7.2.2 File Management process 13 NETCONF client needs to configure a parameter of performance measurement YANG module ‘enable-SFTP-upload’ to 14 enable or disable the periodic file upload mechanism via NETCONF <edit-config>. Its default is FALSE. 15 In addition, the performance measurement YANG module defines file-upload-interval, remote-SFTP-upload-path, 16 credentials information of the file server and enable-random-file-upload as configurable parameters. 17 Following types of authentications are supported for performance file upload: 18 a) Password for RU authentication and list of public keys (DSA/RSA) for sFTP server authentication 19 b) Certificate for both RU and sFTP server authentication 20 When the parameter enable-SFTP-upload is set to TRUE, O-RU shall store the performance measurement files in the generic 21 folder in O-RU, i.e., O-RAN/PM/. Every file-upload-interval, O-RU pushes the latest file to upload to the remote-SFTP-22 upload-path of the configured SFTP servers if enable-SFTP-upload is set to TRUE. Otherwise, the performance measurement 23 file is not created and uploaded. The number of maximum performance files to be stored in O-RU simultaneously is a matter 24 for O-RU implementation. The O-RU shall manage its own storage space by deleting the older files autonomously.  25 The O-RU shall ensure that the start-time and the end-time within the name of the performance measurement file are 26 synchronized with the same manner as measurement-interval by using file-upload-interval. 27 If the parameter enable-random-file-upload is set to TRUE, the O-RU shall randomize the timing to upload SFTP file after 28 the performance measurement file is ready to upload. The randomized timing is an O-RU implementation matter and shall not 29 be later than next file-upload-interval. 30 The file name of the performance measurement is: 31 C<start-time>_<end-time>_<name>.csv 32 - Starting with a capital letter “C”. 33 - Format of <start-time> and <end-time> can be local time or UTC. 34 Local time format is YYYYMMDDHHMM+HHMM, indicating, year, month, day, hour, minute, timezone “+” or “-“, 35 hour and minute for the time zone. 36 UTC format is YYYYMMDDHHMMZ, indicating, year, month, day, hour, minute and with a special UTC designator 37 ("Z")   38 Time zone offset is provided by timezone-utc-offset in o-ran-operation.yang. 39 - <name> in ietf-hardware is used  40 - “_” underscore is located between <start-time>, <end-time> and <name> 41 - File extension is “csv” as csv format file. 42 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       61 
O-RAN.WG4.MP.0-v03.00 Example of measurement file is: 1 C201805181300+0900_201805181330+0900_ABC0123456.csv. 2  3 The file format of the performance measurement has following rule: 4 1. Each line starts with the measurement-object identifier, which measurement can be switched to TRUE or FALSE by 5 active parameter. The identifier of each measurement-object is defined in Annex B. 6 2. After the measurement-object identifier, the name of measurement-object, start-time, end-time are followed. 7 3. Since the report-info results of any measurement-object are measured per object-unit, object-unit-id and set of report-8 info are repeated in one line. 9 4. When multiple report-info parameters exist per object-unit, all of the report-info are consecutively listed until the next 10 object-unit-id. The order of parameters, such as object-unit-id, report-info and additional information for the report-info, 11 shall be same as the order of those listed in NETCONF notification defined in o-ran-performance-management YANG 12 module. 13 Example of measurement result in one line is: 14 1, RX_ON_TIME, 2018-05-18T13:00:00+09:00, 2018-05-18T13:30:00+09:00, 0, 123, AAAA, 1, 123, BBBB, 2, 123, CCCC, 3, 123, 15 DDDD 16 - Measurement-object-identifier: 1 17 - Name of measurement-object: RX_ON_TIME 18 - start-time: 2018-05-18T13:00:00+09:00 as measurement start-time. 19 - end-time: 2018-05-18T13:30:00+09:00 as measurement end-time 20 - EAXC_ID: 0 21 - Count for EAXC_ID#0 : 123 22 - name of transport-flow information:  AAAA 23 - : 24 - EAXC_ID: 3 25 - Count for EAXC_ID#3 : 123 26 - name of transport-flow information:  DDDD 27 When file-upload-interval is larger than measurement-interval, one performance measurement file may contain multiple 28 lines for the stats which have consecutive periods indicating start-time and end-time for the measurement. 29 When file-upload-interval is smaller than measurement-interval, one performance measurement file may not contain the line 30 for the stats which start-time and end-time are not applicable to the period for the performance measurement file. 31 For example, when file-upload-interval = 60min, measurement-interval for measurement-object#A= 30min and 32 measurement-interval for measurement-object#B = 15min, one performance measurement file contains 2 measurement 33 result lines for measurement-object#A with consecutive start-time and end-time, and 4 measurement result lines for 34 measurement-object#B with consecutive start-time and end-time as followings: 35 1, RX_POWER, 2018-05-18T13:00:00+09:00, 2018-05-18T13:15:00+09:00, 0, 123 36 1, RX_POWER, 2018-05-18T13:15:00+09:00, 2018-05-18T13:30:00+09:00, 0, 123 37 1, RX_ON_TIME, 2018-05-18T13:00:00+09:00, 2018-05-18T13:30:00+09:00, 0, 123, AAAA, 1, 123, BBBB, 2, 123, CCCC, 3, 123, 38 DDDD  39 1, RX_POWER, 2018-05-18T13:30:00+09:00, 2018-05-18T13:45:00+09:00, 0, 123 40 1, RX_POWER, 2018-05-18T13:45:00+09:00, 2018-05-18T14:00:00+09:00, 0, 123 41 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       62 
O-RAN.WG4.MP.0-v03.00 1, RX_ON_TIME, 2018-05-18T13:30:00+09:00, 2018-05-18T14:00:00+09:00, 0, 123, AAAA, 1, 123, BBBB, 2, 123, CCCC, 3, 123, 1 DDDD 2  3 For the other example, when file-upload-interval = 15min, measurement-interval for measurement-object#A= 30min and 4 measurement-interval for measurement-object#B = 15min, one performance measurement file contains one measurement 5 result line for measurement-object#B but not for measurement-object#A. next performance measurement file contains both 6 measurements result for measurement-object#A and #B as follows. 7 C201805181300Z+0900_201805181315+0900_ABC0123456.csv. 8 1, RX_POWER, 2018-05-18T13:00:00+09:00, 2018-05-18T13:15:00+09:00, 0, 123 9 C201805181315Z+0900_201805181330+0900_ABC0123456.csv. 10 1, RX_POWER, 2018-05-18T13:15:00+09:00, 2018-05-18T13:30:00+09:00, 0, 123 11 1, RX_ON_TIME, 2018-05-18T13:00:00+09:00, 2018-05-18T13:30:00+09:00, 0, 123, AAAA, 1, 123, BBBB, 2, 123, CCCC, 3, 123, 12 DDDD 13 The performance measurement files stored in O-RAN/PM can be uploaded on-demand. For the file upload mechanism by on-14 demand way, retrieve-file-list and file-upload operations are used. For more detail, please refer to Chapter 9. 15 
Chapter 8 Fault Management 16 Fault management is responsible for sending alarm notifications to the NETCONF Client. FM contains Fault Management 17 Managed Element and via this Managed Element alarm notifications can be disabled or enabled. 18 The NETCONF Server is responsible for managing an “active-alarm-list”. Alarms with severity “warning” are excluded from 19 this list. When an alarm is detected it is added to the list; when the alarm reason disappears then the alarm is cleared - removed 20 from the “active-alarm-list”. Furthermore, when the element that was the “fault-source” of an alarm is deleted then all related 21 alarms are removed from the “active-alarm-list”. 22 The NETCONF Client can read “active-alarm-list” by get rpc operation. 23 
 24 Figure 29: Read Active Alarms 25 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       63 
O-RAN.WG4.MP.0-v03.00 
8.1 Alarm Notification 1 The NETCONF Server is responsible to send <alarm-notif> to a NETCONF Client when the NETCONF Client has 2 “subscribed” to alarm notification and: 3 - a new alarm is detected (this can be the same alarm as an already existing one, but reported against a different “fault-source” 4 than the existing alarm)  5 - an alarm is removed from the list   6 Removal of alarms from the list due to deletion of “fault-source” element is considered as clearing and cause sending of <alarm-7 notif> to the NETCONF Client. This applies to alarms which were explicitly related to the deleted “fault-source” element. The 8 rationale for such is to avoid misalignment between NETCONF Clients when one NETCONF Client deletes an element.  9 NETCONF Server reports in <alarm-notif> only for new active or cancelled alarms, not all active alarms. 10 
 11 Figure 30: Alarm Notification 12 
8.2 Manage Alarms Request 13 The NETCONF Client can “subscribe” to Fault Management Element by sending create-subscription, RFC5277 [21], to 14 NETCONF Server. 15 RFC5277 allows <create-subscription> below: 16         <netconf:rpc netconf:message-id="101" 17                 xmlns:netconf="urn:ietf:params:xml:ns:netconf:base:1.0"> 18           <create-subscription 19               xmlns="urn:ietf:params:xml:ns:netconf:notification:1.0"> 20             <filter netconf:type="subtree"> 21               <event xmlns="http://example.com/event/1.0"> 22                 <eventClass>fault</eventClass> 23                 <severity>critical</severity> 24               </event> 25 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       64 
O-RAN.WG4.MP.0-v03.00               <event xmlns="http://example.com/event/1.0"> 1                 <eventClass>fault</eventClass> 2                 <severity>major</severity> 3               </event> 4               <event xmlns="http://example.com/event/1.0"> 5                 <eventClass>fault</eventClass> 6                 <severity>minor</severity> 7               </event> 8             </filter> 9           </create-subscription> 10         </netconf:rpc> 11 Note: the NETCONF Client can disable/enable alarm sending only for all the alarms with same severity, not for single alarms. 12 The appropriate example for O-RAN YANG modules for create-subscription is as follows: 13 Case 1) NETCONF client subscribes alarm-notif filtering fault-severity: CRITICAL, MAJOR and MINOR and 14 measurement-result-stats filtering transceiver-stats and rx-window-stats which measurement-object is RX_ON_TIME 15 only: 16         <rpc xmlns:netconf="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="101"> 17           <create-subscription 18               xmlns="urn:ietf:params:xml:ns:netconf:notification:1.0"> 19             <filter netconf:type="subtree"> 20               <alarm-notif xmlns="urn:o-ran:fm:1.0"> 21                 <fault-severity>CRITICAL</fault-severity> 22               </alarm-notif> 23               <alarm-notif xmlns="urn:o-ran:fm:1.0"> 24                 <fault-severity>MAJOR</fault-severity> 25               </alarm-notif> 26               <alarm-notif xmlns="urn:o-ran:fm:1.0"> 27                 <fault-severity>MINOR</fault-severity> 28               </alarm-notif> 29               <measurement-result-stats xmlns="urn:o-ran:performance-management:1.0"> 30                 <transceiver-stats/> 31               </measurement-result-stats> 32               <measurement-result-stats xmlns="urn:o-ran:performance-management:1.0"> 33                 <rx-window-stats> 34 <measurement-object>RX_ON_TIME</measurement-object> 35 </rx-window-stats> 36               </measurement-result-stats> 37             </filter> 38           </create-subscription> 39         </rpc> 40  41 Case 2) NETCONF client subscribes default event stream NETCONF to receive all notifications defined in O-RAN YANG 42 modules: 43     <rpc xmlns:netconf="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="101"> 44       <create-subscription xmlns="urn:ietf:params:xml:ns:netconf:notification:1.0"> 45  <stream>NETCONF</stream> 46       </create-subscription> 47     </rpc> 48 A high-level view of a NETCONF Client subscribing is shown directly below.  After the NETCONF Client requests a 49 subscription, the server sends an alarm-notif notification to the client when there is any change in the active alarms matching 50 the filter specified in the subscription request. 51 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       65 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 31: Manage Alarms Subscription Request 2   3 To terminate the subscription, the NETCONF client shall send a <close-session> operation from the subscription’s session. 4 
 5 Figure 32: Terminating an Alarm Subscription  6 
8.3 Fault Sources 7 Alarm notifications reported by NETCONF Server contain element “fault-source” which indicates the origin of an alarm. In 8 general values of “fault-source” are based on names defined as YANG leafs: 9 - Source (Examples: fan, module, PA, port) 10 indicates that origin of the alarm within the O-RU. Value of “fault-source” is based on element name. 11 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       66 
O-RAN.WG4.MP.0-v03.00 Note: In case the NETCONF Server reports an unknown “fault-source”, the NETCONF Client can discard the <alarm-1 notif>. 2 - Source (other than when an element is within the O-RU) 3 Value of fault-source may be empty or may identify the most likely external candidate; for example, antenna line.   4  5 Alarms with different “fault-id”, “fault-source” or "fault-severity" are independent: 6 - Multiple alarms with same “fault-id” may be reported with different “fault-source”.  7 - Multiple alarms with same “fault-source” may be reported with different “fault-id”.  8 - When an alarm with a "fault-id" and a "fault-source" is reported with a "fault-severity" and its severity of alarm condition 9 is upgraded or degraded, NETCONF server reports a new alarm with the same "fault-id" and the same "fault-source" with 10 the updgraded or degraded "fault-severity" with "is-cleared"::FALSE and clears the previous alarm with the report of the 11 "fault-id", "fault-source" and "fault-severity" with "is-cleard":: TRUE.  12 The range of "fault-id" is separated to common and vendor specific. The common fault-ids are defined in Annex A and more 13 number will be used in future. The vendor specific range for the fault-id shall be [1000 .. 65535]. 14 Alarm notifications reported by the NETCONF Server contain names of the “affected-objects” which indicate elements affected 15 by the fault. In case the origin of the alarm is within the O-RU, other elements than “fault-source” which will not work correctly 16 due to the alarm are reported via “affected-objects”. In case the origin of the fault is outside of the O-RU, the O-RU elements 17 which will not work correctly due to the fault are reported via “affected-objects”. 18 
Chapter 9 File Management 19 This chapter specifies File Management for the O-RU. Following operations are supported as a File Management. 20 - upload (see subsection 9.2) 21  File upload from O-RU to O-DU/NMS triggered by O-DU/NMS. 22 - retrieve file list (see subsection 9.3) 23  O-DU/NMS retrieves the file list in O-RU. 24 - download (see subection 9.4) 25  File download from O-DU/NMS to O-RU triggered by O-DU/NMS 26 Note: file-download has different purpose with software-download specified in subsection 5.3. For example, file-download 27 can be used for Beamforming configuration in subsection 12.4. 28 File transfers are done with sFTP. Following types of authentications are supported for file management: 29 a) Password for RU authentication and list of public keys (DSA/RSA) for sFTP server authentication 30 b) Certificate for both RU and sFTP server authentication 31 Following other sections are related with File Management. 32 - Subsection 7.2.2: File Management process (can be used for on demand file upload purpose, since subsection 7.2.2 covers 33 periodic file upload) 34 - Subsection 11.2: Log Management 35 - Subsection 12.4: Beamforming Configuration 36 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       67 
O-RAN.WG4.MP.0-v03.00 
9.1 File System Structure 1 The file System structure of the O-RU is represented as a logical structure that is used by the file management procedures 2 defined in the rest of this chapter. If the O-RU’s physical file structure differs from the logical file structure defined below, the 3 O-RU is responsible for performing the mapping between the two structures. 4 The O-RU shall support the standardized logical folders. In this version of the M-Plane specification, the following standardized 5 folders are defined: 6 O-RAN/log/ 7 O-RAN/PM/ 8 O-RAN/transceiver/ 9 And for those O-RU’s supporting beamforming 10 O-RAN/beamforming/ 11 The O-RU may additionally support vendor defined folders which are out of scope of this specification. 12 
9.2 File Management Operation: upload 13 This subsection describes file upload method from O-RU to O-DU/NMS. sFTP is used for File management, and one file can 14 be uploaded by one upload operation. The O-DU/NMS triggers file upload operation to O-RU. 15 Simultaneous multiple file upload operations can be supported under the same sFTP connection between O-RU to O-DU/NMS. 16 If the O-RU has the number of limitation to upload simultaneously as a capability, it is allowed that O-RU reports failure 17 notification for the upload request which is larger than the capability. The behaviour of O-DU/NMS is out of scope when O-18 DU/NMS receives failure notification from the O-RU. 19 Following rpc is used for upload operation. 20 -rpc: file-upload 21 -  input 22 -  local-logical-file-path: the logical path of file to be uploaded (no wildcard is allowed) 23 -  remote-file-path: URI of file on the O-DU/NMS 24 -  output 25 -  status: whether O-RU accepted or rejected the upload request  26 -  reject-reason: the human readable reason why O-RU rejects the request (only applicable if status is rejected) 27 In the rpc-reply, status whether the O-RU receives the upload request or rejects due to some reason (e.g., the number of 28 limitation to upload simultaneously) is replied. If rejected, the human readable reject reason is also replied. 29 In notification, the result of the upload process (successfully uploaded or failed upload) is replied in addition to local-logical-30 file-path and remote-file-path. If failure, the human readable reason is also replied. 31 Figure 33 shows the file upload sequence diagram. 32 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       68 
O-RAN.WG4.MP.0-v03.00 
 1  2 Figure 33: File Upload Sequence 3 
9.3 File Management Operation: retrieve file list 4 This subsection describes file retrieve method which the O-DU/NMS retrieves the file list from the O-RU. One or multiple files’ 5 information can be retrieved by one retrieve file list operation (use of wildcard is allowed). The O-DU/NMS triggers the retrieve 6 file list operation from the O-RU. 7 The following rpc is used for retrieve file list operation. 8 -rpc: retrieve-file-list 9 -  input 10 -  logical path: the logical path of files to be retrieved as specified below (* is allowed as wild-card) 11 - file-name-file name filter: the files which has the “file name filter” in the file name (* is allowed as wild-card) 12 -  output 13 -  status: whether O-RU accepted or rejected the retrieve file list request 14 -  reject-reason: the human readable reason why O-RU rejects the request (only applicable if status is rejected) 15 -  file list 16 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       69 
O-RAN.WG4.MP.0-v03.00 In rpc-reply, status whether the O-RU accepts the retrieve-file-list request or rejects due to some reason is replied. If rejected, 1 the human readable reject reason is also replied.  2 Figure 34 shows the retrieve file list sequence diagram. 3 
 4 Figure 34: Retrieve File List Sequence 5 
9.4 File Management Operation: download 6 This sub-chapter describes the file download method from O-DU/NMS to O-RU. sFTP is used for File management, and one 7 file can be downloaded by one download operation. The O-DU/NMS triggers the file download operation to O-RU. 8 Simultaneous multiple file download operations can be supported under the same sFTP connection between the O-RU and O-9 DU/NMS. If the O-RU has the number of limitation to download simultaneously as a capability, it is allowed that the O-RU 10 reports a failure notification for the download request which is larger than the capability. The behaviour of the O-DU/NMS is 11 out of scope when O-DU/NMS receives failure notification from O-RU. 12 The following rpc is used for download operation. 13 -rpc: file-download 14 -  input 15 -  local-logical-file-path: the logical path of file to be downloaded (no wildcard is allowed) 16 -  remote-file-path: URI of file on the O-DU/NMS 17 -  output 18 -  status: whether O-RU accepted or rejected the download request 19 -  reject-reason: the human readable reason why O-RU rejects the request (only applicable if status is rejected) 20 In rpc-reply, status whether the O-RU receives the download request or rejects due to some reason (e.g., the number of limitation 21 to download simultaneously) is replied. If rejected, the human readable reject reason is also replied. 22 In notification, the result of the download process (successfully downloaded or download is failure) is replied in addition to the 23 local-logical-file-path and remote-file-path. If failure, the human readable reason is also replied. 24 Figure 35 shows the file download sequence diagram. 25 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       70 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 35: File Download Sequence 2 
Chapter 10 Synchronization Aspects 3 This chapter provides the Management Plane’s interactions with various aspects of the time synchronization of the O-RU. In 4 general, the O-RU is responsible for managing its synchronization status, to select one or more synchronization input source(s) 5 (based on vendor specific implementation) and assure that the resulting accuracy meets that required by the Radio Access 6 Technology being implemented. 7 
10.1 Sync Status Object 8 This sync container provides synchronization state of the module. If the O-DU is interested in Sync status, it may send 9 NETCONF <subscribe-notification> to the NETCONF Server in the O-RU.  Event notifications will be sent whenever the state 10 of the O-RU synchronization changes. 11 The State of O-RU synchronization is indicated by the following allowed values: 12 - LOCKED: O-RU is in the locked mode, as defined in ITU-T G.810.  13 - HOLDOVER: O-RU clock is in holdover mode. 14 - FREERUN: O-RU clock isn’t locked to an input reference and is not in the holdover mode. 15 The sync container allows the O-RU to list via an array the synchronization sources which it is capable of supporting.   The 16 allowed values are: 17 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       71 
O-RAN.WG4.MP.0-v03.00 • GNSS 1 • PTP 2 • SYNCE 3  4 
 5 Figure 36: Allowed sync state transitions 6  7 Note: HOLDOVER mode is optional and depends on internal O-RU design. 8 
10.2 Sync Capability Object 9 The module’s synchronization capability is provided via this object.  This indicates the accuracy of the derived Telecom Slave 10 Clock (T-TSC) to which the module’s design is capable of. For details on the actual capability levels, see section 9.3 of the O-11 RAN WG4 CUS plane specification [2]. There are two enumerations possible: 12 • CLASS_B 13 • ENHANCED 14 
10.3 PTP Configuration 15 This container defines the configuration of Precision Time Protocol.   16 domain-number 17 This parameter indicates the Domain Number for PTP announce messages. Allowed values: 0 ~ 255. 18 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       72 
O-RAN.WG4.MP.0-v03.00 Default: 24. 1 Note: ITU-T G.8275.1 [22] uses domain numbers in the range 24...43, but the entire range is allowed to ensure flexibility 2 of the M-Plane specification. For ITU-T G.8275.2 domain numbers from range 44…63 shall be used. 3 accepted-clock-classes 4 Contains the list of PTP acceptable Clock Classes, sorted in the descending order. 5 Note: The sender must generate the list of acceptable clock classes. The list must be sorted in descending order. Each accepted 6 Clock Class value must appear only once in the list. Depending on implementation, the receiver may interpret the list in either 7 of two ways: 8 a) use only the first (i.e. the maximum) item in the list, interpreting it as a threshold value for acceptable clock classes, 9 while ignoring all other items in the list; 10 b) use the whole list, interpreting it as an explicit list of acceptable clock classes. 11 Default: 7, 6 12 clock-class 13 The PTP Clock Class accepted by the O-RU. Allowed values: 0 ~ 255. 14 Note: Not all values are compliant to [22], but the entire range is allowed in M-plane specification to ensure flexibility. The 15 values can be validated/filtered on the receiver side, if necessary. 16 ptp-profile 17 Defines which PTP profile will be used. 18 Allowed values: 19 • G_8275_1 (multicast over Ethernet will be used, see: ITU-T G.8275.1) 20 • G_8275_2 (unicast over IP will be used, see: ITU-T G.8275.2) 21 Default: G_8275_1. 22 delay-asymmetry 23 Defines the static phase error in the recovered PTP timing signal to be compensated at the O-DU. The error is defined in units 24 of nanoseconds in the range ±10 000 ns. According to ITU-T G.810 [23] and IEEE1588v2-2008 [24] the sign of the parameter 25 is interpreted as follows: 26 • If the phase error to be compensated is negative, then the recovered timing signal shall be advanced by the time interval 27 equal to the configured value to compensate the error. 28 • If the phase error to be compensated is positive, then the recovered timing signal shall be delayed by the time interval 29 equal to the configured value to compensate the error. 30 Default: 0 31 Note: Modification of this parameter may have impact on RF transmission, but shall occur without unit restart. 32 Note: This parameter is optional for support. If the O-RU does not support this value, the O-RU uses the default value. If the 33 O-RU does not support manual compensation, it ignores the parameter setting. 34 Note: Granularity of the applied value depends on the architecture and implementation of the system clock, and therefore, may 35 vary across vendors. 36 10.3.1 G.8275.1 specific parameters 37 multicast-mac -address 38 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       73 
O-RAN.WG4.MP.0-v03.00 The parameter defines the destination MAC address, used by the O-RU in the egress PTP messages. 1 Allowed values: 2 • FORWARDABLE (means that PTP shall use 01-1B-19-00-00-00  destination MAC address) 3 • NONFORWARDABLE (means that PTP shall use 01-80-C2-00-00-0E  destination MAC address) 4 Default value: FORWARDABLE. 5 10.3.2 G.8275.2 specific parameters 6 This section contains G.8275.2 specific parameters 7 local-ip-port 8 The parameter defines local ip address which will be used as a slave port for receiving ptp signal 9 master-ip-configuration 10 The parameter defines list of ip configuration of devices acting as ptp signal source. 11 local-priority 12 The parameter defines local priority or underlying master IP address. 13 ip-address 14 the parameter defines master IP address. 15 log-inter-sync-period 16 The parameter defines number of sync message during 1 second 17 Allowed values: 0 ~ -7 (this represents the value from 1 message per second to 128 messages per second) 18 log-inter-announce-period 19 The parameter defines number of announce message during 1 second 20 Allowed values: 0 ~ -3 (this represents the value from 1 message per second to 8 messages per second) 21 
10.4 PTP Status 22 The PTP Status container is used to collect operational status information of the PTP ordinary clock, controlled by the O-RU. 23 The object may be used to display operational information, which facilitates troubleshooting, to the operator. The information 24 in the object shall not be used by the O-DU to autonomously alter its operation. If the O-DU is interested in PTP status, it may 25 NETCONF <subscribe-notification> to the NETCONF Server in the O-RU. Notifications will only indicate changes to the lock-26 state.  Before requesting or subscribing to PTP status information, the O-DU shall ensure that PTP is supported by the O-RU 27 by requesting the supported-timing-reference-types, as defined in this chapter (Section 10.1). The following list includes the 28 related parameters of this container. 29 reporting-period 30 This parameter defines minimum period in seconds between reports, sent by the NETCONF Server, for parameters in this 31 container. 32 default: 10 33 lock-state 34 This parameter indicates whether the integrated ordinary clock is synchronizing to the reference, recovered from PTP flow. The 35 exact definition when to indicate locked or unlocked is up to specific implementation. 36 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       74 
O-RAN.WG4.MP.0-v03.00 • LOCKED: The integrated ordinary clock is synchronizing to the reference, recovered from PTP flow. 1 • UNLOCKED: The integrated ordinary clock is not synchronizing to the reference, recovered from PTP flow. 2 clock-class 3 This parameter contains the clock class of the clock, controlled by the O-RU. 4 sources 5 This parameter contains characteristics of PTP sources of the clock, controlled by the O-RU. 6 state 7 This parameter indicates status of the PTP source: 8 • PARENT: Indicates that the PTP signal from this source is currently used as a synchronization reference. 9 • OK: Indicates that the PTP signal from this source can be potentially used as a synchronization reference, i.e. SSM 10 messages, received from this source, contain acceptable clock quality level. 11 • NOK: Indicates that the PTP signal from this source cannot be used as a synchronization reference, i.e. SSM messages, 12 received from this source, contain unacceptable clock quality level. 13 • DISABLED: Indicates that SSMs are not received from this SyncE source. 14 See the related o-ran-sync YANG Model for the full details. 15 
10.5 SyncE Configuration 16 This container defines the configuration of SyncE 17 acceptance-list-of-ssm 18 The parameter contains the list of SyncE acceptable Synchronization Status Messages (SSM). 19 Allowed values: 20 • PRC (Primary Reference Clock) 21 • PRS (Primary Reference Source-Stratum 1) 22 • SSU_A (Synchronisation Supply Unit A) 23 • SSU_B (Synchronisation Supply Unit B) 24 • ST2 (Stratum 2) 25 • ST3 (Stratum 3) 26 • ST3E (Stratum 3E) 27 • EEC1 (Ethernet Equipment Clock 1) 28 • EEC2 (Ethernet Equipment Clock 2) 29 • DNU (Do Not Use) 30 • NONE 31 ssm-timeout 32 The parameter contains the value of maximum duration in seconds for which the actual SSM value may be different than 33 configured values. 34 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       75 
O-RAN.WG4.MP.0-v03.00 
10.6 SyncE Status 1 The SyncE Status container is used to collect operational status information of SyncE reference on a node, controlled by O-RU. 2 If the O-DU is interested in SyncE status, it may issue a NETCONF <subscribe-notification> to the NETCONF Server in the 3 O-RU. Notifications will only indicate changes to the lock-state.  Before requesting or subscribing to SyncE status information, 4 the O-DU shall ensure that SyncE is supported at the O-RU by requesting the supported timing reference types, as defined 5 earlier in this section 10.1.  The following list summarizes the related parameters of this container. 6 reporting-period 7 This parameter defines minimum period in seconds between reports, sent by the NETCONF Server, for parameters in this 8 container. 9 default: 10 10 lock-state 11 This parameter indicates, whether the integrated ordinary clock is synchronizing to the reference, recovered from the SyncE 12 signal. The exact definition when to indicate locked or unlocked is up to specific implementation. 13 • LOCKED: The integrated ordinary clock is synchronizing to the reference, recovered from the SyncE signal. 14 • UNLOCKED: The integrated ordinary clock is not synchronizing to the reference, recovered from the SyncE signal. 15 sources 16 This parameter contains characteristics of SyncE sources of the clock, controlled by the NETCONF Server 17 state 18 This parameter indicates status of the SyncE source: 19 • PARENT: Indicates that the SyncE signal from this source is currently used as a synchronization reference. 20 • OK: Indicates that the SyncE signal from this source can be potentially used as a synchronization reference, i.e. SSM 21 messages, received from this source, contain acceptable clock quality level. 22 • NOK: Indicates that the SyncE signal from this source cannot be used as a synchronization reference, i.e. SSM 23 messages, received from this source, contain unacceptable clock quality level. 24 • DISABLED: Indicates that SSMs are not received from this SyncE source. 25 quality-level 26 This parameter contains value of the SSM clock quality level, received in SSM messages from the SyncE source. 27 See the related o-ran-sync YANG Model for the full details. 28 
10.7 GNSS Configuration 29 This container defines the configuration of Global Navigation Satellite System (GNSS). 30 enable 31 This parameter defines if GNSS receiver shall be enabled or not. Allowed values: true/false; 32 Default values: false. 33 satellite-constelation-list 34 This parameter defines list of constellations to be used to acquire synchronization. 35 Allowed values: 36 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       76 
O-RAN.WG4.MP.0-v03.00 • GPS 1 • GLONASS 2 • GALILEO 3 • BEIDOU 4 polarity 5 This parameter defines pulse polarity 6 Allowed values: 7 • POSITIVE 8 • NEGATIVE 9 Default value: POSITIVE. 10 cable-delay 11 This parameter is used to compensate cable delay. Allowe-values: 0 ~ 1000 12 Default value: 5 13 Note: This value is given in ns (nanoseconds) it is recommended to compensate 5ns per each meter of the cable. 14 anti-jam-enable {if feature GNSS-ANTI-JAM} 15 This parameter is used to enable or disable anti-jamming. Allowed values: true/false 16 Default value: false. 17 
10.8 GNSS Status 18 An O-RU supporting GNSS capability uses the gnss-state container to report the state of its GNSS receiver. If the O-DU is 19 interested in GNSS status, it may NETCONF <subscribe-notification> to the NETCONF Server in the O-RU before requesting 20 or subscribing the GNSS status information. Notifications will only provide changes to the gnss-status. The O-DU shall ensure 21 that GNSS is supported by the O-RU by requesting supported timing reference types, as defined in this chapter (Section 10.1). 22 The following list summarizes the related parameters of this container. 23 gnss-status  24 This parameter indicates the status of the GNSS receiver: 25 • SYNCHRONIZED: Indicates that the GNSS receiver is synchronized. 26 • ACQUIRING-SYNC: Indicates the GNSS receiver is functioning correctly, but has not acquired synchronization 27 • ANTENNA-DISCONNECTED: Indicates the GNSS receiver is reporting that its antenna is disconnected. 28 • INITIALIZING: Indicates that the GNSS receiver is initializing. 29 • ANTENNA-SHORT-CIRCUIT: Indicates that the GNSS receiver is reporting that its antenna is short circuited. 30 Additionally, when the GNSS receiver is synchronized, the O-RU can report the following additional information: 31 satellites-tracked 32 The number of satellites being tracked by the O-RU receiver 33 altitude, latitude and longitude 34 The geospatial location reported by the GNSS receiver 35 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       77 
O-RAN.WG4.MP.0-v03.00  1 
Chapter 11 Operations Use Cases 2 
11.1 Supervision Failure 3 Section 3.6 describes the procedure by which an O-RU uses the expiry of a supervision watchdog timer to trigger “supervision 4 failure” condition. 5 Note, an O-RU operating in supervision failure may still have NETCONF sessions established with one or more NETCONF 6 clients with non-“sudo” privileges.  7 An O-RU that detects a supervision failure shall immediately cease RF transmission. The O-RU shall perform an autonomous 8 recovery reset procedure. This procedure will trigger the re-initialization of the transport layer and re-commencement of the 9 start-up installation procedures defined in section 3. 10 
11.2 Log management 11 There are two type of log managements, troubleshooting log and trace log. They are independent each other. 12 Troubleshooting log file contains the logs continuously collected before <start-troubleshooting-logs> rpc. Any logs collected 13 after <start-troubleshooting-logs> rpc are not contained. 14 Trace log file contains the logs continuously collected after <start-trace-logs> rpc. Any logs collected before <start-trace-logs> 15 rpc are not contained. 16 11.2.1 Troubleshooting 17 By requesting technical logs an O-RU controller is able to get collected log data files that can be used for troubleshooting 18 purposes.  19 The O-RU provides all possible troubleshooting log files. The contents and log formats are dependent on O-RU implementation. 20 The number and size of files provided by O-RU is not restricted but the O-RU may keep the number and size of files reasonably 21 small to allow completion of the whole “Troubleshooting data upload” scenario (all files) within 15 minutes (with target to 22 complete within 3 minutes). It is also recommended to provide more useful files first.  23 Note, the O-RU controller is free to continue the scenario till completion past the allowed time or skip requesting further files. 24 The files should be compressed with compression method indicated by file name extension:  25 • .gz (DEFLATE),  26 • .lz4 (LZ4),  27 • .xz (LZMA2 - xz utils),  28 • .zip (DEFLATE - zlib library). 29 O-RU shall start collecting the troubleshooting logs.  30 The rpc <start-troubleshooting-logs> triggers the O-RU to start creating files containing troubleshooting logs. Completed 31 generation of files is indicated by NETCONF server to NETCONF client in form of a notification. 32 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       78 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 37: Generating Troubleshooting Log 2 The rpc <stop-troubleshooting-logs> informs O-RU that NETCONF client cancels creating troubleshooting logs files and is no 3 longer interested in receiving <troubleshooting-log-generated> notification. 4 
 5  6 Figure 38: Stop Troubleshooting Log 7  8 The notification <troubleshooting-logs-generated> is signalled to the NETCONF Client after the NETCONF Server has finished 9 creating all troubleshooting logs, indicating to the NETCONF client that the logs are ready to be uploaded. The O-RU shall 10 include URLs for all troubleshooting log files in the notification, corresponding to the  troubleshooting logs collected before 11 rpc <start-troubleshooting-logs>.  12 After notification, the O-RU shall stop sending the further notifications <troubleshooting-logs-generated> for troubleshooting 13 logs collected after rpc <start-troubleshooting-logs> without the rpc <stop-troubleshooting-logs>. 14 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       79 
O-RAN.WG4.MP.0-v03.00 
 1  2 Figure 39: Generate Troubleshooting Log 3  4 The file transfer mechanism for the created troubleshooting log files shall be handled by the file management in chapter 9. 5 The overall troubleshooting log behaviour is illustrated in the following figure. It contains 2 cases, successful notification case 6 and no notification as abnormal case. In the successful notification case, the notification provides URLs of files containing all 7 troubleshooting logs collected before rpc <start-troubleshooting-logs>. After notification, NETCONF client doesn't need to  8 signal rpc <stop-troubleshooting-logs> since RU stops creating troubleshooting logs. In the no notification case as one of 9 abnormal scenarios, NETCONF client can make O-RU cancel creating the log files because O-RU doesn't send a notification 10 for created log files for a long period. 11 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       80 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 40: Overall Troubleshooting Log behaviour 2 
11.2.2 Trace 3 By requesting trace logs an O-RU controller is able to get collected log data files that can be used for trace purposes.  4 The O-RU provides all possible trace log files. The contents and log formats are dependent on O-RU implementation. 5 The files should be compressed with compression method indicated by file name extension. 6 O-RU shall start collecting the trace logs at the moment of receiving <start-trace-logs> rpc. Notification <trace-log-generated> 7 shall be periodically send to O-RU controller once collected logs stored in file(s) is(are) ready. URL of newly created log file(s) 8 shall be included in notification. The number and size of files provided by O-RU in a single <trace-log-generated> notification 9 is not restricted but the O-RU may keep the number and size of files reasonably small to allow completion of the whole “Trace 10 data upload” scenario (all files from notification) within 15 minutes (with target to complete within 3 minutes). 11 Note: Timing of creating trace log files is up to O-RU implementation. 12 After <stop-trace-logs> rpc received from controller, O-RU is mandated to stop collecting trace logs and to send last <trace-13 log-generated> notification with the is-notification-last:: TRUE and URL(s) of file(s) which contain log data collected between 14 previous <trace-log-generated> notification and <stop-trace-logs> rpc.  15 The file transfer mechanism for the created trace log files shall be handled by the file management described in Chapter 9 File 16 Management. 17 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       81 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 41: Overall Trace Log behaviour 2  3 11.3 Operational aspects of Antenna Line Devices 4 An O-RU can connect to one or more external equipment such as a RET, MultiRET, MHA, RAE and etc. 5 For the communication with the external equipment, AISG 2.0 protocol [26] as Layer 7 application and HDLC protocol as 6 Layer 2 data link are used. 7 - HDLC protocol is standardized by ISO/IEC 13239 (https://www.iso.org/standard/37010.html). Detailed information can 8 also be found in TS 25.462 [27]. 9 - AISG 2.0 protocol is standardized by “Control interface for antenna line devices Standard No. AISG v2.0” [26] which is an 10 adaptation of Iuant interface application layer defined in TS 25.466 [28] and formerly in TS 25.463 [29].  11 An O-RU may provide one or more ALD ports supporting connection with Antenna Line Devices. Each ALD port shall be able 12 to support more than one ALD (i.e., a chained ALD configuration). 13 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       82 
O-RAN.WG4.MP.0-v03.00 This section describes the communication mechanisms based on AISG 2.0 protocol [26]. For communication with external 1 equipment, AISG 2.0 uses Application Part protocols (RETAP, TMAAP etc.) at Layer 7 and HDLC as a Layer 2 datalink 2 protocol. 3 Note, further definitions of O-RU support for Antenna Line Devices will be included in a future version of this specification, 4 and will target support of the AISG 3.0 protocol. 5 11.3.1 HDLC Interworking 6 HDLC protocol is standardized by ISO/IEC 13239. Detailed information can also be found in TS 25.462 [27]. The AISG 2.0 7 protocol is standardized by “Control interface for antenna line devices Standard No. AISG v2.0” which is an adaptation of Iuant 8 interface application layer defined in TS 25.466 [28] and formerly in TS 25.463 [29]. 9 Note: the assumed HDLC communication speed is 9600 bits per second. 10 In order to handle collision detection in the HDLC branch, an O-RU supporting the ALD functionality shall support the 11 following running counters reported using the corresponding YANG model: 12 -  Frames with wrong FCS 13 -  Frames without stop flag 14 -  Number of received octets 15 For running counters served by the O-RU, both the O-RU and NETCONF Client shall handle wrap-over mechanism in a way, 16 that wrap over zero is not considered as erroneous situation. 17 A NETCONF client can recover these counters. From the changes observed in above counters, a NETCONF Client can deduce 18 the presence of a collision on the HDLC bus. Additional diagnostic information may be derived from how these counters are 19 incrementing. 20 Additionally, the O-RU implements "RPC Status" to indicate status of last "ald-communication" RPC to requestor. 21 -  Status - flow control indicator of last requested operation (Status of RPC). 22 Prior to any communication with ALD(s), the O-RU shall provide ALDs with DC power. The way of how DC power is managed 23 is out of scope of this interface specification. 24 In order to support collision detection and flow control, the following reference architecture with functional split is defined: 25  26 
 27 Figure 42: ALD Reference Architecture 28 The result of the above architecture is, that below mentioned parts of HDLC message are processed by entities as illustrated in 29 Figure 43: 30 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       83 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 43: Component's responsibility split. 2  3 11.3.2 ALD Operations 4 The NETCONF Client sends RPC <ald-communication> to the O-RU. The RPC has following input parameters: 5 - leaf: ald-port-id (uint8) - contains the identity of the ALD port. The O-RU shall output the data to (corresponds to O-RU 6 resources provided to NETCONF Client as inventory information) 7 - leaf: ald-req-msg (up to 1200 bytes) - may contain HDLC address, control bits and payload (see: TS 25.462 for details) 8 The O-RU performs HDLC communication with the ALD as follows: immediately after the requested payload is sent to the 9 ALD over the desired ALD port, the O-RU switches the ALD port into reception mode.  10 Note, for details of HDLC transmission and reception algorithm, please see TS 25.462, chapter 4.5 "Message timing". Bits 11 received within reception window are formed to octets and inserted as payload into ald-resp-msg. 12 The O-RU responds to the NETCONF Client using the <rpc-reply> message containing following parameters: 13 - leaf: ald-port-id (uint8) 14 - leaf: status 15 - leaf: ald-resp-msg (up to 1200 bytes) 16 - leaf: frames-with-wrong-crc (4 bytes) 17 - leaf: frames-without-stop-flag (4 bytes) 18 - leaf: number-of-received-octets (4 bytes) 19 Note: In case there is no response from the ALD received within the reception window, the record "ald-resp-msg" in <rpc-20 reply> sent by the O-RU shall be empty. 21 After reception, the O-RU shall wait an additional 3ms before the next transmission towards HDLC bus is initiated. See TS 22 25.462, chapter 4.5 "Message timing" for details. 23  24 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       84 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 44: ALD Message Transfer 2 General scenario 3 Precondition:  4 M-Plane connectivity between NETCONF Client and NETCONF Server is successfully established. NETCONF Server reports 5 presence of the supported HDLC Primary Devices. 6  7 1) NETCONF Client triggers DC voltage on desired ALD ports using NETCONF <edit-config> RPC. After DC is turned on - 8 NETCONF Client waits 3s. 9 2) NETCONF Client performs HDLC link speed alignment to assure that all ALDs connected to a particular port have switched 10 themselves to the correct baud rate used by this port.  11 3) NETCONF Client performs HDLC bus scan using desired HDLC Primary Device offered by O-RU. 12 3) NETCONF Client determines presence of HDLC Secondary Devices. 13 4) NETCONF Client assigns HDLC addresses to desired HDLC Secondary Devices. 14 5) NETCONF Client initiates HDLC layer for secondary devices by sending SNRM command. 15 6) NETCONF Client starts polling procedure for every HDLC-addressed Secondary Device. 16  17 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       85 
O-RAN.WG4.MP.0-v03.00 Postcondition:  1 Detected and addressed HDLC Secondary Devices are available for configuration. 2 
11.4 Operational aspects of external IO 3 An O-RU can connect to one or more input and output ports for external device supervision and control. 4 The External IO has the following functions 5 - INPUT: Supervising external devices 6 - OUTPUT: Controlling external devices 7 Also external IO function include signalling to get the O-RU and O-RU controller in sync, enables port monitoring on the O-8 RU and provides notification from the O-RU to an O-RU controller, and provides control from an O-RU controller to the O-9 RU and enables output port controlling on the O-RU.  10 The O-RU only implements external IO yang module if the O-RU supports External IO aspect. 11 A change in condition of the external IO shall not affect other O-RU services such as RF transmission / reception behaviour. 12 11.4.1 External input 13 This section explains single external input line case. For multiple external inputs case, same behaviour for each input shall be 14 processed individually. 15 For input, the O-RU and O-RU controller shall support two scenarios.  16 [1] To retrieve input state from O-RU controller and respond the input state from the O-RU to O-RU controller. 17 [2] To send notification from the O-RU to O-RU controller when input state is changed. 18 The value shall be 19  TRUE: Circuit is open. 20  FALSE: Circuit is closed 21 When nothing is connected to the line the value shall be TRUE. 22 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       86 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 45: Retrieve external line-in 2 11.4.2 External output 3 This section explains single external output line case. For multiple external outputs case, same behaviour for each output shall 4 be processed individually. 5 For output, the O-RU and O-RU controller shall support two scenarios.  6 [1] To retrieve output state from O-RU controller and respond the output state from the O-RU to O-RU controller.  7 [2] To send edit-config from the O-RU to O-RU controller when output state change is required. 8 The value shall be 9  TRUE: Circuit is open. 10 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       87 
O-RAN.WG4.MP.0-v03.00  FALSE: Circuit is closed 1 The default values shall be TRUE. 2  3 
 4 Figure 46: Retrieve external line-out 5 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       88 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 47: Control external line-out 2  3 
Chapter 12 Details of O-RU Operations 4 
12.1 Retrieval of O-RU Information 5 This sub-section provides handling for O-RU controller(s) to retrieve O-RU information from O-RU. The further actions such 6 as SW file management, U-plane configuration and Performance Management will use these retrieved O-RU information. 7 The following information, for example, can be retrieved from the O-RU: 8 hw/hardware/component 9 retrieve mfg-name – the name of the O-RU manufacturer 10 retrieve serial-num – the serial number of the O-RU  11 retrieve software-rev – the version of the O-RU software build  12 o-ran-hardware/hardware/component/ 13 retrieve product-code – the O-RAN defined product code 14 o-ran-operations/operational-info/declarations 15  retrieve supported-mplane-version – the version of the O-RAN M-Plane interface 16  retrieve supported-cusplane-version – the version of the O-RAN CUS-Plane interface 17 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       89 
O-RAN.WG4.MP.0-v03.00  retrieve supported-header-mechanism – the type of C/U plane headers supported by the O-RU 1 o-ran-operations/operational-state 2  retrieve restart-cause – the reason for the last restart 3 o-ran-sync/sync 4  retrieve sync-state – the synchronization state of the O-RU 5 The detail of O-RU information, please see corresponding YANG modules in Annex D. 6 
12.2 User plane message routing 7 The purpose of U-Plane configuration is to define the relationship between U-Plane application endpoints in the O-DU and 8 those in the O-RU. After such relationships are defined, the application endpoints are able to exchange IQ data using the U-9 Plane application protocol defined in [2]. 10 Precondition: 11 • M-Plane connectivity is established between NETCONF Client and NETCONF Server 12 12.2.1 Configurable format for eAxC_ID  13 The eAxC_ID is used by C/U-plane application to manage eCPRI communication between desired C/U-Plane application 14 components in O-DU and O-RU. 15 As defined in [2], the eAxC_ID consists of four parameters: DU-PORT, RU-PORT, CC-ID and BAND-SECTOR-ID. Order of 16 parameters in eAxC_ID must follow definitions in CUS-Plane spec. In this version of the O-RAN WG4 specification, the length 17 of eAxC_ID is constant and equal to 16 bits. To enable optimal sharing of the 16 bits between these four parameters, the 18 assignment of eAxC_ID bits to parameters is not fixed. As a consequence, there is a need for NETCONF client to configure the 19 bit assignment to parameters mappings using the M-Plane interface. 20 To handle flexible bit assignment, configurable bitmasks are defined for each parameter.  21 Note: flexible configuration means, that bits of eAxC_ID can be assigned to parameters in runtime.  22 Rules to be followed by NETCONF Client when configuring bit assignments: 23 - notation used for parameters forming eAxC_ID is from the LSB. 24 - each parameter uses consecutive bits 25 - each parameter can occupy 0-16 bits 26 - single bit of eAxC_ID cannot be assigned to more than one parameter 27  28 RPC edit-config shall be used to configure bit assignments to O-RU. 29 Bit assignment change for parameters related to an existing carrier is not allowed. (Impacted carriers need to be deactivated and 30 deleted prior to any change in eAxC_ID configuration, and then be subsequently created and activated.) 31 An example of bit assignment usage where 3 bits are assigned to the BAND-SECTOR-ID, 3 bits for CC-ID, 1 bit for DU-32 PORT-ID and 3 bits for RU-PORT-ID is shown below: 33 <du-port-bitmask> 1111111000000000 </du-port-bitmask> 34 <band-sector-bitmask> 0000000111000000 </band-sector-bitmask> 35 <ccid-bitmask> 0000000000111000 </ccid-bitmask> 36 <ru-port-bitmask> 0000000000000111 </ru-port-bitmask> 37 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       90 
O-RAN.WG4.MP.0-v03.00 
12.2.2 U-Plane endpoint addressing 1 Parameter “eaxc-id” for low-level-tx-endpoint and low-level-rx-endpoint, defined using an unsigned 16 bit integer, shall follow 2 the eAxC_ID addressing schema defined in section 12.2.1.  3 The NETCONF Client is responsible for assigning unique values to "eaxc_id" addresses of all low-level-rx-endpoint elements 4 and low-level-tx-endpoint elements, that are linked to the same interface element and are referenced by low-level-rx-link or/ 5 low-level-tx-link respectively. Note: The same eAxC_id can be assigned to low-level-rx-endpoint and low-level-tx-endpoint. 6 The NETCONF Server shall reject configuration requests violating the above-mentioned rules. 7 The default value of the "eaxc-id" parameters is zero. 8 12.2.3 General configuration scenario 9 Below is described the general scenario to be followed by a NETCONF Client in order to properly configure communication 10 between C/U-Plane endpoints in the O-DU and O-RU. 11 All operations can be performed in any order (including combining some of them in one request) provided assumed result 12 (overall configuration) of each request sent by NETCONF Client is valid. Note selected highlighted rules below: 13 -  eaxc-id is unique for all endpoints linked with same interface element and linked with any low-level-rx-link or low-level-tx-14 link element 15 -  at the moment of creation, every low-level-rx-link must be linked to an existing rx-array-carrier element and existing 16 processing-element element  17 -  at the moment of creation, every low-level-tx-link must be linked to an existing tx-array-carrier element and existing 18 processing-element element 19 1) NETCONF Client determines the presence of following elements offered by NETCONF Server: 20 - tx-arrays  - by fetching the list of tx-arrays in o-ran-uplane-conf.yang 21 - rx-arrays - by fetching the list of rx-arrays in o-ran-uplane-conf.yang 22 - low-level-tx-endpoint elements - by fetching the list static-low-level-tx-endpoints in o-ran-uplane-conf.yang 23 - low-level-rx-endpoint elements - by fetching the list static-low-level-rx-endpoints in o-ran-uplane-conf.yang 24 - interface elements - by fetching list of interfaces in o-ran-interfaces.yang 25 2) NETCONF Client determines capabilities exposed by static-low-level-tx-and points and static-low-level-rx-endpoints. 26 Additionally. NETCONF Client determines capabilities exposed by "endpoint-types" and "endpoint-capacity-sharing-groups" 27 and specific parameters proprietary to [tr]x-array(s). Obtained information must be respected when NETCONF Client 28 configures low-level-[tr]x-endpoints refferenced to static-low-level[tr]x-endpoints by parameter "name". 29 3) For elements determined in step 1) NETCONF Client examines relationship between  30 - static-low-level-tx-endpoint elements and tx-array elements in o-ran-uplane-conf.yang 31 - static-low-level-rx-endpoint elements and rx-array elements in o-ran-uplane-conf.yang 32 - static-low-level-tx-endpoint elements and interface elements 33 - static-low-level-rx-endpoint elements and interface elements 34 - tx-arrays, rx-arrays and their elements in o-ran-uplane-conf.yang. 35 Note: Netconf Client retrievies the content of o-ran-beamforming,yang module to obtain knowledge regarding beamforming-36 related parameters that apply for particular Netconf Server. This step is optional, as o-ran-beamforming.yang module exists 37 only in case Netconf Server supports beamforming. Obtained parameters are needed by Netconf Client to perform beamforming 38 control. 39 4) For every static-low-level-rx-endpoint NETCONF Client determines endpoint's ability to support non-time managed and/or 40 time managed traffic.  Information about delayed traffic type supported by endpoints is exposed through parameter delayed-41 data-transfer-supported (Boolean) under static-low-level-rx-endpoint. In case endpoint supports non-time managed traffic - 42 it is assumed that also time-managed traffic is supported by the endpoint (time-managed traffic support is mandatory function 43 whilst non-time managed traffic support is  optional function), the endpoint requires desired type of supported traffic to be 44 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       91 
O-RAN.WG4.MP.0-v03.00 configured to the endpoint. Configuration is assumed to be static for run-time. Configuration is applicable with "non-time-1 managed-delay-enabled" (Boolean) parameter of low-level-rx-endpoint related by "name" to static-low-level-rx-endpoint 2 exposing endpoints ability to support non-time managed traffic. Default value of this parameter is FALSE, meaning endpoint 3 supports time managed traffic by default. For details see: Note 2. 4 5) NETCONF Client may optionally perform “Transport connectivity checking procedure” to NETCONF Server, as described 5 in section 4.6.  6 Note: After this step is successfully completed, a NETCONF Client knows which low-level-tx-endpoint elements and low-7 level-rx-endpoint elements offered by the NETCONF Server are accessible for TX/RX endpoints served by the NETCONF 8 Client. 9 6) NETCONF Client determines accessible low-level-rx-endpoint elements and low-level-tx-endpoint elements, that are 10 suitable for the desired cell configuration (i.e. are linked with specific antenna arrays and are able to support desired type of 11 traffic). 12 7) NETCONF Client assigns unique values to the eaxc-id(s) to the endpoints determined in step 1. 13 Note: uniqueness of eaxc-id is mandatory within all endpoints related to same interface elements and having relationship to 14 low-level-rx-endpoint elements or low-level-tx-endpoint elements. 15 Note 2: In case NETCONF Client wants particular value of eAxC_IDto be used for non-time managed traffic, NETCONF 16 Client shall assign this eAxC_ID to parameter "eaxc-id" belonging to low-lever-rx-endpoint, that is capable to support non-time 17 managed traffic (as per reference to capabilities exposed by corresponding static-low-level-rx-endpoint corresponding to low-18 level-rx-endpoint by name). When assigning eAxC_ID to convinient low-level-rx-endpoint, NETCONF Client must also 19 configure the low-level-rx-endpoint to work in non-time-managed mode (when applicable - see: 4)). Change between types of 20 traffic configured to low-level-rx-endpoint shall not be requested by NETCONF Client in case there is traffic served by endpoint 21 that is a subject of reconfiguration. 22 8) NETCONF Client creates tx-array-carrier(s) and rx-array-carrier(s). The tx-array-carriers and rx-array-carriers can 23 be configured with type set to LTE, NR or DSS-LTE-NR. The configuration of array carrier with type DSS-LTE-NR is only 24 allowed when the O-RU supports Dynamic Spectrum Sharing (DSS) feature as indicated by feature DSS_LTE_NR in o-ran-25 module-cap.yang. If the O-RU indicates it supports the feature DSS_LTE_NR but does not support Section Extension 9, then 26 instead of configuring a carrier as DSS-LTE-NR, the O-DU must configure DSS by using different eAxC ids (i.e. different 27 endpoints) as described in CUS plane specification [2]. 28 9) NETCONF Client performs C/U-Plane transport configuration between O-DU and O-RU. NETCONF Client configures 29 interfaces and creates processing-elements related to the interfaces offering access to desired endpoints (suitable in terms of 30 capabilities and able to process signals related with desired [tr]x-array). Details of configuring interfaces and processing-31 elements are described in Chapter 4. 32 10) NETCONF Client creates low-level-[tr]x-link(s) to make relationship between low-level-[tr]x-endpoint(s), [tr]x-array-33 carriers and processing elements belonging to transport. Respective TX path and RX path linkage must be followed. 34 Note: C/U-Plane traffic can be prioritized by reference "uplane-flow-name" indicated by low-level-rx-link in o-ran-uplane-35 conf.yang. The reference is to o-ran-processing-element.yang, where it is linked to "uplane-marking". Further the uplane-36 marking points to o-ran-interfaces.yang, where it ends up pointing to priority depending on actually used u-plane transport 37 (either PCP for Ethernet or DSCP for IP).  For details regarding priorities see: ref [2], section 3.3 "Quality of Service". 38  39  40  41  42 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       92 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 48: Diagram showing relations between CU-Plane and Carrier configuration elements 2 For detailed content of objects shown in "u-plane configuration" box on above diagram, please examine o-ran-uplane-conf.yang 3 module. 4 After steps above carrier configuration scenario can be started. This is described in subsection 12.3.  5 12.3 Carrier Configuration 6 12.3.1 Carrier creation  7 This section provides basic scenario for carrier creation procedure. Precondition for below steps is to fulfil steps from subsection 8 12.2.3 9 1) NETCONF Client creates the tx-array-carriers in relation to the desired tx-arrays. Note that generally number of tx-10 array-carriers will be the same as multiple of the desired number of tx-arrays and the number of component carriers. 11 2) NETCONF Client creates the rx-array-carriers in relation to the desired rx-arrays. Note that generally number of rx-12 array-carriers will be the same as multiple of the desired number of rx-arrays and the number of component carriers. 13 3) NETCONF Client creates the processing-elements related to interfaces offering access to endpoints. 14 4) NETCONF Client creates the low-level-tx-links containing relationship to the existing tx-array-carriers, low-level-tx-15 endpoints and existing processing-elements. 16 5) NETCONF Client creates the low-level-rx-links containing the relationship to existing rx-array-carriers, low-level-rx-17 endpoints and existing processing-elements. 18 With the above steps successfully performed, the relationship between C/U-Plane application endpoints at O-DU and O-RU is 19 configured. 20 12.3.2 Activation, deactivation and sleep 21 The NETCONF Client performs activation by setting the value of the parameter “active” at tx-array-carrier element / rx-array-22 carrier element to “ACTIVE”. 23 The NETCONF Client performs deactivation by setting the value of the parameter “active” at tx-array-carrier element / rx-24 array-carrier element to “INACTIVE” 25 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       93 
O-RAN.WG4.MP.0-v03.00 Communication between related U-Plane endpoints is enabled under condition, that for corresponding tx-array-carrier or rx-1 array-carrier value of parameter “active” is “ACTIVE” and value of parameter “state” is “READY”. Otherwise communication 2 is disabled. 3 The NETCONF Client can put the tx-array-carrier / rx-array-carrier to sleep by setting value of parameter “active” in the 4 corresponding tx-array-carrier element / rx-array-carrier element to “SLEEP”. 5 A particular tx-array-carrier / rx-array-carrier is in sleep mode when value of its parameter “active” is “SLEEP” and value of 6 its parameter “state” is “READY”. 7 For detailed description of tx-array-carriers and rx-array-carriers please refer to description substatement in YANG models. 8 Below diagram shows possible transitions and values combination to be followed by "active" and "state". Combination or 9 transitions outside of below diagram is not allowed. 10  11 
  12  13 Figure 49: Diagram showing all possible transitions and combination of "active" and "state" parameters 14 Note: BUSY state is only available during transition and existence of this state depends on internal O-RU design. 15 12.3.3 Carriers relation to sync 16 tx-array-carrier and rx-array-carrier possible states and transitions are the same for sync LOCKED and HOLDOVER mode. 17 When O-RU is working in FREERUN mode the only possible tx-array-carrier and rx-array-carrier state is 18 DISABLE/INACTIVE. Below diagram shows possible transitions and according parameters values combination. 19  20 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       94 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 50: Combination of tx-array-carrier/rx-array-carrier transitions and allowed states compared to sync state 2  3 12.3.3.1 Synchronization lost and HOLDOVER mode expired 4 This section explains tx-array-carrier and rx-array-carrier behaviour when O-RU loose synchronisation and enters to 5 FREERUN mode. 6 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       95 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 51: Synchronization lost scenario 2 


                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       96 
O-RAN.WG4.MP.0-v03.00  1 12.3.3.2 External timing source restored 2 This section explains how tx-array-carrier and rx-array-carrier can be reactivated when external timing source is restored. 3 

                        
________________________________________________________________________________________________ © 2020 O-RAN Alliance  All Rights Reserved                       97 
O-RAN.WG4.MP.0-v03.00 
 1 Figure 52: Synchronization restored and carrier reactivation scenario2 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        98 
ORAN-WG4.MP.0-v03.00.00  1 
12.4 Beamforming Configuration 2 The beamforming functionality allows the O-RU to influence the angle of the main lobe of the signal which is radiated 3 from/received by the O-RU. Beamforming support is optional and an O-RU shall indicate that it supports such 4 functionality by indicating that it supports the “urn:o-ran:beamforming:x.y” namespace. 5 A multi-band capable O-RU shall be able to support independent beamforming configuration on each of its supported tx-6 arrays and/or rx-arrays depends on O-RU antenna configuration. 7 12.4.1 Pre-Defined Beamforming Configuration 8 In case the O-RU supports beamforming, the o-ran-beamforming.yang and o-ran-uplane-conf,yang modules are used to 9 report the pre-defined relationship between supported beams to a NETCONF client. A band-number and/or capabilities-10 group is used to uniquely identify separate tx-arrays and/or rx-arrays supported by an O-RU with the beamforming 11 configuration referencing the set of tx-arrays and rx-arrays that are associated with this band and/or capabilities-group. 12 A default service area of the O-RU is determined as the grid of pre-defined beams. When O-RU updates beamforming 13 configuration as described in 12.4.2, the grid of pre-defined beams can be newly defined. In this case, the default service 14 area is changed accordingly.  15 O-RU may support new service area by applying tilt-offset to the given default service area in elevation and/or azimuth 16 domains as described in 12.4.3. 17 12.4.2 Beamforming Configuration Update 18 This section provides the method to modify and to apply the beamforming configuration (weights, attributes and/or beam 19 properties). The modification of the beamforming information is allowed only if O-RU supports the feature “MODIFY-20 BF-CONFIG” used for defining the modification of beamforming configuration. 21 The beamforming configuration is stored in the O-RU and comes from the O-RU’s software, treated in Chapter 5. The 22 O-RU shall locate the beamforming configuration file in the generic folder, i.e., O-RAN/beamforming/.  23 To modify the beamforming configuration, the following steps are applied. 24 1. NETCONF client can retrieve the file list of the O-RU’s folder: O-RAN/beamforming/. 25 2. NETCONF client can trigger the upload of the beamforming configuration file from the O-RU’s folder. 26 3. Operator can recover the uploaded file and edit the beamforming configuration file offline. 27 4. NETCONF client can download the file to the original folder. 28 The modified beamforming configuration file shall not have the same name as any other file in the folder. Its file name is 29 the matter of implementation.  30 The beam properties in -ran-beamforming YANG module contain coarse-fine, coarse-fine-beam-relation and 31 neighbor-beam for each beam-id. This information is received from the O-RU as O-RU's capability at O-RU start-up 32 and typically are used by the scheduler in O-DU. A NETCONF client (O-DU or NMS) can modify the beamforming 33 information via file described in this section. When the beamforming configuration (weight, attribute and beam properties) 34 is modified via file, the configuration of the beam properties list in the o-ran-beamforming YANG module should be 35 modified together via the same file if affected by the modified weight and/or attribute.  36 An O-RU supporting the modification of beamforming configuration shall support the storage of at least two beamforming 37 files per simultaneous band-number and/or capabilities-group supported. For each band within a multi-band O-RU or 38 each capabilities-group, one file corresponds to the pre-defined (factory, read-only) beamforming configuration and at 39 least one file corresponds to a modified (read-write) beamforming file. The O-RU has the responsibility to remove existing 40 file and prepares space for new file when the NETCONF client file-download rpc is issued. When the O-RU only supports 41 the storage of a single modified (read-write) beamforming file per band of operation, i.e., number-of-writable-42 beamforming-files = 1 the file-download operation for the modified beamforming configuration needs to be done while 43 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        99 
ORAN-WG4.MP.0-v03.00.00 neither tx-array-carriers nor rx-array-carriers are configured in the O-RU to avoid the removal of the modified 1 beamforming configuration file for the current active software.  2 If the O-RU supports the capability to store two or more modified beamforming configuration files per band of operation 3 in the O-RU, i.e., number-of-writable-beamforming-files > 1, the NETCONF file-download operation can be 4 performed without any timing limitation. That's because the modified beamforming configuration file for the current 5 beamforming configuration can be kept during the file-download operation. To apply the new modified beamforming 6 configuration, the following steps are applied: 7 1. The NETCONF client can download the file to the beamforming folder if the O-RU supports the capability number-8 of-writable-beamforming-files > 1. 9 2. The NETCONF client shall deactivate tx-array-carriers and rx-array-carriers in the U-Plane configuration by 10 setting "INACTIVE" for the active parameters, if they are ACTIVE. 11 3. Optionally, the NETCONF client shall delete tx-array-carriers and rx-array-carriers, if O-RU doesn't support the 12 capability update-bf-non-delete. 13 4. Alternatively, the NETCONF client can trigger the download of the modified beamforming configuration file to the 14 folder if the O-RU's capability is number-of-writable-beamforming-files =1. 15 5. The NETCONF client shall activate the modified beamforming configuration by using: 16 • activate-beamforming-config rpc and selecting the modified beamforming configuration file and the band-17 number for which this modified configuration applies, 18 • activate-beamforming-config-by-capability-group rpc and selecting the modified beamforming 19 configuration file and the capabilities-group for which this modified configuration applies. 20 6. If a NETCONF client subscribes to the notification beamforming-information-update and/or capability-group-21 beamforming-information-update in advance, the O-RU sends such notification to the subscribed NETCONF 22 client. Then the NETCONF client can subsequently retrieve beam properties in o-ran-beamforming YANG module 23 via NETCONF <get> operation. 24 7. Optionally, the NETCONF client shall create tx-array-carriers and rx-array-carriers again, if the O-RU doesn't 25 support the capability update-bf-non-delete. 26 8. The NETCONF Client shall activate tx-array-carriers and rx-array-carriers in the U-Plane configuration by 27 setting “ACTIVE” for active parameters. 28 Then the new edited beamforming information is applied to the new tx-array-carriers and rx-array-carriers in the U-29 Plane configuration. 30 [Abnormal handling] If the O-RU fails to activate the edited beamforming configuration file correctly, i.e., rpc error for 31 rpc activate-beamforming-config or activate-beamforming-config-by-capability-group, the O-RU shall revert back 32 to the pre-defined/factory beamforming configuration file and report this to the NETCONF client. 33 At the reset rpc, the beamforming configuration information is switched to the pre-defined beamforming configuration. 34 Even though the reset operation is issued, the O-RU may store the modified beamforming configuration file in the folder, 35 which is not used, if O-RU supports the capability persistent-bf-files to store them in the reset-persistent memory. 36 The file format of the beamforming configuration is O-RU implementation specific. 37 The diagrams below show two methods to modify the file of beamforming configuration information plus the method 38 how to apply the modified file for beamforming configuration conformation to use. 39 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        100 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 53: Method to Modify the File of Beamforming Configuration Information 2 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        101 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 54: Method to Apply the modified file for Beamforming Configuration Information 2  3 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        102 
ORAN-WG4.MP.0-v03.00.00 
12.4.3 Tilting Pre-defined Beams 1 This section describes the optional capability by which the O-RU’s pre-defined beams may be tilted by using the 2 “BEAM-TILT” feature defined in the o-ran-beamforming YANG model. This capability is an O-RU specific 3 functionality, enabling adaptation of the service area associated with an O-RU without the need for operation of 4 additional ALDs described in Chapter 11, or modifying the beamforming configuration using the “MODIFY-BF-5 CONFIG” feature described in sub-section 12.4.2. 6  7 Note, the operation of the feature “BEAM-TILT” is independent to the operation of the “MODIFY-BF-8 CONFIG”. When the “MODIFY-BF-CONFIG” feature is used to define a new default service area, the 9 “BEAM-TILT” feature may be used to apply tilt-offsets to the newly defined service area.  10  11 O-RU can change the service area by applying a tilt-offset to the elevation and/or azimuth pointing angles for the pre-12 defined beams. This feature allows to shift beam characteristic of all predefined-beams in elevation and/or azimuth 13 direction (i.e. changing the service area or sector coverage) while preserving the beam adjacency among the beams within 14 grid of beams.  15 Note, offset-elevation-tilt-angle values smaller than 0 represents an up-shift of the default service area towards 16 the zenith (i.e., corresponding to a decrease in zenith angle) and values larger than 0 represent a down-shift of the 17 default service area away from the zenith (i.e., corresponding to an increase in zenith angle). 18 To shift service area of the O-RU in a different direction, O-RU controller shall check whether the O-RU supports feature 19 BEAM-TILT feature during capabilities negotiation of the NETCONF session. In the case that O-RU supports the 20 BEAM-TILT feature, at least one of the elevation-tilt-granularity and azimuth-tilt-granularity will be read as greater 21 than zero value from O-RU. Tilting is a per band operation and hence the parameters are defined per band. If O-RU 22 supports BEAM-TILT feature, O-RU controller can configure the values of offset-elevation-tilt-angle and/or offset-23 azimuth-tilt-angle the configuration values should meet the ranges and granularity information retrieved from 24 predefined-beam-tilt-offset-information. 25 
 26 Figure 55: Sequence diagram for predefined-beam-tilt-offset-information 27  28 Depending on O-RU’s implementation, the O-RU may need some time to complete the change of service area according 29 to the updated offset-elevation-tilt-angle and/or offset-azimuth-tilt-angle for a particular band-number. The O-RU 30 shall report its capability via the parameter, run-time-tilt-offset-supported. For O-RU with run-time-tilt-offset-31 supported = FALSE, changing the values in offset-elevation-tilt-angle and/or offset-azimuth-tilt-angle for a specific 32 band shall be allowed only if all tx-array-carriers/rx-array-carriers corresponding to the band is INACTIVE. When the 33 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        103 
ORAN-WG4.MP.0-v03.00.00 service area change is completed in O-RU, the O-RU delivers the notification predefined-beam-tilt-offset-complete to 1 inform the O-RU Controller which then may request to activate tx-array-carriers/rx-array-carriers in O-RU. For O-2 RU with run-time-tilt-offset-supported = TRUE, neither changing the state of tx-array-carriers/rx-array-carriers nor 3 delivering notification predefined-beam-tilt-offset-complete is not required. 4 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        104 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 56: Procedure for the predefined-beam-tilt-offset 2  3 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        105 
ORAN-WG4.MP.0-v03.00.00  1 12.4.4 Dynamic Beamforming Control option 2 As option, O-RU may support dynamic beamforming control mode. Support for this type of beamforming control can 3 be recognized—in the case of weights-based dynamic beamforming—from value of parameter rt-bf-weights-update-4 support (TRUE), and—in the case of attributes-based dynamic beamforming—from the value of parameter rt-bf-5 attributes-update-support (TRUE), in o-ran-beamforming.yang module 6 In dynamic beamforming control mode DU updates content of lookup table in O-RU using eCPRI C-Plane messages. 7 For details of eCPRI messaging please see ORAN-WG4.CUS.0-v01.00 spec, chapter 5.4.2 "Scheduling and 8 Beamforming Commands". 9 Dynamically updated content of lookup table is further addressed by DU in the same way as it is done for static 10 beamforming - by requesting particular Beam ID to be applied. 11 In case dynamic beamforming control is supported, O-RU indicates following supplementary information using parent 12 leaf "static-properties" in o-ran-beamforming.yang module. 13 - beamforming type (frequency domain, time domain, hybrid) 14 - beamforming weight compression format (optional) 15 - available range of Beam IDs, that can be dynamically updated by DU. 16 - supported time and frequency granularity for time domain and hybrid beamforming control. 17 Note: Neighborhood relations between beams produced by beam IDs controlled by DU are unknown to O-RU, hence 18 are not exposed. 19 In the case of weights-based dynamic beamforming, to properly calculate beamforming weights DU needs to know 20 antena array geometry. This information DU obtains by reading the content of o-ran-uplane-conf.yang (list of tx-arrays 21 and rx-arrays with their child parameters). Details of beamforming weight calculations are not a subject for M-Plane 22 activity and as such are intentionally not covered in this specification. 23  24 12.5 Antenna Calibration  25 Some antennas need to be calibrated to ensure their intended performance. Antenna calibration operation is an optional 26 capability whose operation is dependent on O-RU design, i.e. different O-RUs may support different types of calibration 27 – periodic vs on-demand, different calibration duration – short/medium/long, etc. In this section, a common framework 28 is defined which can accommodate various types of antenna calibration implementations.  29 In this framework, the NETCONF client (O-DU) retrieves resource requirements for antenna calibration operation, e.g., 30 timing and number of iterations/steps, from O-RU using the antenna-calibration-capabilities container defined in the 31 o-ran-antenna-calibration YANG model. When the O-RU indicates antenna calibration is required, or when the 32 NETCONF Client decides to calibrate the O-RU, the NETCONF Client allocates time resources for antenna calibration 33 and configures them in the O-RU using the start-antenna-calibration RPC request. The NETCONF client shall allocate 34 the time resources for the calibration operation ensuring that these meet the minimum time necessary as reported by the 35 O-RU using the antenna-calibration-capabilities. When available, the NETCONF client (O-DU) shall ensure that the 36 frequency resources indicated in the dl-calibration-frequency-chunk and ul-calibration-frequency-chunk are reserved 37 for calibration operation, otherwise the NETCONF client shall consider that the full bandwidth of the carrier is being 38 reserved for calibration operation.  39 The O-RU shall perform antenna calibration operation using the time resources allocated in the antenna-calibration-40 start RPC and frequency resources declared in antenna-calibration-needed notification and shall notify the completion 41 of the antenna calibration operation to the NETCONF client. The O-DU shall be configured to not schedule user data 42 using the time frequency resources used for antenna calibration operation. The O-DU may schedule data during calibration 43 operation using time frequency resources not required for calibration. When the O-DU is scheduling user data during 44 calibration process using resources not used for calibration, it shall only schedule DL user data in DL calibration symbols 45 and UL user data in UL calibration symbols. 46 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        106 
ORAN-WG4.MP.0-v03.00.00 
12.5.1 Overall Operation 1 During the O-RU “start-up” procedure, the NETCONF client (O-DU) retrieves the O-RU’s antenna calibration capability 2 information including antenna calibration capability related parameters defined in o-ran-antenna-calibration.yang. These 3 parameters describe the O-RU’s time resource requirements for calibration and the O-RU’s capability of performing “self-4 calibration”. The O-RU time resource requirements are described using the parameters number-of-calibration-symbols-5 per-block-dl and number-of-calibration-symbols-per-block-ul. One symbol block corresponds to a set of consecutive 6 symbols in time required for calibration, and it is the basic time unit of calibration. Sets of symbol blocks are grouped 7 into one calibration step and the O-RU shall indicate how many symbol blocks constitute one calibration step using the 8 number-of-calibration-blocks-per-step-dl and number-of-calibration-blocks-per-step-ul parameters. The O-RU 9 indicates these parameters separately for downlink and uplink calibration. The O-RU shall also indicate the minimum 10 time gap required between consecutive symbol block allocations (interval-between-calibration-block), number of 11 calibration steps needed (number-of-calibration-steps) and the minimum required time gap between consecutive 12 calibration step allocations (interval-between-calibration-step). Based on these parameters, the O-DU shall be able to 13 allocate the time resources required for antenna calibration operation meeting the necessary time resources indicated by 14 the O-RU. If the O-RU supports mixed numerology, the highest possible numerology supported by the O-RU shall be 15 used as the common reference per component carrier according to the CUS plane definition for slot indexing with mixed 16 numerologies.  17 Either the O-RU or O-DU may initiate calibration operation. The trigger condition for the O-DU and/or O-RU to initiate 18 calibration is out of scope of this specification. The NETCONF client is assumed to have subscribed to the NETCONF 19 notifications defined in the o-ran-antenna-calibration YANG model. When an O-RU determines that it needs to perform 20 antenna calibration operation, it notifies the NETCONF client using the NETCONF notification antenna-calibration-21 required, including a list of frequency ranges corresponding to the minimum frequency resources required for calibration. 22 Upon reception of the notification, the O-DU can allocate time frequency resources for calibration and can send the start-23 antenna-calibration RPC request, including the time resource allocation information for the antenna calibration. This 24 operation is referred as ‘O-RU initiated antenna calibration’ operation. The O-DU may also autonomously initiate 25 calibration operation, using the same start-antenna-calibration RPC request, i.e., without receiving NETCONF 26 antenna-calibration-required notification message from O-RU. This operation is referred as ‘O-DU initiated antenna 27 calibration’ operation. If the O-RU has indicated the need for the calibration through sending the NETCONF antenna-28 calibration-required notification”, the O-DU shall consider that the frequency resources indicated using frequency range 29 list within the notification as reserved for calibration and if no frequency list is available, consider the full bandwidth of 30 all configured carriers reserved for calibration.  31 After receiving “start-antenna-calibration RPC request” (antenna calibration start command), the O-RU shall send an 32 RPC reply (antenna calibration start response) including ACCEPTED status to the NETCONF client, if the O-RU is able 33 to start the calibration operation according to the time resources allocation information in the RPC request. Otherwise the 34 O-RU shall include a REJECTED status in the RPC reply, with a suitable error reason such as “resource mask mismatch 35 with O-RU antenna calibration capability”, “overlapped DL and UL masks”, “insufficient memory”, “O-RU internal 36 reason” (if no other error reason matches the error condition) etc. If the O-RU does not receive a start-antenna-37 calibration RPC request within 60 seconds after triggering the sending of the first NETCONF antenna-calibration-38 required notification, the O-RU shall raise a major alarm (see Annex A for fault details). After the alarm is raised, the 39 O-RU may resend the NETCONF antenna-calibration-required notification multiple times. The O-RU shall not re-40 send the NETCONF antenna-calibration-required notification in periods shorter than 60 seconds. When the antenna 41 calibration alarm remains uncancelled, if self-calibration is supported and permitted, i.e., self-calibration-support is true 42 and self-calibration-allowed is true, the O-RU may perform a self-calibration procedure. The O-RU shall wait a 43 minimum 60 seconds after raising a major alarm and receiving no start-antenna-calibration RPC request from the 44 NETCONF client before initiating its self-calibrate procedure. When self-calibration is not supported or not permitted, 45 i.e., self-calibration-support is false or self-calibration-allowed is false, the O-RU may upgrade the severity of the 46 alarm to critical according to the sub-section 8.3.  47 The O-RU shall indicate completion of the calibration operation using the NETCONF antenna-calibration-result 48 notification (Calibration results) to the NETCONF client. If a self-calibration procedure completes but with status set to 49 FAILURE, the O-RU may upgrade the severity of the alarm to critical. 50 In some situations, SFN wrap around may happen causing O-DU and O-RU to interpret the ‘start-SFN’ parameter to point 51 to different GPS seconds elapsed since GPS epoch. To avoid this situation, the O-DU to may decide not to schedule any 52 user-plane data on the calibration time-frequency resources in all SFN cycles until the O-DU receives a NETCONF 53 antenna-calibration-result notification message from the O-RU. Once the calibration is complete, the O-DU schedules 54 user data and sends C/U-Plane message as in normal operation state. 55 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        107 
ORAN-WG4.MP.0-v03.00.00  1 The following figure shows the overall operation for antenna calibration.  2 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        108 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 57: Overall of antenna calibration operation 2 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        109 
ORAN-WG4.MP.0-v03.00.00  1 12.5.2 O-RU Antenna Calibration Capability Parameter Configuration 2 The antenna calibration framework is a generic framework designed to support various vendor specific implementations 3 of O-RU calibration. Therefore, the framework does not describe the details of how the O-RU calibrates its antenna, rather 4 it defines a generic framework with necessary message flows and parameters for ensuring that the time and frequency 5 resources required for calibration are coordinated between the O-DU and O-RU. The following parameters describe the 6 O-RU’s time resource needed for calibration. 7 - self-calibration-support: boolean value indicates whether O-RU is capable of supporting self-calibration.  8 - number-of-calibration-symbols-per-block-dl: indicates how many consecutive symbols are required for DL antenna 9 calibration operation, i.e. the size of DL Symbol-block. 10 - number-of-calibration-symbols-per-block-ul: indicates how many consecutive symbols are required for UL antenna 11 calibration operation, i.e. the size of UL Symbol-block. 12 - interval-between-calibration-blocks: if a time interval is required between consecutive antenna calibration operation, 13 this indicates the required time value as unit of symbols. A common value is used here for the intervals between DL-DL 14 blocks, UL-UL blocks, DL-UL blocks and UL-DL blocks, which is the largest minimum interval required between any 15 two adjacent calibration blocks. It shall be any value that O-RU implementation requires within this parameter range. 16 - number-of-calibration-blocks-per-step-dl: indicates how many blocks are required for one step of DL antenna 17 calibration operation. 18 - number-of-calibration-blocks-per-step-ul: indicates how many blocks are required for one step of UL antenna 19 calibration operation. 20 - interval-between-calibration-steps: if a time interval is required between consecutive steps of antenna calibration 21 operation, define indicates the required time value as unit of radio frames. It can be any value that the O-RU 22 implementation requires within the defined parameter range. 23 - number-of-calibration-steps: shows how many steps is required for whole DL/UL antenna calibration operation. 24 The following figure shows the relationship between the various antenna calibration capabilities parameters described 25 above. 26  27 
 28 Figure 58: Relationship among Antenna Calibration Capability parameters 29  30 12.5.3 NETCONF antenna-calibration-required Notification Parameters 31 If the O-RU initiates the calibration operation, the O-RU notifies the NETCONF Client (O-DU) using the “NETCONF 32 antenna-calibration-required notification message, including the O-RU’s frequency resource requirements. The O-33 RU is able to indicate non-contigous frequency “chunks” necessary for calibration using the dl-calibration-frequency-34 chunk and ul-calibration-frequency-chunk lists. These lists use theparameters below to describe the frequency 35 resources required for calibration: 36 - start-calibration-frequency-dl: indicates the lowest frequency value in Hz of the frequency range is required for DL 37 antenna calibration operation. 38 - end-calibration-frequency-dl: indicates the highest frequency value in Hz of the frequency range is required for DL 39 antenna calibration operation. 40 
One Calibration Duration
Calibration Step #1Symbol Block #1 Symbol Block #mSymbol Block #2Symbol Block Interval Symbol Block interval Symbol Block interval…..
Calibration Step #2, … #n-1
Calibration Step Interval
start-SFN Start of First Symbol block within the first calibration slot (need not be slot#0) within the Calib Start SFN
End of the radio frame containing last symbol block within the cal step 
End of the last radio frame of cal step 
Calibration Step #nSymbol Block #1 Symbol Block #mSymbol Block interval Symbol Block interval….. Calibration Step Interval
Symb Blk Interval is the minimum time b/n two symb blocks, it is not mandatory that O-DU allocate next symbol block right after the end of the Symb Blk Interval. But the Symbol pattern is expected to be same across all the calibration slots

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        110 
ORAN-WG4.MP.0-v03.00.00 - start-calibration-frequency-ul: indicates the lowest frequency value in Hz of the frequency range is required for UL 1 antenna calibration operation. 2 - end-calibration-frequency-ul: indicates the highest frequency value in Hz of the frequency range is required for UL 3 antenna calibration operation. 4 12.5.4 Start-antenna-calibration RPC Request Parameters 5 The NETCONF Client sends the “start-antenna-calibration RPC request” including the time resource allocation 6 parameters. These parameters indicate the exact symbols, slots, and frames that can be used for calibration. 7 Note, because the NETCONF Client (O-DU) is responsible for allocating the time resources for calibration with 8 the knowledge of UL and DL configuration, dynamic TDD operation is implicitly supported.  9 The resource allocation information about symbol, slot, and frame are indicated using bitmasks for downlink and uplink 10 calibration separately. The start SFN of the first calibration step is sent to the O-RU to synchronize the calibration 11 starting point at both O-DU and O-RU. When indicated, the O-RU shall use the frequency resources indicated using the 12 frequency ranges in the “NETCONF antenna-calibration-required notification” message for calibration.   13 Following table lists the parameters configured in the O-RU using the “start-antenna-calibration RPC request” 14 Parameters Type / Range Descriptions symbol-bitmask-dl string Bitmask indicating DL calibration symbol within a calibration slot. First character in the string indicate first symbol, next character in the string indicate second symbol and so on. Value 1 indicates that the symbol is allocated for calibration and 0 means the symbol shall not be used for calibration. Symbol-bitmask-ul string Bitmask indicating UL calibration symbol within a calibration slot. First character in the string indicate first symbol, next character in the string indicate second symbol and so on. Value 1 indicates that the symbol is allocated for calibration and 0 means the symbol shall not be used for calibration. Slot-bitmask-dl string  Bitmask indicating DL calibration slot within a calibration frame. First character in the string indicate first slot, next character in the string indicate second slot and so on. Value 1 indicates that the slot is allocated for calibration and 0 means the slot shall not be used for calibration. Slot-bitmask-ul string  Bitmask indicating UL calibration slot within a calibration frame. First character in the string indicate first slot, next character in the string indicate second slot and so on. Value 1 indicates that the slot is allocated for calibration and 0 means the slot shall not be used for calibration. Frame-bitmask-dl string  Bitmask indicating DL calibration frame within a calibration step. First character in the string indicate first radio frame equal to the start-SFN, next character in the string indicate the next frame and so on. Value 1 indicates that the frame is allocated for calibration and 0 means the frame shall not be used for calibration. Frame-bitmask-ul string  Bitmask indicating UL calibration frame within a calibration step. First character in the string indicate first radio frame equal to the start-SFN, next character in the string indicate the next frame and so on. Value 1 indicates that the frame is allocated for calibration and 0 means the frame shall not be used for calibration. Calibration-step-size uint8 Number of frames within a calibration step calibration-step-number uint8 Number of calibration steps start-SFN unt16 SFN number of the first calibration step Table 3: Antenna Calibration Parameters 15 12.5.5 Example Antenna Calibration Operation  16 This subsection illustrates an example of antenna calibration operation. For simplicity, the O-RU is the initiator in this 17 example, but either O-RU or O-DU could initiate antenna calibration operation. In this example, the TDD configuration 18 is assumed as shown in Figure 59. 19 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        111 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 59: Example of TDD configuration 2  3 This example illustrates calibration operation where an O-RU requires DL and UL antenna calibration operation in o-4 ran-antenna-calibration.yang with 2 calibration steps; within each step, 64 DL calibration blocks with 4 continuous DL 5 symbols in each calibration block and 32 UL calibration blocks with 1 continuous UL symbol in each calibration block 6 are required. Between each calibration block, a length of minimum 3 symbols interval is required, and a length of 7 minimum 5 frames interval is required between consecutive calibration steps.  8 Once antenna calibration operation is required by the O-RU, a “NETCONF antenna-calibration-required notification” 9 is sent to to the NETCONF client (O-DU), including the O-RU’s frequency resources requirement in a list of frequency 10 ranges in Hz, which in this example uses a single chunk of frequencies from 1.8GHz to 1.82GHz. The O-DU considers 11 that the frequency range indicated in the “NETCONF antenna-calibration-required notification” will be subsequently 12 used during antenna calibration. The O-DU will allocate time resources for antenna calibration based on the TDD 13 configuration together with the O-RU DL and UL antenna calibration capability, then configure the antenna calibration 14 using the start-antenna-calibration RPC request. In this example, 64 DL calibration blocks in each calibration step are 15 allocated in 4 frames, within each frame, 8 DL slots are allocated and within each DL slot, 2 calibration blocks are 16 allocated for DL calibration. In parallel, 32 UL calibration blocks in each calibration step are allocated in 4 frames, within 17 each frame, 4 UL slots are allocated and within each UL slot, 2 calibration blocks are allocated for UL calibration. To 18 guarantee the interval between 2 calibration steps, the size of each calibration step is set to 10 frames. At least 3 symbols 19 interval between each calibration block is also guaranteed in symbol bitmasks. The O-DU may allocate larger intervals 20 than O-RU requires as shown in this example where a 9 symbols interval is allocated instead of the minimum of 3 symbols 21 after second UL symbol block in all UL calibration slots. 22  23 
DL = Downlink slot UL = Uplink slot F = Flexible slot   

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        112 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 60: Example of message exchange 2  3 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        113 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 61: Time domain bitmask information from O-DU 2   3 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        114 
ORAN-WG4.MP.0-v03.00.00 
Chapter 13 Licensed-Assisted Access 1 
13.1 Introduction: 2 Licensed-assisted access (LAA) leverages the carrier-aggregation (CA) functionality. With LAA, CA is performed 3 between licensed and unlicensed component carriers (CCs). This enables the LAA system to opportunistically benefit 4 from using unlicensed spectrum (e.g., UNII bands in the 5 GHz spectrum) to enhance the aggregated capacity of the O-5 RU with the objective of enhancing the downlink throughput. 6 Several modifications in the RAN are needed to enable LAA in the O-DU and O-RU such as listen-before-talk (LBT), 7 discontinuous transmission, carrier-selection, discovery reference signal (DRS) transmission, etc. This section is focused 8 on the LAA-related messages and procedures needed in the M-plane. The C-plane related messages are defined in the 9 CUS-plane spec [2]. 10 This version of the M-plane spec supports only LAA based on Rel. 13 of the 3GPP specs, where transmission on the 11 unlicensed spectrum can be done only in the downlink direction. The support of eLAA Rel. 14 (i.e., enabling UL 12 transmission on the unlicensed spectrum) may be included in a later version of the M-plane spec.  13 The modifications at M-plane to Support LAA can be summarized as follows: 14 i) LAA-initiation process: O-DU learns about O-RU capabilities and configures it.  15 • O-RU LAA Support: The O-RU indicates it supports LAA by including support for the "urn:o-16 ran:laa:x.y" and "urn:o-ran:laa-operations:x.y" namespaces in its ietf-yang-library model (RFC 7895) 17 [20]. 18 • O-RU LAA Capability Information: When the LAA feature is enabled, leafs corresponding to LAA-19 related O-RU capabilities, such as the number of supported LAA SCarriers, maximum LAA buffer size, 20 etc, are conveyed via the M-plane to the O-DU as part of the o-ran-module-cap.yang module.  21 • O-RU LAA Configuration: The NETCONF client configures the unlicensed LAA component carrier 22 with the LAA-related parameters such as the energy-detection threshold, DRS measurement timing 23 configuration (DMTC) period, etc. as part of the o-ran-uplane-config.yang module. The configuration 24 of the number of LAA SCarriers, multi-carrier type, etc. is performed using the o-ran-laa.yang Module. 25 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        115 
ORAN-WG4.MP.0-v03.00.00 For explanation of the LAA-initiation process, please refer to 1 
 2 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        116 
ORAN-WG4.MP.0-v03.00.00 Figure 4 in Chapter 3, where the O-RU LAA capability info is conveyed within the “Retrieval of O-RU 1 information” step, while the O-RU LAA configurations are conveyed in “Configuring the O-RU operational 2 
parameters” step in  3 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        117 
ORAN-WG4.MP.0-v03.00.00 • Figure 4.  1  2 ii) Carrier-selection: Selecting the best channel in the unlicensed band, both initially and dynamically over time. 3  4 
 5 Figure 62: Carrier-Selection Call-flow 6 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        118 
ORAN-WG4.MP.0-v03.00.00 
13.2 LAA-initiation Process   1 13.2.1 LAA Module Capabilities 2 During LAA-initiation, the O-RU reports its LAA capabilities to the NETCONF client. These capabilities are sent at the 3 start up as part of the o-ran-module-cap.yang module. The attributes included are: 4 (1) sub-band-frequency-ranges: The unlicensed sub-bands (e.g., 46A, 46B, etc.) that are supported at the O-RU and 5 their frequency ranges 6 (2) number-of-laa-scarriers (uint8): Number of LAA Scarriers that the O-RU can support.  7 (3) maximum-laa-buffer-size (uint16): Maximum O-RU buffer size in Kilobytes (KB) per CC. This parameter is needed 8 at the O-DU to know how much data can be sent in advance and stored at the O-RU to address the LBT uncertainty.  9 (4) maximum-processing-time (uint16): Maximum O-RU Processing time in microseconds at the O-RU to handle the 10 received/transmitted packets from/to the O-DU. This parameter is needed at the O-DU to determine the time where it 11 needs to send the data to the O-RU.  12  (5) self-configure (Boolean): Capability to manage the contention window at the O-RU. Based on the CUS-spec, there 13 are two modes of operation for LAA, 1) when the contention window is managed by the O-DU, and 2) when the 14 contention window is managed by the O-RU. This field is set to True if the O-RU can manage the contention window 15 locally.  16 13.2.2 LAA O-RU Parameter Configuration 17 The second stage of the LAA-initiation process is the configuration message (using RPC edit-config). In this message, 18 the O-DU configures the O-RU with the required parameters in the downlink direction. LAA parameters can be 19 configured by Netconf Client after capability exchange is finished. It can also be sent as needed, to reconfigure the O-RU 20 with new parameters (e.g., ed-threshold-pdsch, etc.). The attributes of this message (o-ran-laa.yang Module) include: 21 (1) number-of-laa-scarriers (uint8): Number of LAA SCarriers to be used at the O-RU. This number should be less 22 than or equal the number reported by the O-RU in its module capabilities.  23 (2) multi-carrier-type (Enumeration): This value indicates the list of multi carrier types (A1, A2, B1, B2) which as 24 subsection 15.1.5 in [32].  25 (3) multi-carrier-tx (Boolean): This value indicates whether self-deferral is activated or not. “True” indicates 26 transmission on channel access win (i.e., no self-deferral). “False” indicates mutual transmission on multiple carriers. 27 (4) multi-carrier-freeze (Boolean): This value indicates if the absence of other technology in the unlicensed band can 28 be guaranteed. This attribute can only be used when the multi-carrier-type is A1. “False” indicates that absence of other 29 technology is not guaranteed. 30 (5) laa-ending-dwpts-supported (Boolean): This value indicates whether LAA ending in Downlink Pilot Time Slot 31 (DwPTS) is supported. 32 (6) laa-starting-in-second-slot-supported (Boolean): This value indicates LAA starting in second slot is supported. 33 LAA carrier configurations (o-ran-uplane-conf.yang Module) include:  34 (1) ed-threshold-pdsch (int8): This value indicates the energy detection (ED) threshold for LBT for PDSCH and for 35 measurements in dBm. 36 (2) ed-threshold-drs (int8): This value indicates the ED threshold for LBT for DRS in dBm. 37  (4) tx-antenna-ports (uint8): This value indicates the Tx antenna ports for DRS.  38 (5) transmission-power-for-drs (int8): This value indicates the offset of CRS power to reference signal power (dB). 39 (6) dmtc-period (enumeration): This value indicates DMTC period in milliseconds.  40 (7) dmtc-offset (uint8): This value indicates DMTC offset in Subframes. 41 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        119 
ORAN-WG4.MP.0-v03.00.00 (8) lbt-timer (uint16): This value indicates LBT Timer in milliseconds. 1 If Self Configure capability is set to “true”, the following parameters are also needed to be configured. For every traffic 2 priority class, the O-DU needs to configure maximum CW usage counter. This value indicates the maximum value of 3 counter which shows how many max congestion window value is used for back off number of each priority class traffic. 4 This value is defined at section 15.1.3 of [32] as K. Based on the 3GPP specification, this value is selected by O-RU from 5 the set of values {1, 2, …, 8} 6  7 
13.3 Carrier-Selection  8 13.3.1 LAA Measurements 9 The function of the message “rpc start-measurements” is to order the O-RU to start measurements. This message can 10 be used for carrier selection initially or dynamically over time. O-RU sends RPC response where status==ACCEPTED 11 (positive case) or REJECTED (negative case). O-RU performs measurement and delivers result with respect to max 12 response time. If result is not ready on time - O-RU sends notification with "measurement-success" == FALSE and with 13 appropriate failure reason. For every configured band, the O-RU informs the NETCONF client whether the measurement 14 was successful or not. For bands with successful measurements, the O-RU reports the occupancy ratio and average RSSI 15 for each channel. For bands with failure measurements, the O-RU includes the reason (e.g., TIMEOUT when the O-RU 16 is not able to finish the measurement for this specific band).  17 The occupancy ratio of a given channel is defined as the percentage of the busy duration (i.e., measured signal power is 18 larger than the energy-detection threshold) to the total measurement duration of this specific channel. The energy-19 detection threshold is specified in the o-ran-uplan-conf.yang module using the ed-threshold-pdsch leaf. Note that this 20 threshold is the same as the energy-detection threshold used for LBT for PDSCH transmission. The total measurement 21 duration per channel is specified in o-ran-laa-operation module using the duration-per-channel leaf. The range of the 22 occupancy ratio is from 0% (no signal is detected over the total measurement duration per channel) to 100% (i.e., channel 23 was always occupied during measurement).  24 The average RSSI of the measured channel is the measured power of this specific channel averaged over the total 25 measurement duration per channel. This parameter is reported to the NETCONF client in dBm and takes a value from the 26 range 0 dBm to -128 dBm. 27 13.3.2 LAA Carrier Frequency Configuration 28 After receiving the measurements, the NETCONF client configures the O-RU with the new channel(s), if needed. For 29 every component carrier (CC) that needs to be configured with a new center frequency, the O-DU will need to first 30 deactivate the TX carrier, delete it, then create a new TX carrier (with the new center carrier frequency as well as any 31 other new configurations), and then activate the TX carrier again to start OTA operation. The procedure for 32 deactivating/deleting/creating/activating the carrier is explained in Section 12.3: Carrier Configuration, in the M-plane 33 specification and elaborated in Figure 48. Note that the creation of LAA carriers is identical to the creation of regular 34 carriers but in the unlicensed bands. O-RU responds to the configuration request with success or failure.  35 Note also that carrier-selection algorithm at the O-DU (i.e., selecting the “best” channel based on the reported 36 measurements from the O-RU) is an implementation issue and is out of the scope of this document. 37 
Chapter 14 Shared Cell 38 This chapter specifies the support of the “Shared Cell” O-RU use case. The features of C/U-Plane aspects are described 39 in chapter 11 of [2]. The M-Plane aspects necessary to support Shared Cell are described in this chapter. 40 
14.1 Architecture 41 The NETCONF client (O-DU/NMS) establishes M-Plane connection individually to each O-RU, where the O-RUs are 42 operating in either cascade mode or FHM mode Figure 63. In this figure, solid lines indicate C/U-plane interface and 43 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        120 
ORAN-WG4.MP.0-v03.00.00 dotted lines indicate M-plane interface. Therefore, from the M-Plane point of view, the same architecture model can be 1 applied as specified in Chapter 2.1.2. New functionality which is required to be added, together with existing functionality 2 which is required to be enhanced are specified in sub-sections 14.2 to 14.5. There are no changes to the functionality 3 described in the following chapters and their associated YANG models:   4 - Chapter 5 : Software Management 5 - Chapter 8 : Fault Management 6 - Chapter 9 : File Management 7  8 A NETCONF client with suitable privileges is able to trigger a reset procedure for each O-RU. It is strongly recommended 9 that when triggering the reset procedures for multiple O-RUs, a NETCONF client should order the procedures such that 10 a reset of an individual O-RU does not affect the operation of other O-RUs operating in either cascade or FHM mode. 11 This can be achieved by correct ordering of the triggering of the reset procedure between the different O-RUs. For example, 12 when triggering a reset involving multiple O-RUs operating in cascade mode, the ordering of the reset trigger sent by the 13 NETCONF client should be done beginning with the last (most-southern) O-RU to the first (most northern) O-RU in 14 chain. In configuration where FHM is used - when FHM reset is needed, O-RUs connected through this FHM should be 15 reset first, then FHM reset can be performed. It is strongly recommended to disable carriers affected by such a reset 16 procedure prior to the triggering of the reset to minimize the impact on C/U-plane traffic as much as possible. In case an 17 O-RU connected through FHM requires to be reset - the reset will not impact to other O-RUs. 18 Note: there is no difference between Hierarchical M-plane architecture and Hybrid M-plane architecture from the 19 point of reset ordering in either cascade mode (chain topology), or FHM mode (star topology). 20 Using this approach, a NETCONF client can performs software management on multiple O-RUs. Since this procedure 21 may require the reset of the O-RU to update the appropriate software file(s) for the O-RUs, the NETCONF client is 22 recommended to order the software management procedures such that the reset procedure issued against one O-RU shall 23 not impact the other O-RUs or FHM. 24 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        121 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 63: M-Plane Connection 2 
14.2 Start-up and Installation 3 This sub-section provides the consideration regarding the shared cell specific additional mechanism for the overall start-4 up mechanism for "O-RUs with Copy and Combine function" and for "O-RUs without Copy and Combine function". 5 Each O-RU establishes M-Plane connection individually to the NETCONF client in the O-RU Controller. The procedures 6 through Transport Layer initialization (DHCP process and VLAN scanning) and supervision of NETCONF connection 7 are the same as the Figure 4 in Chapter 3 for both "O-RUs with Copy and Combine function" and "O-RUs without Copy 8 and Combine function".  9 For the transport layer initialization, the following assumptions are made: 10 - The order of each O-RU’s M-plane establishment is not restricted because of the network transparency at O-RU 11 (FHM and Cascade). 12 - For simplification, the network should be configured using a common management plane vlan-id or untagged 13 interface for all O-RUs within one shared cell network managed by same NETCONF client. As a result, the same 14 vlan-id is learned by VLAN scanning by all O-RUs within the shared cell network. 15  16 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        122 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 64: NETCONF establishment of the start-up 2  3 In the step "retrieval of O-RU information", the NETCONF client retrieves the O-RUs’ capability from the NETCONF 4 servers by using individual M-plane connection in parallel. The Copy and Combine related capability is defined in sub-5 section 14.5.1. 6 After the retrieval of O-RU information, the NETCONF client performs the topology discovery procedure in order to 7 discover the topology of NETCONF servers within one shared cell network. (See sub-section 14.5.2) 8 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        123 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 65: RU information retrieval and topology detection at the start-up 2  3 The NETCONF client performs software management per O-RU as described in Chapter 5. 4 As described in section 14.1, as the reset procedure is required during the software management procedure, it is 5 recommended that the NETCONF client resets the O-RU while taking account of the topology of O-RUs and whether a 6 reset of one O-RU will affect other O-RUs in the chain or star topology. 7 
 8 Figure 66: Software management per O-RU 9 After the software management steps are completed for all NETCONF servers, the NETCONF client performs shared 10 cell configuration. (See sub-section 14.5.3) 11 The NETCONF client performs C/U-plane transport connectivity check procedure, Retrieval of the O-RU Delay Profile 12 and U-plane configuration procedures for all O-RUs.  13 In this version of the specification, the only processing element definition used for supporting shared cell is the 14 Ethernet-type-flow which is a combination of VLAN identity and MAC address. The vlan-id(s) used for C/U-plane 15 transport-flows is/are common to all O-RUs operating within one shared cell network.  16 The Ethernet bridging functionality in an O-RU with Copy and Combine function is able to bridge the Ethernet 17 Loopback messages between the O-DU and other O-RUs configured as part of the shared cell operation. For more 18 details, see the sub-section 14.5.2. 19 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        124 
ORAN-WG4.MP.0-v03.00.00 The u-plane configuration in o-ran-uplane-conf module shall have identical configuration except config-false instances’ 1 names and low-level-tx(rx)-endpoints’ names for all O-RUs operating within the one shared cell network. The value 2 of gain in tx-array-carriers can be independently configured per O-RU (, i.e., a common value is not mandatory). 3 The u-plane configuration in o-ran-uplane-conf module is no longer required for O-RU (FHM). Instead, shared-cell-4 copy-uplane-config and shared-cell-combine-uplane-config in o-ran-shared-cell.yang module are used. (See sub-5 section 14.5.4) 6 Note: in this version of the specification, only eCPRI headers are supported for the C/U-Plane protocol (, i.e., support of 7 the IEEE 1914.3 header is not defined) 8 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        125 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 67: shared cell configuration and u-plane configuration 2 The NETCONF client performs further steps for the regular start-up procedure as described in chapter 3. 3 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        126 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 68: further steps for start-up procedure 2  3 14.3 Performance Management 4 This sub-section provides description of the specific part of Performance Management for shared cell. 5 14.3.1 Measurement-group 6 transceiver-stats: 7 O-RU (Cascade / FHM) has multiple connections to O-DU and O-RU (Cascade/Normal). The baseline O-RU models 8 permit O-RUs to be defined with multiple ports and multiple transceiver modules. Transceiver module is defined by o-9 ran-transceiver which refers the port-number for these interfaces. Please refer to sub-section 14.5.1 O-RU Information 10 for Shared Cell. In this case, the O-RU (Cascade / FHM) shall be able to report transceiver-stats per port-number. 11 Rx-window-stats: 12 O-RU (Cascade / FHM) shall monitor rx-window-stats per eaxc-id, per transport or per hardware component (O-RU) 13 because it receives data flow from the north-node. 14 Note: This version of the specification does support rx-window-stats to monitor the downlink reception window and 15 doesn’t support monitoring by an O-RU of the uplink traffic from south-node. 16 Tx-stats: 17 O-RU (Cascade / FHM) shall monitor tx-stats per eaxc-id, per transport or per hardware component (O-RU) because it 18 transmits data flow to the north-node. 19 Note: This version of the specification does support tx-stats to monitor uplink traffic and doesn’t support monitoring by 20 an O-RU of the downlink traffic to south-node. 21 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        127 
ORAN-WG4.MP.0-v03.00.00  1 Epe-stats: 2 O-RU (Cascade / FHM) shall monitor epe-stats per hardware component. 3  4 Measurement-group measurement-units transceiver-stats port-number (multiple) rx-window-stats  eaxc-id, transport or hardware component (O-RU) tx-stats eaxc-id, transport or hardware component (O-RU) epe-stats hardware component Table 4: Measurement-group of O-RU (Cascade / FHM) 5 For more detail, please refer to Table 5 Counters definition in Annex B. 6 
14.4 Delay Management 7 In the shared cell environment, the use of O-RU Adaptive Delay capability is not permitted. The O-DU and each O-RU 8 have their own delay parameters and supported transmission window and reception window. Also, the topology of the 9 O-RU configuration can be detected by the topology discovery procedure.  10 The O-DU can determine the delay budget between itself and the O-RUs considering the O-RUs’ topology and delay 11 parameters and its own transmission window and reception window. During this discovery, the required processing time 12 of the O-RU is also considered. The O-RU processing time includes the copy operation for downlink operation, and the 13 combine operation for uplink operation, and the delay periods for the copy and combine operations are defined as t-14 copy and t-combine in o-ran-shared-cell.yang module: 15 t-copy: Corresponding to the maximum FHM or cascade O-RU processing delay between receiving an IQ sample 16 over the fronthaul interface from the north-node, coping it and transmitting it over the fronthaul interface to the 17 south-node. 18 t-combine: Corresponding to the maximum FHM or cascade O-RU processing delay between receiving an IQ sample 19 over the fronthaul interface from the south-node(s), combing them and transmitting it over the fronthaul interface to 20 the north-node. 21 Therefore, based on the above information, the O-DU can determine how many O-RUs are configured to operate in a 22 shared cell instance. 23 After the delay budget between the O-DU and the furthest (southern-most) O-RU in the chain is determined, multiple 24 O-RUs can be configured to operate in between the O-DU and the furthest O-RU. The time budget between the O-DU 25 and the furthest O-RU is constant and is shared for all O-RUs operating in cascade mode.  26 For combine function operation, the O-RU shall await the successful reception of the eCPRI frame(s) from the south-27 node(s). Once the FHM receives the eCPRI frame from all of the south-nodes, the O-RU (FHM) can perform the 28 combine operation. Once the cascade O-RU receives the eCPRI frame from the south-node, the O-RU can perform the 29 combine operation using the eCPRI frame and received radio information. The maximum time an O-RU is permitted to 30 wait for the required eCPRI frames is set by the ta3-prime-max configured by NETCONF client. If the O-RU cannot 31 commence the combination procedure until a time after the configured ta3-prime-max minus static t-combine, e.g., 32 due to the delayed reception of eCPRI frame(s), the O-RU shall discard the delayed eCPRI frames if received and 33 combine other received frames (for FHM mode) or radio information (for Cascade mode). The configurable ta3-prime-34 max shall be equal to or less than ta3-prime-max-upper-limit which is the capability of O-RU, related to the internal 35 memory for combine operation. The detail for C/U-plane aspects is described in chapter 11.3 of [2]. 36  37 ta3-prime-max: The latest time that FHM or cascade O-RU is allowed to send UL U-plane message to north-node 38 relative to reception timing at O-RU antenna. 39 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        128 
ORAN-WG4.MP.0-v03.00.00 ta3-prime-max-upper-limit: The upper limit for the configurable ta3-prime-max value. This is the capability 1 information of O-RU that comes from the O-RU internal memory for the combine operation. 2 
14.5 Details of O-RU operations for shared cell 3 This sub-section provides the function detail of O-RU operations for a shared cell. 4 14.5.1 O-RU Information for Shared Cell 5 Interfaces to south-node of O-RU with Copy and Combine function 6 Cascade O-RU has one additional transport interface to south-node and FHM has more than one additional transport 7 interfaces to south-nodes, illustrated below. 8 
 9 Figure 69: Transport Interfaces of both side of O-RU 10 Both the interface to north-node and the interface to south-node can be defined by ietf-interface YANG model with 11 type = ethernetCsmacd, augmented by o-ran-interface for mac-address and port-number. Transceiver module is 12 defined by o-ran-transceiver which refers the port-number for these interfaces. The maximum number of the interfaces 13 is just the number of physical interfaces within the O-RU.  14 The role of interfaces shall be detected by topology discovery procedure described in subsection 14.5.2. 15 If the O-RU has any interfaces to south-node and if they are utilized for shared cell scenario, the NETCONF client shall 16 configure the higher layer ietf-interface (type =l2vlan) including configuring the corresponding mac-address and C/U-17 plane vlan-id configuration for each ietf-interface (type = ethernetCsmacd) to south-node, in addition to the higher 18 layer ietf-interface (type = l2vlan) configured for the ietf-interface (type =ethernetCsmacd) to north-node in section 4.3.  19 If an interface to a south-node is not used for shared cell scenario, the NETCONF client doesn’t need to configure the 20 higher layer ietf-interface (type = l2vlan) for it. 21 Capability of O-RU with Copy and Combine function 22 The configuration for Copy and Combine function is defined in the o-ran-shared-cell.yang module. The presence of this 23 yang module signalled in O-RU’s YANG library indicates that O-RU can support the copy and combine function. The 24 shared-cell-module-cap container includes the information for the internal maximum processing delay for both the 25 copy function and the combine function required for delay management operations. The shared-cell-module-cap 26 container also includes the information defining the maximum numbers of copy and combine functions supported. This 27 information is used by the NETCONF client to determine how many south-nodes can be supported and how many eaxc-28 ids can be used for copy and combine procedures. It also contains the information defining the compression capability 29 supported by the FHM. 30 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        129 
ORAN-WG4.MP.0-v03.00.00 For the cascade mode, the cascade O-RU shall support normal O-RU operations, i.e., radio transmission and reception. 1 For the FHM mode, the FHM doesn't have the capability for radio transmission and reception. The o-ran-shared-2 cell.yang module defines the feature FHM to indicate that O-RU acts as FHM and doesn’t have the capability of radio 3 transmission and reception. 4 Yang modules for FHM mode 5 Especially for the FHM mode, some of the yang modules are not necessary because the FHM doesn’t have the 6 capability for radio transmission and reception. The following yang modules are not applicable for O-RU (FHM). For 7 more detail, please see Annex C.1. 8 - o-ran-ald module and o-ran-ald-port: Antenna Line device is directly connected to O-RU. 9 - o-ran-laa-operations and o-ran-laa: out-scope for LAA and radio transmission related only. 10 - o-ran-module-cap: radio transmission related parameters only 11 - o-ran-beamforming: radio transmission (beamforming) specific parameters only 12 - o-ran-uplane-conf: radio transmission (uplane configuration) specific parameters only.  13  14 14.5.2 Topology Discovery procedure 15 The O-DU shall determine the topology (adjacency relationships) of O-RUs for the shared cell. In this version of the 16 specification, only Ethernet based transport of C/U sessions for shared cells is supported. The shared cell topology 17 discovery procedure operates at the Ethernet layer, using the LBM/LBR connectivity checking procedure defined in 18 sub-section 4.6 to fill the Ethernet Forwarding Information Base (FIB), and is based on the O-DU recovering the FIB. 19 The transparent bridge functionality is used in the shared cell capable O-RUs operating in FHM and/or cascade mode. 20 In a typical operation, an O-DU performs a two-stage procedure for determining the topology: 21 I. In a first stage, the O-DU performs Ethernet connectivity monitoring on all discovered O-RU MAC addresses, 22 using the procedures defined in sub-section 4.6.1. The sending of the Ethernet loopback responses from the 23 discovered MAC addresses ensures that the transparent bridges in the O-RUs operating in FHM and cascade 24 mode will automatically learn the MAC addresses switched through these devices.  25 Note: In addition to Ethernet connectivity monitoring, DHCP discovery, call home and M-plane connection 26 establishment can be also be used to populate information in the FIB and so may be sufficient when an O-RU 27 only has a single port configured for interfacing to its north-node. 28 II. In a second stage, the O-DU uses the o-ran-ethernet-forwarding.yang module to discover which MAC 29 addresses have been learnt by the Ethernet bridge functionality. The O-DU uses the individual Ethernet 30 forwarding table entries to determine the adjacency relationships. 31  32 The following figure illustrates an example of the MAC address configuration for a set of O-RUs configured in cascade 33 mode and FHM mode of operations, together with the associated Transparent Bridge FIB tables. 34  35 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        130 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 70: Bridge FIB table entries learned from LBM/LMR connectivity check procedures 2  3 14.5.3 Shared Cell Configuration 4 Shared cell configuration consists of shared cell copy entities and shared cell combine entities. For the shared cell 5 configuration, the choice-case statement shared-cell-copy-combine-model is used for future enhancement. COMMON 6 mode is defined in this version of the specification and SELECTIVE mode will be defined in a future release of this 7 specification. 8 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        131 
ORAN-WG4.MP.0-v03.00.00 Both shared cell copy entities and shared cell combine entities define the transport-flows for the processing elements of 1 the interface to north-node and the interface to south-node. The combine entities contain the ta3-prime-max to be used 2 in delay management as described in sub-section 14.4.  3 As per conventional o-ran-processing-element.yang, the transport-flow (eth-flow) of the processing element is a 4 combination of o-du-mac-address, ru-mac-address and vlan-id for legacy eth-flow.  5 The O-RU management plane introduces 2 eth-flow options for shared cell scenario: 6 - The transport-flow definition for the interface to north-node: north-eth-flow is a combination of north-node-7 mac-address, ru-mac-address and vlan-id.  8 - The transport-flow definition for the interface to south-node: south-eth-flow is a combination of south-node-9 mac-address, ru-mac-address and vlan-id.  10  11 Either legacy eth-flow or north-eth-flow can be used for last (southern) O-RUs in star or chain topology. 12 The leaf o-du-mac-address, north-node-mac-address, south-node-mac-address and ru-mac-address are configured 13 as follows: 14 FHM mode: 15 - north-eth-flow for the interface to north-node:  16 Ø north-node-mac-address: MAC address of the north-node (O-DU) 17 Ø ru-mac-address: MAC address of the interface to north-node in O-RU(FHM)  18 Ø vlan-id 19 - south-eth-flow for the interface to south-node:  20 Ø south-node-mac-address: MAC address of the south-node (O-RU) 21 Ø ru-mac-address: MAC address of the interface to south-node in O-RU(FHM) 22 Ø vlan-id 23 Note: same vlan-id is configured on both sets of processing elements. 24 Cascade mode: 25 - north-eth-flow for the interface to north-node:  26 Ø north-node-mac-address: MAC address of the north-node (O-DU or O-RU interface to south-node)  27 Ø ru-mac-address: MAC address of the interface to north-node in O-RU(cascade)  28 Ø vlan-id 29 - south-eth-flow for the interface to south-node:  30 Ø south-node-mac-address: MAC address of the south-node (O-RU interface to north-node) 31 Ø ru-mac-address: MAC address of the interface to south-node in O-RU(cascade) 32 Ø vlan-id 33 Note: same vlan-id is configured on both sets of processing elements. 34 Southern O-RU for FHM or Cascade mode: 35 - north-eth-flow for the interface to north-node: (Shared cell capable O-RU case) 36 Ø north-node-mac-address: MAC address of the north-node (O-RU(FHM) interface to south-node) 37 Ø ru-mac-address: MAC address of the interface to north-node in O-RU  38 Ø vlan-id 39      or 40 - eth-flow for the interface to north-node: (Non shared cell capable O-RU case) 41 Ø o-du-mac-address: MAC address of the north-node (O-RU(FHM) interface to south-node) 42 Ø ru-mac-address: MAC address of the interface to north-node in O-RU  43 Ø vlan-id 44  45 Copy and Combine functions are disabled if not configured, meaning the functions are disabled by default. 46 The following figure illustrates the shared cell configuration and transport configuration. 47 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        132 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 71: Relation of Shared Cell Copy and Combine Entities and Transport Configuration 2 For the cascade mode, the processing element for north-node will be connected to the low-level-tx(rx)-links in u-plane 3 configuration as in the Figure 48 in chapter 12.2.3. In the O-RU (FHM), there is no radio transmission. The following 4 figure illustrates the example of topology diagram and shared cell copy/combine entities. Each blue thick line indicate the 5 transport-flow in the processing element. 6 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        133 
ORAN-WG4.MP.0-v03.00.00 
 1 Figure 72: Example of Topology and Shared cell Copy/Combine entities 2  3 The following is the information for this example of topology configuration. 4 FHM mode) 5 One transport-flow for north-node corresponds to the two transport-flows for south-nodes: O-RU#2a and 2b 6 respectively. O-RU#2a and #2b have same u-plane configuration. 7 Two transport-flows for north-node correspond to the two times two transport-flows for south-nodes: O-RU#2x 8 and #2y respectively. O-RU#2x and #2y have same u-plane configuration.  9  10 Cascade mode) 11 Two transport-flows for north-node correspond to two transport-flows for south-node and own u-plane-12 configuration. O-RU#1 and O-RU#2 have same u-plane configuration. 13 Note: “two transport-flows” above is just the example scenario that two optical physical lines are used for fronthaul 14 connection, which has been supported in this specification. The total capacity of the interfaces to north-node for FHM is 15 assumed that required traffic can be transported for multiple shared cells. O-RU Controller shall ensure that the capacity 16 of any link shall not be exceeded due to copy and combine configuration.  17 Information only for the C/U-plane behaviour as the background at COMMON shared cell copy and combine 18 mode. 19 


  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        134 
ORAN-WG4.MP.0-v03.00.00 For the traffic from the north-node to O-RU (FHM / cascade), there are DL C-plane and U-plane traffic and UL C-plane 1 traffic in the transport interface. When operating with COMMON shared cell copy and combine mode, all C/U-plane 2 traffic received from north-node is copied and forwarded to the south-node(s). For the traffic from south-node, there is 3 UL U-plane traffic only in each transport interface to south-node. When operating with COMMON shared cell copy and 4 combine mode, all U-plane traffic received from the south-node(s) is combined and forwarded to the north-node. It is 5 assumed that common compression mechanism for uplink is configured by M-plane for all O-RUs in one shared cell 6 network. 7 For the future enhancement, SELECTIVE mode will be defined in the shared cell copy and combine mode. Using this 8 mode, some selected C/U-plane traffic received from the north-node are copied and forwarded to the south-node and 9 some selected U-plane traffic received from south-node are combined and forwarded to the north-node. 10  11 14.5.4 U-plane Configuration for FHM mode 12 For the FHM mode, O-RU (FHM) doesn’t need to have u-plane configuration defined in o-ran-uplane-conf.yang module 13 in the COMMON mode. Instead, O-RU (FHM) needs to have shared-cell specific u-plane configuration. The shared-14 cell-copy-uplane-config is the eaxc-id list used by DL C-plane, DL U-plane and UL C-plane traffic. It also contains 15 downlink-radio-frame-offset and downlink-sfn-offset to define the downlink timing of t=0 for the reception window. 16 The shared-cell-combine-uplane-config is the compression method of the UL U-plane traffic applied to O-RUs within 17 the shared cell network in shared cell combine function. The compression method is configurable per eaxc-id. It also 18 contains downlink-radio-frame-offset, downlink-sfn-offset and n-ta-offset to define the uplink timing of t=0 for the 19 configured ta3-prime-max. In addition, number-of-prb is also contained for the case that all PRBs in numPrbc are 20 controlled by C-plane message. 21 FHM may have multiple sets of shared cell networks as described in the Figure 72 E.g., O-RU#2a and O-RU#2b are one 22 shared cell network. O-RU#2x and O-RU#2y are another shared cell network. These two shared cell network are separated 23 transport layer level definitions using separate processing-element/transport-flows. Nevertheless, the O-RU Controller 24 shall ensure that the eaxc-id allocation for the shared cell networks shall be unique per link (downlink or uplink) in one 25 O-RU (FHM). NETCONF client (O-DU/NMS) shall ensure to allocate unique eaxc-id for O-RU(s) per link within the 26 shared cell network(s) in one O-RU (FHM). 27 Note: shared-cell-copy-uplane-config and shared-cell-combine-uplane-config are not applicable to the cascade mode. 28 Instead, o-ran-uplane-conf.yang module is applied. 29 
Annex A Alarm definition 30 This section contains example alarms which may be reported. 31 Obviously, alarms that are not applicable in given HW design or SW configuration shall not be reported. For example, 32 alarms related to fan monitoring are applicable to HW variants with fans. 33 In many cases alarm detection method is HW specific. It is assumed that alarm detection method is reliable to avoid 34 undetected alarms and false alarms. It is also expected that the NETCONF Server is applying mechanisms to avoid 35 unreasonably fast toggling of alarms’ state. 36  37 The example alarms table has following columns: 38 Fault id – Numerical identifier of alarm. This ID shall be used in <alarm-notif> message (fault-id parameter). 39 Name – Name of the alarm. 40 Meaning – Description of alarm, describes high level meaning of the alarm. 41 Start condition – Defines conditions which must be fulfilled to generate alarm. If filtering time is needed, then it must be 42 defined in this column. 43 Cancel condition – Defines conditions which must be fulfilled to cancel alarm. If filtering time is needed, then it must be 44 defined in this column. 45 NETCONF Server actions on detection – Defines actions of the NETCONF Server after alarm has been detected. 46 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        135 
ORAN-WG4.MP.0-v03.00.00 NETCONF Server actions on cancel – Defines actions of NETCONF Server after alarm has been cancelled. 1 System recovery actions – Describes gNB level recovery actions of the NETCONF Client after alarm has been indicated 2 by NETCONF Server. This field is informative only; actions taken by the NETCONF Client are not restricted nor defined 3 in this document. System recovery action “Reset” refers to NETCONF Client forcing reset of O-RU. 4 Source – Defines possible sources of the alarm (alarm is within O-RU). The following are XML encoding provides 5 examples of the component names defined in various YANG modules that may be alarm sources inside the O-RU. 6 - < hardware xmlns= "urn:o-ran:hardware:1.0"><component><o-ran-name/></component></hardware> 7 - <fan-tray xmlns= "urn:o-ran:fan:1.0"><fan-state><name/></fan-state></fan-tray> 8 - <sync xmlns= "urn:o-ran:sync:1.0"><gnss-state><name/></gnss-state></sync> 9 - <external-io xmlns= "urn:o-ran:externalio:1.0”><input><name/></input></external-io> 10 - <external-io xmlns= "urn:o-ran:externalio:1.0”><output><name/></output></external-io> 11 - <ald-ports-io xmlns= "urn:o-ran:ald-port:1.0”><ald-port><name/></ald-port></ald-ports-io> 12 - <port-transceivers xmlns= "urn:o-ran:transceiver:1.0”><port-transceiver-data><name/></ port-13 transceiver-data ></port-transceivers> 14 - <interfaces xmlns= "urn:ietf:params:xml:ns:yang:ietf-15 interfaces”><interface><name/></interface></interfaces> 16 - <processing-elements xmlns= "urn:o-ran:processing-element.1.0”><ru-elements><name/></ru-17 elements></processing-elements> 18 - <-ran-uplane-conf xmlns= "urn:o-ran:uplane-conf.1.0”><low-level-tx-links><name/></low-level-tx-links></ 19 o-ran-uplane-conf> 20 - <o-ran-uplane-conf xmlns= "urn:o-ran:uplane-conf.1.0”><low-level-rx-links><name/></low-level-rx-21 links></o-ran-uplane-conf> 22  23 Note: If Source will not fit to any of above, or is empty, it means that external device (like Antenna Line Devices) cause 24 an alarm (fault is out of the O-RU). Then additional text in alarm notification is needed to clearly say what may be possible 25 fault source. 26  27 Severity – Defines severity of the alarm [30]. 28 Critical – sub unit for which alarm has been generated is not working and cannot be used. 29 Major – sub unit for which alarm has been generated is degraded, it can be used but performance might be degraded. 30 Minor – sub unit for which alarm has been generated is still working. 31  32 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ                         136 
O-RAN.WG4.MP.0-v03.00 
 1 Fault id Name Meaning Start condition Cancel condition NETCONF Server actions on detection NETCONF Server actions on cancel System recovery actions Source Severity 
1 Unit temperature is high Unit temperature is higher than expected. Unit temperature exceeded HW implementation specific value for reasonably long filtering time (e.g. 1 minute). 
Unit temperature is below HW implementation specific value for reasonably long filtering time (e.g. 1 minute). 
SW implementation specific. None. None. Module Minor 
2 Unit dangerously overheating Unit temperature is dangerously high. Unit temperature exceeded HW implementation specific value for reasonably long filtering time (e.g. 1 minute). 
Unit temperature is below HW implementation specific value for reasonably long filtering time (e.g. 1 minute). AND Ambient temperature is below predefined HW implementation specific value 
Unit deactivates all carriers to prevent HW damage.  None. None. Module Critical 
3 Ambient temperature violation Calculated ambient temperature value goes outside the allowed ambient temperature range. 
Calculated ambient temperature goes outside the allowed HW specific ambient temperature range. 
Calculated ambient temperature not any more outside the allowed HW specific ambient temperature range 
SW implementation specific. None. None. Module Minor 
4 Temperature too low During startup: The temperature inside the unit is too low. Heating of unit is ongoing. Wait until the alarm is canceled.  During runtime: The temperature inside the module is too low.  
Unit temperature is below HW implementation specific value. Unit temperature is x Celsius above HW implementation specific value.  Additionally: cancellation of critical alarm (reported during startup) is mandatory within x minutes.  
HW implementation specific (e.g. enable heating).  Note that actions taken must not interfere with normal unit operation if such is commanded by NETCONF Client 
HW implementation specific (e.g. disable the heating).  Note that actions taken must not interfere with normal unit operation if such is commanded by NETCONF Client. 
None. Module Critical during startup  Minor during runtime 
5 Cooling fan broken Fan(s) do not run. HW implementation specific. HW implementation specific. None. None. None. Fan supervision Critical (if cooling is severely degraded)  Major (otherwise) 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ                         137 
O-RAN.WG4.MP.0-v03.00 
Fault id Name Meaning Start condition Cancel condition NETCONF Server actions on detection NETCONF Server actions on cancel System recovery actions Source Severity 
6 No fan detected Unit cannot identify the used fan type or the fan is not installed at all. HW implementation specific.  HW implementation specific.  SW implementation specific. None. None. Fan supervision Minor 
7 Tuning failure A filter has not been able to tune on an appropriate sub-band properly. HW implementation specific. HW implementation specific. None. None. None. Antenna line Critical 
8 Filter unit faulty Major failure has been detected by the filter. HW implementation specific. HW implementation specific. None. None. None. Antenna line Critical 
9 Transmission quality deteriorated The TX signal quality may be out of specification limits. HW and SW implementation specific. HW and SW implementation specific. None. None. None. Antenna line Major 
10 RF Module overvoltage protection faulty 
Module's overvoltage protection is broken. HW implementation specific. None. None. None. None. Module Minor 
11 Configuring failed Configuration failed because of a HW or SW fault. SW or HW fault detected during configuration. None. None. None. Reset. Module Critical 
12 Critical file not found Critical configuration file is missing. Critical configuration file is detected missing. None. None. None. Reset. Module Critical 
13 File not found Non-critical configuration file is missing. Non-critical configuration file is detected missing. None. None. None. None. Module Major 
14 Configuration file corrupted conflicting or corrupted configuration data. conflicting or corrupted configuration data detected. Unit detects that previously missing file is present. None. None. None. Module or antenna line Major 
15 Unit out of order The Unit is out of order because of a software or hardware fault. HW and SW implementation specific. HW and SW implementation specific. None. None. Reset. Module Critical 
16 Unit unidentified The permanent memory in the module is corrupted and the module product code or serial number is missing, or the module product code is unknown. 
Not able to read data from information storage or data is such that module identity or serial number is missing or module identity is unknown. 
None. None. None. None. Module Major 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ                         138 
O-RAN.WG4.MP.0-v03.00 
Fault id Name Meaning Start condition Cancel condition NETCONF Server actions on detection NETCONF Server actions on cancel System recovery actions Source Severity 
17 No external sync source The Unit lost lock to the incoming clock. HW implementation specific. HW implementation specific. None. None. Reset. Module Major 
18 Synchronization Error  
Unit is out of synchronization. HW implementation specific. HW implementation specific. Unit shuts down all RF emission to prevent environment distortion and deactivates all carriers. 
None. Reset or none. Module or antenna line Critical 
19 TX out of order TX path is not usable. HW implementation specific. HW implementation specific. None. None. Reset or none. Antenna line Critical 20 RX out of order RX path is not usable. HW implementation specific. None. None. None. Reset or none. Antenna line Critical 21 Increased BER detected on the optical connection 
Increased bit error rate has been detected on the optical link which results in sporadical errors in downlink baseband processing. 
HW implementation specific (the detected BER on optical link is degrading RF operation). 
HW implementation specific (the detected BER on optical link is not degrading RF operation). 
Module Agent starts HW implementation specific recovery to keep the RF operation ongoing. 
Module Agent stops HW implementation specific recovery actions. 
None. Module Major 
22 Post test failed Power-on self test failed at start-up. HW and SW implementation specific. None. Unit reset x times for recovery. None. None. Module Critical 
23 FPGA SW update failed The FPGA software update has failed. FPGA SW checksum is not correct match after FPGA SW update is detected. None. None. None. None. Module Major 
24 Unit blocked Unit is blocked. Parameter blocked of the Module element is set to “TRUE”. Parameter blocked of the Module Element is set to “FALSE” Blocked unit shuts down all RF emission and turns off power on antenna lines and ALD ports 
None. None. Module Critical 
25 Reset Requested Unit detected a transient problem which significantly affects operation that requires a reset as a recovery. 
HW implementation specific  None.   None. None. Reset. Module Critical 
26 Power Supply Faulty Input power to module has fault, unstable or broken.  HW implementation specific None None None Reset or None Module Critical, Major or Minor 27 Power Amplifier faulty One of power amplifiers in module has fault, unstable or broken HW implementation specific None None None Reset or None Tx-array and/or antenna line Major 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ                         139 
O-RAN.WG4.MP.0-v03.00 
Fault id Name Meaning Start condition Cancel condition NETCONF Server actions on detection NETCONF Server actions on cancel System recovery actions Source Severity 
28 C/U-plane logical Connection faulty 
One of logical C/U-plane connection has fault, unstable or broken. One of C/U-plane processing elements detects the error of C/U-plane connection faulty, (when the O-RU’s CU plane monitoring timer expires). 
Deactivation or removal of carrier related to all low-level-tx-links being mentioned as alarm source.  
None  None Deactivation or removal of carrier related to all low-level-tx-links being mentioned as alarm source.  
low-level-tx-link and/or low-level-rx-link  
Major, Minor or warning 
29 Transceiver Fault Unit has detected a transceiver fault  HW and SW implementation specific. None. None None. None. Module Critical 
30 Interface Fault Unit has detected a fault with one of its interfaces HW and SW implementation specific. None. Unit reset x times for recovery. None. None. Module Major or Critical 31 Unexpected C/U-plane message content fault 
C/U-plane message content was faulty for undetermined reason. C/U-plane detects unexpected message content. Carrier affected by this fault was removed SW implementation specific None None Tx-link and/or Rx link Major, Minor or warning 
32 Triggering failure of antenna calibration 
O-RU has previously sent a notification antenna-calibration-required and has not received an antenna-calibration-start RPC   
Major - O-RU has not received an RPC trigger for start antenna calibration within 60 seconds after triggering the sending of the antenna-calibration-required notification  Critical – After O-RU specific number of repetitions based on O-RU implementation/ Failure of O-RU self-calibration  
Arrival of RPC antenna calibration start/Success of O-RU self-calibration  Major-None, Critical-Reset or None Major-None, Critical-None Major -Send RPC antenna calibration start/self-calibration Critical- Reset 
Module Major/ Critical 
33 Dying Gasp O-RU is suffering from an unrecoverable condition such as power failure Critical – O-RU is experiencing a dying gasp event  Re-starting of the O-RU, e.g., after power has been restored HW implementation specific None None Module Critical 
 1  2 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        140 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 
Annex B Counter definition  1  2 measurement-group measurement-object report-info object-unit Note transceiver-stats RX_POWER max and time min and time first and time latest and time frequency-table 
PORT_NUMBER Type decimal64 including 4 fraction-digits for max, min, first and latest. A parameter date-and-time is reported for each additionally. Configurable parameters: function, bin-count, lower-bound, upper-bound are defined. For more detail see B.1.1 and B.1.2. Type uint32 is used for frequency-table. 
RX_POWER_LANE_2 RX_POWER_LANE_3 RX_POWER_LANE_4 TX_POWER TX_POWER_LANE_2 TX_POWER_LANE_3 TX_POWER_LANE_4 TX_BIAS_COUNT TX_BIAS_COUNT_LANE_2 TX_BIAS_COUNT_LANE_3 TX_BIAS_COUNT_LANE_4 VOLTAGE TEMPARATURE rx-window-stats RX_ON_TIME count RU, TRANSPORT, or  EAXC_ID 
Type yang: counter64 is used for the count. When object-unit is EAXC_ID, TRANSPORT is reported as additional parameter for EAXC_ID.  
RX_EARLY RX_LATE RX_CORRUPT RX_DUPL RX_TOTAL RX_ON_TIME_C RX_EARLY_C RX_LATE_C RX_SEQID_ERR RX_SEQID_ERR_C RX_ERR_DROP 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        141 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 tx-measurement-objects TX_TOTAL count RU, TRANSPORT, or  EAXC_ID 
Type yang: counter64 is used for the count. When object-unit is EAXC_ID, TRANSPORT is reported as additional parameter for EAXC_ID.  
TX_TOTAL_C 
epe-stats POWER  max  min  average 
Hardware component type, e.g., O-RAN-RADIO, O-RU-POWER-AMPLIFIER, O-RU-FPGA, power-supply, fan, cpu 
Type decimal64 including 4 fraction-digits for max, min, average.  Power measured using method described in 5.1.1.19 Power, Energy and Environmental (PEE) measurements of  3GPP TS 28.552 Unit of power: watts (W) Temperature measured using method described in Power measured using method described in 5.1.1.19 Power, Energy and Environmental (PEE) measurements of  3GPP TS 28.552 Unit of temperature: Celsius  
TEMPERATURE 
Table 5: Counters definition 1  2 A parameter: measurement-interval is defined per group of measurement-objects. 3 A parameter: active is defined per measurement-object. 4 The object-unit for the measurement-object of rx-window-measurement can be selected per RU, per TRANSPORT, or 5 EAXC_ID. RU is assumed to support one of the object-units for the rx-window-measurement. 6 TRANSPORT indicates the name of transport-flow in o-ran-processing-element YANG. 7 The type Uint16 is used for EAXC_ID. Measurement result shall contain additional information name for its transport-8 flow when EAXC_ID is selected for the object-unit. 9 A feature "GRANULARITY-EAXC-ID-MEASUREMENT" and a feature "GRANULARITY-TRANSPORT-10 MEASUREMENT" are defined as optional definition in O-RU. 11 
B.1 Transceiver Statistics  12 The transceiver-measurement includes the performance measurement of transceivers as shown in the following table. 13  14 measurement-object Description RX_POWER Measured Rx input power in mW for SFP or lane 1 of QSFP RX_POWER_LANE_2 Measured Rx input power in mW for lane 2 of QSFP 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        142 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 RX_POWER_LANE_3 Measured Rx input power in mW for lane 3 of QSFP RX_POWER_LANE_4 Measured Rx input power in mW for lane 4 of QSFP TX_POWER Measured Tx input power in mW for SFP or lane 1 of QSFP.  TX_POWER_LANE_2 Measured Tx input power in mW for lane 2 of QSFP TX_POWER_LANE_3 Measured Tx input power in mW for lane 3 of QSFP TX_POWER_LANE_4 Measured Tx input power in mW for lane 4 of QSFP TX_BIAS_COUNT Internally measured Tx Bias Current in mA for SFP or lane 1 of QSFP TX_BIAS_COUNT_LANE_2 Internally measured Tx Bias Current in mA for lane 2 of QSFP TX_BIAS_COUNT_LANE_3 Internally measured Tx Bias Current in mA for lane 3 of QSFP TX_BIAS_COUNT_LANE_4 Internally measured Tx Bias Current in mA for lane 4 of QSFP VOLTAGE Internally measured transceiver supply voltage in mV TEMPARATURE Internally measured optional laser temperature in degrees Celsius. Table 6: Transceiver Measurements 1  2 B.1.1 Statistics Calculation 3 When configured by the NETCONF client, the O-RU captures value of monitored parameters. Then the O-RU calculates 4 x = f(s), where f(s) is a function selected for specific statistics instance. The function f(s) can be one of the following:  5 • f(s) = s  6 • f(s) = LOG10(s),  7 where LOG10(s) is logarithm with base 10. To avoid issues with infinity, the O-RU assumes that for s < 10-128 value of 8 LOG10(s) is -128. 9  10 The value of x = f(s) is applied to first, latest, min and max values; related timestamps are also updated; frequency table 11 is updated as described in the following section. 12  13 When local measurement interval, which is not same as transceiver-measurement-interval of the measurement-object, 14 passes the O-RU captures value of a monitored parameter (s). Then the O-RU calculates x = f(s), where f is a function 15 selected for specific parameter. The local measurement interval is up to the O-RU implementation matter and typically 16 around 10 sec – 60 sec at earliest. 17   18 The value of x = f(s) is applied to latest value; related timestamp is updated.   19 The O-RU updates statistics:  20 • If x < min value then x is applied to min value and related timestamp is updated.  21 • If x > max value then x is applied to max value and related timestamp is updated.  22 • Value of x is used to update frequency table as described in section Frequency Table below.  23  24 After updates O-RU waits another interval to elapse. 25 B.1.2 Frequency Table Generation  26 Let n = bin-count, a = lower-bound, b = upper-bound, x = f(s) where s is value of monitored parameter and f is a 27 function selected for statistics via parameter function.   28  29 • If n = 0 then frequency table is empty and is not updated.   30 • If n > 0 there are n bins: hk where k = 0...n-1. Initial value of each bin is zero (hk = 0 for k = 0...n-1).  31 • If x < a then bin h0 is incremented.   32 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        143 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 • If b ≤ x and n > 1 then bin hn-1 is incremented.  1 • If a ≤ x and x < b and n > 2 then bin hk is incremented for k such that   2 • k-1 ≤ (n-2) * (x-a) / (b-a) < k. 32  3  4 Note value of bin should saturate at maximum without overflowing (the value is not incremented above 232-1).  5 Equivalently:  6  7 • For k = 0, hk is a number of values x such that x < a. 8 • For k = 1 ... n-2, hk is a number of values x such that  9 • a + (b-a) * (k-1) / (n-2) ≤ x < a + (b-a) * (k) / (n-2).   10 • For k = n-1, hk is a number of values x such that b ≤ x.   11  12 Example:   13  14 function = LOG10, bin-count = 14, lower-bound = -12, upper-bound = 0 15  16 • parameter value s = 0, x = f(0) = -128, -128 < -12 = a à h0 is incremented   17 • parameter value s = 1e-12, x = f(1e-12) = -12, (14-2)*(-12-(-12))/(0-(-12)) = 12*0/12 < 1  à h1 is incremented   18 • parameter value s = 9.99e-12, x = f(9.99e-12) = -11.0004, (14-2)*(-11.0004-(-12))/(0-(-12)) = 12*0.0004/12 < 1 19 à h1 is incremented  20 • parameter value s = 1e-1, x = f(1e-1) = -1, (14-2)*(-1-(-12))/(0-(-12)) = 12*11/12 < 12 à h12 is incremented  21 • parameter value s = 1, x = f(1) = 0, b = 0 ≤ 1 à h13 is incremented  22  23 
B.2 Rx Window Statistics  24 The rx-window-measurement includes the performance measurement for the reception window as following table. 25  26 measurement-object Description RX_ON_TIME The number of data packet received on time (applies to user data reception window) within the rx-window-measurement-interval  RX_EARLY The number of data packet received too early (applies to user data reception window) within the rx-window-measurement-interval RX_LATE The number of data packet received too late (applies to user data reception window) within the rx-window-measurement-interval RX_CORRUPT The number of data packet, which is corrupt or whose header is incorrect, received within the rx-window-measurement-interval RX_DUPL This counter is deprecated RX_TOTAL The total number of received packet (data and control), within the rx-window-measurement-interval RX_ON_TIME_C The number of control packets, received on time within the rx-window-measurement-interval RX_EARLY_C The number of control packets, received before the start of reception window within the rx-window-measurement-interval RX_LATE_C The number of control packets, received after the end of reception window within the rx-window-measurement-interval RX_SEQID_ERR The number of data packets, received with an erroneous sequence ID within the rx-window-measurement-interval 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        144 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 RX_SEQID_ERR_C The number of control packets, received with an erroneous sequence ID within the rx-window-measurement-interval RX_ERR_DROP The total number of inbound messages which are discarded by the receiving O-RAN entity for any reason within the rx-window-measurement-interval Table 7: Rx Window Measurement 1  2 B.3 Tx Statistics  3 The tx-measurements include the measurement according to the following table. 4  5 measurement-object Description TX_TOTAL The number of outbound packets (data and control), transmitted within the tx-window-measurement-interval  TX_TOTAL_C the number of outbound control packets, transmitted within the tx-window-measurement-interval (This counter is required only if RU supports LAA/LBT capabilities) Table 8: Tx Measurement 6 
B.4 Energy, Power and Environmental Statistics  7 The epe-stats include the performance measurement for energy, power and environmental parameters as shown in the 8 following table. An O-RU will report its supported measurement objects per hardware component class. 9  10 measurement-object Description POWER  Value of measured power consumed by identified hardware component TEMPERATURE Value of measured temperature of identified hardware component Table 9: Energy, Power and Environmental Measurements 11  12 
Annex C Optional Multi-Vendor Functionality  13 
C.1: Optional Namespace 14 Some of the YANG models are optional for the O-RU to support. In this version of the management plane specification, 15 the following YANG models are optional to support. If an O-RU/NETCONF server does not return the namespace 16 associated with an optional YANG model, the NETCONF client can infer that the O-RU does not support the optional 17 capability associated with the model. 18 No Optional Functionality Reference Namespace 1 Antenna Line Device Chapter 11.3 "urn:o-ran:ald-port:x.y" 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        145 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 
"urn:o-ran:ald: x.y " 2 External IO Port Chapter 11.4 "urn:o-ran:external-io:x.y " 3 eCPRI delay measurement  Chapter 4.7 "urn:o-ran:message5:x.y " 4 UDP Echo functionality for IP based transport verification Chapter 4.6 "urn:o-ran:udpecho:x.y " 5 Beamforming Chapter 12.4 "urn:o-ran:beamforming:x.y " 6 FAN - “urn:o-ran:fan:x.y” 7 LAA Chapter 13 "urn:o-ran:laa:x.y " "urn:o-ran:laa-operations:x.y " 8 Antenna calibration Chapter 12.5 "urn:o-ran:antcal: x.y " 9 Shared cell (common to FHM and Cascade modes) Chapter 14 "urn:o-ran:shared-cell:x.y" "urn:o-ran:ethernet-fwd:x.y" Table 10: Optional O-RAN Namespace 1 No Optional Functionality Reference Namespace 1 Notification of Updates to Configuration Datastore Chapter 6.4 "urn:ietf:params:xml:ns:yang:ietf-netconf-notifications " Table 11: Optional IETF Namespace 2 Whereas the above two tables describe those optional YANG modules associated with optional features, there are also 3 scenarios where support of an optional feature means that previously defined mandatory YANG models become 4 optional. Table 12 describes those optional features that when supported result in YANG models becoming optional. 5 No Optional Functionality Reference Namespace 1 FHM in shared cell Chapter 14.5.1 "urn:o-ran:module-cap:1.0" "urn:o-ran:uplane-conf:1.0" Table 12: Not mandatory O-RAN Namespace for FHM. 6  7 
C.2: Optional YANG Features 8 Some of the O-RAN defined YANG models define optional feature support. The optional multi-vendor features defined 9 in the O-RAN defined YANG models are shown below. 10 No Optional Feature Namespace Feature name 1 Adaptive O-RU delay profile "urn:o-ran:delay:x.y "  ADAPTIVE-RU-PROFILE  2 O-RU Energy saving "urn:o-ran:hardware:x.y "  ENERGYSAVING  

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        146 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 3 Alias MAC address based C/U transport "urn:o-ran:interfaces:x.y " ALIASMAC-BASED-CU-PLANE 4 UDP/IP based C/U Transport "urn:o-ran:interfaces:x.y " UDPIP-BASED-CU-PLANE 5 Dynamic Beamforming Configuration "urn:o-ran:beamforming:x.y " MODIFY-BF-CONFIG 
6 GNSS Support "urn:o-ran:sync:x.y " GNSS 7 ALD overcurrent reporting "urn:o-ran:ald-port:x.y " OVERCURRENT-SUPPORTED 8 TRANSPORT in rx-window-measurement "urn:o-ran:performance-management:x.y " GRANULARITY-TRANSPORT-MEASUREMENT 9 EAXC_ID in rx-window-measurement "urn:o-ran:performance-management:x.y " GRANULARITY-EAXC-ID-MEASUREMENT 10 LAA Support "urn:o-ran: module-cap " LAA 11 Transport Fragmentation "urn:o-ran:module-cap:x.y " TRANSPORT-FRAGMENTATION 12 GNSS Anti Jamming "urn:o-ran:sync:x.y " ANTI-JAM 13 Tiliting pre-defined beams "urn:o-ran:beamforming:x.y" BEAM-TILT 14  Shared cell support "urn:o-ran:processing-element:x.y" SHARED_CELL 
15 FHM support, no capability of radio transmission and reception  "urn:o-ran:shared-cell:x.y" FHM 16 Dynamic Spectrum Sharing "urn:o-ran: module-cap " DSS_LTE_NR Table 13: Optional O-RAN WG4 defined feature support 1 Some of the O-RAN defined YANG models augment existing YANG models which have optional features defined. The 2 optional features defined in these “common” models are shown in the table below.  3 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        147 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 No Optional Feature Namespace Feature name 1 RFC 6933: Entity MIB "urn:ietf:params:xml:ns:yang:ietf-hardware" entity-mib 2 RFC 4268: Entity State MIB "urn:ietf:params:xml:ns:yang:ietf-hardware" hardware-state 3 RFC 3433: Entity Sensor Management Information Base "urn:ietf:params:xml:ns:yang:ietf-hardware"  hardware-sensor 4 O-RU allows user-controlled interfaces to be named arbitrarily "urn:ietf:params:xml:ns:yang:ietf-interfaces"  arbitrary-names 5 O-RU supports pre-provisioning of interface configuration, i.e., it is possible to configure an interface whose physical interface hardware is not present on the device 
"urn:ietf:params:xml:ns:yang:ietf-interfaces"  pre-provisioning 
6 RFC 2863: The Interfaces Group MIB "urn:ietf:params:xml:ns:yang:ietf-interfaces"  if-mib 7 O-RU supports configuring non-contiguous subnet masks "urn:ietf:params:xml:ns:yang:ietf-ip" ipv4-non-contiguous-netmasks 8 O-RU supports privacy extensions for stateless address autoconfiguration in IPv6 "urn:ietf:params:xml:ns:yang:ietf-ip" ipv6-privacy-autoconf 
Table 14: Optional feature support in common models 1 
C.3: Optional Capabilities Exposed Using O-RAN YANG Models 2 In addition to optional namespaces and optional features within supported namespaces, certain O-RAN defined YANG 3 models are used to be able to expose support for certain optional capabilities by the O-RU. 4 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        148 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 No Optional Feature Namespace Leaf  1 Type of synchronization source supported by O-RU "urn:o-ran:sync:x.y " / sync/:sync-status/supported-reference-types 2 O-RU supports extended Category A operation – more than 8 spatial streams "urn:o-ran:module-cap:x.y " /module-capability/ru-capabilities/ ru-supported-category and /module-capability/ru-capabilities/ number-of-spatial-streams 3 O-RU supports Category B operation – precoding in the O-RU "urn:o-ran:module-cap:x.y " /module-capability/ru-capabilities/ ru-supported-category 4 O-RU supports the capability to apply the modified beamforming configuration by using rpc activate-beamforming-config without deletion of tx-array-carriers and rx-array-carriers 
"urn:o-ran:beamforming:x.y " /beamforming-configuration/ operational-properties/update-bf-non-delete 
5 O-RU supports the capability to store the modified beamforming configuration file in the reset persistent memory 
"urn:o-ran:beamforming:x.y " /beamforming-configuration/ operational-properties/persistent-bf-files 6 Optional VLAN optimized searching "urn:o-ran:mplane-interfaces:x.y " /mplane-info/searchable-mplane-access-vlans-info 7 Configurable CoS marking for C, U and M-Plane "urn:o-ran:interfaces:x.y " augmented /if:interfaces/if:interface: with u-plane-marking c-plane-marking and m-plane-marking 8 Configurable DSCP marking for C, U and M-Plane "urn:o-ran:interfaces:x.y " augmented /if:interfaces/if:interface: with u-plane-marking c-plane-marking and m-plane-marking 9 Ethernet Frame MTU "urn:o-ran:interfaces:x.y” augmented /if:interfaces/if:interface: with l2-mtu 10 VLAN Tagging "urn:o-ran:interfaces:x.y” augmented /if:interfaces/if:interface: with vlan-tagging 11 IEEE 1914.3 header support "urn:o-ran:operations:x.y " /operational-info/o-ran-split/optional-header-support 12 eCPRI Concatenation support "urn:o-ran:operations:x.y " /operational-info/o-ran-split/ecpri-concatenation-support 13 O-RU local management of the LAA contention window "urn:o-ran:module-cap:x.y " /module-capability/band-capabilities/sub-band-info/self-configure 14 O-RU supports LAA ending in Downlink Pilot Time Slot (DwPTS) "urn:o-ran:laa:x.y” /laa-config/ laa-ending-dwpts-supported 15 O-RU supports configurable timer for C/U plane monitoring "urn:o-ran: supervision:x.y” /supervision/cu-plane-monitoring Table 15: Optional capabilities in O-RAN defined YANG models 1 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        149 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 
C.4: Optional Capabilities Exposed Using Common YANG Models 1 When O-RAN defines augmentation of existing YANG models, these models may expose support for certain optional 2 capabilities by the O-RU. 3  4 No Optional Feature Namespace Leaf  1 IPv6 Supported by O-RU "urn:ietf:params:xml:ns:yang:ietf-ip" augmented /if:interfaces/if:interface: with ipv6 Table 16: Optional capabilities in common YANG models 5 
Annex D YANG Module Graphical Representation 6 The different released version of the set of YANG modules for the O-RU can be downloaded from O-RAN’s website 7 http://www.o-ran.org/specifications/ . The YANG models are available in a zip file, whose name is used to represent the 8 version of the YANG model and follows the numerical format defined in subsection 1.1 with the periods replaced with 9 “-”, i.e., YANG models for release 1.0.0 of the M-Plane specification are availabile in the file 1-0-0.zip. This zip file 10 includes all published revisions of the YANG models supporting a particular release of the M-Plane specification. 11 This Annex provides a set of “tree-views” of the modules to provide a simplified graphical representation of the data 12 models. These trees have been automatically generated using the pyang YANG validator tool. If there are any 13 inconsistencies between the tree representation in this Annex and the yang models, the yang models shall take precedence. 14 
D.1 System Folder 15 D.1.1 o-ran-supervision.yang Module 16 The format for the supervision module is provided below. 17 module: o-ran-supervision 18   +--rw supervision 19      +--rw cu-plane-monitoring! 20         +--rw configured-cu-monitoring-interval?   uint8 21  22   rpcs: 23     +---x supervision-watchdog-reset 24        +---w input 25        |  +---w supervision-notification-interval?   uint16 26        |  +---w guard-timer-overhead?                uint16 27        +--ro output 28           +--ro next-update-at?   yang:date-and-time 29           +--ro error-message?    string 30  31   notifications: 32     +---n supervision-notification 33 D.1.2 o-ran-usermgmt.yang Module 34 The format for the user management module is provided below. 35 module: o-ran-usermgmt 36   +--rw users 37      +--rw user* [name] 38         +--rw name            nacm:user-name-type 39         +--rw account-type?   enumeration 40         +--rw password?       password-type 41         +--rw enabled?        boolean 42  43   rpcs: 44     +---x chg-password 45        +---w input 46        |  +---w currentPassword       password-type 47 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        150 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00        |  +---w newPassword           password-type 1        |  +---w newPasswordConfirm    password-type 2        +--ro output 3           +--ro status            enumeration 4           +--ro status-message?   string 5 D.1.3 o-ran-hardware.yang Module 6 The format for the hardware module is provided below. 7 module: o-ran-hardware 8   augment /hw:hardware/hw:component: 9     +--ro label-content 10     |  +--ro model-name?      boolean 11     |  +--ro serial-number?   boolean 12     +--ro product-code             string 13     +--rw energy-saving-enabled?   boolean {ENERGYSAVING}? 14     +--ro dying-gasp-support?      boolean 15   augment /hw:hardware/hw:component: 16     +--rw o-ran-name    -> /hw:hardware/component/name 17   augment /hw:hardware/hw:component/hw:state: 18     +--ro power-state?          energysaving-state {ENERGYSAVING}? 19     +--ro availability-state?   availability-type 20   augment /hw:hardware-state-oper-enabled: 21     +--ro availability-state?   -> /hw:hardware/component/state/o-ran-hw:availability-state 22   augment /hw:hardware-state-oper-disabled: 23     +--ro availability-state?   -> /hw:hardware/component/state/o-ran-hw:availability-state 24 D.1.4 o-ran-fan.yang Module 25 The format for the fan module is provided below. 26 module: o-ran-fan 27   +--ro fan-tray 28      +--ro fan-state* [name] 29         +--ro name                     string 30         +--ro fan-location?            uint8 31         +--ro present-and-operating    boolean 32         +--ro vendor-code?             uint8 33         +--ro fan-speed?               percent 34         +--ro target-speed?            uint16 35 D.1.5 o-ran-fm.yang Module 36 The format for the fault management module is provided below. 37 module: o-ran-fm 38   +--ro active-alarm-list 39      +--ro active-alarms* [] 40         +--ro fault-id            uint16 41         +--ro fault-source        string 42         +--ro affected-objects* [] 43         |  +--ro name    string 44         +--ro fault-severity      enumeration 45         +--ro is-cleared          boolean 46         +--ro fault-text?         string 47         +--ro event-time          yang:date-and-time 48  49   notifications: 50     +---n alarm-notif 51        +--ro fault-id            uint16 52        +--ro fault-source        string 53        +--ro affected-objects* [] 54        |  +--ro name    string 55        +--ro fault-severity      enumeration 56        +--ro is-cleared          boolean 57        +--ro fault-text?         string 58        +--ro event-time          yang:date-and-time 59 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        151 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 
D.2 Operations Folder 1 D.2.1 o-ran-operations.yang Module 2 The format for the operations module is provided below. 3 module: o-ran-operations 4 module: o-ran-operations 5   +--rw operational-info 6      +--ro declarations 7      |  +--ro ru-instance-id?               string 8      |  +--ro supported-mplane-version?     version 9      |  +--ro supported-cusplane-version?   version 10      |  +--ro supported-header-mechanism* [protocol] 11      |     +--ro protocol                       enumeration 12      |     +--ro ecpri-concatenation-support?   boolean 13      |     +--ro protocol-version?              version 14      +--ro operational-state 15      |  +--ro restart-cause?      enumeration 16      |  +--ro restart-datetime?   yang:date-and-time 17      +--rw clock 18      |  +--rw timezone-name?         timezone-name 19      |  +--rw timezone-utc-offset?   int16 20      +--rw re-call-home-no-ssh-timer?   uint16 21  22   rpcs: 23     +---x reset 24 D.2.2 o-ran-file-management.yang Module 25 The format for the file management module is provided below 26 module: o-ran-file-management 27  28   rpcs: 29     +---x file-upload 30     |  +---w input 31     |  |  +---w local-logical-file-path    string 32     |  |  +---w remote-file-path           string 33     |  |  +---w (credentials)? 34     |  |     +--:(password) 35     |  |     |  +---w password! 36     |  |     |  |  +---w password    string 37     |  |     |  +---w server 38     |  |     |     +---w keys* [algorithm] 39     |  |     +--:(certificate) 40     |  |        +---w certificate! 41     |  +--ro output 42     |     +--ro status?          enumeration 43     |     +--ro reject-reason?   string 44     +---x retrieve-file-list 45     |  +---w input 46     |  |  +---w logical-path        string 47     |  |  +---w file-name-filter?   string 48     |  +--ro output 49     |     +--ro status?          enumeration 50     |     +--ro reject-reason?   string 51     |     +--ro file-list*       string 52     +---x file-download 53        +---w input 54        |  +---w local-logical-file-path    string 55        |  +---w remote-file-path           string 56        |  +---w (credentials)? 57        |     +--:(password) 58        |     |  +---w password! 59        |     |  |  +---w password    string 60        |     |  +---w server 61        |     |     +---w keys* [algorithm] 62        |     +--:(certificate) 63        |        +---w certificate! 64        +--ro output 65           +--ro status?          enumeration 66 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        152 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00           +--ro reject-reason?   string 1  2   notifications: 3     +---n file-upload-notification 4     |  +--ro local-logical-file-path    string 5     |  +--ro remote-file-path           string 6     |  +--ro status?                    enumeration 7     |  +--ro reject-reason?             string 8     +---n file-download-event 9        +--ro local-logical-file-path    string 10        +--ro remote-file-path           string 11        +--ro status?                    enumeration 12        +--ro reject-reason?             string 13 D.2.3 o-ran-software-management.yang Module 14 The format for the software management module is provided below 15 module: o-ran-software-management 16   +--ro software-inventory 17      +--ro software-slot* [name] 18         +--ro name             string 19         +--ro status           enumeration 20         +--ro active?          boolean 21         +--ro running?         boolean 22         +--ro access?          enumeration 23         +--ro product-code?    -> /hw:hardware/component/o-ran-hw:product-code 24         +--ro vendor-code?     string 25         +--ro build-id?        string 26         +--ro build-name?      string 27         +--ro build-version?   string 28         +--ro files* [name] 29            +--ro name          string 30            +--ro version?      string 31            +--ro local-path    string 32            +--ro integrity?    enumeration 33  34   rpcs: 35     +---x software-download 36     |  +---w input 37     |  |  +---w remote-file-path     inet:uri 38     |  |  +---w (credentials)? 39     |  |     +--:(password) 40     |  |     |  +---w password! 41     |  |     |  |  +---w password    string 42     |  |     |  +---w server 43     |  |     |     +---w keys* [algorithm] 44     |  |     +--:(certificate) 45     |  |        +---w certificate! 46     |  +--ro output 47     |     +--ro status                  enumeration 48     |     +--ro error-message?          string 49     |     +--ro notification-timeout?   int32 50     +---x software-install 51     |  +---w input 52     |  |  +---w slot-name     -> /software-inventory/software-slot/name 53     |  |  +---w file-names*   string 54     |  +--ro output 55     |     +--ro status           enumeration 56     |     +--ro error-message?   string 57     +---x software-activate 58        +---w input 59        |  +---w slot-name    -> /software-inventory/software-slot/name 60        +--ro output 61           +--ro status                  enumeration 62           +--ro error-message?          string 63           +--ro notification-timeout?   int32 64  65   notifications: 66     +---n download-event 67     |  +--ro file-name        string 68     |  +--ro status?          enumeration 69     |  +--ro error-message?   string 70     +---n install-event 71     |  +--ro slot-name?       -> /software-inventory/software-slot/name 72 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        153 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00     |  +--ro status?          enumeration 1     |  +--ro error-message?   string 2     +---n activation-event 3        +--ro slot-name?       -> /software-inventory/software-slot/name 4        +--ro status?          enumeration 5        +--ro return-code?     uint8 6        +--ro error-message?   string 7 D.2.4 o-ran-lbm.yang Module 8 The format for the (Ethernet) loobback module is provided below 9 module: o-ran-lbm 10   +--rw md-data-definitions 11      +--rw maintenance-domain* [id] 12         +--rw id                         string 13         +--rw name?                      string 14         +--rw md-level?                  md-level-type 15         +--rw maintenance-association* [id] 16            +--rw id                string 17            +--rw name?             string 18            +--rw component-list* [component-id] 19               +--rw component-id                         uint32 20               +--rw name?                                string 21               +--rw vid*                                 -> /if:interfaces/interface/o-ran-int:vlan-id 22               +--rw remote-meps*                         mep-id-type 23               +--rw maintenance-association-end-point* [mep-identifier] 24                  +--rw mep-identifier          mep-id-type 25                  +--rw interface               -> /if:interfaces/interface/name 26                  +--rw primary-vid             -> /if:interfaces/interface/o-ran-int:vlan-id 27                  +--rw administrative-state    boolean 28                  +--ro mac-address?            -> /if:interfaces/interface/o-ran-int:mac-address 29                  +--ro loopback 30                     +--ro replies-transmitted    yang:counter32 31 D.2.5 o-ran-udp-echo.yang Module 32 The format for the udp echo module is provided below 33 module: o-ran-udp-echo 34   +--rw udp-echo {o-ran-int:UDPIP-BASED-CU-PLANE}?     +--rw enable-udp-echo?            boolean 35      +--rw dscp-config?                enumeration 36      +--ro echo-replies-transmitted?   uint32 37 D.2.6 o-ran-ecpri-delay.yang Module 38 The format for the ecpri delay management module is provided below 39 module: o-ran-ecpri-delay 40   +--rw ecpri-delay-message 41      +--ro ru-compensation 42      |  +--ro tcv2?   uint32 43      |  +--ro tcv1?   uint32 44      +--rw enable-message5?     boolean 45      +--rw message5-sessions 46         +--rw session-parameters* [session-id] 47            +--rw session-id                 uint32 48            +--rw processing-element-name?   -> /element:processing-elements/ru-elements/name 49            +--ro flow-state 50               +--ro responses-transmitted?   uint32 51               +--ro requests-transmitted?    uint32 52               +--ro followups-transmitted?   uint32 53 D.2.7 o-ran-performance-management.yang Module 54 The format for the performance management module is provided below 55 module: o-ran-performance-management 56   +--rw performance-measurement-objects 57      +--ro measurement-capabilitites 58      |  +--ro transceiver-objects* [measurement-object] 59      |  |  +--ro measurement-object    -> /performance-measurement-objects/transceiver-measurement-60 objects/measurement-object 61 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        154 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      |  +--ro rx-window-objects* [measurement-object] 1      |  |  +--ro measurement-object    -> /performance-measurement-objects/rx-window-measurement-2 objects/measurement-object 3      |  +--ro tx-stats-objects* [measurement-object] 4      |  |  +--ro measurement-object    -> /performance-measurement-objects/tx-measurement-5 objects/measurement-object 6      |  +--ro epe-stats-objects* [measurement-object] 7      |     +--ro measurement-object    -> /performance-measurement-objects/epe-measurement-8 objects/measurement-object 9      |     +--ro component-class*      identityref 10      +--rw enable-SFTP-upload?                 boolean 11      +--rw enable-random-file-upload?          boolean 12      +--rw remote-SFTP-uploads* [remote-SFTP-upload-path] 13      |  +--rw remote-SFTP-upload-path    inet:uri 14      +--rw transceiver-measurement-interval?   uint16 15      +--rw rx-window-measurement-interval?     uint16 16      +--rw epe-measurement-interval?           uint16 17      +--rw tx-measurement-interval?            uint16 18      +--rw notification-interval?              uint16 19      +--rw file-upload-interval?               uint16 20      +--ro max-bin-count                       uint16 21      +--rw transceiver-measurement-objects* [measurement-object] 22      |  +--rw measurement-object                enumeration 23      |  +--rw active?                           boolean 24      |  +--rw report-info*                      enumeration 25      |  +--rw object-unit                       enumeration 26      |  +--rw function?                         enumeration 27      |  +--rw bin-count?                        uint16 28      |  +--rw lower-bound?                      decimal64 29      |  +--rw upper-bound?                      decimal64 30      |  +--ro transceiver-measurement-result* [object-unit-id] 31      |     +--ro object-unit-id    -> /if:interfaces/interface/o-ran-int:port-reference/port-number 32      |     +--ro min 33      |     |  +--ro value?   decimal64 34      |     |  +--ro time?    yang-types:date-and-time 35      |     +--ro max 36      |     |  +--ro value?   decimal64 37      |     |  +--ro time?    yang-types:date-and-time 38      |     +--ro first 39      |     |  +--ro value?   decimal64 40      |     |  +--ro time?    yang-types:date-and-time 41      |     +--ro latest 42      |     |  +--ro value?   decimal64 43      |     |  +--ro time?    yang-types:date-and-time 44      |     +--ro frequeny-table*   uint32 45      +--rw rx-window-measurement-objects* [measurement-object] 46      |  +--rw measurement-object            enumeration 47      |  +--rw active?                       boolean 48      |  +--rw object-unit?                  enumeration 49      |  +--rw report-info?                  enumeration 50      |  +--ro (object-unit-id)? 51      |     +--:(RU) 52      |     |  +--ro name?                   -> /hw:hardware/component/name 53      |     |  +--ro count                   uint64 54      |     +--:(TRANSPORT) 55      |     |  +--ro tr-measured-result* [] 56      |     |     +--ro name?    -> /o-ran-elements:processing-elements/ru-elements/name 57      |     |     +--ro count    uint64 58      |     +--:(EAXC_ID) 59      |        +--ro eaxc-measured-result* [] 60      |           +--ro eaxc-id?          uint16 61      |           +--ro count             uint64 62      |           +--ro transport-name?   -> /o-ran-elements:processing-elements/ru-elements/name 63      +--rw tx-measurement-objects* [measurement-object] 64      |  +--rw measurement-object            enumeration 65      |  +--rw active?                       boolean 66      |  +--rw object-unit?                  enumeration 67      |  +--rw report-info?                  enumeration 68      |  +--ro (object-unit-id)? 69      |     +--:(RU) 70      |     |  +--ro name?                   -> /hw:hardware/component/name 71      |     |  +--ro count                   uint64 72      |     +--:(TRANSPORT) 73      |     |  +--ro tr-measured-result* [] 74      |     |     +--ro name?    -> /o-ran-elements:processing-elements/ru-elements/name 75 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        155 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      |     |     +--ro count    uint64 1      |     +--:(EAXC_ID) 2      |        +--ro eaxc-measured-result* [] 3      |           +--ro eaxc-id?          uint16 4      |           +--ro count             uint64 5      |           +--ro transport-name?   -> /o-ran-elements:processing-elements/ru-elements/name 6      +--rw epe-measurement-objects* [measurement-object] 7         +--rw measurement-object        enumeration 8         +--rw active?                   boolean 9         +--rw report-info*              enumeration 10         +--ro epe-measurement-result* [object-unit-id] 11            +--ro object-unit-id    -> /hw:hardware/component/class 12            +--ro min?              decimal64 13            +--ro max?              decimal64 14            +--ro average?          decimal64 15  16   notifications: 17     +---n measurement-result-stats 18        +--ro transceiver-stats* [measurement-object] 19        |  +--ro measurement-object                -> /performance-measurement-objects/transceiver-20 measurement-objects/measurement-object 21        |  +--ro start-time?                       yang-types:date-and-time 22        |  +--ro end-time?                         yang-types:date-and-time 23        |  +--ro transceiver-measurement-result* [object-unit-id] 24        |     +--ro object-unit-id    -> /if:interfaces/interface/o-ran-int:port-reference/port-number 25        |     +--ro min 26        |     |  +--ro value?   decimal64 27        |     |  +--ro time?    yang-types:date-and-time 28        |     +--ro max 29        |     |  +--ro value?   decimal64 30        |     |  +--ro time?    yang-types:date-and-time 31        |     +--ro first 32        |     |  +--ro value?   decimal64 33        |     |  +--ro time?    yang-types:date-and-time 34        |     +--ro latest 35        |     |  +--ro value?   decimal64 36        |     |  +--ro time?    yang-types:date-and-time 37        |     +--ro frequeny-table*   uint32 38        +--ro rx-window-stats* [measurement-object] 39        |  +--ro measurement-object            -> /performance-measurement-objects/rx-window-measurement-40 objects/measurement-object 41        |  +--ro start-time?                   yang-types:date-and-time 42        |  +--ro end-time?                     yang-types:date-and-time 43        |  +--ro (object-unit-id)? 44        |     +--:(RU) 45        |     |  +--ro name?                   -> /hw:hardware/component/name 46        |     |  +--ro count                   uint64 47        |     +--:(TRANSPORT) 48        |     |  +--ro tr-measured-result* [] 49        |     |     +--ro name?    -> /o-ran-elements:processing-elements/ru-elements/name 50        |     |     +--ro count    uint64 51        |     +--:(EAXC_ID) 52        |        +--ro eaxc-measured-result* [] 53        |           +--ro eaxc-id?          uint16 54        |           +--ro count             uint64 55        |           +--ro transport-name?   -> /o-ran-elements:processing-elements/ru-elements/name 56        +--ro tx-stats* [measurement-object] 57        |  +--ro measurement-object            -> /performance-measurement-objects/tx-measurement-58 objects/measurement-object 59        |  +--ro start-time?                   yang-types:date-and-time 60        |  +--ro end-time?                     yang-types:date-and-time 61        |  +--ro (object-unit-id)? 62        |     +--:(RU) 63        |     |  +--ro name?                   -> /hw:hardware/component/name 64        |     |  +--ro count                   uint64 65        |     +--:(TRANSPORT) 66        |     |  +--ro tr-measured-result* [] 67        |     |     +--ro name?    -> /o-ran-elements:processing-elements/ru-elements/name 68        |     |     +--ro count    uint64 69        |     +--:(EAXC_ID) 70        |        +--ro eaxc-measured-result* [] 71        |           +--ro eaxc-id?          uint16 72        |           +--ro count             uint64 73        |           +--ro transport-name?   -> /o-ran-elements:processing-elements/ru-elements/name 74        +--ro epe-stats 75 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        156 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00           +--ro start-time?               yang-types:date-and-time 1           +--ro end-time?                 yang-types:date-and-time 2           +--ro epe-measurement-result* [object-unit-id] 3              +--ro object-unit-id    -> /hw:hardware/component/class 4              +--ro min?              decimal64 5              +--ro max?              decimal64 6              +--ro average?          decimal64 7  8 D.2.8 o-ran-uplane-conf.yang Module 9 The format for the userplane configuration module is provided below 10 module: o-ran-uplane-conf 11   +--rw user-plane-configuration 12      +--rw low-level-tx-links* [name] 13      |  +--rw name                     string 14      |  +--rw processing-element       -> /o-ran-pe:processing-elements/ru-elements/name 15      |  +--rw tx-array-carrier         -> /user-plane-configuration/tx-array-carriers/name 16      |  +--rw low-level-tx-endpoint    -> /user-plane-configuration/low-level-tx-endpoints/name 17      +--rw low-level-rx-links* [name] 18      |  +--rw name                         string 19      |  +--rw processing-element           -> /o-ran-pe:processing-elements/ru-elements/name 20      |  +--rw rx-array-carrier             -> /user-plane-configuration/rx-array-carriers/name 21      |  +--rw low-level-rx-endpoint        -> /user-plane-configuration/low-level-rx-endpoints/name 22      |  +--rw user-plane-uplink-marking?   -> /o-ran-pe:processing-elements/enhanced-uplane-mapping/uplane-23 mapping/up-marking-name 24      +--ro endpoint-types* [id] 25      |  +--ro id                                       uint16 26      |  +--ro supported-section-types* [section-type] 27      |  |  +--ro section-type                    uint8 28      |  |  +--ro supported-section-extensions*   uint8 29      |  +--ro supported-frame-structures*              uint8 30      |  +--ro managed-delay-support?                   enumeration 31      |  +--ro multiple-numerology-supported?           boolean 32      |  +--ro max-numerology-change-duration?          uint16 33      |  +--ro max-control-sections-per-data-section?   uint8 34      |  +--ro max-sections-per-symbol?                 uint16 35      |  +--ro max-sections-per-slot?                   uint16 36      |  +--ro max-remasks-per-section-id?              uint8 37      |  +--ro max-beams-per-symbol?                    uint16 38      |  +--ro max-beams-per-slot?                      uint16 39      |  +--ro max-prb-per-symbol?                      uint16 40      |  +--ro prb-capacity-allocation-granularity*     uint16 41      |  +--ro max-numerologies-per-symbol?             uint16 42      +--ro endpoint-capacity-sharing-groups* [id] 43      |  +--ro id                                       uint16 44      |  +--ro max-control-sections-per-data-section?   uint8 45      |  +--ro max-sections-per-symbol?                 uint16 46      |  +--ro max-sections-per-slot?                   uint16 47      |  +--ro max-remasks-per-section-id?              uint8 48      |  +--ro max-beams-per-symbol?                    uint16 49      |  +--ro max-beams-per-slot?                      uint16 50      |  +--ro max-prb-per-symbol?                      uint16 51      |  +--ro max-numerologies-per-symbol?             uint16 52      |  +--ro max-endpoints?                           uint16 53      |  +--ro max-managed-delay-endpoints?             uint16 54      |  +--ro max-non-managed-delay-endpoints?         uint16 55      +--ro endpoint-prach-group* [id] 56      |  +--ro id                                  uint16 57      |  +--ro supported-prach-preamble-formats*   prach-preamble-format 58      +--ro static-low-level-tx-endpoints* [name] 59      |  +--ro name                       string 60      |  +--ro restricted-interfaces*     -> /if:interfaces/interface/name 61      |  +--ro array                      -> /user-plane-configuration/tx-arrays/name 62      |  +--ro endpoint-type?             -> ../../endpoint-types/id 63      |  +--ro capacity-sharing-groups*   -> ../../endpoint-capacity-sharing-groups/id 64      +--ro static-low-level-rx-endpoints* [name] 65      |  +--ro name                       string 66      |  +--ro restricted-interfaces*     -> /if:interfaces/interface/name 67      |  +--ro array                      -> /user-plane-configuration/rx-arrays/name 68      |  +--ro endpoint-type?             -> ../../endpoint-types/id 69      |  +--ro capacity-sharing-groups*   -> ../../endpoint-capacity-sharing-groups/id 70      |  +--ro prach-group?               -> ../../endpoint-prach-group/id 71      +--rw low-level-tx-endpoints* [name] 72 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        157 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      |  +--rw name                                   -> /user-plane-configuration/static-low-level-tx-1 endpoints/name 2      |  +--rw compression! 3      |  |  +--rw iq-bitwidth?                               uint8 4      |  |  +--rw compression-type                           enumeration 5      |  |  x--rw bitwidth?                                  uint8 6      |  |  +--rw (compression-format)? 7      |  |     +--:(no-compresison) 8      |  |     +--:(block-floating-point) 9      |  |     |  +--rw exponent?                            uint8 10      |  |     +--:(block-scaling) 11      |  |     |  +--rw block-scalar?                        uint8 12      |  |     +--:(u-law) 13      |  |     |  +--rw comp-bit-width?                      uint8 14      |  |     |  +--rw comp-shift?                          uint8 15      |  |     +--:(beam-space-compression) 16      |  |     |  +--rw active-beam-space-coeficient-mask*   uint8 17      |  |     |  +--rw block-scaler?                        uint8 18      |  |     +--:(modulation-compression) 19      |  |        +--rw csf?                                 uint8 20      |  |        +--rw mod-comp-scaler?                     uint16 21      |  +--rw frame-structure?                       uint8 22      |  +--rw cp-type?                               enumeration 23      |  +--rw cp-length                              uint16 24      |  +--rw cp-length-other                        uint16 25      |  +--rw offset-to-absolute-frequency-center    int32 26      |  +--rw number-of-prb-per-scs* [scs] 27      |  |  +--rw scs              mcap:scs-config-type 28      |  |  +--rw number-of-prb    uint16 29      |  +--rw e-axcid 30      |     +--rw o-du-port-bitmask      uint16 31      |     +--rw band-sector-bitmask    uint16 32      |     +--rw ccid-bitmask           uint16 33      |     +--rw ru-port-bitmask        uint16 34      |     +--rw eaxc-id                uint16 35      +--rw low-level-rx-endpoints* [name] 36      |  +--rw name                                   -> /user-plane-configuration/static-low-level-rx-37 endpoints/name 38      |  +--rw compression 39      |  |  +--rw iq-bitwidth?                               uint8 40      |  |  +--rw compression-type                           enumeration 41      |  |  x--rw bitwidth?                                  uint8 42      |  |  +--rw (compression-format)? 43      |  |     +--:(no-compresison) 44      |  |     +--:(block-floating-point) 45      |  |     |  +--rw exponent?                            uint8 46      |  |     +--:(block-scaling) 47      |  |     |  +--rw block-scalar?                        uint8 48      |  |     +--:(u-law) 49      |  |     |  +--rw comp-bit-width?                      uint8 50      |  |     |  +--rw comp-shift?                          uint8 51      |  |     +--:(beam-space-compression) 52      |  |     |  +--rw active-beam-space-coeficient-mask*   uint8 53      |  |     |  +--rw block-scaler?                        uint8 54      |  |     +--:(modulation-compression) 55      |  |        +--rw csf?                                 uint8 56      |  |        +--rw mod-comp-scaler?                     uint16 57      |  +--rw frame-structure?                       uint8 58      |  +--rw cp-type?                               enumeration 59      |  +--rw cp-length                              uint16 60      |  +--rw cp-length-other                        uint16 61      |  +--rw offset-to-absolute-frequency-center    int32 62      |  +--rw number-of-prb-per-scs* [scs] 63      |  |  +--rw scs              mcap:scs-config-type 64      |  |  +--rw number-of-prb    uint16 65      |  +--rw ul-fft-sampling-offsets* [scs] 66      |  |  +--rw scs                       mcap:scs-config-type 67      |  |  +--rw ul-fft-sampling-offset?   uint16 68      |  +--rw e-axcid 69      |  |  +--rw o-du-port-bitmask      uint16 70      |  |  +--rw band-sector-bitmask    uint16 71      |  |  +--rw ccid-bitmask           uint16 72      |  |  +--rw ru-port-bitmask        uint16 73      |  |  +--rw eaxc-id                uint16 74      |  +--rw non-time-managed-delay-enabled?        boolean 75 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        158 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      +--rw tx-array-carriers* [name] 1      |  +--rw name                           string 2      |  +--rw absolute-frequency-center      uint32 3      |  +--rw center-of-channel-bandwidth    uint64 4      |  +--rw channel-bandwidth              uint64 5      |  +--rw active?                        enumeration 6      |  +--ro state                          enumeration 7      |  +--rw type?                          enumeration 8      |  +--ro duplex-scheme?                 enumeration 9      |  +--rw rw-duplex-scheme?              -> /user-plane-configuration/tx-array-10 carriers[name=current()/../name]/duplex-scheme 11      |  +--rw rw-type?                       -> /user-plane-configuration/tx-array-12 carriers[name=current()/../name]/type 13      |  +--rw band-number?                   -> /mcap:module-capability/band-capabilities/band-number 14 {mcap:LAA}? 15      |  +--rw lte-tdd-frame 16      |  |  +--rw subframe-assignment         enumeration 17      |  |  +--rw special-subframe-pattern    enumeration 18      |  +--rw laa-carrier-configuration {mcap:LAA}? 19      |  |  +--rw ed-threshold-pdsch?           int8 20      |  |  +--rw ed-threshold-drs?             int8 21      |  |  +--rw tx-antenna-ports?             uint8 22      |  |  +--rw transmission-power-for-drs?   int8 23      |  |  +--rw dmtc-period?                  enumeration 24      |  |  +--rw dmtc-offset?                  uint8 25      |  |  +--rw lbt-timer?                    uint16 26      |  |  +--rw max-cw-usage-counter* [priority] 27      |  |     +--rw priority         enumeration 28      |  |     +--rw counter-value?   uint8 29      |  +--rw gain                           decimal64 30      |  +--rw downlink-radio-frame-offset    uint32 31      |  +--rw downlink-sfn-offset            int16 32      +--rw rx-array-carriers* [name] 33      |  +--rw name                           string 34      |  +--rw absolute-frequency-center      uint32 35      |  +--rw center-of-channel-bandwidth    uint64 36      |  +--rw channel-bandwidth              uint64 37      |  +--rw active?                        enumeration 38      |  +--ro state                          enumeration 39      |  +--rw type?                          enumeration 40      |  +--ro duplex-scheme?                 enumeration 41      |  +--rw downlink-radio-frame-offset    uint32 42      |  +--rw downlink-sfn-offset            int16 43      |  +--rw gain-correction                decimal64 44      |  +--rw n-ta-offset                    uint32 45      +--ro tx-arrays* [name] 46      |  +--ro name                                      string 47      |  +--ro number-of-rows                            uint16 48      |  +--ro number-of-columns                         uint16 49      |  +--ro number-of-array-layers                    uint8 50      |  +--ro horizontal-spacing?                       decimal64 51      |  +--ro vertical-spacing?                         decimal64 52      |  +--ro normal-vector-direction 53      |  |  +--ro azimuth-angle?   decimal64 54      |  |  +--ro zenith-angle?    decimal64 55      |  +--ro leftmost-bottom-array-element-position 56      |  |  +--ro x?   decimal64 57      |  |  +--ro y?   decimal64 58      |  |  +--ro z?   decimal64 59      |  +--ro polarisations* [p] 60      |  |  +--ro p               uint8 61      |  |  +--ro polarisation    polarisation_type 62      |  +--ro band-number                               -> /mcap:module-capability/band-capabilities/band-63 number 64      |  +--ro max-gain                                  decimal64 65      |  +--ro independent-power-budget                  boolean 66      |  +--ro capabilities* [] 67      |     +--ro max-supported-frequency-dl?   uint64 68      |     +--ro min-supported-frequency-dl?   uint64 69      |     +--ro max-supported-bandwidth-dl?   uint64 70      |     +--ro max-num-carriers-dl?          uint32 71      |     +--ro max-carrier-bandwidth-dl?     uint64 72      |     +--ro min-carrier-bandwidth-dl?     uint64 73      |     +--ro supported-technology-dl*      enumeration 74      +--ro rx-arrays* [name] 75 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        159 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      |  +--ro name                                      string 1      |  +--ro number-of-rows                            uint16 2      |  +--ro number-of-columns                         uint16 3      |  +--ro number-of-array-layers                    uint8 4      |  +--ro horizontal-spacing?                       decimal64 5      |  +--ro vertical-spacing?                         decimal64 6      |  +--ro normal-vector-direction 7      |  |  +--ro azimuth-angle?   decimal64 8      |  |  +--ro zenith-angle?    decimal64 9      |  +--ro leftmost-bottom-array-element-position 10      |  |  +--ro x?   decimal64 11      |  |  +--ro y?   decimal64 12      |  |  +--ro z?   decimal64 13      |  +--ro polarisations* [p] 14      |  |  +--ro p               uint8 15      |  |  +--ro polarisation    polarisation_type 16      |  +--ro band-number                               -> /mcap:module-capability/band-capabilities/band-17 number 18      |  +--ro gain-correction-range 19      |  |  +--ro max    decimal64 20      |  |  +--ro min    decimal64 21      |  +--ro capabilities* [] 22      |     +--ro max-supported-frequency-ul?   uint64 23      |     +--ro min-supported-frequency-ul?   uint64 24      |     +--ro max-supported-bandwidth-ul?   uint64 25      |     +--ro max-num-carriers-ul?          uint32 26      |     +--ro max-carrier-bandwidth-ul?     uint64 27      |     +--ro min-carrier-bandwidth-ul?     uint64 28      |     +--ro supported-technology-ul*      enumeration 29      +--ro relations* [entity] 30      |  +--ro entity    uint16 31      |  +--ro array1 32      |  |  +--ro (antenna-type)? 33      |  |     +--:(tx) 34      |  |     |  +--ro tx-array-name?   -> /user-plane-configuration/tx-arrays/name 35      |  |     +--:(rx) 36      |  |        +--ro rx-array-name?   -> /user-plane-configuration/rx-arrays/name 37      |  +--ro array2 38      |  |  +--ro (antenna-type)? 39      |  |     +--:(tx) 40      |  |     |  +--ro tx-array-name?   -> /user-plane-configuration/tx-arrays/name 41      |  |     +--:(rx) 42      |  |        +--ro rx-array-name?   -> /user-plane-configuration/rx-arrays/name 43      |  +--ro types* [relation-type] 44      |     +--ro relation-type    enumeration 45      |     +--ro pairs* [element-array1] 46      |        +--ro element-array1    uint16 47      |        +--ro element-array2?   uint16 48      +--rw eaxc-id-group-configuration {mcap:EAXC-ID-GROUP-SUPPORTED}? 49      |  +--rw max-num-tx-eaxc-id-groups?       -> /mcap:module-capability/ru-capabilities/eaxcid-grouping-50 capabilities/max-num-tx-eaxc-id-groups 51      |  +--rw max-num-tx-eaxc-ids-per-group?   -> /mcap:module-capability/ru-capabilities/eaxcid-grouping-52 capabilities/max-num-tx-eaxc-ids-per-group 53      |  +--rw max-num-rx-eaxc-id-groups?       -> /mcap:module-capability/ru-capabilities/eaxcid-grouping-54 capabilities/max-num-rx-eaxc-id-groups 55      |  +--rw max-num-rx-eaxc-ids-per-group?   -> /mcap:module-capability/ru-capabilities/eaxcid-grouping-56 capabilities/max-num-rx-eaxc-ids-per-group 57      |  +--rw tx-eaxc-id-group* [representative-tx-eaxc-id] 58      |  |  +--rw representative-tx-eaxc-id    uint16 59      |  |  +--rw member-tx-eaxc-id*           uint16 60      |  +--rw rx-eaxc-id-group* [representative-rx-eaxc-id] 61      |     +--rw representative-rx-eaxc-id    uint16 62      |     +--rw member-rx-eaxc-id*           uint16 63      +--rw general-config 64         +--rw regularization-factor-se-configured?   boolean 65         +--rw little-endian-byte-order?              boolean 66  67   notifications: 68     +---n tx-array-carriers-state-change 69     |  +--ro tx-array-carriers* [name] 70     |     +--ro name     -> /user-plane-configuration/tx-array-carriers/name 71     |     +--ro state?   -> /user-plane-configuration/tx-array-carriers/state 72     +---n rx-array-carriers-state-change 73        +--ro rx-array-carriers* [name] 74           +--ro name     -> /user-plane-configuration/rx-array-carriers/name 75 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        160 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00           +--ro state?   -> /user-plane-configuration/rx-array-carriers/state 1  2  3 D.2.9 o-ran-ald Module 4 The format for the ald module is provided below 5 module: o-ran-ald 6   rpcs: 7     +---x ald-communication 8        +---w input 9        |  +---w port-id        -> /ap:ald-ports-io/ald-port/port-id 10        |  +---w ald-req-msg?   binary 11        +--ro output 12           +--ro port-id                      -> /ap:ald-ports-io/ald-port/port-id 13           +--ro status                       enumeration 14           +--ro error-message?               string 15           +--ro ald-resp-msg?                binary 16           +--ro frames-with-wrong-crc?       uint32 17           +--ro frames-without-stop-flag?    uint32 18           +--ro number-of-received-octets?   uint32 19 D.2.10 o-ran-troubleshooting Module 20 The format for the troubleshooting module is provided below 21 module: o-ran-troubleshooting 22  23   rpcs: 24     +---x start-troubleshooting-logs 25     |  +--ro output 26     |     +--ro status?           enumeration 27     |     +--ro failure-reason?   string 28     +---x stop-troubleshooting-logs 29        +--ro output 30           +--ro status?           enumeration 31           +--ro failure-reason?   string 32  33   notifications: 34     +---n troubleshooting-log-generated 35        +--ro log-file-name*   string 36 D.2.11 o-ran-laa-operations Module 37 The format for the LAA operations module is provided below 38 rpcs: 39   rpcs: 40     +---x start-measurements {mcap:LAA}? 41        +---w input 42        |  +---w band-config* [band-number] 43        |  |  +---w band-number                 band-num 44        |  |  +---w channel-center-frequency*   uint16 45        |  +---w duration-per-channel?    uint16 46        |  +---w maximum-response-time?   uint16 47        +--ro output 48           +--ro band-config* [band-number] 49              +--ro band-number                 band-num 50              +--ro carrier-center-frequency*   uint16 51              +--ro status?                     enumeration 52              +--ro error-message?              string 53  54   notifications: 55     +---n measurement-result {mcap:LAA}? 56        +--ro band-result* [band-number] 57           +--ro band-number            band-num 58           +--ro measurement-success?   boolean 59           +--ro failure-message?       enumeration 60           +--ro channel-result* [measured-channel] 61              +--ro measured-channel    uint16 62              +--ro occupancy-ratio?    uint8 63              +--ro average-rssi?       int8 64 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        161 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00  1  2 D.2.11 o-ran-trace Module 3 The format for the trace operations module is provided below 4 module: o-ran-trace 5  6   rpcs: 7     +---x start-trace-logs 8     |  +--ro output 9     |     +--ro status?           enumeration 10     |     +--ro failure-reason?   string 11     +---x stop-trace-logs 12        +--ro output 13           +--ro status?           enumeration 14           +--ro failure-reason?   string 15  16   notifications: 17     +---n trace-log-generated 18        +--ro log-file-name*          string 19        +--ro is-notification-last?   Boolean 20  21 D.3 Interfaces Folder 22 D.3.1 o-ran-interfaces.yang Module 23 The format for the interfaces module is provided below 24 module: o-ran-interfaces 25 augment /if:interfaces/if:interface: 26     +--rw l2-mtu?             uint16 27     +--rw alias-macs*         yang:mac-address {ALIASMAC-BASED-CU-PLANE}? 28     +--rw vlan-tagging?       boolean 29     +--rw class-of-service 30        +--rw u-plane-marking?            pcp 31        +--rw c-plane-marking?            pcp 32        +--rw m-plane-marking?            pcp 33        +--rw s-plane-marking?            pcp 34        +--rw other-marking?              pcp 35        +--rw enhanced-uplane-markings* [up-marking-name] 36           +--rw up-marking-name     string 37           +--rw enhanced-marking?   pcp 38   augment /if:interfaces/if:interface: 39     +--rw base-interface?   if:interface-ref 40     +--rw vlan-id?          uint16 41   augment /if:interfaces/if:interface: 42     +--rw mac-address?      yang:mac-address 43     +--rw port-reference 44     |  +--rw port-name?     -> /hw:hardware/component/name 45     |  +--rw port-number?   uint8 46     +--ro last-cleared?     yang:date-and-time 47   augment /if:interfaces/if:interface/ip:ipv4: 48     +--rw diffserv-markings {UDPIP-BASED-CU-PLANE}? 49        +--rw u-plane-marking?            inet:dscp 50        +--rw c-plane-marking?            inet:dscp 51        +--rw s-plane-marking?            inet:dscp 52        +--rw other-marking?              inet:dscp 53        +--rw enhanced-uplane-markings* [up-marking-name] 54           +--rw up-marking-name     string 55           +--rw enhanced-marking?   inet:dscp 56   augment /if:interfaces/if:interface/ip:ipv6: 57     +--rw diffserv-markings {UDPIP-BASED-CU-PLANE}? 58        +--rw u-plane-marking?            inet:dscp 59        +--rw c-plane-marking?            inet:dscp 60        +--rw s-plane-marking?            inet:dscp 61        +--rw other-marking?              inet:dscp 62        +--rw enhanced-uplane-markings* [up-marking-name] 63           +--rw up-marking-name     string 64 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        162 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00           +--rw enhanced-marking?   inet:dscp 1   augment /if:interfaces/if:interface/ip:ipv4: 2     +--rw m-plane-marking?   inet:dscp 3   augment /if:interfaces/if:interface/ip:ipv6: 4     +--rw m-plane-marking?   inet:dscp 5  6   rpcs: 7     +---x reset-interface-counters 8 D.3.2 o-ran-processing-elements.yang Module 9 The format for the processing elements module is provided below 10 module: o-ran-processing-element 11   +--rw processing-elements 12      +--ro maximum-number-of-transport-flows?   uint16 13      +--rw transport-session-type?              enumeration 14      +--rw enhanced-uplane-mapping! 15      |  +--rw uplane-mapping* [up-marking-name] 16      |     +--rw up-marking-name         string 17      |     +--rw (up-markings)? 18      |        +--:(ethernet) 19      |        |  +--rw up-cos-name?      -> /if:interfaces/interface/o-ran-int:class-of-service/enhanced-20 uplane-markings/up-marking-name 21      |        +--:(ipv4) 22      |        |  +--rw upv4-dscp-name?   -> /if:interfaces/interface/ip:ipv4/o-ran-int:diffserv-23 markings/enhanced-uplane-markings/up-marking-name 24      |        +--:(ipv6) 25      |           +--rw upv6-dscp-name?   -> /if:interfaces/interface/ip:ipv6/o-ran-int:diffserv-26 markings/enhanced-uplane-markings/up-marking-name 27      +--rw ru-elements* [name] 28         +--rw name              string 29         +--rw transport-flow 30            +--rw interface-name?   -> /if:interfaces/interface/name 31            +--rw aliasmac-flow {o-ran-int:ALIASMAC-BASED-CU-PLANE}? 32            |  +--rw ru-aliasmac-address    -> /if:interfaces/interface[if:name = current()/../../interface-33 name]/o-ran-int:alias-macs 34            |  +--rw vlan-id?               -> /if:interfaces/interface[if:name = current()/../../interface-35 name]/o-ran-int:vlan-id 36            |  +--rw o-du-mac-address       yang:mac-address 37            +--rw eth-flow 38            |  +--rw ru-mac-address      -> /if:interfaces/interface[if:name = current()/../../interface-39 name]/o-ran-int:mac-address 40            |  +--rw vlan-id             -> /if:interfaces/interface[if:name = current()/../../interface-41 name]/o-ran-int:vlan-id 42            |  +--rw o-du-mac-address    yang:mac-address 43            +--rw udpip-flow 44            |  +--rw (address) 45            |  |  +--:(ru-ipv4-address) 46            |  |  |  +--rw ru-ipv4-address?     -> /if:interfaces/interface[if:name = 47 current()/../../interface-name]/ip:ipv4/address/ip 48            |  |  +--:(ru-ipv6-address) 49            |  |     +--rw ru-ipv6-address?     -> /if:interfaces/interface[if:name = 50 current()/../../interface-name]/ip:ipv6/address/ip 51            |  +--rw o-du-ip-address            inet:ip-address 52            |  +--rw ru-ephemeral-udp-port      inet:port-number 53            |  +--rw o-du-ephemeral-udp-port    inet:port-number 54            |  +--rw ecpri-destination-udp      inet:port-number 55            +--rw north-eth-flow {SHARED_CELL}? 56            |  +--rw ru-mac-address?           -> /if:interfaces/interface[if:name = 57 current()/../../interface-name]/o-ran-int:mac-address 58            |  +--rw vlan-id?                  -> /if:interfaces/interface[if:name = 59 current()/../../interface-name]/o-ran-int:vlan-id 60            |  +--rw north-node-mac-address?   yang:mac-address 61            +--rw south-eth-flow {SHARED_CELL}? 62               +--rw ru-mac-address?            -> /if:interfaces/interface[if:name = 63 current()/../../interface-name]/o-ran-int:mac-address 64               +--rw vlan-id?                  -> /if:interfaces/interface[if:name = 65 current()/../../interface-name]/o-ran-int:vlan-id 66               +--rw south-node-mac-address?   yang:mac-address 67  68 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        163 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 
D.3.3 o-ran-transceiver.yang Module 1 The format for the (SFP) transciver module is provided below 2 module: o-ran-transceiver 3   +--rw port-transceivers 4      +--rw port-transceiver-data* [interface-name port-number] 5         +--rw interface-name                     -> /if:interfaces/interface/name 6         +--rw port-number                        -> /if:interfaces/interface[if:name = 7 current()/../interface-name]/o-ran-int:port-reference/port-number 8         +--rw name?                              string 9         +--ro present                            boolean 10         +--ro vendor-id?                         string 11         +--ro vendor-part?                       string 12         +--ro vendor-rev?                        string 13         +--ro serial-no?                         string 14         +--ro SFF8472-compliance-code?           enumeration 15         +--ro connector-type?                    enumeration 16         +--ro identifier?                        enumeration 17         +--ro nominal-bitrate?                   uint32 18         +--ro low-bitrate-margin?                uint8 19         +--ro high-bitrate-margin?               uint8 20         +--ro rx-power-type?                     enumeration 21         +--ro rx-power?                          decimal64 22         +--ro tx-power?                          decimal64 23         +--ro tx-bias-current?                   decimal64 24         +--ro voltage?                           decimal64 25         +--ro temperature?                       decimal64 26         +--ro additional-multi-lane-reporting* [lane] 27            +--ro lane               uint8 28            +--ro rx-power?          decimal64 29            +--ro tx-bias-current?   decimal64 30            +--ro tx-power?          decimal64 31 D.3.4 o-ran-mplane-int.yang Module 32 The format for the management plane interface module is provided below 33 module: o-ran-mplane-int 34   +--rw mplane-info 35      +--rw searchable-mplane-access-vlans-info 36      |  +--rw searchable-access-vlans*   vlan-id 37      |  +--rw vlan-range 38      |     +--rw lowest-vlan-id?    vlan-id 39      |     +--rw highest-vlan-id?   vlan-id 40      +--rw m-plane-interfaces 41      |  +--rw m-plane-sub-interfaces* [interface-name sub-interface] 42      |  |  +--rw interface-name    -> /if:interfaces/interface/name 43      |  |  +--rw sub-interface     -> /if:interfaces/interface[if:name = current()/../interface-name]/o-ran-44 int:vlan-id 45      |  |  +--ro client-info 46      |  |     +--ro mplane-ipv4-info* [mplane-ipv4] 47      |  |     |  +--ro mplane-ipv4    inet:ipv4-address 48      |  |     |  +--ro port?          inet:port-number 49      |  |     +--ro mplane-ipv6-info* [mplane-ipv6] 50      |  |     |  +--ro mplane-ipv6    inet:ipv6-address 51      |  |     |  +--ro port?          inet:port-number 52      |  |     +--ro mplane-fqdn*        inet:domain-name 53      |  +--rw m-plane-ssh-ports 54      |     +--rw call-home-ssh-port?   inet:port-number 55      |     +--rw server-ssh-port?      inet:port-number 56      +--rw configured-client-info 57         +--rw mplane-ipv4-info* [mplane-ipv4] 58         |  +--rw mplane-ipv4    inet:ipv4-address 59         |  +--rw port?          inet:port-number 60         +--rw mplane-ipv6-info* [mplane-ipv6] 61         |  +--rw mplane-ipv6    inet:ipv6-address 62         |  +--rw port?          inet:port-number 63         +--rw mplane-fqdn*        inet:domain-name 64 D.3.5 o-ran-dhcp.yang Module 65 The format for the dhcp module is provided below. 66 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        164 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 module: o-ran-dhcp 1   +--ro dhcp 2      +--ro interfaces* [interface] 3      |  +--ro interface    if:interface-ref 4      |  +--ro dhcpv4 5      |  |  +--ro client-id?                string 6      |  |  +--ro dhcp-server-identifier?   inet:ip-address 7      |  |  +--ro domain-name?              string 8      |  |  +--ro domain-name-servers*      inet:ip-address 9      |  |  +--ro interface-mtu?            uint32 10      |  |  +--ro default-gateways*         inet:ip-address 11      |  |  +--ro netconf-clients* [client] 12      |  |  |  +--ro client           netconf-client-id 13      |  |  |  +--ro optional-port?   inet:port-number 14      |  |  +--ro ca-ra-servers* [servers] 15      |  |  |  +--ro servers         ca-ra-server-id 16      |  |  |  +--ro port-number?    inet:port-number 17      |  |  |  +--ro ca-ra-path?     string 18      |  |  |  +--ro subject-name?   string 19      |  |  |  +--ro protocol?       enumeration 20      |  |  +--ro segw* [gateways] 21      |  |     +--ro gateways    segw-id 22      |  +--ro dhcpv6 23      |     +--ro dhcp-client-identifier 24      |     +--ro dhcp-server-identifier 25      |     +--ro domain-name?              string 26      |     +--ro domain-name-servers*      inet:ip-address 27      |     +--ro netconf-clients* [client] 28      |     |  +--ro client           netconf-client-id 29      |     |  +--ro optional-port?   inet:port-number 30      |     +--ro ca-ra-servers* [servers] 31      |     |  +--ro servers         ca-ra-server-id 32      |     |  +--ro port-number?    inet:port-number 33      |     |  +--ro ca-ra-path?     string 34      |     |  +--ro subject-name?   string 35      |     |  +--ro protocol?       enumeration 36      |     +--ro segw* [gateways] 37      |        +--ro gateways    segw-id 38      +--ro m-plane-dhcp 39         x--ro private-enterprise-number?   uint16 40         +--ro private-enterprise-num?      uint32 41         +--ro vendor-class-data?           String 42 D.3.6 o-ran-externalio.yang Module 43 The format for the external input/output module is provided below 44 module: o-ran-externalio 45   +--rw external-io 46      +--ro input* [name] 47      |  +--ro name       string 48      |  +--ro port-in?   uint8 49      |  +--ro line-in?   boolean 50      +--ro output* [name] 51      |  +--ro name        string 52      |  +--ro port-out    uint8 53      +--rw output-setting* [name] 54         +--rw name        -> /external-io/output/name 55         +--rw line-out?   boolean 56   notifications: 57     +---n external-input-change 58        +--ro current-input-notification 59           +--ro external-input* [name] 60              +--ro name       -> /external-io/input/name 61              +--ro io-port?   -> /external-io/input/port-in 62              +--ro line-in?   -> /external-io/input/line-in 63 D.3.7 o-ran-ald-port.yang Module 64 The format for the Antenna Line Device module is provided below 65 module: o-ran-ald-port 66   +--rw ald-ports-io 67      +--ro over-current-supported?   boolean 68 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        165 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      +--ro ald-port* [name] 1      |  +--ro name                   string 2      |  +--ro port-id                uint8 3      |  +--ro dc-control-support     boolean 4      |  +--ro dc-enabled-status?     boolean 5      |  +--ro supported-connector    enumeration 6      +--rw ald-port-dc-control* [name] 7         +--rw name          -> /ald-ports-io/ald-port/name 8         +--rw dc-enabled?   boolean 9  10   notifications: 11     +---n overcurrent-report {OVERCURRENT-SUPPORTED}? 12      | +--ro overload-condition 13      |    +--ro overloaded-ports*   -> /ald-ports-io/ald-port/name 14     +---n dc-enabled-status-change 15        +--ro ald-port* [name] 16           +--ro name                 -> /ald-ports-io/ald-port/name 17           +--ro dc-enabled-status?   -> /ald-ports-io/ald-port/dc-enabled-status 18 D.3.8 o-ran-ethernet-forwarding.yang Module 19 The format for the module o-ran Ethernet forwarding is provided below. 20 module: o-ran-ethernet-forwarding 21   +--rw ethernet-forwarding-table 22      +--rw aging-time?        uint32 23      +--ro filtering-entry* [address vlan-id] 24         +--ro address     yang:mac-address 25         +--ro vlan-id     uint16 26         +--ro port-map* [port-ref] 27            +--ro port-ref    -> /if:interfaces/interface/or-if:port-reference/port-number 28  29 D.4 Sync Folder 30 D.4.1 o-ran-sync.yang Module 31 The format for the synchronization module is provided below 32 module: o-ran-sync 33   +--rw sync 34      +--ro sync-status 35      |  +--ro sync-state                   enumeration 36      |  +--ro supported-reference-types* [item] 37      |     +--ro item    enumeration 38      +--ro sync-capability 39      |  +--ro sync-t-tsc    enumeration 40      +--rw ptp-config 41      |  +--rw domain-number?            uint8 42      |  +--rw accepted-clock-classes* [clock-classes] 43      |  |  +--rw clock-classes    uint8 44      |  +--rw ptp-profile?              enumeration 45      |  +--rw g-8275-1-config 46      |  |  +--rw multicast-mac-address?   enumeration 47      |  |  +--rw delay-asymmetry?         int16 48      |  +--rw g-8275-2-config 49      |     +--rw local-ip-port?               -> /if:interfaces/interface/name 50      |     +--rw master-ip-configuration* [local-priority] 51      |     |  +--rw local-priority    uint8 52      |     |  +--rw ip-address?       string 53      |     +--rw log-inter-sync-period?       int8 54      |     +--rw log-inter-announce-period?   int8 55      +--rw ptp-status 56      |  +--rw reporting-period?           uint8 57      |  +--ro lock-state?                 enumeration 58      |  +--ro clock-class?                uint8 59      |  +--ro clock-identity?             string 60      |  +--ro partial-timing-supported?   boolean 61      |  +--ro sources* [local-port-number] 62      |     +--ro local-port-number             -> /if:interfaces/interface/o-ran-int:port-reference/port-63 number 64      |     +--ro state?                        enumeration 65 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        166 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      |     +--ro two-step-flag?                boolean 1      |     +--ro leap61?                       boolean 2      |     +--ro leap59?                       boolean 3      |     +--ro current-utc-offset-valid?     boolean 4      |     +--ro ptp-timescale?                boolean 5      |     +--ro time-traceable?               boolean 6      |     +--ro frequency-traceable?          boolean 7      |     +--ro source-clock-identity?        string 8      |     +--ro source-port-number?           uint16 9      |     +--ro current-utc-offset?           int16 10      |     +--ro priority1?                    uint8 11      |     +--ro clock-class?                  uint8 12      |     +--ro clock-accuracy?               uint8 13      |     +--ro offset-scaled-log-variance?   uint16 14      |     +--ro priority2?                    uint8 15      |     +--ro grandmaster-clock-identity?   string 16      |     +--ro steps-removed?                uint16 17      |     +--ro time-source?                  uint8 18      +--rw synce-config 19      |  +--rw acceptance-list-of-ssm*   enumeration 20      |  +--rw ssm-timeout?              uint16 21      +--rw synce-status 22      |  +--rw reporting-period?   uint8 23      |  +--ro lock-state?         enumeration 24      |  +--ro sources* [local-port-number] 25      |     +--ro local-port-number    -> /if:interfaces/interface/o-ran-int:port-reference/port-number 26      |     +--ro state?               enumeration 27      |     +--ro quality-level?       uint8 28      +--rw gnss-config {GNSS}? 29      |  +--rw enable?                        boolean 30      |  +--rw satellite-constelation-list*   enumeration 31      |  +--rw polarity?                      enumeration 32      |  +--rw cable-delay?                   uint16 33      |  +--rw anti-jam-enable?               boolean {ANTI-JAM}? 34      +--rw gnss-status {GNSS}? 35         +--rw reporting-period?   uint8 36         +--ro name?               string 37         +--ro gnss-sync-status?   enumeration 38         +--ro gnss-data 39            +--ro satellites-tracked?   uint8 40            +--ro location 41               +--ro altitude?    int64 42               +--ro latitude?    geographic-coordinate-degree 43               +--ro longitude?   geographic-coordinate-degree 44  45   notifications: 46     +---n synchronization-state-change 47     |  +--ro sync-state?   -> /sync/sync-status/sync-state 48     +---n ptp-state-change 49     |  +--ro ptp-state?   -> /sync/ptp-status/lock-state 50     +---n synce-state-change 51     |  +--ro synce-state?   -> /sync/synce-status/lock-state 52     +---n gnss-state-change {GNSS}? 53        +--ro gnss-state?   -> /sync/gnss-status/gnss-sync-status 54 D.5 Radio Folder 55 D.5.1 o-ran-module-cap.yang Module 56 The format for the module capabilitites module is provided below 57 module: o-ran-module-cap 58   +--rw module-capability 59      +--ro ru-capabilities 60      |  +--ro ru-supported-category?                          enumeration 61      |  x--ro number-of-ru-ports?                             uint8 62      |  +--ro number-of-ru-ports-ul?                          uint8 63      |  +--ro number-of-ru-ports-dl?                          uint8 64      |  +--ro number-of-spatial-streams?                      uint8 65      |  +--ro max-power-per-pa-antenna?                       decimal64 66      |  +--ro min-power-per-pa-antenna?                       decimal64 67      |  +--ro fronthaul-split-option?                         uint8 68      |  +--ro format-of-iq-sample 69 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        167 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      |  |  +--ro dynamic-compression-supported?              boolean 1      |  |  +--ro realtime-variable-bit-width-supported?      boolean 2      |  |  +--ro compression-method-supported* [] 3      |  |  |  +--ro iq-bitwidth?                               uint8 4      |  |  |  +--ro compression-type                           enumeration 5      |  |  |  x--ro bitwidth?                                  uint8 6      |  |  |  +--ro (compression-format)? 7      |  |  |     +--:(no-compresison) 8      |  |  |     +--:(block-floating-point) 9      |  |  |     |  +--ro exponent?                            uint8 10      |  |  |     +--:(block-scaling) 11      |  |  |     |  +--ro block-scalar?                        uint8 12      |  |  |     +--:(u-law) 13      |  |  |     |  +--ro comp-bit-width?                      uint8 14      |  |  |     |  +--ro comp-shift?                          uint8 15      |  |  |     +--:(beam-space-compression) 16      |  |  |     |  +--ro active-beam-space-coeficient-mask*   uint8 17      |  |  |     |  +--ro block-scaler?                        uint8 18      |  |  |     +--:(modulation-compression) 19      |  |  |        +--ro csf?                                 uint8 20      |  |  |        +--ro mod-comp-scaler?                     uint16 21      |  |  +--ro variable-bit-width-per-channel-supported?   boolean 22      |  |  +--ro syminc-supported?                           boolean 23      |  |  +--ro regularization-factor-se-supported?         boolean 24      |  |  +--ro little-endian-supported?                    boolean 25      |  +--ro ul-mixed-num-required-guard-rbs* [scs-a scs-b] 26      |  |  +--ro scs-a                     scs-config-type 27      |  |  +--ro scs-b                     scs-config-type 28      |  |  +--ro number-of-guard-rbs-ul?   uint8 29      |  +--ro dl-mixed-num-required-guard-rbs* [scs-a scs-b] 30      |  |  +--ro scs-a                     scs-config-type 31      |  |  +--ro scs-b                     scs-config-type 32      |  |  +--ro number-of-guard-rbs-dl?   uint8 33      |  +--ro energy-saving-by-transmission-blanks            boolean 34      |  +--ro eaxcid-grouping-capabilities {o-ran-module-cap:EAXC-ID-GROUP-SUPPORTED}? 35      |  |  +--ro max-num-tx-eaxc-id-groups?       uint8 36      |  |  +--ro max-num-tx-eaxc-ids-per-group?   uint8 37      |  |  +--ro max-num-rx-eaxc-id-groups?       uint8 38      |  |  +--ro max-num-rx-eaxc-ids-per-group?   uint8 39      |  +--ro dynamic-transport-delay-management-supported    boolean 40      |  +--ro support-only-unique-ecpri-seqid-per-eaxc?       boolean 41      +--ro band-capabilities* [band-number] 42      |  +--ro band-number                   uint16 43      |  +--ro sub-band-info {o-ran-module-cap:LAA}? 44      |  |  +--ro sub-band-frequency-ranges* [sub-band] 45      |  |  |  +--ro sub-band                      sub-band-string 46      |  |  |  +--ro max-supported-frequency-dl?   uint64 47      |  |  |  +--ro min-supported-frequency-dl?   uint64 48      |  |  +--ro number-of-laa-scarriers?     uint8 49      |  |  +--ro maximum-laa-buffer-size?     uint16 50      |  |  +--ro maximum-processing-time?     uint16 51      |  |  +--ro self-configure?              boolean 52      |  +--ro max-supported-frequency-dl?   uint64 53      |  +--ro min-supported-frequency-dl?   uint64 54      |  +--ro max-supported-bandwidth-dl?   uint64 55      |  +--ro max-num-carriers-dl?          uint32 56      |  +--ro max-carrier-bandwidth-dl?     uint64 57      |  +--ro min-carrier-bandwidth-dl?     uint64 58      |  +--ro supported-technology-dl*      enumeration 59      |  +--ro max-supported-frequency-ul?   uint64 60      |  +--ro min-supported-frequency-ul?   uint64 61      |  +--ro max-supported-bandwidth-ul?   uint64 62      |  +--ro max-num-carriers-ul?          uint32 63      |  +--ro max-carrier-bandwidth-ul?     uint64 64      |  +--ro min-carrier-bandwidth-ul?     uint64 65      |  +--ro supported-technology-ul*      enumeration 66      |  +--ro max-num-component-carriers?   uint8 67      |  +--ro max-num-bands?                uint16 68      |  +--ro max-num-sectors?              uint8 69      |  +--ro max-power-per-antenna?        decimal64 70      |  +--ro min-power-per-antenna?        decimal64 71      |  +--ro codebook-configuration_ng?    uint8 72      |  +--ro codebook-configuration_n1?    uint8 73      |  +--ro codebook-configuration_n2?    uint8 74      +--rw rw-sub-band-info {o-ran-module-cap:LAA}? 75 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        168 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00         +--rw rw-number-of-laa-scarriers?   -> /module-capability/band-capabilities/sub-band-info/number-of-1 laa-scarriers 2         +--rw rw-self-configure?            -> /module-capability/band-capabilities/sub-band-info/self-3 configure   4  5 D.5.2 o-ran-delay-management.yang Module 6 The format for the delay management module is provided below 7 module: o-ran-delay-management 8   +--rw delay-management 9      +--rw bandwidth-scs-delay-state* [bandwidth subcarrier-spacing] 10      |  +--rw bandwidth             bandwidth 11      |  +--rw subcarrier-spacing    uint32 12      |  +--ro ru-delay-profile 13      |     +--ro t2a-min-up       uint32 14      |     +--ro t2a-max-up       uint32 15      |     +--ro t2a-min-cp-dl    uint32 16      |     +--ro t2a-max-cp-dl    uint32 17      |     +--ro tcp-adv-dl       uint32 18      |     +--ro ta3-min          uint32 19      |     +--ro ta3-max          uint32 20      |     +--ro t2a-min-cp-ul    uint32 21      |     +--ro t2a-max-cp-ul    uint32 22      +--rw adaptive-delay-configuration {ADAPTIVE-RU-PROFILE}? 23         +--rw bandwidth-scs-delay-state* [bandwidth subcarrier-spacing] 24         |  +--rw bandwidth             bandwidth 25         |  +--rw subcarrier-spacing    uint32 26         |  +--rw o-du-delay-profile 27         |     +--rw t1a-max-up?   uint32 28         |     +--rw tx-max?       uint32 29         |     +--rw ta4-max?      uint32 30         |     +--rw rx-max?       uint32 31         +--rw transport-delay 32            +--rw t12-min?   uint32 33            +--rw t12-max?   uint32 34            +--rw t34-min?   uint32 35            +--rw t34-max?   uint32 36 D.5.3 o-ran-beamforming.yang Module 37 The format for the beamforming module is provided below 38 module: o-ran-beamforming 39   +--ro beamforming-config 40      x--ro per-band-config* [band-number] 41      |  +--ro band-number          -> /mcap:module-capability/band-capabilities/band-number 42      |  +--ro tx-array*            -> /up:user-plane-configuration/tx-arrays/name 43      |  +--ro rx-array*            -> /up:user-plane-configuration/rx-arrays/name 44      |  +--ro static-properties 45      |  |  +--ro rt-bf-weights-update-support?   boolean 46      |  |  +--ro (beamforming-type)? 47      |  |  |  +--:(frequency) 48      |  |  |  |  +--ro frequency-domain-beams 49      |  |  |  |     +--ro max-number-of-beam-ids                     uint16 50      |  |  |  |     +--ro initial-beam-id                            uint16 51      |  |  |  |     +--ro iq-bitwidth?                               uint8 52      |  |  |  |     +--ro compression-type                           enumeration 53      |  |  |  |     x--ro bitwidth?                                  uint8 54      |  |  |  |     +--ro (compression-format)? 55      |  |  |  |     |  +--:(no-compresison) 56      |  |  |  |     |  +--:(block-floating-point) 57      |  |  |  |     |  |  +--ro exponent?                            uint8 58      |  |  |  |     |  +--:(block-scaling) 59      |  |  |  |     |  |  +--ro block-scalar?                        uint8 60      |  |  |  |     |  +--:(u-law) 61      |  |  |  |     |  |  +--ro comp-bit-width?                      uint8 62      |  |  |  |     |  |  +--ro comp-shift?                          uint8 63      |  |  |  |     |  +--:(beam-space-compression) 64      |  |  |  |     |  |  +--ro active-beam-space-coeficient-mask*   uint8 65      |  |  |  |     |  |  +--ro block-scaler?                        uint8 66      |  |  |  |     |  +--:(modulation-compression) 67      |  |  |  |     |     +--ro csf?                                 uint8 68 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        169 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      |  |  |  |     |     +--ro mod-comp-scaler?                     uint16 1      |  |  |  |     +--ro additional-compression-method-supported* [] 2      |  |  |  |        +--ro iq-bitwidth?                               uint8 3      |  |  |  |        +--ro compression-type                           enumeration 4      |  |  |  |        x--ro bitwidth?                                  uint8 5      |  |  |  |        +--ro (compression-format)? 6      |  |  |  |           +--:(no-compresison) 7      |  |  |  |           +--:(block-floating-point) 8      |  |  |  |           |  +--ro exponent?                            uint8 9      |  |  |  |           +--:(block-scaling) 10      |  |  |  |           |  +--ro block-scalar?                        uint8 11      |  |  |  |           +--:(u-law) 12      |  |  |  |           |  +--ro comp-bit-width?                      uint8 13      |  |  |  |           |  +--ro comp-shift?                          uint8 14      |  |  |  |           +--:(beam-space-compression) 15      |  |  |  |           |  +--ro active-beam-space-coeficient-mask*   uint8 16      |  |  |  |           |  +--ro block-scaler?                        uint8 17      |  |  |  |           +--:(modulation-compression) 18      |  |  |  |              +--ro csf?                                 uint8 19      |  |  |  |              +--ro mod-comp-scaler?                     uint16 20      |  |  |  +--:(time) 21      |  |  |  |  +--ro time-domain-beams 22      |  |  |  |     +--ro max-number-of-beam-ids                     uint16 23      |  |  |  |     +--ro initial-beam-id                            uint16 24      |  |  |  |     +--ro frequency-granularity                      enumeration 25      |  |  |  |     +--ro time-granularity                           enumeration 26      |  |  |  |     +--ro iq-bitwidth?                               uint8 27      |  |  |  |     +--ro compression-type                           enumeration 28      |  |  |  |     x--ro bitwidth?                                  uint8 29      |  |  |  |     +--ro (compression-format)? 30      |  |  |  |     |  +--:(no-compresison) 31      |  |  |  |     |  +--:(block-floating-point) 32      |  |  |  |     |  |  +--ro exponent?                            uint8 33      |  |  |  |     |  +--:(block-scaling) 34      |  |  |  |     |  |  +--ro block-scalar?                        uint8 35      |  |  |  |     |  +--:(u-law) 36      |  |  |  |     |  |  +--ro comp-bit-width?                      uint8 37      |  |  |  |     |  |  +--ro comp-shift?                          uint8 38      |  |  |  |     |  +--:(beam-space-compression) 39      |  |  |  |     |  |  +--ro active-beam-space-coeficient-mask*   uint8 40      |  |  |  |     |  |  +--ro block-scaler?                        uint8 41      |  |  |  |     |  +--:(modulation-compression) 42      |  |  |  |     |     +--ro csf?                                 uint8 43      |  |  |  |     |     +--ro mod-comp-scaler?                     uint16 44      |  |  |  |     +--ro additional-compression-method-supported* [] 45      |  |  |  |        +--ro iq-bitwidth?                               uint8 46      |  |  |  |        +--ro compression-type                           enumeration 47      |  |  |  |        x--ro bitwidth?                                  uint8 48      |  |  |  |        +--ro (compression-format)? 49      |  |  |  |           +--:(no-compresison) 50      |  |  |  |           +--:(block-floating-point) 51      |  |  |  |           |  +--ro exponent?                            uint8 52      |  |  |  |           +--:(block-scaling) 53      |  |  |  |           |  +--ro block-scalar?                        uint8 54      |  |  |  |           +--:(u-law) 55      |  |  |  |           |  +--ro comp-bit-width?                      uint8 56      |  |  |  |           |  +--ro comp-shift?                          uint8 57      |  |  |  |           +--:(beam-space-compression) 58      |  |  |  |           |  +--ro active-beam-space-coeficient-mask*   uint8 59      |  |  |  |           |  +--ro block-scaler?                        uint8 60      |  |  |  |           +--:(modulation-compression) 61      |  |  |  |              +--ro csf?                                 uint8 62      |  |  |  |              +--ro mod-comp-scaler?                     uint16 63      |  |  |  +--:(hybrid) 64      |  |  |     +--ro hybrid-beams 65      |  |  |        +--ro max-number-of-beam-ids                     uint16 66      |  |  |        +--ro initial-beam-id                            uint16 67      |  |  |        +--ro frequency-granularity                      enumeration 68      |  |  |        +--ro time-granularity                           enumeration 69      |  |  |        +--ro iq-bitwidth?                               uint8 70      |  |  |        +--ro compression-type                           enumeration 71      |  |  |        x--ro bitwidth?                                  uint8 72      |  |  |        +--ro (compression-format)? 73      |  |  |        |  +--:(no-compresison) 74      |  |  |        |  +--:(block-floating-point) 75 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        170 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      |  |  |        |  |  +--ro exponent?                            uint8 1      |  |  |        |  +--:(block-scaling) 2      |  |  |        |  |  +--ro block-scalar?                        uint8 3      |  |  |        |  +--:(u-law) 4      |  |  |        |  |  +--ro comp-bit-width?                      uint8 5      |  |  |        |  |  +--ro comp-shift?                          uint8 6      |  |  |        |  +--:(beam-space-compression) 7      |  |  |        |  |  +--ro active-beam-space-coeficient-mask*   uint8 8      |  |  |        |  |  +--ro block-scaler?                        uint8 9      |  |  |        |  +--:(modulation-compression) 10      |  |  |        |     +--ro csf?                                 uint8 11      |  |  |        |     +--ro mod-comp-scaler?                     uint16 12      |  |  |        +--ro additional-compression-method-supported* [] 13      |  |  |           +--ro iq-bitwidth?                               uint8 14      |  |  |           +--ro compression-type                           enumeration 15      |  |  |           x--ro bitwidth?                                  uint8 16      |  |  |           +--ro (compression-format)? 17      |  |  |              +--:(no-compresison) 18      |  |  |              +--:(block-floating-point) 19      |  |  |              |  +--ro exponent?                            uint8 20      |  |  |              +--:(block-scaling) 21      |  |  |              |  +--ro block-scalar?                        uint8 22      |  |  |              +--:(u-law) 23      |  |  |              |  +--ro comp-bit-width?                      uint8 24      |  |  |              |  +--ro comp-shift?                          uint8 25      |  |  |              +--:(beam-space-compression) 26      |  |  |              |  +--ro active-beam-space-coeficient-mask*   uint8 27      |  |  |              |  +--ro block-scaler?                        uint8 28      |  |  |              +--:(modulation-compression) 29      |  |  |                 +--ro csf?                                 uint8 30      |  |  |                 +--ro mod-comp-scaler?                     uint16 31      |  |  +--ro number-of-beams?                uint16 32      |  +--ro beam-information 33      |     +--ro number-of-beamforming-properties?   uint16 34      |     +--ro beamforming-properties* [beam-id] 35      |        +--ro beam-id                 uint16 36      |        +--ro beamforming-property 37      |           +--ro beam-type?                   enumeration 38      |           +--ro beam-group-id?               uint16 39      |           x--ro coarse-fine-beam-relation*                    beam-reference 40      |           x--ro neighbour-beams*                              beam-reference 41      |           +--ro coarse-fine-beam-capability-based-relation*   beam-capabilities-reference 42      |           +--ro neighbour-beams-capability-based*             beam-capabilities-reference 43      +--ro capabilities-groups* [capabilities-group] 44      |  +--ro capabilities-group    uint16 45      |  +--ro band-number?          -> /mcap:module-capability/band-capabilities/band-number 46      |  +--ro tx-array*             -> /up:user-plane-configuration/tx-arrays/name 47      |  +--ro rx-array*             -> /up:user-plane-configuration/rx-arrays/name 48      |  +--ro static-properties 49      |  |  +--ro rt-bf-weights-update-support?   boolean 50      |  |  +--ro (beamforming-type)? 51      |  |  |  +--:(frequency) 52      |  |  |  |  +--ro frequency-domain-beams 53      |  |  |  |     +--ro max-number-of-beam-ids                     uint16 54      |  |  |  |     +--ro initial-beam-id                            uint16 55      |  |  |  |     +--ro iq-bitwidth?                               uint8 56      |  |  |  |     +--ro compression-type                           enumeration 57      |  |  |  |     x--ro bitwidth?                                  uint8 58      |  |  |  |     +--ro (compression-format)? 59      |  |  |  |     |  +--:(no-compresison) 60      |  |  |  |     |  +--:(block-floating-point) 61      |  |  |  |     |  |  +--ro exponent?                            uint8 62      |  |  |  |     |  +--:(block-scaling) 63      |  |  |  |     |  |  +--ro block-scalar?                        uint8 64      |  |  |  |     |  +--:(u-law) 65      |  |  |  |     |  |  +--ro comp-bit-width?                      uint8 66      |  |  |  |     |  |  +--ro comp-shift?                          uint8 67      |  |  |  |     |  +--:(beam-space-compression) 68      |  |  |  |     |  |  +--ro active-beam-space-coeficient-mask*   uint8 69      |  |  |  |     |  |  +--ro block-scaler?                        uint8 70      |  |  |  |     |  +--:(modulation-compression) 71      |  |  |  |     |     +--ro csf?                                 uint8 72      |  |  |  |     |     +--ro mod-comp-scaler?                     uint16 73      |  |  |  |     +--ro additional-compression-method-supported* [] 74      |  |  |  |        +--ro iq-bitwidth?                               uint8 75 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        171 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      |  |  |  |        +--ro compression-type                           enumeration 1      |  |  |  |        x--ro bitwidth?                                  uint8 2      |  |  |  |        +--ro (compression-format)? 3      |  |  |  |           +--:(no-compresison) 4      |  |  |  |           +--:(block-floating-point) 5      |  |  |  |           |  +--ro exponent?                            uint8 6      |  |  |  |           +--:(block-scaling) 7      |  |  |  |           |  +--ro block-scalar?                        uint8 8      |  |  |  |           +--:(u-law) 9      |  |  |  |           |  +--ro comp-bit-width?                      uint8 10      |  |  |  |           |  +--ro comp-shift?                          uint8 11      |  |  |  |           +--:(beam-space-compression) 12      |  |  |  |           |  +--ro active-beam-space-coeficient-mask*   uint8 13      |  |  |  |           |  +--ro block-scaler?                        uint8 14      |  |  |  |           +--:(modulation-compression) 15      |  |  |  |              +--ro csf?                                 uint8 16      |  |  |  |              +--ro mod-comp-scaler?                     uint16 17      |  |  |  +--:(time) 18      |  |  |  |  +--ro time-domain-beams 19      |  |  |  |     +--ro max-number-of-beam-ids                     uint16 20      |  |  |  |     +--ro initial-beam-id                            uint16 21      |  |  |  |     +--ro frequency-granularity                      enumeration 22      |  |  |  |     +--ro time-granularity                           enumeration 23      |  |  |  |     +--ro iq-bitwidth?                               uint8 24      |  |  |  |     +--ro compression-type                           enumeration 25      |  |  |  |     x--ro bitwidth?                                  uint8 26      |  |  |  |     +--ro (compression-format)? 27      |  |  |  |     |  +--:(no-compresison) 28      |  |  |  |     |  +--:(block-floating-point) 29      |  |  |  |     |  |  +--ro exponent?                            uint8 30      |  |  |  |     |  +--:(block-scaling) 31      |  |  |  |     |  |  +--ro block-scalar?                        uint8 32      |  |  |  |     |  +--:(u-law) 33      |  |  |  |     |  |  +--ro comp-bit-width?                      uint8 34      |  |  |  |     |  |  +--ro comp-shift?                          uint8 35      |  |  |  |     |  +--:(beam-space-compression) 36      |  |  |  |     |  |  +--ro active-beam-space-coeficient-mask*   uint8 37      |  |  |  |     |  |  +--ro block-scaler?                        uint8 38      |  |  |  |     |  +--:(modulation-compression) 39      |  |  |  |     |     +--ro csf?                                 uint8 40      |  |  |  |     |     +--ro mod-comp-scaler?                     uint16 41      |  |  |  |     +--ro additional-compression-method-supported* [] 42      |  |  |  |        +--ro iq-bitwidth?                               uint8 43      |  |  |  |        +--ro compression-type                           enumeration 44      |  |  |  |        x--ro bitwidth?                                  uint8 45      |  |  |  |        +--ro (compression-format)? 46      |  |  |  |           +--:(no-compresison) 47      |  |  |  |           +--:(block-floating-point) 48      |  |  |  |           |  +--ro exponent?                            uint8 49      |  |  |  |           +--:(block-scaling) 50      |  |  |  |           |  +--ro block-scalar?                        uint8 51      |  |  |  |           +--:(u-law) 52      |  |  |  |           |  +--ro comp-bit-width?                      uint8 53      |  |  |  |           |  +--ro comp-shift?                          uint8 54      |  |  |  |           +--:(beam-space-compression) 55      |  |  |  |           |  +--ro active-beam-space-coeficient-mask*   uint8 56      |  |  |  |           |  +--ro block-scaler?                        uint8 57      |  |  |  |           +--:(modulation-compression) 58      |  |  |  |              +--ro csf?                                 uint8 59      |  |  |  |              +--ro mod-comp-scaler?                     uint16 60      |  |  |  +--:(hybrid) 61      |  |  |     +--ro hybrid-beams 62      |  |  |        +--ro max-number-of-beam-ids                     uint16 63      |  |  |        +--ro initial-beam-id                            uint16 64      |  |  |        +--ro frequency-granularity                      enumeration 65      |  |  |        +--ro time-granularity                           enumeration 66      |  |  |        +--ro iq-bitwidth?                               uint8 67      |  |  |        +--ro compression-type                           enumeration 68      |  |  |        x--ro bitwidth?                                  uint8 69      |  |  |        +--ro (compression-format)? 70      |  |  |        |  +--:(no-compresison) 71      |  |  |        |  +--:(block-floating-point) 72      |  |  |        |  |  +--ro exponent?                            uint8 73      |  |  |        |  +--:(block-scaling) 74      |  |  |        |  |  +--ro block-scalar?                        uint8 75 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        172 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00      |  |  |        |  +--:(u-law) 1      |  |  |        |  |  +--ro comp-bit-width?                      uint8 2      |  |  |        |  |  +--ro comp-shift?                          uint8 3      |  |  |        |  +--:(beam-space-compression) 4      |  |  |        |  |  +--ro active-beam-space-coeficient-mask*   uint8 5      |  |  |        |  |  +--ro block-scaler?                        uint8 6      |  |  |        |  +--:(modulation-compression) 7      |  |  |        |     +--ro csf?                                 uint8 8      |  |  |        |     +--ro mod-comp-scaler?                     uint16 9      |  |  |        +--ro additional-compression-method-supported* [] 10      |  |  |           +--ro iq-bitwidth?                               uint8 11      |  |  |           +--ro compression-type                           enumeration 12      |  |  |           x--ro bitwidth?                                  uint8 13      |  |  |           +--ro (compression-format)? 14      |  |  |              +--:(no-compresison) 15      |  |  |              +--:(block-floating-point) 16      |  |  |              |  +--ro exponent?                            uint8 17      |  |  |              +--:(block-scaling) 18      |  |  |              |  +--ro block-scalar?                        uint8 19      |  |  |              +--:(u-law) 20      |  |  |              |  +--ro comp-bit-width?                      uint8 21      |  |  |              |  +--ro comp-shift?                          uint8 22      |  |  |              +--:(beam-space-compression) 23      |  |  |              |  +--ro active-beam-space-coeficient-mask*   uint8 24      |  |  |              |  +--ro block-scaler?                        uint8 25      |  |  |              +--:(modulation-compression) 26      |  |  |                 +--ro csf?                                 uint8 27      |  |  |                 +--ro mod-comp-scaler?                     uint16 28      |  |  +--ro number-of-beams?                uint16 29      |  +--ro beam-information 30      |     +--ro number-of-beamforming-properties?   uint16 31      |     +--ro beamforming-properties* [beam-id] 32      |        +--ro beam-id                 uint16 33      |        +--ro beamforming-property 34      |           +--ro beam-type?                   enumeration 35      |           +--ro beam-group-id?               uint16 36      |           +--ro coarse-fine-beam-relation*   beam-reference 37      |           +--ro neighbour-beams*             beam-reference 38      +--ro ue-specific-beamforming! 39      |  +--ro max-number-of-ues?   uint8 40      +--ro operational-properties {MODIFY-BF-CONFIG}? 41      |  +--ro number-of-writeable-beamforming-files    uint8 42      |  +--ro update-bf-non-delete?                    boolean 43      |  +--ro persistent-bf-files?                     boolean 44      +--ro beamforming-trough-attributes-supported?        boolean 45      +--ro beamforming-trough-ue-channel-info-supported?   boolean 46      +--ro beam-tilt {BEAM-TILT}? 47         +--ro predefined-beam-tilt-offset-information* [band-number] 48         |  +--ro band-number                         -> /mcap:module-capability/band-capabilities/band-number 49         |  +--ro elevation-tilt-granularity          uint8 50         |  +--ro azimuth-tilt-granularity            uint8 51         |  +--ro minimum-supported-elevation-tilt    int16 52         |  +--ro maximum-supported-elevation-tilt    int16 53         |  +--ro minimum-supported-azimuth-tilt      int16 54         |  +--ro maximum-supported-azimuth-tilt      int16 55         |  +--ro run-time-tilt-offset-supported      boolean 56         +--ro predefined-beam-tilt-state* [band-number] 57            +--ro band-number                    -> /mcap:module-capability/band-capabilities/band-number 58            +--ro offset-elevation-tilt-angle    int16 59            +--ro offset-azimuth-tilt-angle      int16 60  61   rpcs: 62     +---x activate-beamforming-config {MODIFY-BF-CONFIG}? 63     |  +---w input 64     |  |  +---w beamforming-config-file    string 65     |  |  +---w band-number?               -> /mcap:module-capability/band-capabilities/band-number 66     |  +--ro output 67     |     +--ro status           enumeration 68     |     +--ro error-message?   string 69     +---x activate-beamforming-config-by-capability-group {MODIFY-BF-CONFIG}? 70     |  +---w input 71     |  |  +---w beamforming-config-file    string 72     |  |  +---w capabilities-group         -> /beamforming-config/capabilities-groups/capabilities-group 73     |  +--ro output 74     |     +--ro status           enumeration 75 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        173 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00     |     +--ro error-message?   string 1     +---x modify-predefined-beam-tilt-offset {BEAM-TILT}? 2        +---w input 3        |  +---w predefined-beam-tilt-offset* [band-number] {BEAM-TILT}? 4        |     +---w band-number                    -> /mcap:module-capability/band-capabilities/band-number 5        |     +---w offset-elevation-tilt-angle?   int16 6        |     +---w offset-azimuth-tilt-angle?     int16 7        +--ro output 8           +--ro status           enumeration 9           +--ro error-message?   string 10  11   notifications: 12     +---n beamforming-information-update 13     |  +--ro band-number?   -> /mcap:module-capability/band-capabilities/band-number 14     +---n capability-group-beamforming-information-update 15     |  +--ro capabilities-group    -> /beamforming-config/capabilities-groups/capabilities-group 16     +---n predefined-beam-tilt-offset-complete {BEAM-TILT}? 17        +--ro predefined-beam-tilt-state* [band-number] 18           +--ro band-number                    -> /mcap:module-capability/band-capabilities/band-number 19           +--ro offset-elevation-tilt-angle    int16 20           +--ro offset-azimuth-tilt-angle      int16 21 D.5.4 o-ran-laa.yang Module 22 The format for the LAA module is provided below 23 module: o-ran-laa 24   +--rw laa-config 25      +--rw number-of-laa-scells?                    uint8 26      +--rw multi-carrier-type?                      enumeration 27      +--rw multi-carrier-tx?                        boolean 28      +--rw multi-carrier-freeze?                    boolean 29      +--rw laa-ending-dwpts-supported?              boolean 30      +--rw laa-starting-in-second-slot-supported?   boolean 31  32  33 D.5.6 o-ran-antenna-calibration.yang Module 34 The format for the antenna calibration module is provided below 35 module: o-ran-antenna-calibration 36   +--rw antenna-calibration 37      +--ro antenna-calibration-capabilities 38      |  +--ro self-calibration-support?                     boolean 39      |  +--ro number-of-calibration-symbols-per-block-dl    uint8 40      |  +--ro number-of-calibration-symbols-per-block-ul    uint8 41      |  +--ro interval-between-calibration-blocks?          uint8 42      |  +--ro number-of-calibration-blocks-per-step-dl      uint8 43      |  +--ro number-of-calibration-blocks-per-step-ul      uint8 44      |  +--ro interval-between-calibration-steps?           uint8 45      |  +--ro number-of-calibration-steps                   uint8 46      +--rw self-calibration-policy 47         +--rw self-calibration-allowed?   boolean 48  49   rpcs: 50     +---x start-antenna-calibration 51        +---w input 52        |  +---w symbol-bitmask-dl          string 53        |  +---w symbol-bitmask-ul          string 54        |  +---w slot-bitmask-dl            string 55        |  +---w slot-bitmask-ul            string 56        |  +---w frame-bitmask-dl           string 57        |  +---w frame-bitmask-ul           string 58        |  +---w calibration-step-size      uint8 59        |  +---w calibration-step-number    uint8 60        |  +---w start-sfn                  uint16 61        +--ro output 62           +--ro status           enumeration 63           +--ro error-message?   string 64  65   notifications: 66     +---n antenna-calibration-required 67 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        174 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00     |  +--ro dl-calibration-frequency-chunk* [] 1     |  |  +--ro start-calibration-frequency-dl?   uint64 2     |  |  +--ro end-calibration-frequency-dl?     uint64 3     |  +--ro ul-calibration-frequency-chunk* [] 4     |     +--ro start-calibration-frequency-ul?   uint64 5     |     +--ro end-calibration-frequency-ul?     uint64 6     +---n antenna-calibration-result 7        +--ro status             enumeration 8        +--ro detailed-reason?   String 9  10 D.5.7 o-ran-shared-cell.yang Module 11 The format for the module o-ran shared cell is provided below. 12 module: o-ran-shared-cell 13   +--rw shared-cell 14      +--ro shared-cell-module-cap 15      |  +--ro t-copy                              uint32 16      |  +--ro t-combine                           uint32 17 |  +--ro ta3-prime-max-upper-range           uint32 18      |  +--ro max-number-node-copy-and-combine    uint8 19      |  +--ro max-number-eaxcid-copy              uint8 20      |  +--ro max-number-eaxcid-combine           uint8 21      |  +--ro compression-method-supported* [] {FHM}? 22      |     +--ro iq-bitwidth?                               uint8 23      |     +--ro compression-type                           enumeration 24      |     x--ro bitwidth?                                  uint8 25      |     +--ro (compression-format)? 26      |        +--:(no-compresison) 27      |        +--:(block-floating-point) 28      |        |  +--ro exponent?                            uint8 29      |        +--:(block-scaling) 30      |        |  +--ro block-scalar?                        uint8 31      |        +--:(u-law) 32      |        |  +--ro comp-bit-width?                      uint8 33      |        |  +--ro comp-shift?                          uint8 34      |        +--:(beam-space-compression) 35      |        |  +--ro active-beam-space-coeficient-mask*   uint8 36      |        |  +--ro block-scaler?                        uint8 37      |        +--:(modulation-compression) 38      |           +--ro csf?                                 uint8 39      |           +--ro mod-comp-scaler?                     uint16 40      +--rw shared-cell-config 41         +--rw (shared-cell-copy-combine-mode)? 42            +--:(COMMON) 43            |  +--rw shared-cell-copy-entities* [name] 44            |  |  +--rw name                              string 45            |  |  +--rw north-node-processing-element?    -> /o-ran-pe:processing-elements/ru-elements/name 46            |  |  +--rw south-node-processing-elements*   -> /o-ran-pe:processing-elements/ru-elements/name 47            |  |  +--rw shared-cell-copy-uplane-config {FHM}? 48            |  |     +--rw tx-eaxc-id* [eaxc-id] 49            |  |     |  +--rw eaxc-id    uint16 50            |  |     +--rw rx-eaxc-id* [eaxc-id] 51            |  |     |  +--rw eaxc-id    uint16 52            |  |     +--rw downlink-radio-frame-offset    uint32 53            |  |     +--rw downlink-sfn-offset            int16 54            |  +--rw shared-cell-combine-entities* [name] 55            |     +--rw name                                 string 56            |     +--rw north-node-processing-element?       -> /o-ran-pe:processing-elements/ru-elements/name 57            |     +--rw south-node-processing-elements*      -> /o-ran-pe:processing-elements/ru-elements/name 58            |     +--rw ta3-prime-max?                       uint32 59            |     +--rw shared-cell-combine-uplane-config {FHM}? 60            |        +--rw rx-eaxc-id* [eaxc-id] 61            |        |  +--rw eaxc-id              uint16 62            |        |  +--rw comression-method 63            |        |     +--rw iq-bitwidth?                               uint8 64            |        |     +--rw compression-type                           enumeration 65            |        |     x--rw bitwidth?                                  uint8 66            |        |     +--rw (compression-format)? 67            |        |        +--:(no-compresison) 68            |        |        +--:(block-floating-point) 69            |        |        |  +--rw exponent?                            uint8 70            |        |        +--:(block-scaling) 71            |        |        |  +--rw block-scalar?                        uint8 72 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        175 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00            |        |        +--:(u-law) 1            |        |        |  +--rw comp-bit-width?                      uint8 2            |        |        |  +--rw comp-shift?                          uint8 3            |        |        +--:(beam-space-compression) 4            |        |        |  +--rw active-beam-space-coeficient-mask*   uint8 5            |        |        |  +--rw block-scaler?                        uint8 6            |        |        +--:(modulation-compression) 7            |        |           +--rw csf?                                 uint8 8            |        |           +--rw mod-comp-scaler?                     uint16 9            |        +--rw downlink-radio-frame-offset    uint32 10            |        +--rw downlink-sfn-offset            int16 11            |        +--rw n-ta-offset                    uint32 12            |        +--rw number-of-prb                  uint16 13            +--:(SELECTIVE) 14  15 
Annex ZZZ O-RAN Adopter License Agreement 16 BY DOWNLOADING, USING OR OTHERWISE ACCESSING ANY O-RAN SPECIFICATION, ADOPTER 17 AGREES TO THE TERMS OF THIS AGREEMENT. 18 This O-RAN Adopter License Agreement (the “Agreement”) is made by and between the O-RAN Alliance and the 19 entity that downloads, uses or otherwise accesses any O-RAN Specification, including its Affiliates (the “Adopter”). 20 This is a license agreement for entities who wish to adopt any O-RAN Specification. 21 
Section 1: DEFINITIONS 22 1.1 “Affiliate” means an entity that directly or indirectly controls, is controlled by, or is under common control with 23 another entity, so long as such control exists. For the purpose of this Section, “Control” means beneficial ownership of 24 fifty (50%) percent or more of the voting stock or equity in an entity. 25 1.2 “Compliant Implementation” means any system, device, method or operation (whether implemented in hardware, 26 software or combinations thereof) that fully conforms to a Final Specification. 27 1.3 “Adopter(s)” means all entities, who are not Members, Contributors or Academic Contributors, including their 28 Affiliates, who wish to download, use or otherwise access O-RAN Specifications. 29 1.4 “Minor Update” means an update or revision to an O-RAN Specification published by O-RAN Alliance that does 30 not add any significant new features or functionality and remains interoperable with the prior version of an O-RAN 31 Specification. The term “O-RAN Specifications” includes Minor Updates. 32 1.5 “Necessary Claims” means those claims of all present and future patents and patent applications, other than design 33 patents and design registrations, throughout the world, which (i) are owned or otherwise licensable by a Member, 34 Contributor or Academic Contributor during the term of its Member, Contributor or Academic Contributorship; (ii) 35 such Member, Contributor or Academic Contributor has the right to grant a license without the payment of 36 consideration to a third party; and (iii) are necessarily infringed by a Compliant Implementation (without considering 37 any Contributions not included in the Final Specification). A claim is necessarily infringed only when it is not possible 38 on technical (but not commercial) grounds, taking into account normal technical practice and the state of the art 39 generally available at the date any Final Specification was published by the O-RAN Alliance or the date the patent 40 claim first came into existence, whichever last occurred, to make, sell, lease, otherwise dispose of, repair, use or operate 41 a Compliant Implementation without infringing that claim. For the avoidance of doubt in exceptional cases where a 42 Final Specification can only be implemented by technical solutions, all of which infringe patent claims, all such patent 43 claims shall be considered Necessary Claims. 44 1.6 “Defensive Suspension” means for the purposes of any license grant pursuant to Section 3, Member, Contributor, 45 Academic Contributor, Adopter, or any of their Affiliates, may have the discretion to include in their license a term 46 allowing the licensor to suspend the license against a licensee who brings a patent infringement suit against the 47 licensing Member, Contributor, Academic Contributor, Adopter, or any of their Affiliates. 48 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        176 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 
Section 2: COPYRIGHT LICENSE 1 2.1 Subject to the terms and conditions of this Agreement, O-RAN Alliance hereby grants to Adopter a nonexclusive, 2 nontransferable, irrevocable, non-sublicensable, worldwide copyright license to obtain, use and modify O-RAN 3 Specifications, but not to further distribute such O-RAN Specification in any modified or unmodified way, solely in 4 furtherance of implementations of an ORAN Specification. 5 2.2 Adopter shall not use O-RAN Specifications except as expressly set forth in this Agreement or in a separate written 6 agreement with O-RAN Alliance. 7 
Section 3: FRAND LICENSE 8 3.1 Members, Contributors and Academic Contributors and their Affiliates are prepared to grant based on a separate 9 Patent License Agreement to each Adopter under Fair Reasonable And Non- Discriminatory (FRAND) terms and 10 conditions with or without compensation (royalties) a nonexclusive, non-transferable, irrevocable (but subject to 11 Defensive Suspension), non-sublicensable, worldwide patent license under their Necessary Claims to make, have made, 12 use, import, offer to sell, lease, sell and otherwise distribute Compliant Implementations; provided, however, that such 13 license shall not extend: (a) to any part or function of a product in which a Compliant Implementation is incorporated 14 that is not itself part of the Compliant Implementation; or (b) to any Adopter if that Adopter is not making a reciprocal 15 grant to Members, Contributors and Academic Contributors, as set forth in Section 3.3. For the avoidance of doubt, the 16 foregoing licensing commitment includes the distribution by the Adopter’s distributors and the use by the Adopter’s 17 customers of such licensed Compliant Implementations. 18 3.2 Notwithstanding the above, if any Member, Contributor or Academic Contributor, Adopter or their Affiliates has 19 reserved the right to charge a FRAND royalty or other fee for its license of Necessary Claims to Adopter, then Adopter 20 is entitled to charge a FRAND royalty or other fee to such Member, Contributor or Academic Contributor, Adopter and 21 its Affiliates for its license of Necessary Claims to its licensees. 22 3.3 Adopter, on behalf of itself and its Affiliates, shall be prepared to grant based on a separate Patent License 23 Agreement to each Members, Contributors, Academic Contributors, Adopters and their Affiliates under Fair 24 Reasonable And Non-Discriminatory (FRAND) terms and conditions with or without compensation (royalties) a 25 nonexclusive, non-transferable, irrevocable (but subject to Defensive Suspension), non-sublicensable, worldwide patent 26 license under their Necessary Claims to make, have made, use, import, offer to sell, lease, sell and otherwise distribute 27 Compliant Implementations; provided, however, that such license will not extend: (a) to any part or function of a 28 product in which a Compliant Implementation is incorporated that is not itself part of the Compliant Implementation; or 29 (b) to any Members, Contributors, Academic Contributors, Adopters and their Affiliates that is not making a reciprocal 30 grant to Adopter, as set forth in Section 3.1. For the avoidance of doubt, the foregoing licensing commitment includes 31 the distribution by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ distributors 32 and the use by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ customers of such 33 licensed Compliant Implementations. 34 
Section 4: TERM AND TERMINATION 35 4.1 This Agreement shall remain in force, unless early terminated according to this Section 4. 36 4.2 O-RAN Alliance on behalf of its Members, Contributors and Academic Contributors may terminate this Agreement 37 if Adopter materially breaches this Agreement and does not cure or is not capable of curing such breach within thirty 38 (30) days after being given notice specifying the breach. 39 4.3 Sections 1, 3, 5 - 11 of this Agreement shall survive any termination of this Agreement. Under surviving Section 3, 40 after termination of this Agreement, Adopter will continue to grant licenses (a) to entities who become Adopters after 41 the date of termination; and (b) for future versions of ORAN Specifications that are backwards compatible with the 42 version that was current as of the date of termination. 43 
Section 5: CONFIDENTIALITY 44 Adopter will use the same care and discretion to avoid disclosure, publication, and dissemination of O-RAN 45 Specifications to third parties, as Adopter employs with its own confidential information, but no less than reasonable 46 care. Any disclosure by Adopter to its Affiliates, contractors and consultants should be subject to an obligation of 47 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        177 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 confidentiality at least as restrictive as those contained in this Section. The foregoing obligation shall not apply to any 1 information which is: (1) rightfully known by Adopter without any limitation on use or disclosure prior to disclosure; 2 (2) publicly available through no fault of Adopter; (3) rightfully received without a duty of confidentiality; (4) disclosed 3 by O-RAN Alliance or a Member, Contributor or Academic Contributor to a third party without a duty of 4 confidentiality on such third party; (5) independently developed by Adopter; (6) disclosed pursuant to the order of a 5 court or other authorized governmental body, or as required by law, provided that Adopter provides reasonable prior 6 written notice to O-RAN Alliance, and cooperates with O-RAN Alliance and/or the applicable Member, Contributor or 7 Academic Contributor to have the opportunity to oppose any such order; or (7) disclosed by Adopter with O-RAN 8 Alliance’s prior written approval. 9 
Section 6: INDEMNIFICATION 10 Adopter shall indemnify, defend, and hold harmless the O-RAN Alliance, its Members, Contributors or Academic 11 Contributors, and their employees, and agents and their respective successors, heirs and assigns (the “Indemnitees”), 12 against any liability, damage, loss, or expense (including reasonable attorneys’ fees and expenses) incurred by or 13 imposed upon any of the Indemnitees in connection with any claims, suits, investigations, actions, demands or 14 judgments arising out of Adopter’s use of the licensed O-RAN Specifications or Adopter’s commercialization of 15 products that comply with O-RAN Specifications. 16 
Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY 17 EXCEPT FOR BREACH OF CONFIDENTIALITY, ADOPTER’S BREACH OF SECTION 3, AND ADOPTER’S 18 INDEMNIFICATION OBLIGATIONS, IN NO EVENT SHALL ANY PARTY BE LIABLE TO ANY OTHER 19 PARTY OR THIRD PARTY FOR ANY INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL 20 DAMAGES RESULTING FROM ITS PERFORMANCE OR NON-PERFORMANCE UNDER THIS AGREEMENT, 21 IN EACH CASE WHETHER UNDER CONTRACT, TORT, WARRANTY, OR OTHERWISE, AND WHETHER OR 22 NOT SUCH PARTY HAD ADVANCE NOTICE OF THE POSSIBILITY OF SUCH DAMAGES.  23 O-RAN SPECIFICATIONS ARE PROVIDED “AS IS” WITH NO WARRANTIES OR CONDITIONS 24 WHATSOEVER, WHETHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE. THE O-RAN ALLIANCE 25 AND THE MEMBERS, CONTRIBUTORS OR ACADEMIC CONTRIBUTORS EXPRESSLY DISCLAIM ANY 26 WARRANTY OR CONDITION OF MERCHANTABILITY, SECURITY, SATISFACTORY QUALITY, 27 NONINFRINGEMENT, FITNESS FOR ANY PARTICULAR PURPOSE, ERROR-FREE OPERATION, OR ANY 28 WARRANTY OR CONDITION FOR O-RAN SPECIFICATIONS. 29 
Section 8: ASSIGNMENT 30 Adopter may not assign the Agreement or any of its rights or obligations under this Agreement or make any grants or 31 other sublicenses to this Agreement, except as expressly authorized hereunder, without having first received the prior, 32 written consent of the O-RAN Alliance, which consent may be withheld in O-RAN Alliance’s sole discretion. O-RAN 33 Alliance may freely assign this Agreement. 34 
Section 9: THIRD-PARTY BENEFICIARY RIGHTS 35 Adopter acknowledges and agrees that Members, Contributors and Academic Contributors (including future Members, 36 Contributors and Academic Contributors) are entitled to rights as a third-party beneficiary under this Agreement, 37 including as licensees under Section 3. 38 
Section 10: BINDING ON AFFILIATES 39 Execution of this Agreement by Adopter in its capacity as a legal entity or association constitutes that legal entity’s or 40 association’s agreement that its Affiliates are likewise bound to the obligations that are applicable to Adopter hereunder 41 and are also entitled to the benefits of the rights of Adopter hereunder. 42 

  
Copyright © 2020 by the O-RAN Alliance.  Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ        178 
O-RAN.WG4.MP.0-v03.00 O-RAN.WG4.MP.0-v03.00 
Section 11: GENERAL 1 This Agreement is governed by the laws of Germany without regard to its conflict or choice of law provisions.  2 This Agreement constitutes the entire agreement between the parties as to its express subject matter and expressly 3 supersedes and replaces any prior or contemporaneous agreements between the parties, whether written or oral, relating 4 to the subject matter of this Agreement.  5 Adopter, on behalf of itself and its Affiliates, agrees to comply at all times with all applicable laws, rules and 6 regulations with respect to its and its Affiliates’ performance under this Agreement, including without limitation, export 7 control and antitrust laws. Without limiting the generality of the foregoing, Adopter acknowledges that this Agreement 8 prohibits any communication that would violate the antitrust laws. 9 By execution hereof, no form of any partnership, joint venture or other special relationship is created between Adopter, 10 or O-RAN Alliance or its Members, Contributors or Academic Contributors. Except as expressly set forth in this 11 Agreement, no party is authorized to make any commitment on behalf of Adopter, or O-RAN Alliance or its Members, 12 Contributors or Academic Contributors. 13 In the event that any provision of this Agreement conflicts with governing law or if any provision is held to be null, 14 void or otherwise ineffective or invalid by a court of competent jurisdiction, (i) such provisions will be deemed stricken 15 from the contract, and (ii) the remaining terms, provisions, covenants and restrictions of this Agreement will remain in 16 full force and effect. 17 Any failure by a party or third party beneficiary to insist upon or enforce performance by another party of any of the 18 provisions of this Agreement or to exercise any rights or remedies under this Agreement or otherwise by law shall not 19 be construed as a waiver or relinquishment to any extent of the other parties’ or third party beneficiary’s right to assert 20 or rely upon any such provision, right or remedy in that or any other instance; rather the same shall be and remain in full 21 force and effect. 22  23  24 