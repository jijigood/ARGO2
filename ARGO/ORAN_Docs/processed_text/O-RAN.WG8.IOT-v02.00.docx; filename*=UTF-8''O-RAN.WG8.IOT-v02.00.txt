O-RAN.WG8.IOT.0-v02.00

                                                                                                                   Technical Specification

                                                                         O-RAN.WG8.IOT.0-v02.00

O-RAN Stack Reference Design Working Group

Stack Interoperability Test Specification

	This is a re-published version of the attached final specification.

	For this re-published version, the prior versions of the IPR Policy will apply, except that the previous requirement for Adopters (as defined in the earlier IPR Policy) to agree to an O-RAN Adopter License Agreement to access and use Final Specifications shall no longer apply or be required for these Final Specifications after 1st July 2022.

	The copying or incorporation into any other work of part or all of the material available in this specification in any form without the prior written permission of O-RAN ALLIANCE e.V.  is prohibited, save that you may print or download extracts of the material on this site for your personal use, or copy the material on this site for the purpose of sending to individual third parties for their information provided that you acknowledge O-RAN ALLIANCE as the source of the material and that you inform the third party that these conditions apply to them and that they must comply with them.

                                                                         O-RAN.WG8.IOT.0-v02.00

                                                                                                                   Technical Specification

O-RAN Stack Reference Design Working Group

Stack Interoperability Test Specification

Prepared by the O-RAN ALLIANCE. Copyright © 2021 by the O-RAN ALLIANCE e.V.

By using, accessing or downloading any part of this O-RAN specification document, including by copying, saving, distributing, displaying or preparing derivatives of, you agree to be and are bound to the terms of the O-RAN Adopter License Agreement contained in Annex ZZZ of this specification. All other rights reserved.

	Copyright © 2021 by the O-RAN ALLIANCE e.V.

Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ										  1

Revision History

Date

Revision

Author

Description

2020.11.09

01.00.00

Venkata Nagesh (Radisys)

Rajat Kumar Pati (Radisys)

Manish Kaushik (Radisys)

First release

2021.06.04

02.00.02

Venkata Nagesh (Radisys)

Manish Kaushik (Radisys)

Veeresh Neginhal (Radisys)

Added O1 and E2 test cases (From ORAN.WG8.IOT.016 to ORAN.WG8.IOT.026)

2021.07.07

02.00.00

Venkata Nagesh (Radisys)

Manish Kaushik (Radisys)

Veeresh Neginhal (Radisys)

Review comments incorporated

2021.07.15

02.00.00

Venkata Nagesh (Radisys)

Manish Kaushik (Radisys)

Veeresh Neginhal (Radisys)

Editorial comments incorporated

Contents

Revision History	2

Contents	3

	Chapter 1	Scope and Definitions	8

1.1	Scope	8

1.2	High Level Scenarios	8

1.3	Assumptions	8

1.4	References	9

1.5	Definitions and Abbreviations	9

1.5.1	Definitions	9

1.5.2	Abbreviations	10

1.6	Revision Guideline	11

1.7	General Test Conditions and Declarations	12

1.8	Exclusions and Open Points	12

	Chapter 2	Test Summary	13

2.1	Test Case Summary	13

	Chapter 3	Interoperability (IOT) Standard Test Definitions	15

3.1	Interoperability Standard Test Definitions	15

3.1.1	Standard Test Configurations	15

3.1.2	DUT	15

3.1.3	Testing Tools	15

3.1.4	Time Synchronization	16

3.2	ORAN.WG8.IOT.001: Cell Setup	16

3.2.1	Test Purpose	16

3.2.2	Reference Requirements	16

3.2.3	Initial Conditions	16

3.2.4	Test Setup and Configuration	16

3.2.5	Test Procedure	17

3.3	ORAN.WG8.IOT.002: SystemInformation-MIB	18

3.3.1	Test Purpose	18

3.3.2	Reference Requirements	18

3.3.3	Initial Conditions	18

3.3.4	Test Setup and Configuration	18

3.3.5	Test Procedure	18

3.4	ORAN.WG8.IOT.003: Systeminformation-SIB1	19

3.4.1	Test Purpose	19

3.4.2	Reference Requirements	19

3.4.3	Initial Condition	19

3.4.4	Test Setup and Configuration	19

3.4.5	Test Procedure	19

3.5	ORAN.WG8.IOT.004: Systeminformation-SIB2	20

3.5.1	Test Purpose	20

3.5.2	Reference Requirements	20

3.5.3	Initial Conditions	20

3.5.4	Test Setup and Configuration	20

3.5.5	Test Procedure	20

3.6	ORAN.WG8.IOT.005: Systeminformation-SIB3	21

3.6.1	Test Purpose	21

3.6.2	Reference Requirements	21

3.6.3	Initial Conditions	21

3.6.4	Test Setup and Configuration	21

3.6.5	Test Procedure	21

3.7	ORAN.WG8.IOT.006: Random Access Procedure	22

3.7.1	Test Purpose	22

3.7.2	Reference Requirements	22

3.7.3	Preconditions	22

3.7.4	Test Setup and Configuration	22

3.7.5	Test Procedure	22

3.8	ORAN.WG8.IOT.007: Registration Procedure	23

3.8.1	Test Purpose	23

3.8.2	Reference Requirements	23

3.8.3	Initial Conditions	23

3.8.4	Test Setup and Configuration	23

3.8.5	Test Procedure	24

3.9	ORAN.WG8.IOT.008: UE Initiated De-Registration Procedure	27

3.9.1	Test Purpose	27

3.9.2	Reference Requirements	27

3.9.3	Initial Conditions	27

3.9.4	Test Setup and Configuration	27

3.9.5	Test Procedure	28

3.10	ORAN.WG8.IOT.009: PDU session establishment procedure	29

3.10.1	Test Purpose	29

3.10.2	Reference Requirements	29

3.10.3	Initial Conditions	29

3.10.4	Test Setup and Configuration	29

3.10.5	Test Procedure	30

3.11	ORAN.WG8.IOT.010: PDU Session Modification with Multiple Flow	31

3.11.1	Test Purpose	31

3.11.2	Reference Requirements	31

3.11.3	Initial Conditions	31

3.11.4	Test Setup and Configuration	31

3.11.5	Test Procedure	32

3.12	ORAN.WG8.IOT.011: Idle Mode Paging and Service Request Procedure	33

3.12.1	Test Purpose	33

3.12.2	Reference Requirements	33

3.12.3	Initial Conditions	33

3.12.4	Test Setup and Configuration	34

3.12.5	Test Procedure	34

3.13	ORAN.WG8.IOT.012: Downlink UDP data transfer	36

3.13.1	Test Purpose	36

3.13.2	Reference Requirements	36

3.13.3	Initial Conditions	36

3.13.4	Test Setup and Configuration	36

3.13.5	Test Procedure Sequence	37

3.14	ORAN.WG8.IOT.013: Uplink UDP data transfer	37

3.14.1	Test Purpose	37

3.14.2	Reference Requirements	37

3.14.3	Initial Condition	37

3.14.4	Test Setup and Configuration	38

3.14.5	Test Procedure Sequence	38

3.15	ORAN.WG8.IOT.014: Bidirectional UDP data transfer	38

3.15.1	Test Purpose	38

3.15.2	Reference Requirements	39

3.15.3	Initial Condition	39

3.15.4	Test Setup and Configuration	39

3.15.5	Test Procedure Sequence	39

3.16	ORAN.WG8.IOT.015: Bidirectional UDP data transfer on Multiple Flow	40

3.16.1	Test Purpose	40

3.16.2	Reference Requirements	40

3.16.3	Initial Conditions	40

3.16.4	Test Setup and Configuration	41

3.16.5	Test Procedure	41

3.17	ORAN.WG8.IOT.016: SMO Discovery and O1 Interface establishment between O-DU and SMO using static configuration on the O-DU.	43

3.17.1	Test Purpose	43

3.17.2	Reference Requirements	43

3.17.3	Initial Conditions	43

3.17.4	Test Setup and Configuration	43

3.17.5	Test Procedure	44

3.18	ORAN.WG8.IOT.017: SMO Discovery and O1 Interface establishment between O-DU and SMO.	44

3.18.1	Test Purpose	44

3.18.2	Reference Requirements	44

3.18.3	Initial Conditions	44

3.18.4	Test Setup and Configuration	45

3.18.5	Test Procedure	45

3.19	ORAN.WG8.IOT.018: Verify the cell activation successful when configuration received from SMO for co-located O-RU and O-DU.	46

3.19.1	Test Purpose	46

3.19.2	Reference Requirements	46

3.19.3	Initial Conditions	46

3.19.4	Test Setup and Configuration	47

3.19.5	Test Procedure	47

3.20	ORAN.WG8.IOT.019: Verify the cell activation successful when configuration received from SMO for non co-located(remote) O-RU and O-DU.	48

3.20.1	Test Purpose	48

3.20.2	Reference Requirements	48

3.20.3	Initial Conditions	48

3.20.4	Test Setup and Configuration	49

3.20.5	Test Procedure	49

3.21	ORAN.WG8.IOT.020: Verify SMO is notified with the alarm when O-DU detects out of sync from O-RU in hierarchical model.	51

3.21.1	Test Purpose	51

3.21.2	Reference Requirements	51

3.21.3	Initial Conditions	51

3.21.4	Test Setup and Configuration	52

3.21.5	Test Procedure	52

3.22	ORAN.WG8.IOT.021: Verify SMO sends subscription to O-RU via O-DU for alarms and handles the alarm notification from O-RU via O-DU.	54

3.22.1	Test Purpose	54

3.22.2	Reference Requirements	54

3.22.3	Initial Conditions	54

3.22.4	Test Setup and Configuration	54

3.22.5	Test Procedure	55

3.23	ORAN.WG8.IOT.022: Verify SMO handles any subscribed measurement counters received from O-DU on O1 interface.	55

3.23.1	Test Purpose	55

3.23.2	Reference Requirements	55

3.23.3	Initial Conditions	55

3.23.4	Test Setup and Configuration	56

3.23.5	Test Procedure	56

3.24	ORAN.WG8.IOT.023: Verify O-DU successfully establish E2 Interface with near RT-RIC.	57

3.24.1	Test Purpose	57

3.24.2	Reference Requirements	57

3.24.3	Initial Conditions	57

3.24.4	Test Setup and Configuration	58

3.24.5	Test Procedure	58

3.25	ORAN.WG8.IOT.024: Verify near RT-RIC server sends subscription request with type as REPORT to O-DU.	58

3.25.1	Test Purpose	58

3.25.2	Reference Requirements	58

3.25.3	Initial Conditions	58

3.25.4	Test Setup and Configuration	59

3.25.5	Test Procedure	59

3.26	ORAN.WG8.IOT.025: Verify O-DU includes the RIC Actions Not Admitted List in subscription response to near RT-RIC server.	60

3.26.1	Test Purpose	60

3.26.2	Reference Requirements	60

3.26.3	Initial Conditions	60

3.26.4	Test Setup and Configuration	61

3.26.5	Test Procedure	61

3.27	ORAN.WG8.IOT.026: Verify O-DU sends periodic report to the subscribed features to near RT-RIC server.	62

3.27.1	Test Purpose	62

3.27.2	Reference Requirements	62

3.27.3	Initial Conditions	62

3.27.4	Test Setup and Configuration	63

3.27.5	Test Procedure	63

	Annex A	Test Setup	64

A.1	Test Setup 1: End to End OTA architecture using commercial UE	64

A.2	Test Setup 2: End to End OTA architecture using UE Simulator/Emulator	64

A.3	Test Setup 3: Simulated CU and CN architecture	64

A.4	Test Setup 4: O1 and E2 interface for Remote O-RU connected to O-DU architecture	65

A.5	Test Setup 5: O1 and E2 interface for co-located O-RU and O-DU architecture	65

	Annex B	Test Profiles	66

B.1	Test Profile 1: Throughput Test	66

B.1.1	FTP Settings	66

B.1.2	UDP Settings	66

B.2	Test Profile 1: MIB and SSB	66

B.3	Test Profile 2: SIB1	67

B.4	Test Profile 3: PUCCH Support- Short PUCCH Format	67

B.5	Test Profile 4: Downlink Data Delivery Status Reporting	67

B.6	Test Profile 5: RACH Configuration	68

B.7	Test Profile 6: Throughput Configuration	69

	Annex C	Initial Access Flow	70

Annex ZZZ: O-RAN Adopter License Agreement	71

Section 1: DEFINITIONS	71

Section 2: COPYRIGHT LICENSE	71

Section 3: FRAND LICENSE	71

Section 4: TERM AND TERMINATION	72

Section 5: CONFIDENTIALITY	72

Section 6: INDEMNIFICATION	72

Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY	72

Section 8: ASSIGNMENT	73

Section 9: THIRD-PARTY BENEFICIARY RIGHTS	73

Section 10: BINDING ON AFFILIATES	73

Section 11: GENERAL	73

Tables

Table 1: Test Summary	13

Table 2: Cell Setup	17

Table 3: SystemInformation-MIB	18

Table 4: SystemInformation-SIB1	19

Table 5: SystemInformation-SIB2	20

Table 6: SystemInformation-SIB3	21

Table 7: Random Access Procedure	22

Table 8: Registration	24

Table 9: UE initiated De-registration	28

Table 10: PDU session establishment	30

Table 11: PDU session modification	32

Table 12: Idle mode Paging & Service Request	34

Table 13: Downlink Continuous Throughput	37

Table 14: Uplink Continuous Throughput	38

Table 15: Bidirectional Continuous Throughput	39

Table 16: Bidirectional UDP data on multiple flow	41

Table 17: SMO Discovery and O1 Interface establishment between O-DU and SMO using static configuration in O-DU.	44

Table 18: SMO Discovery and O1 Interface establishment between O-DU and SMO	45

Table 19: cell activation when configuration received from SMO for co-located O-DU and O-RU	47

Table 20: Cell activation when configuration received from SMO for non co-located(remote) O-RU and O-DU	49

Table 21: SMO is notified with the alarm when O-DU detects out of sync from O-RU in hierarchical model	52

Table 22: SMO sends subscription for alarms to O-RU via O-DU and handles the alarm notification from O-RU via O-DU in hierarchical model	55

Table 23: SMO handles any subscribed measurement counters received from O-DU on O1 interface	56

Table 24: O-DU successfully establish E2 Interface with near RT-RIC	58

Table 25: Near RT-RIC server sends subscription request with IE type as REPORT to O-DU	59

Table 26: O-DU includes the RIC Actions Not Admitted List in subscription response to near RT-RIC server	61

Table 27: SMO handles any subscribed measurement counters received from O-DU on O1 interface	63

Table 28: Test Profile 1 - MIB and SSB	66

Table 29: Test Profile 2 - SIB1	67

Table 30: Test Profile 3 - PUCCH Support- Short PUCCH Format	67

Table 31: Test Profile 4 - Downlink Data Delivery Status Reporting	67

Table 32: Test Profile 5 - RACH Configuration	68

Table 33: Test Profile 6 - Throughput Configuration	69

Figures

Figure 1: DUT configuration	15

Figure 2: Test Setup 1 - End to End OTA architecture using commercial UE	64

Figure 3: Test Setup 2 - End to End OTA architecture using UE Simulator/Emulator	64

Figure 4: Test Setup 3 - Simulated CU and CN architecture	64

Figure 5: Test Setup 4 - O1 and E2 interface for Remote O-RU connected to O-DU architecture.	65

Figure 6: Test Setup 5 - O1 and E2 interface for co-located O-RU and O-DU architecture	65

Figure 7: Initial Access Flow	70

Scope and Definitions

Scope

This document specifies the requirements, conditions, configurations, profiles, and sequences for interoperability testing of O-RAN O-CU and O-DU deployment scenarios with other O-RAN components in standalone (SA) mode.

This document complies with ORAN Testing and Integration Focus Group (TIFG) recommendation on a uniform documentation approach for interface testing specifications across all ORAN Working Groups (WGs).

The following interfaces (logical or physical) catered in IOT test cases.

RLC-MAC

L1-L2

RRC-SDAP

SDAP-PDCP

RRC-PDCP

High Level Scenarios

Scenarios included in Release 1 of the IOT specification are aligned with ORAN-WG8.AAD [1]. In this release, the focus is on functional behavior and limited performance of O-CU/O-DU under different traffic scenario. The following scenarios shall be part of Release 1.

Cell Setup and activation.

SystemInformation (MIB, SIB1, SIB2 and SIB3).

RACH (with PRACH Format 0).

Registration and De-Registration procedure.

PDU session establishment and modification.

Idle mode Paging.

UDP data transfer (DL/UL).

The following shall be the performance scenarios:

Throughput under load condition in UL and DL.

Static configuration files shall be used to configure O-CU and O-DU.

Assumptions

In current release of this test specification, the following assumptions have been made:

The F1 interfaces are assumed to comply with 3GPP release specifications [2], [15], [16] and [17].

O-CU and O-DU comply to the same version of the O-RAN Software Architecture specifications [1].

All elements in the interoperability test and the supporting test environment, where 3GPP support is relevant, comply to the same version of the 3GPP specification.

References

The following documents contain provisions which, through reference in this text, constitute provisions of the present document.

O-RAN.WG8.AAD.0-v02.00: “Base Station O-DU and O-CU Software Architecture and APIs”

3GPP TS 38.473: “NG-RAN; F1 Application Protocol (F1AP), (Release 15.13.0)”

3GPP TS 38.321: “Medium Access Control (MAC) protocol specification, (Release 15.12.0)”

3GPP TS 38.322: “Radio Link Control (RLC) protocol specification, (Release 15.5.0)”

3GPP TS 38.323: “Packet Data Convergence Protocol (PDCP) specification, (Release 15.7.0)”

3GPP TS 37.324 “Service Data Adaptation Protocol (SDAP), (Release 15.1.0)”

3GPP TS 38.300: “NR; NR and NG-RAN Overall Description, (Release 15.12.0)”

3GPP TS 38.331: “Radio Resource Control (RRC) protocol specification, (Release 15.13.0)”

3GPP TS 38.300: “NR; NR and NG-RAN Overall Description, (Release 15.12.0)”

3GPP TS 38.425: “NR user plane protocol, (Release 15.7.0)”

3GPP TS 37.324: “Service Data Adaptation Protocol (SDAP), (Release 15.1.0)”

222.10.01: “5G FAPI: PHY API Specification”

3GPP TR 21.905: “Vocabulary for 3GPP Specifications, (Release 17.0.0)”

3GPP TR 38.104: "NR; Base Station (BS) radio transmission and reception, (Release 15.13.0)"

3GPP TS 38.470: "NG-RAN; F1 general aspects and principles, (Release 15.7.0)"

3GPP TS 38.472: "NG-RAN; F1 signalling transport, (Release 15.7.0)".

3GPP TS 38.474: "NG-RAN; F1 data transport, (Release 15.3.0)".

3GPP TS 38.211: “NR; Physical channels and modulation, (Release 15.8.0)”.

O-RAN.WG5.C.1-v03.00: “NR C-plane profile”

3GPP TS 38.413: “NG-RAN; NG Application Protocol (NGAP), (Release 15.11.0)”

3GPP TS 24.501: “Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3, (Release 16.8.0)”

O-RAN-WG5.MP.0-v01.00: “O1 Interface specification for O-DU”

RFC-3736: “Stateless Dynamic Host Configuration Protocol (DHCP) Service for IPv6”

O-RAN.WG4.MP.0-v05.00: “Management Plane Specification”

3GPP TS 28.552: “Management and orchestration; 5G performance measurements, (Release 16.10.0)”

Definitions and Abbreviations

Definitions

For the purposes of the present document, the terms and definitions given in 3GPP TR [13] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR [13]. For the base station classes of Pico, Micro, and Macro, the definitions are given in 3GPP TR [14].

O-CU	O-RAN Central Unit is a logical node hosting PDCP, RRC, SDAP, and other control functions.

O-DU	O-RAN Distributed Unit is a logical node hosting RLC, MAC, and High-PHY layers based on a lower layer functional split.

O-RU	O-RAN Radio Unit is a logical node hosting Low-PHY layer and RF processing based on a lower layer functional split.

F1 interface	The interface defined by 3GPP TS [15], 3GPP TS [16], and 3GPP TS [2], to be further interpreted as per O-RAN WG5 specification for interoperability between O-CU and O-DU from different vendors.

Abbreviations

For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [13] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR [13].

3GPP			Third Generation Partnership Project

5G			Fifth-Generation Mobile Communications

AMC			Adaptive Modulation and Coding

BWP			Bandwidth Part

CA	      Certificate Authority

CSI			Channel State Information

CU			Centralized Unit as defined by 3GPP

DCI			Downlink Control Information

DHCP                        Dynamic Host Configuration Protocol

DL			Downlink

DU			Distributed Unit as defined by 3GPP

DUT			Device Under Test

E1AP			E1 Application Protocol

F1AP			F1 Application Protocol

FAPI			Functional Application Platform Interface

FDD			Frequency Division Duplex

HARQ			Hybrid Automatic Repeat Request

LLS		      Lower Layer Split

MAC			Medium Access Control protocol

MIMO			Multiple Input Multiple Output

MT			Mobile-Termination

MU-MIMO			Multiple User MIMO

NETCONF                Network Configuration Protocol

NG-RAN			Next Generation Radio Access Network

NR			New Radio

O-CU			O-RAN Centralized Unit as defined by O-RAN

O-DU			O-RAN Distributed Unit as defined by O-RAN

OFH			Open Front Haul protocol defined by O-RAN

OFH-C			OFH Control plane

OFH-U			OFH User plane

O-RU			O-RAN Radio Unit as defined by O-RAN

PBCH			Physical Broadcast Channel

PDCCH			Physical Downlink Control Channel

PHY			Physical (L1) access layer of RAN

PRACH			Physical Random Access Channel

PUCCH			Physical Uplink Control Channel

QAM			Quadrature Amplitude Modulation

QoS			Quality of Service

QPSK			Quadrature (Quaternary) Phase Shift Keying

RA	      Registration Authority

RAN			Radio Access Network

Rel-x			Release number: where, x is the actual release number

RF			Radio Frequency

RIC		      RAN Intelligence Controller

RLC			Radio Link Control protocol

RRC			Radio Resource Control protocol

RT                             Real Time

RU			Radio Unit

Rx			Receiver

SCS			Sub-Carrier Spacing

SDAP			Service Data Adaptation Protocol

SDU			Service Data Unit

SMO	      Service Management Orchestration

SRS			Sounding Reference Signal

SU-MIMO			Singer User MIMO

TDD			Time Division Duplex

TLS                           Transport Layer Security

TS			Technical Specification

TTI			Transmission Time Interval

Tx			Transmitter

UE			User Equipment

UL			Uplink

WG			Working Group

Revision Guideline

This Technical Specification has been produced by the O-RAN Alliance.

The content of this document is subject to continuous work within the O-RAN and may change following formal O-RAN approval. Should the O-RAN Alliance modify the contents of the present document, it will be re-released by O-RAN with an identifying change of release date and an increase in version number as follows:

Release x.y.z

where:

x	The first digit is incremented for all changes of substance, that is, technical enhancements, corrections, updates, and so on (the initial approved document will have x=01).

y	The second digit is incremented when editorial only changes have been incorporated in the document.

z	The third digit included only in working versions of the document indicating incremental changes during the editing process.

General Test Conditions and Declarations

In this document, scenarios are considered with real HW (see Annex A), as well as in a simulated environment. Parameters are defined for configurations based on ORAN-WG8.AAD [1], the 3GPP document, and validation shall be done around these parameters. These validations shall be done on all relevant nodes through internal/specific logs.

Exclusions and Open Points

This document excludes the following interfaces (if applicable):

E1

Test Summary

Test Case Summary

Test cases covered in this document are derived from O-RAN.WG8.AAD [1].

Table 1: Test Summary

Module Name

Test Case

Covered in Release

Reference

O-CU, O-DU

Cell setup

Release 1

O-RAN.WG5.C.1 [19],
3GPP TS [2], sections 9.2.1.4 and 9.2.1.5

O-CU, O-DU

SystemInformation: MIB

Release 1

3GPP TS [2], sections 9.2.1.4, 9.2.1.5, 9.3.1.18 and 9.3.1.42

O-CU, O-DU

SystemInformation: SIB1

Release 1

ORAN-WG8.AAD [1] section 9.2.2.3.9

O-CU, O-DU

SystemInformation: SIB2

Release 1

ORAN-WG8.AAD [1]

O-CU, O-DU

SystemInformation: SIB3

Release 1

ORAN-WG8.AAD [1]

O-CU, O-DU

Random Access Procedure

Release 1

ORAN-WG8.AAD [1] section 5.8

O-CU, O-DU

Registration Procedure

Release 1

ORAN-WG8.AAD [1]

O-CU, O-DU

UE Initiated De-Registration

Release 1

ORAN-WG8.AAD [1]

O-CU, O-DU

PDU Establishment Procedure

Release 1

ORAN-WG8.AAD [1]

O-CU, O-DU

PDU Session Modification

Release 1

ORAN-WG8.AAD [1]

O-CU, O-DU

Idle mode Paging

Release 1

ORAN-WG8.AAD [1]

O-CU, O-DU

Downlink Continuous Throughput

Release 1

ORAN-WG8.AAD [1]

O-CU, O-DU

Uplink Continuous Throughput

Release 1

ORAN-WG8.AAD [1]

O-CU, O-DU

Bidirectional Continuous Throughput

Release 1

ORAN-WG8.AAD [1]

O-CU, O-DU

Bidirectional throughput on multiple flow

Release 1

ORAN-WG8.AAD [1]

O1

SMO Discovery and O1 Interface establishment between O-DU and SMO using static configuration on the O-DU.

Release 2

ORAN-WG8.AAD [1]

O1

SMO Discovery and O1 Interface establishment between O-DU and SMO.

Release 2

ORAN-WG8.AAD [1]

O1

Verify the cell activation successful when configuration received from SMO for co-located O-DU and O-RU.

Release 2

ORAN-WG8.AAD [1]

O1

Verify the cell activation successful when configuration received from SMO for non co-located(remote) O-RU and O-DU.

Release 2

ORAN-WG8.AAD [1]

O1

Verify SMO is notified with the alarm when O-DU detects out of sync from O-RU in hierarchical model.

Release 2

ORAN-WG8.AAD [1]

O1

Verify SMO sends subscription to O-RU via O-DU for alarms and handles the alarm notification from O-RU via O-DU.

Release 2

ORAN-WG8.AAD [1]

O1

Verify SMO handles any subscribed measurement counters received from O-DU on O1 interface.

Release 2

ORAN-WG8.AAD [1]

E2

Verify O-DU successfully establish E2 Interface with near RT-RIC.

Release 2

ORAN-WG8.AAD [1]

E2

Verify near RT-RIC server sends subscription request with type as REPORT to O-DU.

Release 2

ORAN-WG8.AAD [1]

E2

Verify O-DU includes the RIC Actions Not Admitted List in subscription response to near RT-RIC server.

Release 2

ORAN-WG8.AAD [1]

E2

Verify O-DU sends periodic report to the subscribed features to near RT-RIC server.

Release 2

ORAN-WG8.AAD [1]

The IOT profiles are included in Annex B. Additional profiles shall be added in the future releases of WG8 Stack Interoperability Test Specification.

Interoperability (IOT) Standard Test Definitions

	Interoperability Standard Test Definitions

Standard Test Configurations

Interoperability testing is performed to validate whether the software of O-CU can interact with the software and system components of O-DU. The message flow and IEs shall be compliant to 3GPP and O-RAN Software Architecture [1]. The focus of this document is to validate interoperability of O-CU and O-DU of same/different vendors.

DUT

O-DU and O-CU are the physical components considered as DUTs. Other network elements, such as O-RU, may be real hardware or simulated based on the test requirements. In certain test cases, the O-DU or O-CU may be simulated.

For details on the test setup and configuration, see Annex A.

Figure 1: DUT configuration

Testing Tools

In all test cases, O-RU may be real or simulated. In certain test cases, the O-DU or O-CU may be simulated.

O-CU or O-CU Emulator: A separate O-CU or simulated O-CU shall be used based on the test setup. More details are mentioned in Annex A.

O-DU or O-DU Emulator: A separate O-DU or simulated O-DU shall be used based on the test setup. More details are mentioned in Annex A.

O-RU or O-RU Emulator: A separate O-RU or simulated O-RU shall be used based on the test requirement. More details are mentioned in Annex A.

Test UE or UE Emulator: An End-to-end (E2E) test requires a UE. It can be a real UE or simulated one based on the test requirement. More details are mentioned in Annex A.

Core or Core Emulator: An E2E test requires a core network. A real Core Network (CN) or simulated core shall be used in E2E setup.

Time Synchronization

The O-DU and O-RU components are required to be synchronized to a common system time and master time source unless otherwise stated.

ORAN.WG8.IOT.001: Cell Setup

Test Purpose

The purpose of this test case is to explain the cell setup when O-DU and O-CU started separately.

Reference Requirements

For detailed requirements, refer to the section 7.2 and 8.1.3 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

Use the default O-DU configuration files to configure O-DU.

O-RU is connected to O-DU (optional).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-CU and O-DU may be configured with YANG data model or static configuration files.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.1.

Test profile 2, refer Annex B Test profile section B.2.

Test Procedure

The following table describes the test procedures for cell setup.

Table 2: Cell Setup

St.

Procedure

Msg Flow

Expected Output

1

O-DU sends an F1 SETUP REQUEST to establish connectivity between the O-DU and O-CU.

O-DU  O-CU

Verify O-DU sends F1 SETUP REQUEST message containing all the mandatory IEs mentioned in section 4.1.5.1.2 of ORAN.WG5.C.1 [19]  to the O-CU-CP. (Control Unit).

2

O-CU sends NGAP Setup Request to AMF.

O-CU  AMF

Verify the NGAP Setup Request should contain all the mandatory IEs mentioned in the section 9.2.6.1 of 3GPP Specification [20].

3

O-CU receives NGAP Setup Response from AMF.

O-CU  AMF

Verify AMF sends NGAP Setup Response message containing all the mandatory IEs mentioned in 9.2.6.1 of 3GPP Specification [20].

4

O-DU receives F1 SETUP RESPONSE from O-CU.

O-DU  O-CU

Verify O-CU sends F1 SETUP RESPONSE message containing all the mandatory IEs mentioned in section 4.1.5.1.2 of ORAN.WG5.C.1 [19] to the O-DU.

5

Add new serving cell at O-CU by using appropriate commands. Use CLI to send the command to O-CU.

O-DU  O-CU

O-CU sends the F1AP gNB-DU configuration update to O-DU.

F1AP gNB-CU configuration update message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

O-DU should add the cell information according to IE Served-Cells-To-Add-List.

6

O-DU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-DU.

O-DU  O-CU

Verify O-DU sends the gNB-DU CONFIGURATION UPDATEACKNOWLEDGE message to O-CU.

F1AP gNB-DU configuration update Ack message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

7

Activate the added cell from the O-CU.

O-DU  O-CU

O-CU sends the F1AP gNB-DU configuration update to O-DU.

F1AP gNB-DU configuration update message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.4 of ORAN.WG5.C.1 [19].

8

O-DU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-CU.

O-DU  O-CU

Verify O-DU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-CU.

F1AP gNB-DU configuration update Ack message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

9

Verify the status of newly added cell.

O-DU

Verify CLI shows O-CU and O-DU operational and newly cell up and RF state of O-RU is active.

ORAN.WG8.IOT.002: SystemInformation-MIB

Test Purpose

The purpose of this test case is to verify broadcast of MIB.

Reference Requirements

For detailed requirements, refer to the section 8.1.3 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Cell setup is successful.

F1AP is established.

O-RU is connected to O-DU (optional).

Use default SSB configuration defined in O-DU configuration files.

Test Setup and Configuration

DUTs:	Single O-DU and Single O-CU.

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.1.

For details on the MIB and SSB test profiles, refer B.2.

Test Procedure

The following table describes the test procedures for SystemInformation-MIB.

Table 3: SystemInformation-MIB

St.

Procedure

Msg Flow

Expected Output

1

The UE is switched on.

-

Verify O-DU should transmit the SS Block and MIB should contains:

systemFrameNumber, subCarrierSpacingCommon,

ssb-SubcarrierOffset,

dmrs-TypeA-Position and

pdcch-ConfigSIB1.

2

O-DU sends SSB configuration as per define periodicity.

UE  O-DU/ O-CU

Verify UE log (Test Tool) that

O-DU broadcast SS burst blocks in every configured SSB periodicity in a first half frame within SFN.

3

UE receive BCCH-BCH-Message MIB from O-DU.

UE  O-DU/ O-CU

Verify Does UE receive BCCH-BCH-Message MIB from O-DU and MIB contain IEs as per the section 6.2.2 of 3GPP Specification [8]. Verify this on Test Tool.

ORAN.WG8.IOT.003: Systeminformation-SIB1

Test Purpose

The purpose of this test case is to verify broadcast of SIB1.

Reference Requirements

For detailed requirements, refer to the section 8.1.3 in ORAN-WG8.AAD [1].

Initial Condition

Following are the preconditions for this test.

Cell setup is successful.

O-RU is connected to O-DU(Optional).

MIB should contains the PDCCH-ConfigSIB1.

Test Setup and Configuration

DUTs:	single O-DU and single O-CU.

Testing tools: are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.1.

For details on the MIB and SSB test profiles, refer B.2.

Test Procedure

The following table describes the test procedures for SystemInformation-MIB.

Table 4: SystemInformation-SIB1

St.

Procedure

Msg Flow

Expected Output

1.

O-DU send SIB1.

UE  O-DU/ O-CU

Verify subCarrierSpacingCommon for SIB1 subcarrier spacing and ssb-subcarrierOffset, which indicate SIB1, are present or not.

The UE received SIB1 with configured periodicity   and SIB 1 contains IE as per 3GPP Specification [8].

ORAN.WG8.IOT.004: Systeminformation-SIB2

Test Purpose

The purpose of this test case is to verify broadcast of SIB2 by O-DU.

Reference Requirements

For detailed requirements, refer to the section 8.1.3 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Cell setup is successful.

O-CU sends SIB2, SIB3 in F1 Setup Response and F1 setup is successful.

O-RU is connected to O-DU.

Broadcast of MIB and SIB1 is successful.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or Core emulator used to terminate UEs (emulator) NAS protocol, and to support NGAP, HTTP2, PFCP protocols.

Protocol Analyzer is used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, refer A.1.

For details on the MIB and SSB test profiles, refer B.2.

For details on the SIB1 test profile, see B.3.

Test Procedure

The following table describes the test procedures for SystemInformation-SIB2.

Table 5: SystemInformation-SIB2

St.

Procedure

Msg Flow

Expected Output

1.

UE receives SIB2 broadcast from O-DU.

UE  O-DU/ O-CU

Verify that O-DU broadcasts SIB2 to UE as per the scheduling information decoded from SIB1.

Verify all the mandatory IEs as per section 6.3.1 in 3GPP Specification [8].

ORAN.WG8.IOT.005: Systeminformation-SIB3

Test Purpose

The purpose of this test case is to verify broadcast of SIB3 by O-DU.

Reference Requirements

For detailed requirements, refer to the section 8.1.3 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Cell setup is successful.

O-CU sends SIB2, SIB3 in F1 Setup Response and F1 setup is successful.

O-RU is connected to O-DU.

Broadcast of MIB and SIB1 is successful.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or Core emulator used to terminate UEs (emulator) NAS protocol, and to support NGAP, HTTP2, PFCP protocols.

Protocol Analyzer is used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, see A.1.

For details on the MIB and SSB test profile, see B.2.

For details on the SIB1 test profile, see B.3.

Test Procedure

The following table describes the test procedures for SystemInformation-SIB3.

Table 6: SystemInformation-SIB3

St.

Procedure

Msg Flow

Expected Output

1.

UE receives SIB3 broadcast from O-DU.

UE  O-DU/ O-CU

Verify that O-DU broadcasts SIB3 to UE as per the scheduling info decoded from SIB1.

Verify all the mandatory IEs as per section 6.3.1 in 3GPP Specification [8].

ORAN.WG8.IOT.006: Random Access Procedure

Test Purpose

The purpose of this test case is to verify using long/short preamble UE attach procedure. This case describes PRACH transmission after getting the parameter in SIB1.

Reference Requirements

For detailed requirements, refer to the section 7.2 in ORAN-WG8.AAD [1].

Preconditions

Following are the preconditions for this test.

Cell setup is successful.

F1AP is established.

The UE has decoded MIB and SIB1.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or Core emulator used to terminate UEs (emulator) NAS protocol, and to support NGAP, HTTP2, PFCP protocols.

Protocol Analyzer is used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, see A.1.

For details on the RACH test profiles, see B.6.

Test Procedure

The following table describes the test procedures for random access procedure.

Table 7: Random Access Procedure

St.

Procedure

Msg Flow

Expected Output

1

The UE transmits a preamble on PRACH.

UE  O-DU/ O-CU

Verify the UE transmits a preamble on PRACH using the preamble indicated by ra-PreambleStartIndex defined in SI-RequestConfig in SIB1 in
Test Profile 7: RACH Configuration.

O-DU receives the preamble within the specified window as different preamble has specific PRACH Index.

2

O-DU transmits an RAR message.

UE  O-DU/ O-CU

Verify Random Access Response includes to UE RA-RNTI including a MAC subPDU with a matching RAPID only.

ORAN.WG8.IOT.007: Registration Procedure

Test Purpose

The purpose of this test case is to verify the UE registration procedure in an end to end environment. This case illustrates that the UE changes its RRC state from idle to connected.

Reference Requirements

For detailed requirements, refer to the sections A.2.2 and 9.2.2 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Cell setup is successful.

F1AP connection is successful between O-CU and O-DU.

The UE has decoded MIB and SIB1.

RACH procedure is successful.

Test Setup and Configuration

DUTs: single O-DU and single O-CU

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or Core emulator used to terminate UEs (emulator) NAS protocol, and to support NGAP, HTTP2, PFCP protocols.

Protocol Analyzer is used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, see A.1.

For details on the MIB and SSB test profiles, see B.2.

For details on the SIB1 test profiles, see B.3.

For details on the RACH test profiles, see B.6.

Test Procedure

The following table below describes the test steps for Registration procedure

Table 8: Registration

St.

Procedure

Msg Flow

Expected Output

1

The UE sends RRCSetupRequest with random ue-identity and establishment cause (refer to the section 5.3.3 in 3GPP 38.331 [8]).

UE  O-DU/ O-CU

Verify that O-DU receives the RRC setup Request message from the UE and sends Initial UL RRC message to O-CU with RRC setup request message in RRC container.

Verify all the mandatory IEs of Initial UL RRC message transfer as per section 6.1.1.3 F1-C IE handling in ORAN.WG5.C.1 [19].

2

UE receives RRCsetup message for SRB1 creation.

UE  O-DU/ O-CU

Verify that O-CU sends DL RRC message transfer to O-DU with RRC setup message in the RRC container to establish SRB1.

Verify all the mandatory IEs of DL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends RRC setup message to UE.

Verify all the mandatory IEs of RRC setup as per section 6.2.2 in 3GPP Specification. [8].

3

UE sends RRC setup complete message over SRB1 with Registration Request as NAS payload.

UE  O-DU/ O-CU

Verify that O-DU receives the RRC setup complete message with registration request as NAS payload from UE and sends UL RRC message transfer to O-CU with RRC setup complete and Registration Request message in RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends Initial UE Message to AMF with NAS payload as Registration Request.

Verify all the mandatory IEs of Initial UE message as per section 9.2.5.1 of 3GPP Specification [20].

4

UE receives NAS Authentication Request message from AMF with authentication parameters required for successfully authenticating the network.

UE  O-DU/ O-CU

Verify that O-CU receives DL NAS Transport message with Authentication request as NAS payload.

Verify that O-CU sends DL RRC Message Transfer to O-DU with NAS Authentication Request in the RRC container.

Verify all the mandatory IEs of DL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends DL Information Transfer message to UE with NAS Authentication request message.

Verify all the mandatory IEs of DL information transfer message as per section 6.2.2 in 3GPP Specification [8].

5

UE sends NAS Authentication response message after successfully authenticating the network.

UE  O-DU/ O-CU

Verify that O-DU receives the UL Information Transfer message from UE with NAS Authentication Response message.

Verify that O-DU sends UL RRC Message Transfer to O-CU with NAS Authentication response in RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends UL NAS Transport message to AMF with Authentication Response as NAS payload.

Verify all the mandatory IEs of UL NAS Transport message as per section 9.2.5.3 in 3GPP Specification [20].

6

UE receives NAS Security mode command message for integrity protection and ciphering.

UE  O-DU/ O-CU

Verify that O-CU receives DL NAS Transport message with security mode command as NAS payload.

Verify that O-CU sends DL RRC Message Transfer to O-DU with NAS Security mode command in the RRC container

Verify all the mandatory IEs of DL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends DL Information Transfer message to UE with NAS Security mode command message.

Verify all the mandatory IEs of DL information transfer message as per section 6.2.2 in 3GPP Specification [8].

7

UE sends NAS Security mode complete message. This message is integrity protected and ciphered.

UE  O-DU/ O-CU

Verify that O-DU receives the UL Information Transfer message from UE with NAS Security mode complete message.

Verify that O-DU sends UL RRC Message Transfer to O-CU with NAS Security mode complete message in RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends UL NAS Transport message to AMF with Security mode complete as NAS payload.

Verify all the mandatory IEs of UL NAS Transport message as per section 9.2.5.3 in 3GPP Specification [20].

8

UE receives AS security mode command message.

UE  O-DU/ O-CU

Verify that O-CU receives Initial context setup request or DL NAS Transport from AMF with Registration accept as NAS payload.

Verify all the mandatory IEs as per the section 9.2.2.1 or 9.2.5.2 in 3GPP Specification [20].

Verify that O-CU sends DL RRC message transfer to O-DU with AS security mode command message in RRC container.

Verify all the mandatory IEs of DL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify the O-DU sends SecurityModeCommand to UE which contains AS integrity and Ciphering Algorithms supported by O-CU.

Verify all the mandatory IEs as per section 6.2.2 in 3GPP Specification [8].

9

UE sends AS Security mode complete message.

UE  O-DU/ O-CU

Verify in response of previous step, the O-DU receives SecurityModeComplete from UE.

Verify all the mandatory IEs as per section 6.2.2 in 3GPP Specification [8].

Verify that O-DU sends UL RRC message transfer to O-CU which contains AS security mode complete in RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

10

UE receives UE capability Enquiry message.

UE  O-DU/ O-CU

Verify that O-CU receives the UE radio capability check request from AMF to check the compatibility between UE radio capabilities and network configuration.

O-CU can optionally request for the UE capability enquiry to the UE.

Verify that O-CU sends DL RRC message transfer to O-DU which contains UE capability enquiry in RRC container.

Verify all the mandatory IEs of DL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends UE capability enquiry to UE to check the UE capabilities.

Verify all the mandatory IEs as per section 6.2.2 in 3GPP Specification [8].

11

UE sends UE capability information message.

UE  O-DU/ O-CU

Verify in response of previous step, the O-DU receives UE capability information from UE.

 Verify all the mandatory IEs as per section 6.2.2 in 3GPP Specification [8].

Verify that O-DU sends UL RRC message transfer to O-CU which contains UE capability information in the RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends UE Radio Capability Info Indication message to AMF.

Verify all the mandatory IEs as per section 9.2.13.1 in 3GPP Specification [20].

12

UE receives Registration Accept message.

UE  O-DU/ O-CU

Verify that O-CU sends DL RRC message transfer to O-DU which contains Registration Accept in RRC container.

Verify all the mandatory IEs of DL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends DL Information Transfer message to UE with NAS Registration accept message.

Verify all the mandatory IEs of DL information transfer message as per section 6.2.2 in 3GPP Specification [8].

13

UE sends Registration complete message.

UE  O-DU/ O-CU

Verify that O-DU receives the UL Information Transfer message from UE with NAS Registration complete message.

Verify that O-DU sends UL RRC Message Transfer to O-CU with NAS Registration complete message in RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends Initial context setup response to AMF.

Verify all the mandatory IEs as per section 9.2.2.2 in 3GPP Specification [20].

Verify that O-CU sends UL NAS Transport message to AMF with Registration complete as NAS payload.

Verify all the mandatory IEs of UL NAS Transport message as per section 9.2.5.3 in 3GPP Specification [20].

ORAN.WG8.IOT.008: UE Initiated De-Registration Procedure

Test Purpose

The purpose of this test case is to verify the UE Initiated De-registration procedure in an end to end environment. This case illustrates that the UE changes its RRC state from connected to idle.

Reference Requirements

For detailed requirements, refer to the section 2.2, 9.2.2 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Cell setup is successful.

F1AP connection is successful between O-DU and O-CU.

The UE has decoded MIB and SIB1.

RACH procedure is successful.

RRC setup procedure is successful.

UE Registration procedure is successful.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or Core emulator used to terminate UEs (emulator) NAS protocol, and to support NGAP, HTTP2, PFCP protocols.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, see A.1.

For details on the MIB and SSB test profiles, see B.2.

For details on the SIB1 test profiles, see B.3.

For details on the RACH test profiles, see B.6.

Test Procedure

The following table below describes the test steps for De-registration procedure.

Table 9: UE initiated De-registration

St.

Procedure

Msg Flow

Expected Output

1

The UE sends De-registration request with SUCI or 5G-GUTI (refer to the section 8.2.12.1 in 3GPP Specification [21] ).

UE  O-DU/ O-CU

Verify that O-DU receives the UL information transfer message which contains NAS De-registration message.

Verify that O-DU sends UL RRC message transfer to O-CU with De-registration request in RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends Uplink NAS transport with NAS PDU as De-registration request to AMF.

Verify all the mandatory IEs as per section 9.2.5.3 in 3GPP Specification [20].

2

UE receives De-registration accept message.

UE  O-DU/ O-CU

 Verify that O-CU receives Downlink NAS transport with NAS PDU as De-registration accept from AMF.

Verify all the mandatory IEs as per section 9.2.5.2 in 3GPP Specification [20].

Verify that O-CU sends DL RRC message transfer to O-DU with De-registration accept in RRC container.

Verify all the mandatory IEs of DL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends DL Information Transfer message to UE with NAS De-registration accept message.

Verify all the mandatory IEs of DL information transfer message as per section 6.2.2 in 3GPP Specification [8].

Verify that O-CU receives the UE context release command from AMF.

Verify all the mandatory IEs as per section 9.2.2.5 in 3GPP Specification [20].

Verify that O-CU sends UE context release command message to O-DU.

Verify all the mandatory IEs as per section 6.2.1.2 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends UE context release complete to O-CU on F1 interface.

Verify all the mandatory IEs as per section 6.2.1.2 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends UE context release complete to AMF.

Verify all the mandatory IEs as per section 9.2.2.6 in 3GPP Specification [20].

3

UE receives RRC Connection Release.

UE  O-DU/ O-CU

O-CU sends DL RRC message transfer to O-DU.

O-DU sends RRC Connection Release message to UE.

ORAN.WG8.IOT.009: PDU session establishment procedure

Test Purpose

The purpose of this test case is to verify the UE PDU session establishment procedure in an end to end environment. This case illustrates that the UE will be assigned a PDU IP after successful establishment of PDU session.

Reference Requirements

For detailed requirements, refer to the section 2.2 and 9.2.2 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Cell setup is successful.

F1AP connection is successful between O-DU and O-CU

The UE has decoded MIB and SIB1.

RACH procedure is successful.

RRC setup is successful.

Registration is successful.

Test Setup and Configuration

DUTs:	single O-DU and single O-CU

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or Core emulator used to terminate UEs (emulator) NAS protocol, and to support NGAP, HTTP2, PFCP protocols.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup see A.1.

For details on the MIB and SSB test profiles, see B.2.

For details on the SIB1 test profiles, see B.3.

For details on the RACH test profiles, see B.6.

Test Procedure

The following table below describes the test steps for PDU session establishment procedure.

Table 10: PDU session establishment

St.

Procedure

Msg Flow

Expected Output

1

The UE sends PDU session Establishment Request with PDU session id (refer to the section 8.3.1 in 3GPP Specification [21]).

UE  O-DU/ O-CU

Verify that O-DU receives UL information transfer message which contains PDU session establishment request as NAS message.

Verify that O-DU sends UL RRC message transfer to O-CU which contains PDU session establishment request in RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends Uplink NAS transport with NAS PDU as PDU Session Establishment Request to AMF.

Verify all the mandatory IEs as per section 9.2.5.3 in 3GPP Specification [20].

2

UE receives RRC reconfiguration and PDU session establishment accept message.

UE  O-DU/ O-CU

Verify that O-CU receives PDU Session Resource Setup Request from AMF with NAS-PDU as PDU session establishment accept.

Verify all the mandatory IEs as per section 9.2.1.1 in 3GPP Specification [20].

Verify that O-CU sends UE context setup request to O-DU for establishing the DRB.

Verify all the mandatory IEs of UE context setup request as per section 6.1.1.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends UE context setup response to O-CU after successfully establishing the DRB.

Verify all the mandatory IEs of UE context setup response as per section 6.1.1.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends DL RRC message transfer to O-DU with RRC reconfiguration in RRC container.

Verify all the mandatory IEs of DL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends RRC reconfiguration message to UE which contains PDU session establishment accept as NAS payload.

3

UE sends RRC reconfiguration complete.

UE  O-DU/ O-CU

Verify that O-DU receives RRC reconfiguration complete from UE.

Verify that O-DU sends UL RRC message transfer to O-CU with RRC reconfiguration complete in RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends PDU Session Resource Setup Response to AMF over NG interface.

Verify all the mandatory IEs as per section 9.2.1.2 in 3GPP Specification [20].

ORAN.WG8.IOT.010: PDU Session Modification with Multiple Flow

Test Purpose

The purpose of this test case is to verify the network initiated PDU Modification procedure in an end to end environment. This test case illustrates the Network Initiated Modification of PDU Session with by adding one GBR Flow of 5QI 3 and one Non GBR Flow of 5QI 6.

Reference Requirements

For detailed requirements, refer to the section 2.2, 9.2.2, 7.2 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Cell setup is successful.

F1AP connection is successful between O-DU and O-CU.

The UE has decoded MIB and SIB1.

RACH procedure is successful.

RRC setup is successful.

Registration is successful with Follow ON bit as 1.

UE initiated PDU session establishment procedure is successful.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2, and HTTP messages.

Protocol Analyzer is used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, see A.1.

For details on the MIB and SSB test profiles, see B.2.

For details on the SIB1 test profiles, see B.3.

For details on the RACH test profiles, see B.6.

Test Procedure

The following table below describes the test steps for network initiated PDU Modification procedure

Table 11: PDU session modification

St.

Procedure

Msg Flow

Expected Output

1

AMF sends NGAP PDU Session Resource Modify Request to O-CU.

O-CU/O-DU   AMF

Verify that O-CU receives sends NGAP PDU Session Resource Modify Request message which contains the Information about the PDU Session and the flow which the 5G CN wants to add.

NGAP PDU Session Resource Modify Request should contain all the Mandatory IEs mentioned in the section 9.2.1.5 and 9.3.4.3 of 3GPP Specification [20].

Verify that O-CU sends F1AP UE Context Modification Request message to O-DU.

F1AP UE Context Modification Request message should contain all the mandatory IEs mentioned in section 6.3.1.1.1 of ORAN.WG5.C.1 [19].

Verify that O-DU sends F1AP UE Context Modification Response message to O-CU.

F1AP UE Context Modification Response message should contain all the mandatory IEs mentioned in section 6.3.1.1.1 of ORAN.WG5.C.1 [19].

Verify that O-CU sends F1AP DL RRC Message Transfer Request with RRC reconfiguration message in RRC container to O-DU and the message should contain all the mandatory IEs mentioned in section 6.3.1.1.1 of ORAN.WG5.C.1 [19].

2

UE receives RRC reconfiguration and 5G SM: PDU session Modification Command message.

UE  O-DU/ O-CU

Verify that O-DU sends RRC reconfiguration message to UE and the RRC Reconfiguration message should contain all the mandatory IEs mentioned in the 3GPP Specification [8].

3

UE sends RRC Reconfiguration Complete.

UE  O-DU/ O-CU

Verify that O-DU receives the RRC Reconfiguration Complete message and sends F1AP UL RRC message transfer to O-CU which contains RRC Reconfiguration Complete inside RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.1.3 F1-C IE handling in ORAN.WG5.C.1 [19].

4

O-CU sends NGAP PDU Session Resource Modify Response message to AMF.

O-DU/O-CU  AMF

Verify that AMF receives the NGAP PDU Session Resource Modify Response.

NGAP PDU Session Resource Modify Response should contain all the Mandatory IEs mentioned in the section 9.2.1.6 and 9.3.4.3 of 3GPP Specification [20].

Verify that O-CU sends F1AP UE Context Modification Request to O-DU.

F1AP UE Context Modification Request message should contain all the mandatory IEs mentioned in section 6.3.1.1.1 of ORAN.WG5.C.1 [19].

Verify that O-DU sends F1AP UE Context Modification Response message to O-CU.

F1AP UE Context Modification Response message should contain all the mandatory IEs mentioned in section 6.3.1.1.1 of ORAN.WG5.C.1 [19].

5

UE sends UL Information Transfer message containing the NAS message 5GSM: PDU Session Modification Complete.

UE  O-DU/ O-CU

Verify that O-DU receives the sends UL Information Transfer message and sends UL RRC message transfer to O-CU.

Verify that O-CU sends NGAP Uplink NAS Transport Message to AMF with NAS payload as 5GSM: PDU Session Modification Complete.

ORAN.WG8.IOT.011: Idle Mode Paging and Service Request Procedure

Test Purpose

The purpose of this test case is to verify the UE idle mode paging and Service Request procedure in an end to end environment. This test case illustrates the UE transition from RRC Idle state to RRC Connected state.

Reference Requirements

For detailed requirements, refer to the section 2.2, 9.2.2, 7.2 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Cell setup is successful.

F1AP connection is successful between O-DU and O-CU

The UE has decoded MIB and SIB1.

RACH procedure is successful.

RRC setup is successful.

Registration is successful.

UE moves to RRC-Idle state.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or Core emulator used to terminate UEs (emulator) NAS protocol, and to support NGAP, HTTP2, PFCP protocols.

Protocol Analyzer is used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, see A.1.

For details on the MIB and SSB test profiles, see B.2.

For details on the SIB1 test profiles, see B.3.

For details on the RACH test profiles, see B.6.

Test Procedure

The following table below describes the test steps for Idle mode paging and Service Request procedure

Table 12: Idle mode Paging & Service Request

St.

Procedure

Msg Flow

Expected Output

1

The UE moves to RRC-IDLE state and DL data is received at UPF.

UE  O-DU/ O-CU

Verify that O-CU receives Paging message from AMF over NG interface.

Verify all the mandatory IEs as per section 9.2.4 in 3GPP Specification [20].

2

UE receives paging message.

UE  O-DU/ O-CU

Verify that O-CU sends Paging message to O-DU over F1 interface.

Verify all the mandatory IEs as per section 9.2.6 in 3GPP Specification [2].

Verify that O-DU sends Paging message to UE.

Verify all the mandatory IEs as per section 6.2.2 in 3GPP Specification [8].

3

UE sends RRC setup request with S-TMSI.

UE  O-DU/ O-CU

Verify that O-DU receives the RRC setup request message and sends Initial UL RRC message transfer to O-CU which contains RRC setup request message in RRC container.

Verify all the mandatory IEs of Initial UL RRC message transfer as per section 6.1.1.3 F1-C IE handling in ORAN.WG5.C.1 [19].

4

UE receives RRC setup message.

UE  O-DU/ O-CU

Verify that O-CU sends DL RRC message transfer to O-DU with RRC setup message in the RRC container to establish SRB1.

Verify all the mandatory IEs of DL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends RRC setup message to UE.

Verify all the mandatory IEs of RRC setup as per section 6.2.2 in 3GPP Specification. [8].

5

UE sends RRC setup complete message over SRB1 with Service Request as NAS payload.

UE  O-DU/ O-CU

Verify that O-DU receives the RRC setup complete message with Service request as NAS payload from UE and sends UL RRC message transfer to O-CU with RRC setup complete and Service Request message in RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends Initial UE Message to AMF with NAS payload as Service Request.

Verify all the mandatory IEs of Initial UE message as per section 9.2.5.1 of 3GPP Specification [20].

6

UE receives RRC reconfiguration with Service Accept message as NAS payload.

UE  O-DU/ O-CU

Verify that O-CU receives Initial context setup request message with NAS payload as service accept.

Verify that O-CU sends DL RRC message transfer to O-DU which contains RRC reconfiguration and service accept messages in RRC container.

Verify all the mandatory IEs of DL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-DU sends RRC Reconfiguration message which contains Service accept as NAS payload.

Verify all the mandatory IEs of RRC reconfiguration message as per section 6.2.2 in 3GPP Specification [8].

7

UE sends RRC reconfiguration complete message.

UE  O-DU/ O-CU

Verify that O-DU receives the RRC Reconfiguration complete message and sends UL RRC Message transfer to O-CU which contains RRC reconfiguration complete in RRC container.

Verify all the mandatory IEs of UL RRC message transfer as per section 6.1.2.3 F1-C IE handling in ORAN.WG5.C.1 [19].

Verify that O-CU sends Initial context setup response message to AMF.

Verify all the mandatory IEs of Initial context setup response message as per section 9.2.2.2 in 3GPP Specification [20].

ORAN.WG8.IOT.012: Downlink UDP data transfer

Test Purpose

The purpose of this test case is to verify peak and average downlink throughput on the default flow that is 5QI 9 of the PDU Session.

Reference Requirements

For detailed requirements, refer to the section 2.2 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Cell setup is successful.

F1AP connection is successful between O-DU and O-CU.

The UE has decoded MIB and SIB1.

RACH procedure is successful.

RRC setup is successful.

Registration is successful with Follow ON bit as 1.

UE PDU session establishment procedure with 5QI 9 is successful.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer is used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, see A.1, A.2.

For details on the RACH test profiles, see B.6.

For details on the MIB and SSB test profiles, see B.2.

For details on the SIB1 test profiles, see B.3.

For details on the throughput test profiles, see B.7.

Test Procedure Sequence

The following table describes the test procedures for downlink continuous throughput.

Table 13: Downlink Continuous Throughput

St.

Procedure

Msg Flow

Expected Output

1

Trigger UDP Data of transfer 712 Mbps in Downlink on the flow of 5QI 9 using any traffic generator tool or IPERF application.

O-CU/ O-DU  UPF

Verify that O-CU receives DL UDP traffic on the desired Flow on the intendant NG-U connection.

O-CU do the mapping of the Flow to the intendant DRB which will be done by the SDAP protocol resides in the O-CU and then forward the UDP traffic towards O-DU.

Verify that O-DU received the UDP traffic without any significant drops in packets.

2

Measure peak and average throughput on UE.

UE  O-DU/ O-CU

Verify against theoretical values. Refer Annex B.7.

ORAN.WG8.IOT.013: Uplink UDP data transfer

Test Purpose

The purpose of this test case is to verify peak and average uplink throughput on the default flow that is 5QI 9 of the PDU Session.

Reference Requirements

For detailed requirements, refer to the section 2.2 in ORAN-WG8.AAD [1].

Initial Condition

Following are the preconditions for this test.

Cell setup is successful.

F1AP connection is successful between O-DU and O-CU.

The UE has decoded MIB and SIB1.

RACH procedure is successful.

RRC setup is successful.

Registration is successful with Follow ON bit as 1.

UE PDU session establishment procedure with 5QI 9 is successful.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, see A.1 and A.2.

For details on the RACH test profiles, see B.6.

For details on the MIB and SSB test profiles, see B.2.

For details on the SIB1 test profiles, see B.3.

For details on the throughput test profiles, see B.7.

Test Procedure Sequence

The following table describes the test procedures for uplink continuous throughput.

Table 14: Uplink Continuous Throughput

St.

Procedure

Msg Flow

Expected Output

1

Trigger UDP Data transfer of 285 Mbps in Uplink on the flow of 5QI 9 using any traffic generator tool or IPERF application.

UE  O-DU/ O-CU

Verify that O-DU receives UL UDP traffic on the desired DRB which is intendant and forwards to O-CU using the GTP-U user plane connection.

O-CU do the mapping of the DRB to Flow mapping which will be done by the SDAP protocol resides in the O-CU and then forward the UDP traffic on the NG-U tunnel towards UPF.

Verify that UPF received the UDP traffic without any significant drops in packets.

2

Measure peak and average throughput on UE.

O-DU/ O-CU  UPF

Verify against theoretical values. Refer Annex B.7.

ORAN.WG8.IOT.014: Bidirectional UDP data transfer

Test Purpose

The purpose of this test case is to verify peak and average uplink and downlink throughput on the default flow that is 5QI 9 of the PDU Session.

Reference Requirements

For detailed requirements, refer to the section 2.2 in ORAN-WG8.AAD [1].

Initial Condition

Following are the preconditions for this test.

Cell setup is successful.

F1AP connection is successful between O-DU and O-CU.

The UE has decoded MIB and SIB1.

RACH procedure is successful.

RRC setup is successful.

Registration is successful with Follow ON bit as 1.

UE PDU session establishment procedure with 5QI 9 is successful.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer is used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, see A.1 and A.2.

For details on the RACH test profiles, see B.6.

For details on the MIB and SSB test profiles, see B.2.

For details on the SIB1 test profiles, see B.3.

For details on the throughput test profiles, see B.7.

Test Procedure Sequence

The following table describes the test procedures for bidirectional continuous throughput.

Table 15: Bidirectional Continuous Throughput

St.

Procedure

Msg Flow

Expected Output

1

Trigger UDP Data transfer of 285 Mbps in Uplink on the flow of 5QI 9 using any traffic generator tool or IPERF application.

UE  O-DU/ O-CU

Verify that O-DU receives UL UDP traffic on the desired DRB which is intendant and forwards to O-CU using the GTP-U user plane connection.

O-CU do the mapping of the DRB to Flow mapping which will be done by the SDAP protocol resides in the O-CU and then forward the UDP traffic on the NG-U tunnel towards UPF.

Verify that UPF received the UDP traffic without any significant drops in packets.

2

Verify the peak and average throughput on UPF.

O-DU/ O-CU  UPF

Verify against theoretical values. Refer Annex B.7.

3

Trigger UDP Data of transfer 712 Mbps in Downlink on the flow of 5QI 9 using any traffic generator tool or IPERF application.

O-CU/ O-DU  UPF

Verify that O-CU receives DL UDP traffic on the desired Flow on the intendant NG-U connection.

O-CU do the mapping of the Flow to the intendant DRB which will be done by the SDAP protocol resides in the O-CU and then forward the UDP traffic towards O-DU.

Verify that O-DU received the UDP traffic without any significant drops in packets.

4

Measure peak and average throughput on UE.

UE  O-DU/ O-CU

Verify against theoretical values. Refer Annex B.7.

ORAN.WG8.IOT.015: Bidirectional UDP data transfer on Multiple Flow

Test Purpose

The purpose of this test case is to verify peak and average downlink and uplink throughput on multiple flows of a PDU Session for two hours.

Reference Requirements

For detailed requirements, refer to the section 2.2, 9.2.2, 7.2 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Cell setup is successful.

F1AP connection is successful between O-DU and O-CU.

The UE has decoded MIB and SIB1.

RACH procedure is successful.

RRC setup is successful.

Registration is successful with Follow ON bit as 1.

UE PDU session establishment procedure with 5QI 9 is successful.

The Network Initiated Modification of PDU Session for adding one GBR Flow of 5QI 3 and one Non GBR Flow of 5QI 6 is successful.

Test Setup and Configuration

DUTs: single O-DU and single O-CU.

Testing tools: are required for this test scenario.

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer is used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup, see A.1 and A.2.

For details on the RACH test profiles, see B.6.

For details on the MIB and SSB test profiles, see B.2.

For details on the SIB1 test profiles, see B.3.

For details on the test throughput test profiles, see B.7.

Test Procedure

The following table below describes the test procedures for bidirectional continuous throughput.

Table 16: Bidirectional UDP data on multiple flow

St.

Procedure

Msg Flow

Expected Output

1

Trigger UDP Data transfer of 100 Mbps in Uplink on the flow of 5QI 9 using any traffic generator tool or IPERF application.

UE  O-DU/ O-CU

Verify that O-DU receives UL UDP traffic on the desired DRB which is intendant and forwards to O-CU using the GTP-U user plane connection.

O-CU do the mapping of the DRB to Flow mapping which will be done by the SDAP protocol resides in the O-CU and then forward the UDP traffic on the NG-U tunnel towards UPF.

Verify that UPF received the UDP traffic without any significant drops in packets.

2

Verify the peak and average throughput on UPF.

O-DU/ O-CU  UPF

Verify that the data has been received as pumped from UE.

3

Trigger UDP Data of transfer 300 Mbps in Downlink on the flow of 5QI 9 using any traffic generator tool or IPERF application.

O-CU/ O-DU  UPF

Verify that O-CU receives DL UDP traffic on the desired Flow on the intendant NG-U connection.

O-CU do the mapping of the Flow to the intendant DRB which will be done by the SDAP protocol resides in the O-CU and then forward the UDP traffic towards O-DU.

Verify that O-DU received the UDP traffic without any significant drops in packets.

4

Measure peak and average throughput on UE.

UE  O-DU/ O-CU

Verify that the data has been received as pumped from UPF.

5

Trigger UDP Data transfer of 90 Mbps in Uplink on the flow of 5QI 3 using any traffic generator tool or IPERF application.

UE  O-DU/ O-CU

Verify that O-DU receives UL UDP traffic on the desired DRB which is intendant and forwards to O-CU using the GTP-U user plane connection.

O-CU do the mapping of the DRB to Flow mapping which will be done by the SDAP protocol resides in the O-CU and then forward the UDP traffic on the NG-U tunnel towards UPF.

Verify that UPF received the UDP traffic without any significant drops in packets.

6

Verify the peak and average throughput on UPF.

O-DU/ O-CU  UPF

Verify that the data has been received as pumped from UE.

7

Trigger UDP Data of transfer 200 Mbps in Downlink on the flow of 5QI 3 using any traffic generator tool or IPERF application.

O-CU/ O-DU  UPF

Verify that O-CU receives DL UDP traffic on the desired Flow on the intendant NG-U connection.

O-CU do the mapping of the Flow to the intendant DRB which will be done by the SDAP protocol resides in the O-CU and then forward the UDP traffic towards O-DU.

Verify that O-DU received the UDP traffic without any significant drops in packets.

8

Measure peak and average throughput on UE.

UE  O-DU/ O-CU

Verify that the data has been received as pumped from UPF.

9

Trigger UDP Data transfer of 80 Mbps in Uplink on the flow of 5QI 6 using any traffic generator tool or IPERF application.

UE  O-DU/ O-CU

Verify that O-DU receives UL UDP traffic on the desired DRB which is intendant and forwards to O-CU using the GTP-U user plane connection.

O-CU do the mapping of the DRB to Flow mapping which will be done by the SDAP protocol resides in the O-CU and then forward the UDP traffic on the NG-U tunnel towards UPF.

Verify that UPF received the UDP traffic without any significant drops in packets.

10

Verify the peak and average throughput on UPF.

O-DU/ O-CU  UPF

Verify that the data has been received as pumped from UE.

11

Trigger UDP Data of transfer 200 Mbps in Downlink on the flow of 5QI 6 using any traffic generator tool or IPERF application.

O-CU/ O-DU  UPF

Verify that O-CU receives DL UDP traffic on the desired Flow on the intendant NG-U connection.

O-CU do the mapping of the Flow to the intendant DRB which will be done by the SDAP protocol resides in the O-CU and then forward the UDP traffic towards O-DU.

Verify that O-DU received the UDP traffic without any significant drops in packets.

12

Measure peak and average throughput on UE.

UE  O-DU/ O-CU

Verify that the data has been received as pumped from UPF.

ORAN.WG8.IOT.016: SMO Discovery and O1 Interface establishment between O-DU and SMO using static configuration on the O-DU.

Test Purpose

The purpose of this test case is to verify the successful establishment of link between O-DU and SMO using static configuration in the O-DU and verify the yang capability model exchange between the SMO and O-DU using O1 Interface.

Reference Requirements

For detailed requirements, refer to the Chapter 4 and Chapter 6 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Physical interface of CA/RA server, SMO, O-DU and O-RU is connected. (Note: If CA/RA server is not present, O-DU shall be able to send with the default certificates to SMO for secure connection establishment).

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be co-located with O-DU or deployed remotely and connected to O-DU using O-RAN WG4 defined hierarchical approach (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

NETCONF Client is operational.

O-DUs shall be able to get the static IP address during the power ON and O-DU shall obtain pre-configured SMO IP address using static configuration file on O-DU.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.4.

Test Procedure

The following table describes the test procedures for successful establishment of link between O-DU and SMO using static configuration and verify the yang capability model exchange between the SMO and O-DU using O1 Interface.

Table 17: SMO Discovery and O1 Interface establishment between O-DU and SMO using static configuration in O-DU.

St.

Procedure

Msg Flow

Expected Output

1

Power ON O-DU.

O-DU

Verify O-DU obtain the static IP address using factory settings.

Verify O-DU obtain the SMO IP address as per the static configuration file present in O-DU.

2

O-DU sends Pnfregistration to SMO.

O-DU  SMO

Verify O-DU sends Pnfregistration message to SMO IP address mention in the configuration file of O-DU containing all the mandatory IEs.

3

SMO sends TLS secure connection establishment to O-DU.

O-DU  SMO

Verify the TLS secure connection is established between SMO and O-DU as per [22]. Verify SMO sends the NETCONF capabilities supported to O-DU in hello message.

4

O-DU sends Netconf capability information to SMO and secured NETCONF session is established between SMO and O-DU.

O-DU  SMO

Verify O-DU sends the NETCONF capabilities supported to SMO in hello message.

5

SMO sends HeartBeat message to O-DU.

O-DU  SMO

Verify SMO sends HeartBeat message to O-DU.

6

O-DU sends HeartBeat Acknowledgment to SMO.

O-DU  SMO

Verify O-DU sends HeartBeat Acknowledgment to SMO.

ORAN.WG8.IOT.017: SMO Discovery and O1 Interface establishment between O-DU and SMO.

Test Purpose

The purpose of this test case is to verify the successful establishment of link between O-DU and SMO and verify the yang capability model exchange between the SMO and O-DU using O1 Interface.

Reference Requirements

For detailed requirements, refer to the Chapter 4 and Chapter 6 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Physical interface of DHCP(v4/v6) server, DNS server, CA/RA server, SMO, O-DU and O-RU is connected.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be co-located with O-DU or deployed remotely and connected to O-DU using O-RAN WG4 defined hierarchical approach (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-DU is physically installed. It is assumed that when Power-ON the O-DU, the NETCONF Server is started or when the O-DU is restarted, the NETCONF Server is restarted.

NETCONF Client is operational.

The O-DU have obtained their IPv4 addresses by auto-configuration, shall use DHCPv4 OR O-DUs operating using stateful IPv4 or IPv6 address allocations shall obtain SMO information during IP address allocation. (Note: If IPv6 is supported, O-DU may obtain their IPv6 addresses by stateless address auto-configuration, may use stateless DHCPv6 [23], to obtain SMO information).

The O-DU shall be able to recover SMO information using O-RAN defined vendor specific option.  The SMO sends information to the O-DU using option 43 for DHCPv4 or option 17 for DHCPv6 as mentioned in Section 3.1.6 of [22]. Multiple instances of the SMO information may be signalled.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.4.

Test Procedure

The following table describes the test procedures for successful establishment of link between O-DU and SMO and verify the yang capability model exchange between the SMO and O-DU using O1 Interface.

Table 18: SMO Discovery and O1 Interface establishment between O-DU and SMO

St.

Procedure

Msg Flow

Expected Output

1

O-DU sends Pnfregistration to SMO.

O-DU  SMO

Verify O-DU sends Pnfregistration message containing all the mandatory IEs.

2

SMO sends TLS secure connection establishment to O-DU.

O-DU  SMO

Verify the TLS secure connection is established between SMO and O-DU as per [22]. Verify SMO sends the NETCONF capabilities supported to O-DU in hello message.

3

O-DU sends Netconf capability information to SMO and secured NETCONF session is established between SMO and O-DU.

O-DU  SMO

Verify O-DU sends the NETCONF capabilities supported to SMO in hello message.

4

SMO sends HeartBeat message to O-DU.

O-DU  SMO

Verify SMO sends HeartBeat message is send to O-DU.

5

O-DU sends HeartBeat Acknowledgment to SMO.

O-DU  SMO

Verify O-DU sends HeartBeat Acknowledgment to SMO.

ORAN.WG8.IOT.018: Verify the cell activation successful when configuration received from SMO for co-located O-RU and O-DU.

Test Purpose

The purpose of this test case is to verify the successful cell activation when configuration received from SMO for co-located O-RU and O-DU.

Reference Requirements

For detailed requirements, refer to the Chapter 4 and Chapter 6 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Physical interface of DHCP(v4/v6) server, DNS server, CA/RA server, SMO, O-DU and O-RU is connected.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be co-located with O-DU (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-DU is physically installed. It is assumed that when Power-ON the O-DU, the NETCONF Server is started or when the O-DU is restarted, the NETCONF Server is restarted.

NETCONF Client is operational.

The O-DU have obtained their IPv4 addresses by auto-configuration, shall use DHCPv4 OR O-DUs operating using stateful IPv4 or IPv6 address allocations shall obtain SMO information during IP address allocation. (Note: If IPv6 is supported, O-DU may obtain their IPv6 addresses by stateless address auto-configuration, may use stateless DHCPv6, [23], to obtain SMO information).

The O-DU shall be able to recover SMO information using O-RAN defined vendor specific option.  The SMO sends information to the O-DU using option 43 for DHCPv4 or option 17 for DHCPv6 as mentioned in Section 3.1.6 of [22]. Multiple instances of the SMO information may be signalled.

The PnfRegistration is successful with TLS secure connection is established between O-DU and SMO as per test case ORAN.WG8.IOT.017.

O-DU and O-RU are exchanging the information using O-RU managemental approach.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.5.

Test Procedure

The following table describes the test procedures to verify the successful cell activation when configuration received from SMO for co-located O-DU and O-RU.

Table 19: cell activation when configuration received from SMO for co-located O-DU and O-RU

St.

Procedure

Msg Flow

Expected Output

1

SMO sends Cell Configuration to O-DU.

O-DU  SMO

Verify SMO sends all the mandatory IEs to O-DU as per the data formats supported in Section 10.1 of [22].

2

O-DU sends sync-state information and set the operational state in SMO.

O-DU  SMO

Verify O-DU shall send the sync-state as LOCKED to SMO. Verify O-DU set the operational state to ENABLED state.

3

SMO shall set the administrate state of O-DU.

O-DU  SMO

Verify O-DU shall set the administrative state to UNLOCKED state.

4

O-DU sends an F1 SETUP REQUEST to establish connectivity between the O-DU and O-CU.

O-DU  O-CU

Verify O-DU sends F1 SETUP REQUEST message containing all the mandatory IEs mentioned in section 4.1.5.1.2 of ORAN.WG5.C.1 [19]  to the O-CU-CP (Control Unit).

5

O-CU sends NGAP Setup Request to AMF.

O-CU  AMF

Verify the NGAP Setup Request should contain all the mandatory IEs mentioned in the section 9.2.6.1 of 3GPP Specification [20].

6

O-CU receives NGAP Setup Response from AMF.

O-CU  AMF

Verify AMF sends NGAP Setup Response message containing all the mandatory IEs mentioned in 9.2.6.1 of 3GPP Specification [20].

7

O-DU receives F1 SETUP RESPONSE from O-CU.

O-DU  O-CU

Verify O-CU sends F1 SETUP RESPONSE message containing all the mandatory IEs mentioned in section 4.1.5.1.2 of ORAN.WG5.C.1 [19] to the O-DU.

8

Add new serving cell at O-CU.

O-DU  O-CU

O-CU sends the F1AP gNB-CU configuration update to O-DU.

F1AP gNB-CU configuration update message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

O-CU should add the cell information according to IE Served-Cells-To-Add-List.

9

O-DU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-DU.

O-DU  O-CU

Verify O-DU sends the gNB-CU CONFIGURATION UPDATE ACKNOWLEDGE message to O-CU.

F1AP gNB-CU configuration update Ack message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

10

Activate the added cell from the O-DU.

O-DU  O-CU

O-DU sends the F1AP gNB-DU configuration update to O-CU.

F1AP gNB-DU configuration update message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.4 of ORAN.WG5.C.1 [19].

O-DU should activate the cell information according to the service-state IE.

11

O-CU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-CU.

O-DU  O-CU

Verify O-CU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-DU.

F1AP gNB-DU configuration update Ack message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

12

Verify the status of newly added cell.

O-DU

Verify SMO shows O-CU and O-DU operational and newly added cell is up and RF state of O-RU is active.

ORAN.WG8.IOT.019: Verify the cell activation successful when configuration received from SMO for non co-located(remote) O-RU and O-DU.

Test Purpose

The purpose of this test case is to verify the successful cell activation when configuration received from SMO for non co-located(remote) O-RU and O-DU.

Reference Requirements

For detailed requirements, refer to the Chapter 4 and Chapter 6 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Physical interface of DHCP(v4/v6) server, DNS server, CA/RA server, SMO, O-DU and O-RU is connected.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be deployed remotely and connected to O-DU using O-RAN WG4 defined hierarchical approach (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-DU is physically installed. It is assumed that when Power-ON the O-DU, the NETCONF Server is started or when the O-DU is restarted, the NETCONF Server is restarted.

NETCONF Client is operational.

The O-DU have obtained their IPv4 addresses by auto-configuration, shall use DHCPv4 OR O-DUs operating using stateful IPv4 or IPv6 address allocations shall obtain SMO information during IP address allocation. (Note: If IPv6 is supported, O-DU may obtain their IPv6 addresses by stateless address auto-configuration, may use stateless DHCPv6, [23] to obtain SMO information).

The O-DU shall be able to recover SMO information using O-RAN defined vendor specific option.  The SMO sends information to the O-DU using option 43 for DHCPv4 or option 17 for DHCPv6 as mentioned in Section 3.1.6 of [22]. Multiple instances of the SMO information may be signalled.

The PnfRegistration is successful with TLS secure connection is established between O-DU and SMO as per test case ORAN.WG8.IOT.017.

O-DU and O-RU are exchanging the information between them.

GPS connection shall be connected physically as per LLS-1/LLS-2 configuration to O-DU and O-RU.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.4.

Test Procedure

The following table describes the test procedures to verify the successful cell activation when configuration received from SMO for non co-located(remote) O-RU and O-DU.

Table 20: Cell activation when configuration received from SMO for non co-located(remote) O-RU and O-DU

St.

Procedure

Msg Flow

Expected Output

1

SMO sends Cell Configuration to O-DU.

SMO  O-DU

Verify SMO sends all the mandatory IEs to O-DU as per the data formats supported in Section 10.1 of [22].

2

O-DU sends the Cell Configuration to O-RU.

O-DU  O-RU

Verify O-DU sends all the mandatory IEs to O-RU as per the data formats supported in Section 10.1 of [22].

3

O-RU sends sync-state information to O-DU.

O-DU  O-RU

Verify O-RU shall send the sync-state as LOCKED to O-RU.

4

O-DU sends sync-state information and set the operational state in SMO.

O-DU  SMO

Verify O-DU shall send the sync-state as LOCKED to SMO. Verify O-DU set the operational state to ENABLED state.

6

SMO shall set the administrate state of O-DU.

SMO  O-DU

O-DU shall set the administrative state to UNLOCKED state.

7

O-DU sends an F1 SETUP REQUEST to establish connectivity between the O-DU and O-CU.

O-DU  O-CU

Verify O-DU sends F1 SETUP REQUEST message containing all the mandatory IEs mentioned in section 4.1.5.1.2 of ORAN.WG5.C.1 [19]  to the O-CU-CP (Control Unit)

8

O-CU sends NGAP Setup Request to AMF.

O-CU  AMF

Verify the NGAP Setup Request should contain all the mandatory IEs mentioned in the section 9.2.6.1 of 3GPP Specification [20].

9

O-CU receives NGAP Setup Response from AMF.

O-CU  AMF

Verify AMF sends NGAP Setup Response message containing all the mandatory IEs mentioned in 9.2.6.1 of 3GPP Specification [20].

10

O-DU receives F1 SETUP RESPONSE from O-CU.

O-DU  O-CU

Verify O-CU sends F1 SETUP RESPONSE message containing all the mandatory IEs mentioned in section 4.1.5.1.2 of ORAN.WG5.C.1 [19] to the O-DU.

11

Add new serving cell at O-CU.

O-DU  O-CU

O-CU sends the F1AP gNB-CU configuration update to O-DU.

F1AP gNB-CU configuration update message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

O-CU should add the cell information according to IE Served-Cells-To-Add-List.

12

O-DU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-DU.

O-DU  O-CU

Verify O-DU sends the gNB-CU CONFIGURATION UPDATE ACKNOWLEDGE message to O-CU.

F1AP gNB-CU configuration update Ack message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

13

Activate the added cell from the O-DU.

O-DU  O-CU

O-DU sends the F1AP gNB-DU configuration update to O-CU.

F1AP gNB-DU configuration update message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.4 of ORAN.WG5.C.1 [19].

O-DU should activate the cell information according to the service-state IE.

14

O-CU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-CU.

O-DU  O-CU

Verify O-CU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-DU.

F1AP gNB-DU configuration update Ack message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

15

Verify the status of newly added cell.

O-DU

Verify O-DU is UP and O-RU changes its state to RUNNING.

Verify SMO shows O-CU and O-DU operational and newly added cell is up and RF state of O-RU is active.

ORAN.WG8.IOT.020: Verify SMO is notified with the alarm when O-DU detects out of sync from O-RU in hierarchical model.

Test Purpose

The purpose of this test case is to verify SMO is notified with the alarm when O-DU detects out of sync from O-RU in hierarchical model.

Reference Requirements

For detailed requirements, refer to the Chapter 4 and Chapter 6 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Physical interface of DHCP(v4/v6) server, DNS server, CA/RA server, SMO, O-DU and O-RU is connected.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be deployed remotely and connected to O-DU using O-RAN WG4 defined hierarchical approach (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-DU is physically installed. It is assumed that when Power-ON the O-DU, the NETCONF Server is started or when the O-DU is restarted, the NETCONF Server is restarted.

NETCONF Client is operational.

The O-DU have obtained their IPv4 addresses by auto-configuration, shall use DHCPv4 OR O-DUs operating using stateful IPv4 or IPv6 address allocations shall obtain SMO information during IP address allocation. (Note: If IPv6 is supported, O-DU may obtain their IPv6 addresses by stateless address auto-configuration, may use stateless DHCPv6, [23], to obtain SMO information).

The O-DU shall be able to recover SMO information using O-RAN defined vendor specific option.  The SMO sends information to the O-DU using option 43 for DHCPv4 or option 17 for DHCPv6 as mentioned in Section 3.1.6 of [22]. Multiple instances of the SMO information may be signalled.

The PnfRegistration is successful with TLS secure connection is established between O-DU and SMO as per test case ORAN.WG8.IOT.018.

O-DU and O-RU are exchanging the information between them.

GPS connection shall be connected physically as per LLS-1/LLS-2 configuration to O-DU and O-RU.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.4.

Test Procedure

The following table describes the test procedures to verify SMO is notified with the alarm when O-DU detects out of sync from O-RU in hierarchical model.

Table 21: SMO is notified with the alarm when O-DU detects out of sync from O-RU in hierarchical model

St.

Procedure

Msg Flow

Expected Output

1

SMO sends Cell Configuration to O-DU.

SMO  O-DU

Verify SMO sends all the mandatory IEs to O-DU as per the data formats supported in Section 10.1 of [22].

2

O-DU sends the Cell Configuration to O-RU.

O-DU  O-RU

Verify O-DU sends all the mandatory IEs to O-RU as per the data formats supported in Section 10.1 of [22].

3

O-RU sends sync-state information to O-DU.

O-DU  O-RU

Verify O-RU shall send the sync-state as LOCKED to O-RU.

4

O-DU sends sync-state information to SMO and O-DU sets the operational state.

O-DU  SMO

Verify O-DU shall send the sync-state as LOCKED to SMO and verify O-DU sets the operational state to ENBALED state.

5

SMO shall set the administrate state to O-DU.

SMO  O-DU

O-DU shall set the administrative state to UNLOCKED state.

6

O-DU sends an F1 SETUP REQUEST to establish connectivity between the O-DU and O-CU.

O-DU  O-CU

Verify O-DU sends F1 SETUP REQUEST message containing all the mandatory IEs mentioned in section 4.1.5.1.2 of ORAN.WG5.C.1 [19]  to the O-CU-CP (Control Unit).

7

O-CU sends NGAP Setup Request to AMF.

O-CU  AMF

Verify the NGAP Setup Request should contain all the mandatory IEs mentioned in the section 9.2.6.1 of 3GPP Specification [20].

8

O-CU receives NGAP Setup Response from AMF.

O-CU  AMF

Verify AMF sends NGAP Setup Response message containing all the mandatory IEs mentioned in 9.2.6.1 of 3GPP Specification [20].

9

O-DU receives F1 SETUP RESPONSE from O-CU.

O-DU  O-CU

Verify O-CU sends F1 SETUP RESPONSE message containing all the mandatory IEs mentioned in section 4.1.5.1.2 of ORAN.WG5.C.1 [19] to the O-DU.

10

Add new serving cell at O-CU.

O-DU  O-CU

O-CU sends the F1AP gNB-CU configuration update to O-DU.

F1AP gNB-CU configuration update message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

O-CU should add the cell information according to IE Served-Cells-To-Add-List.

11

O-DU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-DU.

O-DU  O-CU

Verify O-DU sends the gNB-CU CONFIGURATION UPDATE ACKNOWLEDGE message to O-CU.

F1AP gNB-CU configuration update Ack message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

12

Activate the added cell from the O-DU.

O-DU  O-CU

O-DU sends the F1AP gNB-DU configuration update to O-CU.

F1AP gNB-DU configuration update message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.4 of ORAN.WG5.C.1 [19].

O-DU should activate the cell information according to the service-state IE.

13

O-CU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-CU.

O-DU  O-CU

Verify O-CU sends the gNB-DU CONFIGURATION UPDATE ACKNOWLEDGE message to O-DU.

F1AP gNB-DU configuration update Ack message should contain all the mandatory IEs mentioned in section 4.1.6.1.2.1 of ORAN.WG5.C.1 [19].

14

Verify the status of newly added cell.

O-DU

Verify SMO shows O-CU and O-DU operational and newly cell up and RF state of O-RU is active.

15

O-RU detects the sync loss with O-DU.

O-RU O-DU

Verify O-DU sends the alarm notification as per Annex A of [24]. (Example: Fault id:28).

16

O-DU shall set the operational state to correct value.

O-DU

Verify O-DU set the operation state to DISABLED.

17

SMO shall set the administrate state to O-DU.

SMO  O-DU

O-DU shall set the administrative state to LOCKED state.

ORAN.WG8.IOT.021: Verify SMO sends subscription to O-RU via O-DU for alarms and handles the alarm notification from O-RU via O-DU.

Test Purpose

The purpose of this test case is to verify SMO sends subscription for alarms to O-RU via O-DU and handles the alarm notification from O-RU via O-DU in hierarchical model.

Reference Requirements

For detailed requirements, refer to the Chapter 4 and Chapter 6 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Physical interface of DHCP(v4/v6) server, DNS server, CA/RA server, SMO, O-DU and O-RU is connected.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be deployed remotely and connected to O-DU using O-RAN WG4 defined hierarchical approach (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-DU is physically installed. It is assumed that when Power-ON the O-DU, the NETCONF Server is started or when the O-DU is restarted, the NETCONF Server is restarted.

NETCONF Client is operational.

The O-DU have obtained their IPv4 addresses by auto-configuration, shall use DHCPv4 OR O-DUs operating using stateful IPv4 or IPv6 address allocations shall obtain SMO information during IP address allocation. (Note: If IPv6 is supported, O-DU may obtain their IPv6 addresses by stateless address auto-configuration, may use stateless DHCPv6 [23], to obtain SMO information).

The O-DU shall be able to recover SMO information using O-RAN defined vendor specific option.  The SMO sends information to the O-DU using option 43 for DHCPv4 or option 17 for DHCPv6 as mentioned in Section 3.1.6 of [22]. Multiple instances of the SMO information may be signalled.

The PnfRegistration is successful with TLS secure connection is established between O-DU and SMO as per test case ORAN.WG8.IOT.018.

O-DU and O-RU are exchanging the information between them.

GPS connection shall be connected physically as per LLS-1/LLS-2 configuration to O-DU and O-RU.

O-DU shall be able to report the Alarm list as per [24] Annex A.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.5.

Test Procedure

The following table describes the test procedures to verify SMO sends subscription for alarms to O-RU via O-DU and handles the alarm notification from O-RU via O-DU in hierarchical model.

Table 22: SMO sends subscription for alarms to O-RU via O-DU and handles the alarm notification from O-RU via O-DU in hierarchical model

St.

Procedure

Msg Flow

Expected Output

1

SMO sends the create-subscription message to O-RU via O-DU for the selected list of alarms supported.

O-DU  SMO

Verify SMO sends the create-subscription message for the selected list of alarms to O-RU via O-DU as per Annex A of [24].

2

O-RU shall report the alarms notification for the SUBSCRIBED event to O-DU. O-DU shall forward the reported alarms notification to SMO.

O-DU  SMO

Verify O-RU reports the alarms notification for the SUBSCRIBED event to O-DU and O-DU forwards the SUBSCRIBED event to SMO.

Verify the O-RU clear the notification for the SUBSCRIBED event when the SUBSCRIBED event is not met.

Verify the O-DU sends clear alarm event to SMO and corresponding stats in SMO is cleared.

(Example events: Unit temperature is high, Unit dangerously overheating, etc.).

ORAN.WG8.IOT.022: Verify SMO handles any subscribed measurement counters received from O-DU on O1 interface.

Test Purpose

The purpose of this test case is to verify SMO handles any subscribed measurement counters received from O-DU on O1 interface.

Reference Requirements

For detailed requirements, refer to the Chapter 4 and Chapter 6 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Physical interface of DHCP(v4/v6) server, DNS server, CA/RA server, SMO, O-DU and O-RU is connected.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be co-located with O-DU or deployed remotely and connected to O-DU using O-RAN WG4 defined hierarchical approach (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-DU is physically installed. It is assumed that when Power-ON the O-DU, the NETCONF Server is started or when the O-DU is restarted, the NETCONF Server is restarted.

NETCONF Client is operational.

GPS connection shall be connected physically as per LLS-1/LLS-2 configuration to O-DU and O-RU.

The PnfRegistration is successful with TLS secure connection is established between O-DU and SMO as per Test case ORAN.WG8.IOT.017.

 The cell should be in sync and broadcast message should be broadcasted as per ORAN.WG8.IOT.018.

O-DU and O-RU are exchanging the information between them.

O-DU shall obtain the alarm list supported by O-RU using get-alarms-list and store in aggregated data model specified.

SMO shall obtain the alarm list supported by O-DU (along with O-RU) using get-alarms-list and store in aggregated data model specified.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.5.

Test Procedure

The following table describes the test procedures to verify SMO sends subscription to O-RU via O-DU for the alarms in hierarchical model.

Table 23: SMO handles any subscribed measurement counters received from O-DU on O1 interface

St.

Procedure

Msg Flow

Expected Output

1

SMO sends the SUBSCRITION message to O-RU via O-DU.

O-DU  SMO

Verify SMO sends the SUBSCRITON message to O-RU via O-DU as per the data model mentioned above.

2

O-DU shall report the measurement counters for the SUBSCRIBED counters to SMO using Performance data file.

O-DU  SMO

Verify O-DU shall report the measurement counters for the SUBSCRIBED counters to SMO as per Annex A of [24].

ORAN.WG8.IOT.023: Verify O-DU successfully establish E2 Interface with near RT-RIC.

Test Purpose

The purpose of this test case is to verify O-DU successfully establish E2 Interface with near RT-RIC.

Reference Requirements

For detailed requirements, refer to the Chapter 6 in ORAN-WG8.AAD [1] (Refer Chapter 2.3 of [22]).

Initial Conditions

Following are the preconditions for this test.

Physical interface of DHCP(v4/v6) server, DNS server, CA/RA server, SMO, O-DU and O-RU is connected.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be co-located with O-DU or deployed remotely and connected to O-DU using O-RAN WG4 defined hierarchical approach (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-DU is physically installed. It is assumed that when Power-ON the O-DU, the NETCONF Server is started or when the O-DU is restarted, the NETCONF Server is restarted.

NETCONF Client is operational.

GPS connection shall be connected physically as per LLS-1/LLS-2 configuration to O-DU and O-RU.

O-DU is connected to near RT-RIC.

The O-DU have obtained their IPv4 addresses by auto-configuration, shall use DHCPv4 OR O-DUs operating using stateful IPv4 or IPv6 address allocations shall obtain SMO information during IP address allocation. (Note: If IPv6 is supported, O-DU may obtain their IPv6 addresses by stateless address auto-configuration, may use stateless DHCPv6, [23], to obtain SMO information).

The O-DU shall be able to recover SMO information using O-RAN defined vendor specific option to signal SMO information to the O-DU using option 43 for DHCPv4 and option 17 for DHCPv6 as mentioned in Section 3.1.6 of [22]. Multiple instances of the SMO information may be signalled.

The PnfRegistration is successful with TLS secure connection is established between O-DU and SMO as per Test case ORAN.WG8.IOT.018.

O-DU and O-RU are exchanging the information between them.

SMO sends Cell Configuration to O-DU the E2 near RT-RIC server IP address as per the data model.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.5.

Test Procedure

The following table describes the test procedures to verify O-DU successfully establish E2 Interface with near RT-RIC.

Table 24: O-DU successfully establish E2 Interface with near RT-RIC

St.

Procedure

Msg Flow

Expected Output

1

O-DU sends the E2 Setup request to near RT-RIC server.

O-DU  near RT-RIC

Verify O-DU sends the E2 Setup request message to near RT-RIC server with all the mandatory IEs.

2

near RT-RIC server sends E2 Setup Response to O-DU.

O-DU  near RT-RIC

Verify near RT-RIC sends the E2 setup response to O-DU with all the mandatory IEs.

ORAN.WG8.IOT.024: Verify near RT-RIC server sends subscription request with type as REPORT to O-DU.

Test Purpose

The purpose of this test case is to verify near RT-RIC server sends subscription request with subscription details as REPORT to O-DU.

Reference Requirements

For detailed requirements, refer to the Chapter 6 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Physical interface of DHCP(v4/v6) server, DNS server, CA/RA server, SMO, O-DU and O-RU is connected.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be co-located with O-DU or deployed remotely and connected to O-DU using O-RAN WG4 defined hierarchical approach (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-DU is physically installed. It is assumed that when Power-ON the O-DU, the NETCONF Server is started or when the O-DU is restarted, the NETCONF Server is restarted.

NETCONF Client is operational.

GPS connection shall be connected physically as per LLS-1/LLS-2 configuration to O-DU and O-RU.

O-DU is connected to near RT-RIC.

The O-DU have obtained their IPv4 addresses by auto-configuration, shall use DHCPv4 OR O-DUs operating using stateful IPv4 or IPv6 address allocations shall obtain SMO information during IP address allocation. (Note: If IPv6 is supported, O-DU may obtain their IPv6 addresses by stateless address auto-configuration, may use stateless DHCPv6, [23], to obtain SMO information).

The O-DU shall be able to recover SMO information using O-RAN defined vendor specific option to signal SMO information to the O-DU using option 43 for DHCPv4 and option 17 for DHCPv6 as mentioned in Section 3.1.6 of [22]. Multiple instances of the SMO information may be signalled.

The PnfRegistration is successful with TLS secure connection is established between O-DU and SMO as per Test case ORAN.WG8.IOT.018.

O-DU and O-RU are exchanging the information between them.

SMO sends Cell Configuration to O-DU the E2 near RT-RIC server IP address as per the data model.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.5.

Test Procedure

The following table describes the test procedures to verify near RT-RIC server sends subscription request with subscription details as REPORT to O-DU.

Table 25: Near RT-RIC server sends subscription request with IE type as REPORT to O-DU

St.

Procedure

Msg Flow

Expected Output

1

O-DU sends the E2 Setup request to near RT-RIC server.

O-DU  near RT-RIC

Verify O-DU sends the E2 Setup request message to near RT-RIC server with all the mandatory IEs.

2

near RT-RIC server sends E2 Setup Response to O-DU.

O-DU  near RT-RIC

Verify near RT-RIC sends the E2 setup response to O-DU with all the mandatory IEs.

3

near RT-RIC server sends E2 Subscription Request to O-DU.

O-DU  near RT-RIC

Verify near RT-RIC server sends E2 Subscription Request to O-DU with IE type as REPORT and the “RIC Actions Admitted List” mentioned in Section 5 of [25].

Example: RACH. PreambleDedCell, DRB. UEThpDl, etc.

4

O-DU sends the E2 Subscription Response to near -RT-RIC server.

O-DU  near RT-RIC

Verify O-DU sends the E2 Subscription Response to near -RT-RIC server.

ORAN.WG8.IOT.025: Verify O-DU includes the RIC Actions Not Admitted List in subscription response to near RT-RIC server.

Test Purpose

The purpose of this test case is to verify O-DU includes the RIC Actions Not Admitted List in subscription response to near RT-RIC server.

Reference Requirements

For detailed requirements, refer to the Chapter 6 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Physical interface of DHCP(v4/v6) server, DNS server, CA/RA server, SMO, O-DU and O-RU is connected.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be co-located with O-DU or deployed remotely and connected to O-DU using O-RAN WG4 defined hierarchical approach (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-DU is physically installed. It is assumed that when Power-ON the O-DU, the NETCONF Server is started or when the O-DU is restarted, the NETCONF Server is restarted.

NETCONF Client is operational.

GPS connection shall be connected physically as per LLS-1/LLS-2 configuration to O-DU and O-RU.

O-DU is connected to near RT-RIC.

The O-DU have obtained their IPv4 addresses by auto-configuration, shall use DHCPv4 OR O-DUs operating using stateful IPv4 or IPv6 address allocations shall obtain SMO information during IP address allocation. (Note: If IPv6 is supported, O-DU may obtain their IPv6 addresses by stateless address auto-configuration, may use stateless DHCPv6, [23], to obtain SMO information).

The O-DU shall be able to recover SMO information using O-RAN defined vendor specific option to signal SMO information to the O-DU using option 43 for DHCPv4 and option 17 for DHCPv6 as mentioned in Section 3.1.6 of [22]. Multiple instances of the SMO information may be signalled.

The PnfRegistration is successful with TLS secure connection is established between O-DU and SMO as per Test case ORAN.WG8.IOT.018.

O-DU and O-RU are exchanging the information between them.

SMO sends Cell Configuration to O-DU the E2 near RT-RIC server IP address as per the data model.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.4.

Test Procedure

The following table describes the test procedures to verify O-DU includes the RIC Actions Not Admitted List in subscription response to near RT-RIC server.

Table 26: O-DU includes the RIC Actions Not Admitted List in subscription response to near RT-RIC server

St.

Procedure

Msg Flow

Expected Output

1

O-DU sends the E2 Setup request to near -RT-RIC server.

O-DU  near RT-RIC

Verify O-DU sends the E2 Setup request message to near RT-RIC server with all the mandatory IEs.

2

near RT-RIC server sends E2 Setup Response to O-DU.

O-DU  near RT-RIC

Verify near RT-RIC sends the E2 setup response to O-DU with all the mandatory IEs.

3

near RT-RIC server sends E2 Subscription Request to O-DU.

O-DU  near RT-RIC

Verify near RT-RIC server sends E2 Subscription Request to O-DU with the supported list mentioned in Section 5 of [25].

Example: RACH.PreambleDedCell, DRB.UEThpDl, etc.

4

O-DU sends the E2 Subscription Response to near RT-RIC server with RIC Actions admitted and RIC Actions Not Admitted List items.

O-DU  near RT-RIC

Verify O-DU sends the E2 Subscription Response to near-RT-RIC server with “RIC Actions Admitted List” IE filled with O-DU supported list from the SUBSCRIPTION REQUEST and “RIC Actions Not Admitted List” IE filled with O-DU non-supported list.

ORAN.WG8.IOT.026: Verify O-DU sends periodic report to the subscribed features to near RT-RIC server.

Test Purpose

The purpose of this test case is to verify O-DU sends periodic report to the subscribed features to near RT-RIC server.

Reference Requirements

For detailed requirements, refer to the Chapter 6 in ORAN-WG8.AAD [1].

Initial Conditions

Following are the preconditions for this test.

Physical interface of DHCP(v4/v6) server, DNS server, CA/RA server, SMO, O-DU and O-RU is connected.

Use the default O-CU configuration files to configure all modules (NR RRC, NR PDCP, and SDAP) in
O-CU.

O-RU is connected to O-DU. O-RU shall be co-located with O-DU or deployed remotely and connected to O-DU using O-RAN WG4 defined hierarchical approach (Refer Chapter 2.3 of [22]).

O-CU is connected to O-DU.

O-CU is connected to 5GC through NG interface and O-CU is operational.

O-DU is physically installed. It is assumed that when Power-ON the O-DU, the NETCONF Server is started or when the O-DU is restarted, the NETCONF Server is restarted.

NETCONF Client is operational.

GPS connection shall be connected physically as per LLS-1/LLS-2 configuration to O-DU and O-RU.

O-DU is connected to near RT-RIC.

The O-DU have obtained their IPv4 addresses by auto-configuration, shall use DHCPv4 OR O-DUs operating using stateful IPv4 or IPv6 address allocations shall obtain SMO information during IP address allocation. (Note: If IPv6 is supported, O-DU may obtain their IPv6 addresses by stateless address auto-configuration, may use stateless DHCPv6, [23], to obtain SMO information).

The O-DU shall be able to recover SMO information using O-RAN defined vendor specific option to signal SMO information to the O-DU using option 43 for DHCPv4 and option 17 for DHCPv6 as mentioned in Section 3.1.6 of [22]. Multiple instances of the SMO information may be signalled.

The PnfRegistration is successful with TLS secure connection is established between O-DU and SMO as per Test case ORAN.WG8.IOT.018.

O-DU and O-RU are exchanging the information between them.

SMO sends Cell Configuration to O-DU the E2 near RT-RIC server IP address as per the data model.

Test Setup and Configuration

DUTs: single O-DU and single SMO.

Testing tools: Following are required for this test scenario:

Test UEs or UE emulator which can support NR.

5G Core or CN emulator used which supports N1, N2 and HTTP messages.

Protocol Analyzer: used to record and observe F1AP, NGAP, NAS, HTTP2, PFCP protocol content.

Configuration:

For details on the test setup refer A.4.

Test Procedure

The following table describes the test procedures to verify O-DU sends periodic report to the subscribed features to near RT-RIC server.

Table 27: SMO handles any subscribed measurement counters received from O-DU on O1 interface

St.

Procedure

Msg Flow

Expected Output

1

O-DU sends the E2 Setup request to near RT-RIC server.

O-DU  near RT-RIC

Verify O-DU sends the E2 Setup request message to near RT-RIC server with all the mandatory IEs.

2

near RT-RIC server sends E2 Setup Response to O-DU.

O-DU  near RT-RIC

Verify near RT-RIC sends the E2 setup response to O-DU with all the mandatory IEs.

3

near RT-RIC server sends E2 Subscription Request to O-DU.

O-DU  near RT-RIC

Verify near RT-RIC server sends E2 Subscription Request to O-DU with the supported list mentioned in Section 5 of 3GPP Specification. [25].

(Example: DRB.UEThpDl).

4

O-DU sends the E2 Subscription Response to near -RT-RIC server with supported subscription items and not supported items.

O-DU  near RT-RIC

Verify O-DU sends the E2 Subscription Response to near-RT-RIC server with “RIC Actions Admitted List” IE filled with O-DU supported list from the SUBSCRIPTION REQUEST and “RIC Actions Not Admitted List” IE filled with O-DU non-supported list.

5

O-DU sends the periodic report to the subscribed features to near RT-RIC server through RIC INDICATION message.

O-DU  near RT-RIC

Verify O-DU sends the periodic report to the subscribed features as per the REPORT Service Style mentioned in SUBSCRIPTION REQUEST to near RT-RIC server through RIC INDICATION message.

Test Setup

This section covers the test setup architectures and configurations.

Test Setup 1: End to End OTA architecture using commercial UE

Figure 2: Test Setup 1 - End to End OTA architecture using commercial UE

Test Setup 2: End to End OTA architecture using UE Simulator/Emulator

Figure 3: Test Setup 2 - End to End OTA architecture using UE Simulator/Emulator

Test Setup 3: Simulated CU and CN architecture

Figure 4: Test Setup 3 - Simulated CU and CN architecture

Test Setup 4: O1 and E2 interface for Remote O-RU connected to O-DU architecture

Figure 5: Test Setup 4 - O1 and E2 interface for Remote O-RU connected to O-DU architecture.

Test Setup 5: O1 and E2 interface for co-located O-RU and O-DU architecture

Figure 6: Test Setup 5 - O1 and E2 interface for co-located O-RU and O-DU architecture

Test Profiles

Test Profile 1: Throughput Test

FTP Settings

TCP data transfer depends on the following parameters:

TCP window size

Number of stream (default: 4 streams).

TCP maximum segment size (MSS). MSS is 1452 bytes (1492-byte MTU).

UDP Settings

UDP data transfer depends on the following parameters:

The length of buffers to read or write. For UDP default is 1470 Bytes

UDP bandwidth in bits/sec. Default is 1 Mbit/sec.

Test Profile 1: MIB and SSB

Table 28: Test Profile 1 - MIB and SSB

MIB

Parameter

Possible Values

Recommended Values (Phase 1)

subCarrierSpacingCommon

ENUMERATED {scs15or60, scs30or120},

1

ssb-SubcarrierOffset

INTEGER (0..15),

15

dmrs-TypeA-Position

ENUMERATED {pos2, pos3},

NA

pdcch-ConfigSIB1

INTEGER (0..255),

NA

  > controlResourceSetZero

  > searchSpaceZero

cellBarred

ENUMERATED {barred, notBarred},

1

intraFreqReselection

ENUMERATED {allowed, notAllowed},

0

SSB Pattern (time-freq)

ssb-PositionsInBurst

10000000…

ssb-periodicityServingCell

ms20

absoluteFrequencySSB

according to bandindicator

Test Profile 2: SIB1

Table 29: Test Profile 2 - SIB1

Default Values (Proposed)

SI-SchedulingInfo

si-WindowLength

ENUMERATED

s20

SchedulingInfo

si-Periodicity

ENUMERATED

rf16

SI-RequestConfig::=

ssb-perRACH-Occasion

ENUMERATED

one

Test Profile 3: PUCCH Support- Short PUCCH Format

Table 30: Test Profile 3 - PUCCH Support- Short PUCCH Format

PUCCH Format0

format format

0

initialCyclicShift

0,3

nrofSymbols

1

startingSymbolIndex

13

PUCCH Format2

format format

2

nrofSymbols

1

startingSymbolIndex

13

Number of PRB

3

Test Profile 4: Downlink Data Delivery Status Reporting

Refer to the DL DATA DELIVERY STATUS frame format defined in section 5.5.2.2 in 3GPP Specification [10] for more details. All parameters are not mandatory. The desired buffer size for the data radio bearer parameter is required to inform to CU.

Table 31: Test Profile 4 - Downlink Data Delivery Status Reporting

Bits

Number of Octets

7

6

5

4

3

2

1

0

PDU Type (=1)

Highest Transmitted NR PDCP SN Ind

Highest Delivered NR PDCP SN Ind

Final Frame Ind.

Lost Packet Report

1

Spare

Data rate Ind.

Retransmitted NR PDCP SN Ind

Delivered Retransmitted NR PDCP SN Ind

Cause Report

1

Desired buffer size for the data radio bearer

4

Desired Data Rate

0 or 4

Number of lost NR-U Sequence Number ranges reported

0 or 1

Start of lost NR-U Sequence Number range

0 or (6* Number of reported lost NR-U SN ranges)

End of lost NR-U Sequence Number range

Highest successfully delivered NR PDCP Sequence Number

0 or 3

Highest transmitted NR PDCP Sequence Number

0 or 3

Cause Value

0 or 1

Successfully delivered retransmitted NR PDCP Sequence Number

0 or 3

Retransmitted NR PDCP Sequence Number

0 or 3

Padding

0-3

Test Profile 5: RACH Configuration

Table 32: Test Profile 5 - RACH Configuration

RACH IEs (3GPP)

RACH IEs (Config file)

RACHConfig1 (Format 0)

RACHConfig1 (Format C2)

RACHConfig2 (Format B4)

RACH-ConfigDedicated

RACH-ConfigCommon

rach-ConfigGeneric

  > prach-ConfigurationIndex

PrachConfigIndex

1

  > msg1-FDM

PrachMsg1Fdm

1

  > msg1-FrequencyStart

PrachMsg1FreqStartRb

0

  > zeroCorrelationZoneConfig

ZeroCorrelationZoneConfig

Default

  > preambleReceivedTargetPower

preambleReceivedTargetPower

Default

  > preambleTransMax

preambleTransMax

Default

  > powerRampingStep

powerRampingStep

Default

  > ra-ResponseWindow

RaResponseWindow

sl4

totalNumberOfRA-Preambles

TotalRaPreambles

63

ssb-perRACH-OccasionAndCB-PreamblesPerSSB

SsbPerRachOcc

3

TotalCbPreamblesPerSsb

44

msg1-SubcarrierSpacing

PrachScs

30KHz

restrictedSetConfig

PrachRestrictSet

unrestrictedSet

Test Profile 6: Throughput Configuration

Table 33: Test Profile 6 - Throughput Configuration

TDD-UL-DL-ConfigCommon

Default

    referenceSubcarrierSpacing          SubcarrierSpacing,

30 KHz

    pattern1                            TDD-UL-DL-Pattern,

TDD-UL-DL-Pattern ::=

    dl-UL-TransmissionPeriodicity

ms2p5

    nrofDownlinkSlots                   INTEGER (0..maxNrofSlots),

3

    nrofDownlinkSymbols                 INTEGER (0..maxNrofSymbols-1),

10

    nrofUplinkSlots                     INTEGER (0..maxNrofSlots),

1

    nrofUplinkSymbols                   INTEGER (0..maxNrofSymbols-1),

2

Time slot configuration: DDDSU

Bandwidth: 100 MHz

Downlink

Suggested

Uplink

Config

U

1

U

1

Max RBs

275

Max RBs

275

Number of layers

2

Number of layers

2

Code rate for DL (MCS 28)

5.5547

Code rate for UL (MCS 28)

5.5547

Number of Subcarriers

12

Number of Subcarriers

12

Slot config per sec

400

Slot config per sec

400

Lmax

2

Lmax

2

PDCCH aggregation level

4

PUCCH

1

Number of Res per CCEs

72

Number of Res per CCEs

72

SSB (Res)

48

DMRS (1 sym)

3300

DMRS (3Sym)

9900

PDCCH Res

1152

PUCCH Res

6600

Over head Res

4500

Over head Res

16500

Number of Total REs

68640

Number of total Res

42240

Available RBs for DL data transfer

64140

Available RBs for UL data transfer

25740

DL Throughput

712.556916

UL Throughput

285.956

Initial Access Flow

Figure 7: Initial Access Flow

Annex ZZZ: O-RAN Adopter License Agreement

BY DOWNLOADING, USING OR OTHERWISE ACCESSING ANY O-RAN SPECIFICATION, ADOPTER AGREES TO THE TERMS OF THIS AGREEMENT.

This O-RAN Adopter License Agreement (the “Agreement”) is made by and between the O-RAN Alliance and the entity that downloads, uses or otherwise accesses any O-RAN Specification, including its Affiliates (the “Adopter”).

This is a license agreement for entities who wish to adopt any O-RAN Specification.

Section 1: DEFINITIONS

1.1 “Affiliate” means an entity that directly or indirectly controls, is controlled by, or is under common control with another entity, so long as such control exists. For the purpose of this Section, “Control” means beneficial ownership of fifty (50%) percent or more of the voting stock or equity in an entity.

1.2 “Compliant Implementation” means any system, device, method or operation (whether implemented in hardware, software or combinations thereof) that fully conforms to a Final Specification.

1.3 “Adopter(s)” means all entities, who are not Members, Contributors or Academic Contributors, including their Affiliates, who wish to download, use or otherwise access O-RAN Specifications.

1.4 “Minor Update” means an update or revision to an O-RAN Specification published by O-RAN Alliance that does not add any significant new features or functionality and remains interoperable with the prior version of an O-RAN Specification. The term “O-RAN Specifications” includes Minor Updates.

1.5 “Necessary Claims” means those claims of all present and future patents and patent applications, other than design patents and design registrations, throughout the world, which (i) are owned or otherwise licensable by a Member, Contributor or Academic Contributor during the term of its Member, Contributor or Academic Contributorship; (ii) such Member, Contributor or Academic Contributor has the right to grant a license without the payment of consideration to a third party; and (iii) are necessarily infringed by a Compliant Implementation (without considering any Contributions not included in the Final Specification). A claim is necessarily infringed only when it is not possible on technical (but not commercial) grounds, taking into account normal technical practice and the state of the art generally available at the date any Final Specification was published by the O-RAN Alliance or the date the patent claim first came into existence, whichever last occurred, to make, sell, lease, otherwise dispose of, repair, use or operate a Compliant Implementation without infringing that claim. For the avoidance of doubt in exceptional cases where a Final Specification can only be implemented by technical solutions, all of which infringe patent claims, all such patent claims shall be considered Necessary Claims.

1.6 “Defensive Suspension” means for the purposes of any license grant pursuant to Section 3, Member, Contributor, Academic Contributor, Adopter, or any of their Affiliates, may have the discretion to include in their license a term allowing the licensor to suspend the license against a licensee who brings a patent infringement suit against the licensing Member, Contributor, Academic Contributor, Adopter, or any of their Affiliates.

Section 2: COPYRIGHT LICENSE

2.1 Subject to the terms and conditions of this Agreement, O-RAN Alliance hereby grants to Adopter a nonexclusive, nontransferable, irrevocable, non-sublicensable, worldwide copyright license to obtain, use and modify O-RAN Specifications, but not to further distribute such O-RAN Specification in any modified or unmodified way, solely in furtherance of implementations of an ORAN Specification.

2.2 Adopter shall not use O-RAN Specifications except as expressly set forth in this Agreement or in a separate written agreement with O-RAN Alliance.

Section 3: FRAND LICENSE

3.1 Members, Contributors and Academic Contributors and their Affiliates are prepared to grant based on a separate Patent License Agreement to each Adopter under Fair Reasonable And Non- Discriminatory (FRAND) terms and conditions with or without compensation (royalties) a nonexclusive, non-transferable, irrevocable (but subject to Defensive Suspension), non-sublicensable, worldwide patent license under their Necessary Claims to make, have made, use, import, offer to sell, lease, sell and otherwise distribute Compliant Implementations; provided, however, that such license shall not extend: (a) to any part or function of a product in which a Compliant Implementation is incorporated that is not itself part of the Compliant Implementation; or (b) to any Adopter if that Adopter is not making a reciprocal grant to Members, Contributors and Academic Contributors, as set forth in Section 3.3. For the avoidance of doubt, the foregoing licensing commitment includes the distribution by the Adopter’s distributors and the use by the Adopter’s customers of such licensed Compliant Implementations.

3.2 Notwithstanding the above, if any Member, Contributor or Academic Contributor, Adopter or their Affiliates has reserved the right to charge a FRAND royalty or other fee for its license of Necessary Claims to Adopter, then Adopter is entitled to charge a FRAND royalty or other fee to such Member, Contributor or Academic Contributor, Adopter and its Affiliates for its license of Necessary Claims to its licensees.

3.3 Adopter, on behalf of itself and its Affiliates, shall be prepared to grant based on a separate Patent License Agreement to each Members, Contributors, Academic Contributors, Adopters and their Affiliates under Fair Reasonable And Non-Discriminatory (FRAND) terms and conditions with or without compensation (royalties) a nonexclusive, non-transferable, irrevocable (but subject to Defensive Suspension), non-sublicensable, worldwide patent license under their Necessary Claims to make, have made, use, import, offer to sell, lease, sell and otherwise distribute Compliant Implementations; provided, however, that such license will not extend: (a) to any part or function of a product in which a Compliant Implementation is incorporated that is not itself part of the Compliant Implementation; or (b) to any Members, Contributors, Academic Contributors, Adopters and their Affiliates that is not making a reciprocal grant to Adopter, as set forth in Section 3.1. For the avoidance of doubt, the foregoing licensing commitment includes the distribution by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ distributors and the use by the Members’, Contributors’, Academic Contributors’, Adopters’ and their Affiliates’ customers of such licensed Compliant Implementations.

Section 4: TERM AND TERMINATION

4.1 This Agreement shall remain in force, unless early terminated according to this Section 4.

4.2 O-RAN Alliance on behalf of its Members, Contributors and Academic Contributors may terminate this Agreement if Adopter materially breaches this Agreement and does not cure or is not capable of curing such breach within thirty (30) days after being given notice specifying the breach.

4.3 Sections 1, 3, 5 - 11 of this Agreement shall survive any termination of this Agreement. Under surviving Section 3, after termination of this Agreement, Adopter will continue to grant licenses (a) to entities who become Adopters after the date of termination; and (b) for future versions of ORAN Specifications that are backwards compatible with the version that was current as of the date of termination.

Section 5: CONFIDENTIALITY

Adopter will use the same care and discretion to avoid disclosure, publication, and dissemination of O-RAN Specifications to third parties, as Adopter employs with its own confidential information, but no less than reasonable care. Any disclosure by Adopter to its Affiliates, contractors and consultants should be subject to an obligation of confidentiality at least as restrictive as those contained in this Section. The foregoing obligation shall not apply to any information which is: (1) rightfully known by Adopter without any limitation on use or disclosure prior to disclosure; (2) publicly available through no fault of Adopter; (3) rightfully received without a duty of confidentiality; (4) disclosed by O-RAN Alliance or a Member, Contributor or Academic Contributor to a third party without a duty of confidentiality on such third party; (5) independently developed by Adopter; (6) disclosed pursuant to the order of a court or other authorized governmental body, or as required by law, provided that Adopter provides reasonable prior written notice to O-RAN Alliance, and cooperates with O-RAN Alliance and/or the applicable Member, Contributor or Academic Contributor to have the opportunity to oppose any such order; or (7) disclosed by Adopter with O-RAN Alliance’s prior written approval.

Section 6: INDEMNIFICATION

Adopter shall indemnify, defend, and hold harmless the O-RAN Alliance, its Members, Contributors or Academic Contributors, and their employees, and agents and their respective successors, heirs and assigns (the “Indemnitees”), against any liability, damage, loss, or expense (including reasonable attorneys’ fees and expenses) incurred by or imposed upon any of the Indemnitees in connection with any claims, suits, investigations, actions, demands or judgments arising out of Adopter’s use of the licensed O-RAN Specifications or Adopter’s commercialization of products that comply with O-RAN Specifications.

Section 7: LIMITATIONS ON LIABILITY; NO WARRANTY

EXCEPT FOR BREACH OF CONFIDENTIALITY, ADOPTER’S BREACH OF SECTION 3, AND ADOPTER’S INDEMNIFICATION OBLIGATIONS, IN NO EVENT SHALL ANY PARTY BE LIABLE TO ANY OTHER PARTY OR THIRD PARTY FOR ANY INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL DAMAGES RESULTING FROM ITS PERFORMANCE OR NON-PERFORMANCE UNDER THIS AGREEMENT, IN EACH CASE WHETHER UNDER CONTRACT, TORT, WARRANTY, OR OTHERWISE, AND WHETHER OR NOT SUCH PARTY HAD ADVANCE NOTICE OF THE POSSIBILITY OF SUCH DAMAGES. O-RAN SPECIFICATIONS ARE PROVIDED “AS IS” WITH NO WARRANTIES OR CONDITIONS WHATSOEVER, WHETHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE. THE O-RAN ALLIANCE AND THE MEMBERS, CONTRIBUTORS OR ACADEMIC CONTRIBUTORS EXPRESSLY DISCLAIM ANY WARRANTY OR CONDITION OF MERCHANTABILITY, SECURITY, SATISFACTORY QUALITY, NONINFRINGEMENT, FITNESS FOR ANY PARTICULAR PURPOSE, ERROR-FREE OPERATION, OR ANY WARRANTY OR CONDITION FOR O-RAN SPECIFICATIONS.

Section 8: ASSIGNMENT

Adopter may not assign the Agreement or any of its rights or obligations under this Agreement or make any grants or other sublicenses to this Agreement, except as expressly authorized hereunder, without having first received the prior, written consent of the O-RAN Alliance, which consent may be withheld in O-RAN Alliance’s sole discretion. O-RAN Alliance may freely assign this Agreement.

Section 9: THIRD-PARTY BENEFICIARY RIGHTS

Adopter acknowledges and agrees that Members, Contributors and Academic Contributors (including future Members, Contributors and Academic Contributors) are entitled to rights as a third-party beneficiary under this Agreement, including as licensees under Section 3.

Section 10: BINDING ON AFFILIATES

Execution of this Agreement by Adopter in its capacity as a legal entity or association constitutes that legal entity’s or association’s agreement that its Affiliates are likewise bound to the obligations that are applicable to Adopter hereunder and are also entitled to the benefits of the rights of Adopter hereunder.

Section 11: GENERAL

This Agreement is governed by the laws of Germany without regard to its conflict or choice of law provisions.

This Agreement constitutes the entire agreement between the parties as to its express subject matter and expressly supersedes and replaces any prior or contemporaneous agreements between the parties, whether written or oral, relating to the subject matter of this Agreement.

Adopter, on behalf of itself and its Affiliates, agrees to comply at all times with all applicable laws, rules and regulations with respect to its and its Affiliates’ performance under this Agreement, including without limitation, export control and antitrust laws. Without limiting the generality of the foregoing, Adopter acknowledges that this Agreement prohibits any communication that would violate the antitrust laws.

By execution hereof, no form of any partnership, joint venture or other special relationship is created between Adopter, or O-RAN Alliance or its Members, Contributors or Academic Contributors. Except as expressly set forth in this Agreement, no party is authorized to make any commitment on behalf of Adopter, or O-RAN Alliance or its Members, Contributors or Academic Contributors.

In the event that any provision of this Agreement conflicts with governing law or if any provision is held to be null, void or otherwise ineffective or invalid by a court of competent jurisdiction, (i) such provisions will be deemed stricken from the contract, and (ii) the remaining terms, provisions, covenants and restrictions of this Agreement will remain in full force and effect.

Any failure by a party or third party beneficiary to insist upon or enforce performance by another party of any of the provisions of this Agreement or to exercise any rights or remedies under this Agreement or otherwise by law shall not be construed as a waiver or relinquishment to any extent of the other parties’ or third party beneficiary’s right to assert or rely upon any such provision, right or remedy in that or any other instance; rather the same shall be and remain in full force and effect.

_____________________________________________________________________________________________ Copyright © 2021 by the O-RAN ALLIANCE e.V.

Your use is subject to the terms of the O-RAN Adopter License Agreement in Annex ZZZ								  14