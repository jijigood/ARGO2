O-RAN.WG6.AAL-Common API-R003-v04.00

                    O-RAN.WG6.AAL-Common API-R003-v04.00

     O-RAN.WG6.AAL Common API-R003-v04.00

Technical Specification

O-RAN Working Group 6

(Cloudification and Orchestration Workgroup)

Acceleration Abstraction Layer

Common API

Copyright © 2023 by the O-RAN ALLIANCE e.V.

The copying or incorporation into any other work of part or all of the material available in this specification in any form without the prior written permission of O-RAN ALLIANCE e.V.  is prohibited, save that you may print or download extracts of the material of this specification for your personal use, or copy the material of this specification for the purpose of sending to individual third parties for their information provided that you acknowledge O-RAN ALLIANCE as the source of the material and that you inform the third party that these conditions apply to them and that they must comply with them.

O-RAN ALLIANCE e.V., Buschkauler Weg 27, 53347 Alfter, Germany

Register of Associations, Bonn VR 11238, VAT ID DE321720189

Contents

Chapter 1 Introductory Material	4

1.1 Scope	4

1.2 References	4

1.3 Definitions and Abbreviations	4

1.3.1 Definitions	4

1.3.2 Abbreviations	4

Chapter 2 Overview	5

2.1 General	5

2.2 Document Structure	6

Chapter 3 AAL Common requirements and Object Model	7

3.1 AALI-C Mgmt Requirements	7

3.2 AALI-C App Requirements	8

3.2.1 AALI-C-APP Transport Abstraction Requirements and Operations	8

3.3 Object model and scenarios	9

3.3.1 HW Accelerator Modelling	10

3.3.2 AAL-LPU Modelling	11

3.3.3 Naming convention and Managed Resource tags	13

3.3.3.1 API Managed Resources tags	13

3.3.3.2 API Naming Conventions	13

Chapter 4 AALI-C-Mgmt	13

4.1 AALI-C-Mgmt operations and events	13

4.2 AALI-C-Mgmt use case workflows	15

4.2.1 HW Accelerator installation/bootstrap use case workflow	15

4.2.1.1 Sequence Diagram	16

4.2.2 e2e Life Cycle Management use case workflow (Informational)	18

4.2.2.1 Sequence Diagram	20

4.3 AALI-C-Mgmt API details	25

4.3.1 Capabilities discovery and configuration	25

4.3.1.1 getAalHwAccelStatus	25

4.3.1.2 getAalLpuStatus	25

4.3.1.3 getAalAccelInfo	26

4.3.1.4 setAalAccelConfig	29

4.3.1.5 startAalLpu	31

4.3.1.6 stopAalLpu	32

4.3.1.7 Inventory Notifications	33

4.3.1.8 setAalAccelIdentifier	34

4.3.2 Infrastructure Monitoring Service	35

4.3.2.1 Fault Service Operations	35

4.3.2.2 Fault Notifications	36

Chapter 5 AALI-C-APP	40

5.1 AALI-C-App Identification & Representation	40

5.2 AALI-C-App operations and events	40

5.3 AALI-C-App Operations and Events Sequence and State Diagram	41

5.3.1 AALI-C-App State	41

5.3.2 AALI-C-App API Init Sequence	43

5.3.3 AALI-C-Transport API Sequence	44

5.3.3.1 Allocation of AAL Buffer(s)	44

5.3.3.2 Procedure for Buffer(s) Send and Receive	47

5.4 AALI-C-App API details	67

5.4.1 Capabilities discovery and configuration	67

5.4.1.1 getAalLpuInfo	67

5.4.2 AALI-C-App Configuration Services	67

5.4.2.1 createAalProfileInstance	68

5.4.2.2 setAalProfileInstanceConfig	69

5.4.2.3 deleteAalProfileInstance	69

5.4.2.4 setAalProfileQueueConfig	70

5.4.2.5 getAalProfileQueueConfig	71

5.4.3 AALI-C-App Transport Operations	72

5.4.3.1 createBufferPool	72

5.4.3.2 allocBuffer	74

5.4.3.3 getBufferAddr	75

5.4.3.4 getBufferSize	76

5.4.3.5 sendBuffer	76

5.4.3.6 receiveBuffer	78

5.4.3.7 freeBuffer	79

5.4.3.8 destroyBufferPool	80

Revision History	81

History	83

Introductory Material

1.1 Scope

This Technical Specification has been produced by the O-RAN Alliance.

The contents of the present document are subject to continuing work within O-RAN and may change following formal O-RAN approval. Should the O-RAN Alliance modify the contents of the present document, it will be re-released by O-RAN with an identifying change of release date and an increase in version number as follows:

Release x.y.z

where:

x	the first digit is incremented for all changes of substance, i.e., technical enhancements, corrections, updates, etc. (the initial approved document will have x=01).

y	the second digit is incremented when editorial only changes have been incorporated in the document.

z	the third digit included only in working versions of the document indicating incremental changes during the editing process.

The present document focuses on the Common API related to common aspects of accelerator abstraction from an administration and AAL Application perspective.

1.2 References

3GPP TR 21.905: “Vocabulary for 3GPP Specifications”.

O-RAN Cloud Architecture and Deployment Scenarios for O-RAN Virtualized RAN.

O-RAN O-RAN.WG1.O-RAN-Architecture-Description

O-RAN O2 Interface General Aspects and Principles

O-RAN Cloudification and Orchestration Use Cases and Requirements for O-RAN Virtualized RAN

O-RAN O2ims Interface Specification

O-RAN Acceleration Abstraction Layer General Aspects and Principles

O-RAN Acceleration Abstraction Layer FEC Profiles

O-RAN Acceleration Abstraction Layer High-PHY Profiles

1.3 Definitions and Abbreviations

1.3.1 Definitions

For the purposes of the present document, the terms and definitions given in O-RAN Acceleration Abstraction Layer General Aspects and Principles [7] apply. There are no additional definitions that are required aside from those in O-RAN Acceleration Abstraction Layer General Aspects and Principles [7].

1.3.2 Abbreviations

For the purposes of the present document, the terms and definitions given in the O-RAN Acceleration Abstraction Layer General Aspects and Principles [7] apply. There are no additional abbreviations that are required aside from those in O-RAN Acceleration Abstraction Layer General Aspects and Principles [7].

Overview

General

The AAL General Aspects and Principles are described in [2] including a high-level architecture of the AAL and definition of the AAL profiles.

The AAL interface has two parts:

AALI-C: A profile independent set of functions between AAL Application(s) and underlying AAL implementation(s) including management and orchestration within an O-Cloud platform.

AALI-P: A set of profile specific interfaces dependent upon the profile selected e.g., FEC.

The AALI-P are addressed in FEC[8] and High-Phy specifications [9].

Within the AALI-C interface there are two parts:

AALI-C-Mgmt: Common administrative operations, actions, and events between the O-Cloud IMS and the HW Accelerator Manager (HAM). The IMS provides the O2 interface towards the SMO. The HAM terminates the AALI-C-Mgmt interface.

AALI-C-App: Common operations/actions/events toward an AAL Application. These operations are between the AAL Implementation and the AAL Application (AAL-App).

Figure 2.1-1: Architecture

The present document details the list of AALI-C operations and events, description with input/outputs, information models, state transition diagrams and requirements to implement an AAL interface.

Note: The scope of the definition in this specification is southbound of the IMS, while reference to SMO is made to set the context, the normative definition of the exchange of information between the IMS and SMO, is part of the O2 IMS specification. [6]

2.2 Document Structure

This present document is structured as follows:

Chapter 2 presents the overview and main purpose of this specification.

Chapter 3 presents a list of requirements and object model.

Chapter 4 presents the initialization and flow, operations and events associated with AALI-C-Mgmt.

Chapter 5 presents the initialization and flow, operations and events associated with AALI-C-App.

AAL Common requirements and Object Model

3.1 AALI-C Mgmt Requirements

Table 3.1-1: AAL-C-Mgmt Requirements

Description

Additional Info (TBD)

[REQ-AALI-C-MGMT1]

 The O-RAN SMO and the O-Cloud Infrastructure Management Service shall support the ability to uniquely identify the HW Accelerator, AAL-LPU and AAL Profile and AAL Profile Instance in a provider’s network.

[REQ-AALI-C-MGMT2]

The HAM shall provide on demand query of the inventory and capabilities of the HW Accelerator via the AALI-C-Mgmt interface.

[REQ-AALI-C-MGMT3]

The HAM shall provide the capability to get the alarm dictionary via the AALI-C-Mgmt interface.

[REQ-AALI-C-MGMT4]

The HAM shall provide fault information via the AALI-C-Mgmt:

Autonomous notification of faults

On demand query of the active faults

[REQ-AALI-C-MGMT5]

The HAM shall provide logs (if available) via the AALI-C-Mgmt.

Start/Stop/Get logs (Fault, debug)

[REQ-AALI-C-MGMT6]

The HAM shall provide performance information via the AALI-C-Mgmt:

Reporting PM periodically

On-demand retrieval of performance data

[REQ-AALI-C-MGMT7]

The HAM shall provide state management services via the AALI-C-Mgmt.

Retrieve the status

Autonomous notification of state changes

[REQ-AALI-C-MGMT8]

The HAM shall provide configuration management services via the AALI-C-Mgmt interface.

Configure the number of AAL-LPUs to be supported

Configure the Profiles to be support on the AAL-LPUs

Retrieve AAL-LPU capabilities

Configure performance collection interval

[REQ-AALI-C-MGMT9]

The HAM shall support the installation and upgrade of the HW Accelerator Drivers/FW as applicable.

[REQ-AALI-C-MGMT10]

The HAM shall support the following actions via the AALI-C-Mgmt interface:

Restart/Reset HW Accelerator

Power Cycle HW Accelerator

Start AAL-LPU

Stop AAL-LPU

3.2 AALI-C App Requirements

Note: This section is to be completed in the next release

Table 3.2-1: AAL-C-App Requirements

Requirement Number

Description

Additional Info

3.2.1 AALI-C-APP Transport Abstraction Requirements and Operations

	The transport between an AAL Application and an AAL implementation can be of different types (e.g., based on shared memory, PCIe interconnect, over Ethernet). AALI-C-App shall support abstraction of these various transport mechanisms between an AAL Application and an AAL implementation through a set of common transport APIs, constituting a transport abstraction framework. The related set of requirements and operations defined in the table below is complementing Sec. 2.5.1.12 of AAL GAnP Spec. [Ref. [7]]

Table 3.2.1-1: AAL-C-App Transport Requirements

Requirement Number

Description

Operation

[REQ-AALI-C-APP-TRANSPORT1]

The Transport Abstraction Framework shall provide a method for the AAL Application to request an AAL implementation to create buffer pool(s) constituting of buffers(s) of one size or more than one size.

createBufferPool (Sec. 5.4.3.1)

[REQ-AALI-C-APP-TRANSPORT2]

The Transport Abstraction Framework shall provide a method for the AAL Application to request an AAL implementation to allocate buffers.

allocBuffer (Sec. 5.4.3.2)

[REQ-AALI-APP-TRANSPORT3]

The Transport Abstraction Framework shall support Synchronous (blocking), and Asynchronous (non-blocking) API calls for operations related to sending and receiving buffer(s) by the AAL Application

Synchronous (Blocking) API - blocks until the operation is complete and returns the status of the operation execution (success/failure).

Asynchronous (Non-Blocking) API - returns immediately before the operation is complete. The AAL Application invoking API calls in this mode can pre-register for a callback.

sendBuffer (Sec. 5.4.3.5)

receiveBuffer (Sec. 5.4.3.6)

[REQ-AALI-C-APP-TRANSPORT4]

The Transport Abstraction Framework shall support a method of enabling buffer ownership transfer from the AAL Application to the AAL implementation.

When the AAL Application retains ownership of buffer(s), the AAL implementation shall not free the buffer(s) on completion of an operation until buffer ownership is transferred by the AAL Application.

If the AAL Application does not retain ownership of the buffer(s), the AAL implementation shall assume ownership and free the buffer(s) on completion of an operation

[REQ-AALI-C-APP-TRANSPORT5]

The Transport Abstraction Framework shall support an operation for the AAL Application to receive data in the buffer(s) allocated by the AAL Application or the AAL implementation.

sendBuffer (Sec. 5.4.3.5)

[REQ-AALI-C-APP-TRANSPORT6]

The Transport Abstraction Framework shall support an operation for freeing pre-allocated buffer(s).

receiveBuffer (Sec. 5.4.3.6)

[REQ-AALI-C-APP-TRANSPORT7]

The Transport Abstraction Framework shall support an operation for destroying pre-created buffer pool(s).

freeBuffer (Sec. 5.4.3.7)

3.3 Object model and scenarios

The AALI-C-Mgmt interface is the management interface that is used by the IMS for administrative operations/actions/events. The HAM terminates the AALI-C-Mgmt interface.

Operations and actions/events via AALI-C-Mgmt are applicable on the following entities:

		HW Accelerator – Physical Managed Resource

		AAL Logical Processing Unit (AAL-LPU) – Logical Managed Resource

		AAL Profile – Logical Managed Resource

The AALI-C-App interface is the application facing interface that is used by the AAL Application to discover, configure, and manage the AAL-Profile-Instance(s) and AAL-Profile-Queue(s) assigned to the AAL Application.

Note: An AAL Application may choose to use one or more AAL Profiles as part of its implementation.

Operations and actions/events via AALI-C-App are applicable on the following entities:

		AAL Logical Processing Unit (AAL-LPU) – Logical Managed Resource

		AAL Profile Instance - Logical Managed Resource

		AAL Profile Queue - Logical Managed Resource

HW Accelerator: AAL Logical Processing Unit = 1: N2 (N2 >= 1)

AAL Logical Processing Unit: AAL Profile Instance = 1: N3 (N3 >= 1)

AAL Logical Processing Unit: AAL Profile Queue = 1: N4 (N4 >= 1)

AAL Profile Instance: AAL Profile Queues = 1: N4 (N4 >= 1)

           Figure 3.3-1: Physical and Logical resources

Note: The definition of these resources are defined in GAnP specification [7] section 1.3: The cardinality and relationship between these objects are derived from the GAnP specification [7] section 2.3. The various scenarios supported are also available in the GAnP [7] section 5.

The Information model defined in [6] will be used to define these Managed Resources.

Note 1: Usage of  'M', 'O', and 'CM' imply Mandatory, Optional and Conditional Mandatory in the spec

3.3.1 HW Accelerator Modelling

A HW Accelerator is a Physical Managed resource and can be modelled as below:

       Figure 3.3.1-1: HW Accelerator Resource model

Table 3.3.1-2: HW Accelerator Managed Resource

Attribute

Qualifier

Description

resourceId = hw-accel-id

M

Identifier of the resource. Locally unique within the scope of an O-Cloud instance.

description

M

Human readable description of the resource.

resourceTypeId

M

Reference to the resource type of the resource.

globalAssetId

CM

Identifier or serial number of the resource, if available. It is required only if the resource has been identified during its addition to the cloud as a reportable asset in the SMO inventory.

resourcePooldId

M

Reference to the resource pool that the resource is part of.

Elements – AAL-LPUs

O

The resource might be composed of smaller resources or other resource instances of a different type

faults

M

The list of current fault conditions for the resource

extensions

O

These are unspecified (not standardized) properties (keys) which are tailored by the vendor to extend the information provided about the Resource. Further work is planned to define additional common attributes specific to the ResourceClass indicated by the ResourceType.

Table 3.3.1-3: HW Accelerator Managed Resource Type

Attribute

Qualifier

Description

resourceTypeId

M

Identifier of the resource type. Globally unique across O-Cloud instances.

description

M

Human readable description of the resource type.

vendor

M

Name of the provider of the resource type.

model

M

Information about the model of the resource type.

version

M

Version or generation of the resource type.

resourceKind - PHYSICAL

M

The kind (PHYSICAL, LOGICAL) of resource identified by the resource type

resourceClass - ACCELERATOR

M

The enumerated set of values representing class (COMPUTE, NETWORKING, STORAGE, ACCELERATOR) of resource identified by resource type

AlarmDictionary

O

Alarm Dictionary

extensions

O

These are unspecified (not standardized) properties (keys) which are tailored by the vendor to extend the information provided about the ResourceType

Additionally, HW Accelerator specific attributes can be added.

Editor’s Note: The modelling aspects needs to be aligned with the WG6 O2 modelling discussions. The alignment may result in modifications to this section.

Editor’s Note: Alarm Dictionary currently does not expose faults. The mapping of Faults to Alarms or correlation of fault conditions are difficult with that mapping. Open Action: Require co-ordination with WG10 alarm Dictionary definition to come up with a solution.

3.3.2 AAL-LPU Modelling

An AAL-LPU is a Logical Managed resource and can be modelled as below:

Figure 3.3.2-1: AAL-LPU Resource model

Table 3.3.1-4: AAL-LPU Managed Resource

Attribute

Qualifier

Description

resourceId = AAL-LPU

M

Identifier of the resource. Locally unique within the scope of an O-Cloud instance.

description

M

Human readable description of the resource.

resourceTypeId

M

Reference to the resource type of the resource.

globalAssetId

CM

Identifier or serial number of the resource, if available. It is required only if the resource has been identified during its addition to the cloud as a reportable asset in the SMO inventory.

resourcePooldId

M

Reference to the resource pool that the resource is part of.

Elements –

O

The resource might be composed of smaller resources or other resource instances of a different type.

faults

M

The list of current fault conditions for the resource.

extensions

O

These are unspecified (not standardized) properties (keys) which are tailored by the vendor to extend the information provided about the Resource  Further work is planned to define additional common attributes specific to the ResourceClass indicated by the ResourceType.

Table 3.3.1-5: AAL-LPU Managed Resource Type

Attribute

Qualifier

Description

resourceTypeId

M

Identifier of the resource type. Globally unique across O-Cloud instances.

name

M

Human readable name of the resource type.

description

M

Human readable description of the resource type.

vendor

M

Name of the provider of the resource type.

model

M

Information about the model of the resource type.

version

M

Version or generation of the resource type.

resourceKind - LOGICAL

M

The kind (PHYSICAL, LOGICAL) of resource identified by the resource type

resourceClass - COMPUTE

M

The enumerated set of values representing class (COMPUTE, NETWORKING, STORAGE) of resource identified by resource type

AlarmDictionary

O

Alarm Dictionary (AAL-LPU alarms)

extensions

O

These are unspecified (not standardized) properties (keys) which are tailored by the vendor to extend the information provided about the ResourceType

In our spec we can add a few extensions:

Example:

Profiles supported by LPU

The Hardware Accelerator Manager is the AAL endpoint for the AALI-C-MGMT interface.

Editor’s Note: Alarm Dictionary currently does not expose faults. The mapping of Faults to Alarms or correlation of fault conditions are difficult with that mapping. Open Action: Require co-ordination with WG10 alarm Dictionary definition to come up with a solution.

3.3.3 Naming convention and Managed Resource tags

3.3.3.1 API Managed Resources tags

For the following Managed Resources, the associated API Managed Resource tags will be used:

For the Managed Resources:

HW Accelerator - HW-Accel

AAL LPU - AAL-LPU

AAL Profile Instance - AAL-Profile-Instance

AAL Profile Queue - AAL-Profile-Queue

Profile Naming convention:

FEC Profile – AAL-FEC

L1 DL High Phy Profile – AAL-DOWNLINK-High-PHY

L1 UL High Phy Profile – AAL-UPLINK-High-PHY

3.3.3.2 API Naming Conventions

Operations and parameters naming convention:

lowerCamelCase for operation names

lower_snake_case for parameters

Group of attributes are notified with a > sign.

Example:

A grouped list of variables a, b and c under one parameter i.e. parameter_name is shown as follows:

parameter_name

struct

>a

>b

>c

AALI-C-Mgmt

4.1 AALI-C-Mgmt operations and events

The below table lists the operations and events as part of the AALI-C-Mgmt interface.

Table 4.1-1: AAL-C-Mgmt operations and events

Category

Operations/Events

Objects

Capabilities discovery and Configuration Services

Get Configuration Services

Get configuration

getAalHwAccelStatus

getAalLpuStatus

getAalAccelInfo  (inventory and capabilities)

getPmCounters

getAlarmDictionary

getPmDictionary

HW-Accel

AAL-LPU

Set Configuration Services

Set configuration (add/modify/delete) configuration (initial and inline updates):

setAalAccelConfig

setPmCollectionInterval (granularity/reporting etc.) (TBD)

HW-Accel

AAL-LPU

Set identification of the resource.

setAalAccelIdentifier

HW-Accel

Inventory Notification

Inventory notification event

aalInventoryNotification

O-Cloud Resource defined in section 3.3

Infrastructure Monitoring Services

Fault Service Operations

getAalHwAccelFaults

getAalLpuFaults

HW-Accel

AAL-LPU

manageLogs (Start/Stop/Get logs (Fault, debug))

HW-Accel

AAL-LPU

Fault Subscription

createAalFaultSubscription

deleteAalFaultSubscription

getAalFaultSubscription

HW-Accel

AAL-LPU

Fault Notification

aalFaultNotification

HW-Accel

AAL-LPU

 State Change Notification

State Change notification (Autonomous)

HW-Accel

AAL-LPU

PM Service Operations

PM Subscription

HW-Accel

AAL-LPU

Reporting of PM (file, streaming etc)

HW-Accel

AAL-LPU

Operational Commands

Operational commands

restartHwAccel (TBD)

resetHwAccel (TBD)

HW-Accel

powerCycleHwAccel (TBD)

HW-Accel

startAalLpu

AAL-LPU

stopAalLpu

AAL-LPU

initiateTest (TBD)

HW-Accel

AAL-LPU

4.2 AALI-C-Mgmt use case workflows

4.2.1 HW Accelerator installation/bootstrap use case workflow

This use case describes the procedure with a focus on the interaction of IMS with the HAM when installing and optionally configuring the HW Accelerator resource and configuring the AAL-LPUs resources. This procedure would be applicable during the initial deployment of an O-Cloud and afterward to reconfigure or add new resources.

This AAL UC flow can be executed during the O-Cloud Registration and Initialization Use Case, O-Cloud Inventory Update Use Case and the Hardware Infrastructure Scaling of O-Cloud Post Deployment Use Case [ Ref[5]: 3.1.3 “O-Cloud Registration and Initialization Use Case”, Configure AAL-LPU  “3.1.4 : O-Cloud Inventory Update Use Case (DMS Example)” and “3.1.5: Hardware Infrastructure Scaling of O-Cloud Post Deployment”].

Table 4.2.1-1: HW Accelerator installation/bootstrap workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

Install the HW Accelerator and update the IMS that the HW Accelerator is available.

Actors and Roles

Cloud Installer:

SMO:

FOCOM:

IMS:

HAM:

Accelerator SW Repository:

Assumptions

This UC can be applicable during the O-Cloud Registration and Initialization or during Hardware Infrastructure Scaling of O-Cloud Post Deployment.

Pre-conditions

SMO/FOCOM is active and running normally

	O-Cloud is available

	IMS is already available

	HAM is available

	SMO and IMS connectivity is established

      IMS and HAM connectivity is established

Accelerator SW Repository is accessible to HAM and populated with needed files.

Begins when

SMO sends request to install the HW Accelerator

Step 1 (M)

The IMS updates its inventory with the O-Cloud Resource information for the HW Accelerator discovered by the HAM.

The IMS obtains, via the AALI-C-Mgmt interface, the O-Cloud Resource information through reception of an inventory notification event for additions of HW Accelerator(s).

Step 2 (O)

If the IMS needs to assign the identifier of the HW Accelerator, the IMS sets the HW Accelerator’s identifier by sending the setAalAccelIdentifier request to the HAM.

Steps 3-4 (O)

If the HW Accelerator status steps were performed, additionally optionally the IMS can get the AAL-LPU status(es).

Steps 5-6 (O)

Optionally the IMS can get the HW Accelerator configuration

Step 7-8  (O)

Optionally the IMS can configure the HW Accelerator (via the HAM): If the IMS (or SMO) determines that different image(s) should be used it may send a setAalAccelConfig request to the HAM, if the HAM determines new binaries, SW or configuration artifacts are needed from a SW repository, they are fetched, verified and installed.

Ends when

HW Accelerator inventory has been received by the IMS and IMS has optionally configured the HW Accelerator.

Exceptions

None identified

Post Conditions

The HW Accelerator has been deployed on the O-Cloud.

Traceability

To be added later

4.2.1.1 Sequence Diagram

@startuml

skinparam sequenceArrowThickness 1

skinparam ParticipantPadding 2

skinparam BoxPadding 5

Autonumber

Box "Personnel" #lightblue

   Actor Installer as "Cloud Installer"

End box

Box "Service Management & Orchestration Framework" #gold

   Participant "FOCOM" as FCC

End box

Box "O-Cloud      "#lightseagreen

   Participant "IMS" as IMS

   Participant AccelMgr as "HAM"

End box

Box "SW Repo" #grey

   Participant "SW Repo" as Repo

   End Box

Note over Installer, IMS

  	PRECONDITIONS:

    SMO/FOCOM is active and running normally

    O-Cloud is available

    IMS is already available

    HAM is available

    SMO and IMS connectivity is established

    IMS and HAM connectivity is established

    HW Accel(s) installed

    HAM connection to HW Accel(s) is established

End Note

AccelMgr --> IMS : <<AALI-C-Mgmt>> aalInventoryNotification (inc SW/FW/Config - same params as getAalAccelInfo)

Note over FCC, IMS

  IMS informs SMO of the HW Accelerator Inventory

  SMO Updates O-Cloud inventory with the HW Accelerator inventory information

End Note

Opt

  Note over IMS, AccelMgr

     If IMS needs to set the identifier of the HW Accel using the HW Accelerator vendor_name, model and serial_number input parameters.

  End Note

   IMS -> AccelMgr : <<AALI-C-Mgmt>> setAalAccelIdentifier request

   AccelMgr -> IMS : <<AALI-C-Mgmt>> setAalAccelIdentifier response (success)

End Opt

Opt

   IMS -> AccelMgr : <<AALI-C-Mgmt>> getAalHwAccelStatus request

   AccelMgr -> IMS : <<AALI-C-Mgmt>> getAalHwAccelStatus response (success)

   opt

      IMS -> AccelMgr : <<AALI-C-Mgmt>> getAalLpuStatus request

      AccelMgr -> IMS : <<AALI-C-Mgmt>> getAalLpuStatus response (success)

   End opt

End opt

Opt

   IMS -> AccelMgr : <<AALI-C-Mgmt>> getAalAccelInfo request

   AccelMgr -> IMS : <<AALI-C-Mgmt>> getAalAccelInfo response (success)

End opt

Note over FCC, IMS

  SMO optionally instructs IMS to configure HW Accelerator

  boot image or other config/SW/config artifact

End Note

Opt

  Note over IMS, AccelMgr

     If boot image or other config/SW/config artifact is needed or new driver is needed

     (in order to match an intended configuration) then it is set using setAalAccelConfig API

  End Note

   IMS -> AccelMgr : <<AALI-C-Mgmt>> setAalAccelConfig request

   Note over AccelMgr, Repo

      Download & apply needed

      binaries, images, FW, etc.

   End note

   AccelMgr -> IMS : <<AALI-C-Mgmt>> setAalAccelConfig response (success)

End Opt

Note over FCC, IMS

  HW Accelerator is installed and SMO has the inventory

  information about the HW Accelerator.

  SMO Updates O-Cloud inventory with the HW Accelerator

  resouce information

End Note

@enduml

4.2.2 e2e Life Cycle Management use case workflow (Informational)

Note: The e2e flow depicted in this section are known to be incomplete and are being provided as informational guidance to implementors on how the APIs documented in the remainder of the specification are to be used. These exchanges will be made normative in future versions of the specification”.

This use case describes the e2e procedure with a focus on the interaction with the HAM via the AALI-C-Mgmt interface for discovering the capabilities of the HW Accelerator, configuring the AAL-LPUs, instantiating an application (xNF) and optionally updating/reconfiguring the resources based on the needs of the xNF. The flow also shows the interaction with the AAL Application via the AALI-C-App to create an AAL-Profile-Instance.

This AAL UC flow can be executed during the O-Cloud Registration and Initialization Use Case, O-Cloud Inventory Update Use Case and the Hardware Infrastructure Scaling of O-Cloud Post Deployment Use Case [ Ref[5]: 3.1.3 “O-Cloud Registration and Initialization Use Case”, Configure AAL-LPU  “3.1.4 : O-Cloud Inventory Update Use Case (DMS Example)” and “3.1.5: Hardware Infrastructure Scaling of O-Cloud Post Deployment”]. This use case is also related to the “3.2.1	Instantiate Network Function on O-Cloud”.

Table 4.2.2-1: e2e Life Cycle Management workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

Discover the capabilities of the HW Accelerator and configure AAL-LPUs. Update HW Accelerator and configure AAL-LPU(s) based on the AAL Application need

Actors and Roles

SMO:

FOCOM:

NFO:

IMS:

DMS:

HAM:

Assumptions

This UC can be applicable for initial or subsequent deployment of the O-Cloud, (re)instantiation of xNF and adding/deleting O-Cloud Resources or AAL-Profile-Instances.

Pre-conditions

SMO/FOCOM/NFO is active and running normally

O-Cloud is available

IMS/DMS is already available

HAM is available

HW Accelerator is bootstrapped/installed (4.2.1 HW Accelerator installation/bootstrap use case workflow).

SMO and IMS/DMS connectivity is established

IMS and HAM connectivity is established

SMO Catalog, xNF Manifest is available

FW/SW image Repo available

SMO Inventory DB available

Begins when

SMO sends request to query the resource(s)

Step 1-5 (M)

SMO sends a query to retrieve the available O-Cloud Info. The IMS queries for the HW Accelerator O-Cloud Resource(s)’ using the getAalAccelInfo via AALI-C-Mgmt interface. This includes hardware information and the HW accelerator capabilities (example: Vendor, Version, BIOS, AAL-LPU, and other capabilities supported by the HW Accelerator).

SMO updates the inventory based on the response.

Step 6-9 (M)

Based on the planned manifest, the SMO/IMS configures the HW Accelerator (e.g.: AAL-LPU capabilities, Profile images etc) using the setAalAccelConfig via the AALI-C-Mgmt interface.

The IMS receives inventory notifications for O-Cloud resources that have been added, modified or removed.

DMS inventory is updated.

SMO updates the inventory based on the response.

Step 10-16 (M)

SMO sends request for xNF instantiation with a manifest file. SMO gets the deployment artifacts for AAL Application (e.g., Manifest/ Helm Charts) that includes requested O-Cloud Resource and profiles.

Using the setAalAccelConfig via the AALI-C-Mgmt interface the HW Accelerator and AAL-LPU configuration may have to be updated as needed for each of the items in the manifest.

The IMS receives receive inventory notifications for O-Cloud resources that have been added, modified or removed.

The AAL Application is instantiated, and the DMS/SMO inventory updated. [5].

Step 17-18 (M)

The SMO configures the cell details, AAL Profile versions etc to the AAL Application via O1 interface

Step 19 (M)

Initialize AALI-C-App interface between the AAL Application and the AAL

Step 20-21 (M)

The AAL Application queries to get the capabilities of the AAL-LPU assigned using the getAalLpuInfo via the AALI-C-App interface.

In response, the AAL Application gets the aal-lpu-handle and the AAL Profile(s) supported.

Step 22-29 (M)

The AAL Application creates one or many AAL-Profile-Instance(s) via the AALI-C-App using setAalProfileInstance and starts the AAL-Profile-Instance. The AAL Application also sets the AAL-Profile-Queue configuration and starts the queue.

Step 30-35 (M)

If the AAL-Profile-Instance needs to be updated or is not needed anymore, the AAL Application via the AALI-C-App stops the AAL-Profile-Queue and AAL-Profile-Instance and deletes the AAL-Profile-Instance.

Ends when

The HW Accelerator and AAL-LPUs have been configured, the xNF is instantiated and the AAL Profile instances are managed.

Exceptions

None identified

Post Conditions

xNF is instantiated and the AAL-Profile-Instances are managed.

Traceability

To be added later

4.2.2.1 Sequence Diagram

@startuml

skinparam sequenceArrowThickness 1

skinparam ParticipantPadding 2

skinparam BoxPadding 5

Autonumber

Box "Service Management & Orchestration Framework" #gold

   Participant "FOCOM/NFO" as FCC

End box

Box "O-Cloud      "#lightseagreen

   Participant "IMS" as IMS

   Participant DMS as "DMS"

   Participant HAM as "HAM"

   Participant "AAL \n Implementation" as aal

End box

Box "Network Functions"#LightBlue

  Participant "<<AAL-App>> xNF" as App

End box

Box "Network Functions"#DarkBlue

  Participant "SMO" as O1

End box

Box "SW Repo" "#Blue

      Participant "Repo" as Repo

End box

Note over FCC, DMS

  PRECONDITIONS:

    SMO/FOCOM/NFO is active and running normally

    O-Cloud is available

    IMS/DMS is already available

    HAM is available

    HW Accelerator is bootstrapped/installed

    SMO and IMS/DMS connectivity is established

    IMS and HAM connectivity is established

End Note

== Use case: AAL Flow ==

Note over FCC

PRECONDITIONS:

SMO Catalog, HW Accelerator Manifest, xNF Manifest available

FW/SW image Repo available, SMO Inventory DB available

End Note

FCC -> IMS: <<O2>> QueryOcloudInfoRequest

IMS -> HAM : <<AALI-C-Mgmt>> getAalAccelInfo

HAM --> IMS : getAalAccelInfo response Success( Vendor, Version, Bios etc )

IMS --> FCC : <<O2>> QueryOcloudInfoResponse

FCC -> FCC : SMO Inventory updated

Note over FCC,IMS

Single Set command to configure the device with manifest,

including AAL LPU and Profile Images.

The SMO knows the pre-defined set of configurations that support different

use cases that it wants to deploy.

The configuration can be changed dynamically in the future.

The HAM will be able to apply delta changes accordingly.

end Note

group Set configuration of the HW Accelerator

Note over FCC,IMS

SMO triggers configuration of the HW Accelerator

End Note

IMS -> HAM: <<AALI-C-Mgmt>> setAalAccelConfig \n(e.g. AAL-LPU's, Supported AAL-Profile etc..)

Note over HAM, Repo

Optionally, the SW/FW image is retrieved from the Software Repository

End Note

group DMS inventory update

HAM <--> DMS : DMS Info exchange

Note over DMS

 Examples of information exchanged \n AAL-LPUs, AAL-Profile info etc

End Note

End

HAM --> IMS: setAalAccelConfig response success

HAM --> IMS : <<AALI-C-Mgmt>> aalInventoryNotification w/ O-Cloud resource informaton

Note over FCC,IMS

Response to SMO with success/failure of setting AAL Accel Config

end Note

FCC -> FCC : SMO Inventory update

end

group Instantiate xNFs and optionally update HW Accelerator information

Note over FCC,IMS

  SMO Instantiate xNFs

  SMO gets the deployment artifacts for

  containerized workload (e.g., Manifest/ Helm Charts).

  This includes resource and profiles requested

end Note

REF over FCC : Use case 3.2.1 Orchestration Use Case Spec

FCC -> DMS : <<O2>> Instantiate xNF

Note over DMS

The DMS manifest includes the LPU (Profile) required and I/O ports etc..

end NOTE

Note over DMS

Kubernetes Example for High Phy Profile:

requests:

    oran.com/aal_highphy_lpu1: ‘1’ #assigns LPU 1 to the POD

    Ethernet.com/ethernet_sriov_dpdk_port4: ‘1’ #mid haul

    hugepages-1Gi: 2Gi

    memory: 2G1

ETSI Example for High Phy Profile: (TBD)

Example for handling other profiles (TBD)

end NOTE

opt Update HW Accelerator information if needed

Note over DMS

  Optionally, the IMS sets the AAL Accel Config

  based on the information received from SMO

  to add/modify resources as defined in the xNF instantiate request.

End Note

DMS --> FCC : <<DMS-SMO interface>>Update HW Accelerator information(to be define by O2dms)

FCC -> IMS: <<O2>> setAalAccelConfig \n(including AAL-LPU's, Supported AAL-Profile)

IMS -> HAM: <<AAL-C-Mgmt>> setAalAccelConfig  \n(e.g. AAL-LPU's, Supported AAL-Profile)

HAM --> IMS: <<AAL-C-Mgmt>> setAalAccelConfig response success

HAM --> IMS : <<AALI-C-Mgmt>> aalInventoryNotification w/ O-Cloud AAL-LPU information

IMS --> FCC : <<O2>> Set AAL Accel Config response success

FCC --> DMS: Success

End opt

DMS -> App : <<AAL-App>> xNF instantiated

activate App

DMS --> FCC : <<AAL-App>> xNF instantiated response success

End

group xNF application and AAL configured

O1 -> App : <<O1>> DU Configuration \n Cells, BW, Profile Version etc..

App --> O1 : response Success

Note over aal, App

Kubernetes Example :

Environment Variables are populated with the appropriate resource

identifier for the AAL Application to use when initializing the AAL Implementation.

In the example below it assumes an SRIOV AAL Implementation type using PCIE

address to identify the correct HW Resource.

PCIDEVICE_ORAN_COM_AAL_HIGHPHY_LPU=0000:67:06.3

ETSI Example: TBD

End NOTE

Note over aal, App

Initilize the AAL interface betwwen AAL and the AAL Application

end NOTE

App <-> aal : Init AALI-C-App

Note over aal, App

Get AAL LPU information and

create AAL Profile Instance

end NOTE

App -> aal : <<AALI-C-App>> getAalLpuInfo

aal -> App : <<AALI-C-App>> Response LPU/Profile handle

App -> aal : <<AALI-C-App>> createAalProfileInstance

aal -> App : <<AALI-C-App>> Response Success

App -> aal : <<AALI-C-App>> setAalProfileInstance/startAalProfileInstance/startAalProfileInstance

aal -> App : <<AALI-C-App>> Response Success

App -> aal : <<AALI-C-App>> setAalProfileQueueConfig

aal -> App : <<AALI-C-App>> Response Success

App -> aal : <<AALI-C-App>> startAalProfileQueue

aal -> App : <<AALI-C-App>> Response Success

Note over aal, App

Delete AAL Profile Instance

end NOTE

App -> aal : <<AALI-C-App>> stopAalProfileQueue

aal -> App : <<AALI-C-App>> Response Success

App -> aal : <<AALI-C-App>> stopAalProfileInstance

aal -> App : <<AALI-C-App>> Response Success

App -> aal : <<AALI-C-App>> deleteAalProfileInstance

aal -> App : <<AALI-C-App>> Response Success

end

== End Use Case ==

@enduml

4.3 AALI-C-Mgmt API details

Note: The AALI-C-Mgmt interface defines the administrative operations/actions/events between the O-Cloud IMS and the HAM.

4.3.1 Capabilities discovery and configuration

4.3.1.1 getAalHwAccelStatus

Description: The HAM enables querying the status of the HW Accelerator and the AAL-LPUs (per AAL-LPU or all AAL-LPUs).

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational.

Triggers: On demand request via AALI-C-Mgmt interface

Frequency: N/A

Table 4.3.1.1-1: getAalHwAccelStatus Operation

Operation

Direction

getAalHwAccelStatus

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.1.1-2: getAalHwAccelStatus Input Parameter

Input Parameter

Cardinality

Data Type

Qualifier

Description

hw_accel_id

Identifier

Key

This ID is unique within a O-Cloud

Table 4.3.1.1-3: getAalHwAccelStatus Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

hw_accel_status

Reference WG10 info model

M

Returns the status of the HW Accelerator

status_of_operation

Reference WG6 info model

Returns the status of the operation

4.3.1.2 getAalLpuStatus

Description: The HW Accelerator Manager enables querying the status the AAL-LPUs (per AAL-LPU).

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational.

Triggers: On demand request via AALI-C-Mgmt interface

Frequency: N/A

Table 4.3.1.2-1: getAalLpuStatus Operation

Operation

Direction

getAalLpuStatus

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.1.2-2: getAalLpuStatus Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

hw_accel_id

1.. N

Identifier

Key

This ID is unique within an O-Cloud

aal_lpu_handle

Identifier

Key

This ID is unique within a HW Accelerator

Table 4.3.1.2-3: getAalLpuStatus Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG10 object model

M

Returns the status of the operation

aal_lpu_status

Reference WG10 object model

M

Returns the status of the AAL-LPU(s)

4.3.1.3 getAalAccelInfo

Description: This is used to query information about the HW Accelerator and capabilities of the AAL-LPU.

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational. IMS is operational.

Triggers: On demand request via AALI-C-Mgmt interface

Frequency: N/A

Table 4.3.1.3-1: getAalAccelInfo Operation

Operation

Direction

getAalAccelInfo

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.1.3-2: getAalAccelInfo Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

hw_accel_id

1.. N

Identifier

Key

Unique Identification of the AAL-HW-Accel in the O-Cloud. O-Cloud-> ResourcePoolD-> ResourceID (Resource).

In this case the resource is a hw accelerator and therefore the hw_accel_id will map to the ResourceID.

Output Parameter

Cardinality

Data Type

(Align with O2 Data model)

Qualifier

Description

status_of_operation

1

Reference WG6 info model

M

Returns the status of the get-AAL-Accel-info procedure

hw_accel_list

0.. N

List of struct - inlined

M

List of Hardware Accelerator’s and their characteristics:

>hw_accel_id

1

Identifier

Key

Unique Identification of the AAL-HW-Accel in the O-Cloud.

>vendor_name

1

String

M

Name of the Vendor/Provider of the resource type

>date_of_manufacture

1

String

M

Date of the manufacture of the resource type.

>model

1

String

M

Information about the model of the resource type.

>serial_number

1

String

M

Serial number of the specific resource.

>hw_version

1

String

M

Version or generation of the resource type.

>hw_accel_image_version

1

String

M

The version for the image applied to the HW Accelerator. The parameter is associated with the HW Accelerator’s resource type.

>hw_accel_image_location

1

String

M

Path / URI to the software/firmware image. The parameter is associated with the HW Accelerator’s  resource type.

>max_num_aal_lpus

0..1

Integer

O

This parameter may be included if a HW Accelerator has an upper limit on AAL-LPUs it can support. Actual number of AAL-LPUs available at runtime may be lower based on resource usage, AAL-LPU SW used, and AAL-Profile SW and types instantiated on the AAL-LPU(s)

>num_aal_lpus_configured

1

Integer

M

Number of LPU(s) configured

>lpu_type

1

String

M

single/mixed

single: all LPUs are identical.

mixed: non-identical LPUs

>aal_lpu_list

0.. N

List of struct - inlined

M

List of AAL-LPUs and their characteristics:

>> aal_lpu_handle

1

Identifier

M

Uniquely identifies the AAL-LPU within the accelerator

>>aal_lpu_image_version

1

String

M

The version or generation for the image applied to the AAL-LPU. The parameter is associated with the AAL-LPU’s resource type.

If an AAL-LPU image is the same as the Accelerator HW image then the hw_accel_image_version and aal_lpu_image_version parameters would contain the same value.

>>aal_lpu_image_location

1

String

M

Path / URI to the software/firmware image. The parameter is associated with the AAL-LPU’s resource type.

If an AAL-LPU image is the same as the Accelerator HW image then the hw_accel_image_location and aal_lpu_image_location parameters would contain the same value.

>>aal_lpu_profile_list

0..1

List of Struct - inlined

M

List of AAL-Profile(s) supported (Profile Name ID, Image)

>>>aal_lpu_profile_name

1

String

M

AAL Profile name as defined in section 3.3.3.1.

>>>aal_lpu_profile_version

1

String

M

AAL Profile version for the associated AAL Profile name. The AAL Profile version is the version of the AAL Profile’s approved specification.

>>> aal_lpu_profile_image_version

1

String

M

Version of the AAL Profile image (e.g. binaries, libraries, etc).

If an AAL Profile image is the same as the AAL-LPU image then the aal_lpu_image_version and aal_lpu_profile_image_version parameters would contain the same value.

>>> aal_lpu_profile_image_location

1

String

M

Path / URI to the AAL Profile image (e.g. binaries, libraries, etc).

If an AAL Profile image is the same as the AAL-LPU image then the aal_lpu_image_location and aal_lpu_profile_image_location parameters would contain the same value.

>>aal_lpu_config

0..1

Struct - Inlined

M

Can be one or more parameters that define the AAL-LPU persona – Some of the parameters are listed below

>>>aal_lpu_memory

0..1

Integer

O

AAL-LPU memory

>>>aal_lpu_multiprocessors_num

0..1

Integer

O

Number of Multi-Processors per AAL-LPU

>>>aal_lpu_compute_slices_num

0..1

Integer

O

Number of compute slices per AAL-LPU

>>vendor_specific

0.. N

List Key Value Pair

String/String

M

Vendor specific AAL-LPU attribute

Some examples: Number of DMA engines, number of encoders, number of decoders, number of JPEG engines, Number of OfA (Optical flow accelerator) engines

Note: While this list provides the details of parameters between IMS and HAM, further analysis is needed to understand what is needed by the SMO.

4.3.1.4 setAalAccelConfig

Description: This is used to configure the HW Accelerator and AAL-LPU.

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational.

Triggers: On demand request via AALI-C-Mgmt interface

Frequency: N/A

Table 4.3.1.4-1: setAalAccelConfig Operation

Operation

Direction

setAalAccelConfig

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.1.4-2: setAalAccelConfig Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

hw_accel_list

1.. N

List of struct - inlined

M

List of Hardware Accelerator’s and their characteristics:

>hw_accel_id

1.. N

Identifier

Key

Unique Identification of the AAL-HW-Accel in the O-Cloud. O-Cloud-> ResourcePoolD-> ResourceID (Resource).

In this case the resource is a hw accelerator and therefore the hw_accel_id will map to the ResourceID.

>hw_accel_image_version_location

1

String

M

Path / URI to the HW Accelerator image (e.g. BIOS/FW/Host OS, libraries, drivers, etc) to be used.

>num_aal_lpus_configured

1

Integer

M

Number of LPU(s) configured

>lpu_type

1

String

M

single/mixed

single: all LPUs are identical.

mixed: non-identical LPUs

>aal_lpu_list

0.. N

List of struct - inlined

M

List of AAL-LPUs and their characteristics:

>> aal_lpu_handle

1

Identifier

M

Uniquely identifies the AAL-LPU within the accelerator

>>aal_lpu_image_version_location

1

String

M

Path / URI to the Image (e.g. FW/guest OS, libraries, drivers) to be used.

If an AAL-LPU image is the same as the Accelerator HW image then the hw_accel_image_version_location and aal_lpu_image_version_location parameters would contain the same value

>> aal_lpu_profile_list

0.. N

List of Struct - inlined

M

List of AAL-Profile(s) supported (Profile Name ID, Image)

>>> aal_lpu_profile_name

1

String

M

AAL Profile name as defined in section 3.3.3.1.

>>> aal_lpu_profile_version

1

String

M

AAL Profile version for the associated AAL Profile name. The AAL Profile version is the version of the AAL Profile’s approved specification

>>> aal_lpu_profile_image_version

1

String

M

Version of the AAL Profile image (e.g. binaries, libraries, etc).

If an AAL Profile image version is the same as the AAL-LPU image version then the aal_lpu_image_version and aal_lpu_profile_image_version parameters would contain the same value.

>>> aal_lpu_profile_image_location

1

String

M

Path / URI to the AAL Profile image (e.g. binaries, libraries, etc) to be used.

If an AAL Profile image is the same as the AAL-LPU image then the aal_lpu_image_version_location and aal_lpu_profile_image_location parameters would contain the same value.

>> aal_lpu_config

0..1

Struct - Inlined

M

Can be one or more parameters that define the AAL-LPU persona – Some of the parameters are listed below

>>aal_lpu_memory

0..1

Integer

O

AAL-LPU memory

>>aal_lpu_multiprocessors_num

0..1

Integer

O

Number of Multi-Processors per AAL-LPU

>>aal_lpu_compute_slices_num

0..1

Integer

O

Number of compute slices per AAL-LPU

>>vendor_specific

0.. N

List Key Value Pair

String/String

M

Vendor specific AAL-LPU attribute

Some examples: Number of DMA engines, number of encoders, number of decoders, number of JPEG engines, Number of OfA (Optical flow accelerator) engines

Table 4.3.1.4-3: setAalAccelConfig Output Parameter

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG6 info model

M

Returns the status of the procedure

Note: While this list provides the details of parameters between IMS and HAM, further analysis is needed to understand what is needed by the SMO.

4.3.1.5 startAalLpu

Description: This operation will start an AAL-LPU that is in the stopped state. The AAL-LPU is instantiated using the SW/FW image(s) and configuration that were provided in the setAalAccelConfig procedure.

The AAL-LPU state machine is moved to a started state. When the AAL-LPU is in the started state it is ready to be used by the AAL Application.

After successfully starting AAL-LPU using this procedure, the AAL-LPU can be stopped.

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational. The AAL-LPU has been successfully configured and is in the stopped state.

Triggers: On demand request via AALI-C-Mgmt interface

Frequency: N/A

Table 4.3.1.5-1: startAalLpu Operation

Operation

Direction

startAalLpu

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.1.5-2: startAalLpu Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

hw_accel_id

Identifier

Key

HW Accel ID is unique within an O-Cloud

aal_lpu_handle

Identifier

Key

AAL-LPU handle is unique within a HW Accelerator

Table 4.3.1.5-3: startAalLpu Output Parameter

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG6 info model

M

Returns the status of the procedure

4.3.1.6 stopAalLpu

Description: Moves AAL-LPU state machine to a stopped state.

AAL-LPU service is stopped. Configuration changes on the AAL-LPU can be performed. Re-configuration of the AAL-LPU compute / memory resource partitioning can be performed. Drivers can be updated / re-installed and configured. Maintenance / debugging operations can be performed.

After successfully stopping the AAL-LPU, the AAL-LPU can be (re-)configured, started or deleted.

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational. The number of AAL-LPUs has been set on the HW Accelerator. The AAL-LPU has been successfully configured and is started. AAL Applications have previously been migrated off the AAL-LPU.

Triggers: On demand request via AALI-C-Mgmt interface

Frequency: N/A

Table 4.3.1.6-1: startAalLpu Operation

Operation

Direction

stopAalLpu

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.1.6-2: startAalLpu Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

hw_accel_id

Identifier

Key

This ID is unique within an O-Cloud

aal_lpu_handle

Identifier

Key

This ID is unique within a HW Accelerator

Table 4.3.1.6-3: startAalLpu Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG10 object model

M

Returns the status of the procedure

4.3.1.7 Inventory Notifications

Description: Inventory notifications are sent by the HAM to the IMS when the HAM discovers that O-Cloud Resources have been added, modified, or removed from the HAM’s inventory of O-Cloud Resources.  Inventory notifications are not used to report administrative or operational state changes in the resources (e.g., restarts, configuration changes that do not include added or deleted O-Cloud Resources). The Inventory Notification services in this section, provide the ability for the IMS to receive inventory notification events when O-Cloud Resources have been added, modified or removed from the HAM.

The modification of an O-Cloud Resource differs from addition and removal of a O-Cloud Resource. Examples of modifications of an O-Cloud Resource that causes an Inventory Notification event to be emitted by the HAM would be the modification of the path to the image for an AAL-LPU or the modification of the compute resources assigned to the AAL-LPU. Future releases of this specification will define which writeable attributes of O-Cloud Resources will emit an AAL Inventory event when the attribute is modified.

4.3.1.7.1 aalInventoryNotification

Description: The HW Accelerator Manager emits notifications to the IMS. The 4.2.1 HW Accelerator installation/bootstrap use case workflow, 4.2.2 e2e Life Cycle Management use case workflow (Informational) provide examples of when the inventory notification is sent by the HAM to the IMS that has previously subscribed to receive the notification event.

Pre-conditions: The HAM is operational.  The IMS and the HAM have established connectivity.

Triggers: On demand request via AALI-C-Mgmt interface.

Frequency: Infrequent

Table 4.3.1.7-1: aalInventoryNotification Operation

Operation

Direction

aalInventoryNotification

  HW Accelerator Manager (HAM) =>    IMS

Table 4.3.1.7-2: aalInventoryNotification Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

resources

0.. N

Structure

M

The current resource list.

 > resource

1

Structure

M

The resource (HW Accelerator, AAL-LPU) and its associated attributes known by the HAM.

Section 3.3.1 contains the list of attributes for O-Cloud Resources and O-Cloud ResourceTypes that are retrieval and are part of the Inventory Notification event.

When the HW Accelerator is newly discovered, the hw_accel_id attribute of the resource does not have a value reported since the value of this attribute is assigned by the IMS.

> detected_time

1

DateTime

M

The time the inventory event was last detected.

> event

1

Enumeration

M

The event that caused the notification.

Values: Add, Modify, Remove

4.3.1.8 setAalAccelIdentifier

Description: This is used to provide the HW Accelerator with its resource identifier (hw_accel_id) assigned by the IMS. The HAM uses the vendor, model, and serial_number input parameters to identify the HW Accelerator and then assigns the resource identifier to the HW Accelerator.

Pre-conditions: HW Accelerator has been discovered but needs its identifier assigned by the IMS, and HAM is operational.

Triggers: On demand request via AALI-C-Mgmt interface

Frequency: N/A

Table 4.3.1.8-1: setAalAccelIdentifier Operation

Operation

Direction

setAalAccelIdentifier

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.1.8-2: setAalAccelIdentifier Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

vendor_name

1

String

M

Input parameter that is used by the HAM to match the vendor of the HW Accelerator.

model

1

String

M

Input parameter that is used by the HAM to match the model of the HW Accelerator.

serial_number

1

String

M

Input parameter that is used by the HAM to match the serial number of the HW Accelerator.

hw_accel_id

1

Identifier

M

Unique Identification of the AAL-HW-Accel in the O-Cloud. O-Cloud-> ResourcePoolD-> ResourceID (Resource).

In this case the resource is a hw accelerator and therefore the hw_accel_id will map to the ResourceID.

If the HAM has an existing hw_accel_id value mapped to the device identified by vendor_name, model and serial_number, the HAM’s value will be replaced with the value provided in this parameter.

Table 4.3.1.8-3: setAalAccelIdentifier Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG6 info model

M

Returns the status of the procedure

4.3.2 Infrastructure Monitoring Service

4.3.2.1 Fault Service Operations

The AALI-C-Mgmt API provides operations to query the current Fault conditions for resources and raise event notifications to subscribed entities when Fault conditions occur. These Fault conditions are operational conditions of the managed resource and can be retrieved from the “faults” attribute of the associated resource.

The HAM provides the capability to query the current Fault conditions for the HW Accelerator and AAL-LPU(s).

4.3.2.1.1 getAalHwAccelFaults

Description: This API is sent between the IMS and HAM to query the currently active faults of the HW Accelerator.

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational.

Triggers: On demand request via AALI-C-Mgmt interface

Frequency: Infrequent

Table 4.3.2.1.1-1: getAalHwAccelFaults Operation

Operation

Direction

getAalHwAccelFaults

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.2.1.1-2: getAalHwAccelFaults Input Parameter

Input Parameter

Cardinality

Data Type

Qualifier

Description

hw_accel_id

Identifier

Key

This ID is unique within a O-Cloud

Table 4.3.2.1.1-3: getAalHwAccelFaults Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG6 info model

Returns the status of the operation

faults

0.. N

Structure

M

The currently active Fault list

 > hw_accel_id

1

Identifier

M

This ID is unique within an O-Cloud

> detected_time

1

DateTime

M

The time the Fault condition was last detected

 > fault_id

1

Identifier

M

The Fault identifier.

4.3.2.1.2	 getAalLpuFaults

Description: This API is sent between the IMS and HAM to query the currently active faults of the AAL-LPUs (per AAL-LPU).

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational.

Triggers: On demand request via AALI-C-Mgmt interface

Frequency: Infrequent

Table 4.3.2.1.2-1: getAalHwAccelFaults Operation

Operation

Direction

getAalLpuFaults

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.2.1.2-2: getAalHwAccelFaults Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

hw_accel_id

1.. N

Identifier

Key

This ID is unique within an O-Cloud

aal_lpu_handle

Identifier

Key

This ID is unique within a HW Accelerator

Table 4.3.2.1.2-3: getAalHwAccelFaults Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG10 object model

M

Returns the status of the operation

faults

0.. N

Structure

M

The currently active Fault conditions list

> hw_accel_id

1

Identifier

M

This ID is unique within an O-Cloud

> aal_lpu_handle

1

Identifier

M

This ID is unique within a HW Accelerator needed for LPU Fault conditions.

> detected_time

1

DateTime

M

The time the Fault condition was last detected

 > fault_id

1

Identifier

M

The Fault identifier.

4.3.2.2 Fault Notifications

The HW Accelerator Manager (HAM) provides the capability to subscribe to receive Fault conditions for the HW Accelerator and AAL-LPU(s) that it is managing. This capability is managed within the O-Cloud through the subscription_id identifier.

4.3.2.2.1 Subscription_id

The subscription_id is an identifier used to describe the fault notification relationship between the IMS and a given HAM; it applies indirectly to the notification of faults from all the HW Accelerators that the HAM is managing.

The subscription_id includes a list of all the faults that the IMS needs to be notified in the event of their occurrence in any one of the HW Accelerators that is being managed by the HAM.

The validity and duration of the subscription_id shall be defined by the following:

The existence and validity of the IMS to HAM relationship. For example, if the HAM needs to be updated or modified then a new subscription_id needs to be issued by the IMS.

The existence and validity of any of the HW Accelerators for which the HAM is responsible for and is managing for the IMS. If any one of these HW Accelerators requires an update, upgrade, or any other modification is performed then the subscription_id between the IMS and the given HAM needs to be renewed.  Any notification that the HAM issues to the IMS pertaining to a modification in the state or operation of the HW Accelerator by the HAM shall result in an update/renewal of the subscription_id with the IMS.

In the case of restart or power-cycles in the HW Accelerator managed by the HAM the subscription_id doesn't have to be renewed since restart or power-cycle does not alter the faults supported by the HW Accelerator or the fault formats.

If the IMS receives a fault notification from a HAM that includes a subscription_id that does not match a subscription_id maintained by the IMS for that given HAM, the IMS the IMS shall then delete that subscription by calling the deleteAalFaultSubscription API with the subscription_id followed by calling the createAalFaultSubscription API with new subscription_id(s) to (re-)create a new fault subscription.

4.3.2.2.2	 createAalFaultSubscription

Description: This API is sent between the IMS and HAM to create fault subscriptions for AAL-LPUs and the HW Accelerator resources.

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational.

Triggers: On demand request via AALI-C-Mgmt interface.

Frequency: Infrequent

Table 4.3.2.2.2-1: createAalFaultSubscription Operation

Operation

Direction

createAalFaultSubscription

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.2.2.2-2: createAalFaultSubscription Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

subscriptions

1.. N

Structure

M

The subscriptions to be created.

> subscription_id

1

Identifier

Key

Unique identification of the subscription in the O-Cloud.

> filter_criteria

1

String

M

Policy to subscribe that is evaluated by the HAM to determine what faults for which AAL resource types and instances should be notified to the IMS.

Each criteria includes the Fault condition(s) for a resource type. The criteria accepts Fault condition/resource types that are associated with a set of instances of that type of resource.

Multiple criteria can be part of the subscription with criteria evaluation operators (i.e., and, or) that can be used to evaluate the individual criterion.

For example:

To subscribe to temperature faults for all HW Accelerator resources and the memory exhausted fault for an AAL-LPU with a resourceId of 45; the subscription looks like:

((TemperatureFault HW-Accel *) and (MemoryExhausted AAL-LPU 45))

Note: The filter_criteria element is further described as part of the protocol specific implementation of this operation.

Table 4.3.2.2.2-3: createAalFaultSubscription Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

subscriptions

1.. N

Structure

M

Status of the subscriptions.

> subscription_id

1

Identifier

M

Returns the identifier of the subscription.

> status_of_operation

1

Reference WG6 info model

M

Returns the status of the operation.

4.3.2.2.3		getAalFaultSubscription

Description: This API is sent between the IMS and HAM to query Fault Subscriptions for the HW Accelerator.

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational.

Triggers: On demand request via AALI-C-Mgmt interface

Frequency: Infrequent

Table 4.3.2.2.3-1: getAalFaultSubscription Operation

Operation

Direction

getAalFaultSubscription

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.2.2.3-2: getAalFaultSubscription Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

subscription_id

1.. N

Identifier

O

List of identifiers to retrieve.

If this attribute is not present, all subscriptions in the HAM are returned.

Table 4.3.2.2.3-3: getAalFaultSubscription Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

subscriptions

0.. N

Structure

M

Returns the subscriptions

> subscription_id

1

Identifier

M

Returns the identifiers of the requested subscriptions.

> filter_criteria

1

String

M

Policy to subscribe that is evaluated by the HAM to determine what faults for which AAL resource types and instances should be notified to the IMS.

> status_of_operation

1

Reference WG6 info model

Returns the status of the operation for each subscription identifier.

4.3.2.2.4		deleteAalFaultSubscription

Description: The HAM provides the ability for the IMS to delete a subscription for notification of faults.

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational.

Triggers: On demand request via AALI-C-Mgmt interface.

Frequency: Infrequent

Table 4.3.2.2.4-1: deleteAalFaultSubscription Operation

Operation

Direction

deleteAalFaultSubscription

IMS    =>    HW Accelerator Manager (HAM)

Table 4.3.2.2.4-2: deleteAalFaultSubscription Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

subscription_id

1.. N

Identifier

M

List of identifiers to delete

Table 4.3.2.2.4-3: deleteAalFaultSubscription Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

subscriptions

1.. N

Structure

M

Returns the subscriptions that were deleted.

> subscription_id

1

Identifier

M

Returns the identifiers of the subscriptions that were deleted.

> status_of_operation

1

Reference WG6 info model

Returns the status of the operation for each subscription identifier.

4.3.2.2.5 	aalFaultNotification

Description: The HW Accelerator Manager emits notifications to the IMS based on a subscription.

Pre-conditions: HW Accelerator Device is initialized, and HAM is operational.

Triggers: On demand request via AALI-C-Mgmt interface.

Frequency: Infrequent

Table 4.3.2.2.5-1: aalFaultNotification Operation

Operation

Direction

aalFaultNotification

  HW Accelerator Manager (HAM)   =>    IMS

Output Parameter

Cardinality

Data Type

Qualifier

Description

subscription_id

1

Identifier

M

Identifier of the subscription.

faults

0.. N

Structure

M

The current fault list.

> hw_accel_id

1

Identifier

M

This ID is unique within an O-Cloud.

> aal_lpu_handle

1

Identifier

O

This ID is unique within a HW Accelerator needed for LPU faults.

> detected_time

1

DateTime

M

The time the fault condition was last detected.

> event

1

Enumeration

M

The event that caused the notification.

Values: Raise, Clear

> fault_id

1

Identifier

M

The identifier of the fault condition.

AALI-C-APP

5.1 AALI-C-App Identification & Representation

Within a process address space each AAL-LPU can be abstracted using a generalized object handle.

Depending on the HW design and implementation choice, an AAL-LPU implementation may want to accelerate multiple AAL profiles, offer support for sharing HW Accelerator resources between multiple threads and/or partition AAL-LPU resources between multiple cells. For this reason, Logical Managed Resources, AAL-Profile-Instance and AAL Profile Queue can optionally be used by the network function to

distinguish between multiple supported AAL profiles per AAL-LPU

prioritize access to AAL-LPU resources

group operation requests

partition AAL-LPU resources

allow parallel access through the AAL Application interface for multiple threads / cores

As Logical Managed Resources, an AAL Profile Queue does not reflect a HW design specification or requirement but an AAL interface specification.

The AALI-C-App initialization and configuration are done on a per AAL-LPU basis. That is, for each AAL-LPU that is assigned to the NF, the NF shall initialize and configure each AAL-Profile-Instance and AAL-Profile-Queue.

5.2 AALI-C-App operations and events

The below table lists the operations and events as part of the AALI-C-App interface.

Table 5.2-1: AAL-C-App operations and events

Category

Operations/

Events

Objects

Inventory Services

getAalLpuInfo

AAL-LPU

Configuration Services

createAalProfileInstance

AAL-LPU

getAalProfileInstanceConfig

AAL-Profile-Instance

setAalProfileInstanceConfig

AAL-Profile-Instance

deleteAalProfileInstance

AAL-Profile-Instance

setAalProfileQueueConfig

AAL-Profile-Queue

getAalProfileQueueConfig

AAL-Profile-Queue

Operations

startAalProfileInstance

AAL-Profile-Instance

stopAalProfileInstance

AAL-Profile-Instance

startAalProfileQueue

AAL-Profile-Queue

stopAalProfileQueue

AAL-Profile-Queue

Transport Operations

createBufferPool

N/A

allocBuffer

N/A

getBufferAddr

N/A

getBufferSize

N/A

sendBuffer

N/A

receiveBuffer

N/A

freeBuffer

N/A

destroyBufferPool

N/A

Editor’s note: Use of AAL-Profile-Queue operations for user plane data transfer and buffer API operations needs to be clarified.

5.3 AALI-C-App Operations and Events Sequence and State Diagram

5.3.1 AALI-C-App State

The below state diagram shows the high-level state and state transitions for all AALI-C-App Operations and Events

@startuml @startuml

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

hide empty description

[*] --> AAL : Initialize

state AAL {

    [*] --> AALStopped

    AALStopped --> AALStarted : startAalLpu

    AALStarted --> AALStopped : stopAalLpu

    AALStopped --> AALStopped : getAalLpuInfo

    AALStarted --> AALProfileInstance

}

state AALProfileInstance {

    [*] --> Stopped : createAalProfileInstance (s)

    Stopped --> Started : startAalProfileInstance

    Started --> Stopped : stopAalProfileInstance

    Stopped --> Stopped : setAalProfileInstanceConfig

    Started --> Started : getAalProfileInstanceConfig

    Stopped --> [*] : deleteAalProfileInstance

    Started --> AalProfileQueue

}

state AALProfileQueue {

    [*] --> QueueStopped

    QueueStopped --> QueueStarted : startAalProfileQueue

    QueueStarted --> QueueStopped : StopAalProfileQueue

    QueueStopped --> QueueStopped : setAalProfileQueueConfig

    QueueStarted --> QueueStarted : getAalProfileQueueConfig\nPerform Operations

}

@enduml

5.3.2 AALI-C-App API Init Sequence

The below sequence diagram shows the high-level initialization and configuration procedure for the AALI-C-App.

@startuml

Autonumber

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

Box “O-RAN” #NavajoWhite

   Participant “O-DU” as ODU << OAAL-App>>

end box

Box “Cloud Platform” #lightseagreen

   participant “AAL Implementation” as AAL

End box

note over ODU, AAL

Assumed the O-DU is already instantiated on the O-Cloud

With desired HW Accelerator resources assigned from O2 and

Configuration through O1 interface is complete

endnote

==Inventory Services==

ODU -> AAL : Initialize

AAL --> ODU : Initialization Response

ODU -> AAL : getAalLpuInfo

AAL --> ODU : Response getAalLpuInfo

==Configuration & Operation Services==

loop for each AAL-LPU

loop for each AAL-Profile-Instance

ODU -> AAL : createAalProfileInstance

AAL --> ODU : AAL-Profile-Instance handle / identifier

ODU -> AAL : setAalProfileInstanceConfig

AAL --> ODU : return

ODU -> AAL : startAalProfileInstance

AAL --> ODU : return

loop for each AAL-Profile-Queue

ODU -> AAL : setAalProfileQueueConfig

AAL --> ODU : return

ODU -> AAL : startAalProfileQueue

AAL --> ODU : return

end loop

end loop

end loop

@enduml

5.3.3 AALI-C-Transport API Sequence

The AALI-C-App Transport API sequence is divided into two sets of call flows in the following subsections:

Sec. 5.3.3.1 focusses on call flows related to allocation of buffers(s) to be used with other AALI-C-App Transport APIs.

Sec. 5.3.3.2 and its subsections focus on call flows detailing the various procedures for sending and receiving buffer(s) using AALI-C-App Transport API.

 5.3.3.1 Allocation of AAL Buffer(s)

The AALI-C-App Transport API supports allocation of buffers from either pre-created buffer pool(s) or from memory not mapped to pre-created buffer pool(s). Send buffer(s) are allocated by the AAL Application, while Receive buffer(s) are allocated either by the AAL Application or by the AAL implementation.

.

Note 2: The terms "AAL" and "AAL implementation" are used interchangeably in the tables below.

Table 5.3.3.1-1 : Allocation of AAL Buffer(s) workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

The AAL Application (e.g., O-DU) creates and allocates memory to be used when offloading operations to the AAL implementation.

Actors and Roles

AAL Application: calls buffer operations with desired input parameters.

 AAL: executes buffer operations.

Assumptions

This sequence is representative of how the AAL Application uses the buffer operations.

Pre-conditions

AAL Implementation is initialized.

Begins when

The AAL Application is ready to create buffers.

Steps 1-2 (O)

The AAL Application can optionally create a buffer pool by calling the createBufferPool operation. On success, the AAL returns a buffer_pool_handle to the created buffer pool.

Steps 3-4 (M)

The AAL Application allocates a buffer to use in future AAL operations. The buffer can be allocated from a pre-created buffer pool from steps 1 and 2, or can be dynamically allocated. On success, the AAL returns a buffer_handle.

Steps 5 – 8 (O)

The AAL Application can retrieve the pointer to the buffer to add/modify/delete the content of the buffers. The AAL Application can also check the size of the buffer.

Steps 9 – 10 (M)

Once the AAL Application is finished with the buffer it can free the buffer by calling the bufferFree operation.

Steps 11 – 12 (O)

If previously created in steps 1 and 2 and the AAL Application is finished with the buffer pool, the AAL Application will destroy the buffer pool.

Ends when

All memory is freed and returned to the AAL implementation.

Exceptions

Exceptions can occur in steps 1, 3, 5, 7, 9 and 10 if the AAL fails to allocate or free memory. The AAL will report an error.

Post Conditions

Memory is freed, AAL Application is free to continue processing.

Traceability

To be added later.

5.3.3.1.1 Sequence Diagram

@startuml

Autonumber

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

Box “O-RAN” #NavajoWhite

   Participant “O-DU” as ODU << AAL-App>>

end box

Box “Cloud Platform” #lightseagreen

   participant “AAL Implementation” as AAL

End box

activate ODU

ref over ODU, AAL

AALI-C-App Sequence assumptions (Sec. 5.3.2)

End ref

==Inventory Services==

ref over ODU, AAL

AALI-C-App API Sequence call flow related to Inventory Service (Sec. 5.3.2)

End ref

==Creating Buffer Pools and Allocating Buffers ==

opt if buffer pool creation

ODU -> AAL : createBufferPool

activate AAL

AAL --> ODU : return buffer pool handle(s)

Deactivate AAL

End opt

Note over ODU, AAL

Allocate a buffer using pre-created buffer pool with buffer_pool_handle

or allocate dynamically with NULL buffer_pool_handle parameter

Endnote

ODU -> AAL : allocBuffer

activate AAL

AAL --> ODU : return buffer handle

deactivate AAL

autoactivate on

opt Get buffer address and buffer size using buffer handle if needed

ODU -> AAL : getBufferAddr

AAL --> ODU: return buffer address

ODU -> AAL: getBufferSize

AAL --> ODU: return buffer size

End opt

ref over ODU, AAL

AALI-C-App API Sequence call flow related to AAL-LPU, AAL-Profile-Instance

 and AAL-Profile-Queue initialization & configuration (Sec. 5.3.2)

end ref

==Run Time Operations ==

ref over ODU, AAL

AALI-C-App API Sequence call flow related to Sending/Receiving Buffer(s) (Sec. 5.3.3.2)

End ref

==Free Buffer, Destroy Buffer Pool Operations ==

ODU -> AAL : freeBuffer

AAL --> ODU : success/failure

opt if buffer pool was created by the AAL Application

ODU -> AAL : destroyBufferPool

AAL --> ODU : success/failure

End opt

deactivate ODU

@enduml

5.3.3.2 Procedure for Buffer(s) Send and Receive

The AALI-C-App Transport API supports the following high level use cases

Send Buffer Synchronous Mode with buffer free

Send Buffer Synchronous Mode without buffer free

Send Buffer Asynchronous Mode with buffer free

Send Buffer Asynchronous Mode without buffer free

Receive Buffer Synchronous Mode with non-NULL buffer_handles(s) input

Receive Buffer Synchronous Mode with NULL buffer_handles(s) input

Receive Buffer Asynchronous Mode with non-NULL buffer_handle(s) input

Receive Buffer Asynchronous Mode with NULL buffer_handle(s) input

	In the use cases above, 'with buffer free' and 'without buffer free' imply that the input parameter 'buffer_free' = 'TRUE' (or 1) and 'FALSE' (or 0) respectively in sendBuffer operation (Sec. 5.4.3.5).

	These use cases are detailed in the sections below.

5.3.3.2.1	Send Buffer Synchronous Mode with buffer free

Table 5.3.3.2.1-1 :  Send Buffer Synchronous Mode with buffer free workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

The AAL Application (e.g., O-DU) sends buffer(s) to the AAL for processing in synchronous mode with buffer free.

Actors and Roles

AAL Application: formats buffer and its content, and calls AAL to send the buffer.

 AAL Implementation executes sendBuffer operation.

Assumptions

This sequence is representative of how the AAL Application uses the sendBuffer operation in a synchronous manner with buffer free enabled.

Pre-conditions

At least one AAL-Profile-Instance is configured and started. At least one AAL-Profile-Queue is configured and started. Buffer(s) to be sent are allocated.

Begins when

The AAL Application is ready to send buffer.

Step 1 (M)

The AAL Application calls the sendBuffer API to transfer the buffer to the AAL which will execute the sendBuffer operation. The AAL Application thread invoking the API is blocked waiting for the sendBuffer operation to complete.

Steps 2 - 3 (M)

The AAL internally frees the buffer back to the buffer pool upon completion of the sendBuffer operation.

Once done, the AAL returns the status of the operation back to the AAL Application and unblock the AAL Application call thread process.

Ends when

sendBuffer operation has completed.

Exceptions

Exceptions can occur if the sendBuffer operation fails. Status indicating failure will be returned in Step 3.

Post Conditions

The AAL Application can continue processing.

Traceability

To Be added later.

@startuml

Autonumber

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

autoactivate on

Box “O-RAN” #NavajoWhite

   Participant “O-DU” as ODU << AAL-App>>

end box

Box “Cloud Platform” #lightseagreen

   participant “AAL Implementation” as AAL

End box

activate ODU

ref over ODU, AAL

Section 5.3.3.1 Creating Buffer Pools and Allocating Buffers

end ref

==Synchronous Send Buffer (with buffer free) ==

ODU -> AAL : sendBuffer

Deactivate ODU

note over AAL

Perform operations and send all buffers.

Return when all buffers are sent.

endnote

AAL -> AAL : free buffer

AAL --> ODU : return status

Activate ODU

deactivate ODU

@enduml

5.3.3.2.2	Send Buffer Synchronous Mode without buffer free

Table 5.3.3.2.2-1 :  Send Buffer Synchronous Mode without buffer free workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

The AAL Application sends buffer(s) to the AAL for processing in synchronous mode without buffer free.

Actors and Roles

AAL Application: formats buffer and its content, and calls AAL to send the buffer.

 AAL Implementation: executes sendBuffer operation.

Assumptions

This sequence is representative of how the AAL Application uses the sendBuffer operation in a synchronous manner without buffer free enabled.

Pre-conditions

At least one AAL-Profile-Instance is configured and started. At least one AAL-Profile-Queue is configured and started. Buffer(s) to be sent are allocated.

Begins when

The AAL Application is ready to send buffer.

Steps 1 – 2 (M)

The AAL Application calls the sendBuffer API to transfer the buffer to the AAL which will execute the sendBuffer operation. The AAL Application thread invoking the API is blocked waiting for the sendBuffer operation to complete.

The AAL processes the operation and sends the buffers. Once done, the AAL returns the status of the operation back to the AAL Application and unblock the AAL Application call thread process.

Step 3 (M)

The AAL Application, when finished with the buffer, calls freeBuffer operation and the AAL will free the buffer back to the buffer pool.

Ends when

sendBuffer operation has completed.

Exceptions

Exceptions can occur if the sendBuffer operation fails. Status indicating failure will be returned in Step 2.

Post Conditions

The AAL Application can continue processing.

Traceability

To Be added later.

@startuml

Autonumber

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

autoactivate on

Box “O-RAN” #NavajoWhite

   Participant “O-DU” as ODU << AAL-App>>

end box

Box “Cloud Platform” #lightseagreen

   participant “AAL Implementation” as AAL

End box

activate ODU

ref over ODU, AAL

Section 5.3.3.1 Creating Buffer Pools and Allocating Buffers

end ref

==Synchronous Send Buffer (without buffer free) ==

ODU -> AAL : sendBuffer

deactivate ODU

note over AAL

Perform operations and send all buffers.

Return when all buffers are sent.

Endnote

AAL --> ODU : return status

activate ODU

ODU -> AAL: freeBuffer

AAL --> ODU : success/failure

deactivate ODU

@enduml

5.3.3.2.3	Send Buffer Asynchronous Mode with buffer free

Table 5.3.3.2.3-1 :  Send Buffer Synchronous Mode without buffer free workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

The AAL Application sends buffer(s) to the AAL for processing in asynchronous mode with buffer free.

Actors and Roles

AAL Application: formats buffer and its content, and calls AAL to send the buffer.

 AAL Implementation: executes sendBuffer operation.

Assumptions

This sequence is representative of how the AAL Application uses the sendBuffer operation in an asynchronous manner with buffer free enabled.

Pre-conditions

At least one AAL-Profile-Instance is configured and started. At least one AAL-Profile-Queue is configured and started. Buffer(s) to be sent are allocated.

Begins when

The AAL Application is ready to send buffer.

Steps 1 – 3 (M)

The AAL Application calls the sendBuffer API to transfer the buffer to the AAL which will execute the sendBuffer operation.

The AAL Application thread invoking the API is returned immediately with the status of the API call, without being blocked until the completion of sendBuffer operation.

The AAL continues to process the operation and sends the buffers. Upon completion of sendBuffer operation, the AAL internally frees the buffer back to the buffer pool.

Step 4 (O)

Once done, the AAL optionally returns the status of the operation back to the AAL Application, if the AAL Application preregisters for a callback.

Ends when

sendBuffer operation has completed.

Exceptions

Exceptions can occur if the sendBuffer API call fails. Status indicating failure will be returned in Step 2.

Post Conditions

The AAL Application can continue processing.

Traceability

To Be added later.

@startuml

Autonumber

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

Box “O-RAN” #NavajoWhite

   Participant “O-DU” as ODU << AAL-App>>

end box

Box “Cloud Platform” #lightseagreen

   participant “AAL Implementation” as AAL

End box

activate ODU

ref over ODU, AAL

Section 5.3.3.1 Creating Buffer Pools and Allocating Buffers

end ref

==Asynchronous Send Buffer (with buffer free) ==

ODU -> AAL : sendBuffer

Activate AAL

note over AAL

Return immediately.

endnote

AAL --> ODU : return status of API

Note over AAL

Continue to process operations asynchronously

until all buffers sent.

endnote

AAL -> AAL: free Buffer

opt if a callback is preregistered

AAL -> ODU: execute preregistered callback function

End opt

deactivate AAL

deactivate ODU

@enduml

5.3.3.2.4	Send Buffer Asynchronous Mode without buffer free

Table 5.3.3.2.4-1 :  Send Buffer Asynchronous Mode without buffer free workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

The AAL Application sends buffer(s) to the AAL for processing in asynchronous mode without buffer free.

Actors and Roles

AAL Application: formats buffer and its content, and calls AAL to send the buffer.

 AAL Implementation: executes sendBuffer operation.

Assumptions

This sequence is representative of how the AAL Application uses the sendBuffer operation in an asynchronous manner without buffer free enabled.

Pre-conditions

At least one AAL-Profile-Instance is configured and started. At least one AAL-Profile-Queue is configured and started. Buffer(s) to be sent are allocated.

Begins when

The AAL Application is ready to send buffer.

Steps 1-2 (M)

The AAL Application calls the sendBuffer API to transfer the buffer to the AAL which will execute the sendBuffer operation.

The AAL Application thread invoking the API is returned immediately with the status of the API call, without being blocked until the completion of sendBuffer operation.

The AAL continues to process the operation and sends the buffers.

Steps 3-4 (CM)

In case of without preregistered callback, the AAL Application, when finished with the buffer [1], calls freeBuffer operation. The AAL returns the status of the API call immediately and internally frees the buffer upon completion of sendBuffer operation.

Steps 5-7 (CM)

In case of with preregistered callback, the AAL returns the status of the sendBuffer operation back to the AAL Application, once done.

The AAL Application, when finished with the buffer [2], calls freeBuffer operation and the AAL will free the buffer back to the buffer pool.

Ends when

sendBuffer operation has completed.

Exceptions

Exceptions can occur if the sendBuffer API call fails. Status indicating failure will be returned in Step 2.

Post Conditions

The AAL Application can continue processing.

Traceability

To Be added later.

Note [1] : The AAL Application should not modify the content of the buffer(s) after step 2.

Note [2] : The AAL Application can modify the content of the buffer(s) after step 5.

@startuml

Autonumber

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

Box “O-RAN” #NavajoWhite

   Participant “O-DU” as ODU << AAL-App>>

end box

Box “Cloud Platform” #lightseagreen

   participant “AAL Implementation” as AAL

End box

activate ODU

ref over ODU, AAL

Section 5.3.3.1 Creating Buffer Pools and Allocating Buffers

end ref

==Asynchronous Send Buffer (without buffer free) ==

ODU -> AAL : sendBuffer

activate AAL

note over AAL

return immediately.

endnote

AAL --> ODU : return status of API

Note over AAL

Continue to process operations asynchronously

until all buffers sent.

endnote

alt without callback

   ODU -> AAL: freeBuffer

   AAL --> ODU : success/failure

   Note over AAL

   Internally buffer is freed when sendBuffer completes.

   endnote

else with preregistered callback

   AAL --> ODU: execute preregistered callback function

   deactivate AAL

   ODU -> AAL: freeBuffer

   activate AAL

   AAL --> ODU : success/failure

   deactivate AAL

end

deactivate ODU

@enduml

5.3.3.2.5	Receive Buffer Synchronous Mode with non-NULL buffer_handle(s) input

Table 5.3.3.2.5-1 :  Receive Buffer Synchronous Mode with non-NULL buffer_handle(s) input workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

The AAL Application (e.g., O-DU) receives buffer(s) from the AAL in synchronous mode with non-NULL buffer_handle(s) input.

Actors and Roles

AAL Application: calls AAL to receive the buffer.

 AAL Implementation: executes receiveBuffer operation.

Assumptions

This sequence is representative of how the AAL Application uses the receiveBuffer operation in a synchronous manner with non-NULL buffer handle(s) input.

Pre-conditions

At least one AAL-Profile-Instance is configured and started. At least one AAL-Profile-Queue is configured and started. Receive buffer(s) are allocated.

Begins when

The AAL Application is ready to receive buffer.

Steps 1 – 2 (M)

The AAL Application calls the receiveBuffer API to receive buffer content from the AAL which will execute the receiveBuffer operation. The AAL Application thread invoking the API is blocked waiting for the receiveBuffer operation to complete.

Once done, the AAL returns the status of the operation back to the AAL Application and unblock the AAL Application call thread process.

Steps 3 - 4 (M)

The AAL Application, when finished with the buffer, calls freeBuffer operation and the AAL will free the buffer back to the buffer pool.

Ends when

receiveBuffer operation has completed.

Exceptions

Exceptions can occur if the receiveBuffer operation fails. Status indicating failure will be returned in Step 2.

Post Conditions

The AAL Application can continue processing.

Traceability

To Be added later.

@startuml

Autonumber

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

autoactivate on

Box “O-RAN” #NavajoWhite

   Participant “O-DU” as ODU << AAL-App>>

end box

Box “Cloud Platform” #lightseagreen

   participant “AAL Implementation” as AAL

End box

activate ODU

ref over ODU, AAL

Section 5.3.3.1 Creating Buffer Pools and Allocating Buffers

end ref

==Synchronous Receive Buffer==

ODU -> AAL : receiveBuffer

deactivate ODU

note over AAL

Perform operations and receive all buffers.

Return when all buffers are sent.

Endnote

AAL --> ODU : return status

activate ODU

ODU -> AAL: freeBuffer

AAL --> ODU : success/failure

deactivate ODU

@enduml

5.3.3.2.6	Receive Buffer Synchronous Mode with NULL buffer_handle(s) input

Table 5.3.3.2.6-1 :  Receive Buffer Synchronous Mode with NULL buffer_handle(s) input workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

The AAL Application (e.g., O-DU) receives buffer(s) from the AAL in synchronous mode with NULL buffer_handle(s) input.

Actors and Roles

AAL Application: calls AAL to receive the buffer.

 AAL Implementation: executes receiveBuffer operation.

Assumptions

This sequence is representative of how the AAL Application uses the receiveBuffer operation in a synchronous manner with NULL buffer_handle(s) input.

Pre-conditions

At least one AAL-Profile-Instance is configured and started. At least one AAL-Profile-Queue is configured and started.

Begins when

The AAL Application is ready to receive buffer.

Steps 1 – 2 (M)

The AAL Application calls the receiveBuffer API to receive buffer content from the AAL which will execute the receiveBuffer operation including the allocation of the buffers. The AAL Application thread invoking the API is blocked waiting for the receiveBuffer operation to complete.

Once done, the AAL returns the status of the operation back to the AAL Application and unblock the AAL Application call thread process.

Steps 3 - 4 (M)

The AAL Application, when finished with the buffer, calls freeBuffer operation and the AAL will free the buffer back to the buffer pool.

Ends when

receiveBuffer operation has completed.

Exceptions

Exceptions can occur if the receiveBuffer operation fails. Status indicating failure will be returned in Step 2.

Post Conditions

The AAL Application can continue processing.

Traceability

To Be added later.

@startuml

Autonumber

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

autoactivate on

Box “O-RAN” #NavajoWhite

   Participant “O-DU” as ODU << AAL-App >>

end box

Box “Cloud Platform” #lightseagreen

   participant “AAL Implementation” as AAL

End box

activate ODU

ref over ODU, AAL

Section 5.3.3.1 Creating Buffer Pools and Allocating Buffers

end ref

==Synchronous Receive Buffer==

ODU -> AAL : receiveBuffer

deactivate ODU

AAL -> AAL : allocate buffer

note over AAL

Perform operations and receive all buffers.

Return when all buffers are sent.

endnote

AAL --> ODU : return status

deactivate AAL

activate ODU

ODU -> AAL: freeBuffer

AAL --> ODU : success/failure

deactivate ODU

@enduml

5.3.3.2.7 Receive Buffer Asynchronous Mode with non-NULL buffer_handle(s) input

Table 5.3.3.2.7-1 :  Receive Buffer Asynchronous Mode with non-NULL buffer_handle(s) input workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

The AAL Application (e.g., O-DU) receives buffer(s) from the AAL in asynchronous mode with non-NULL buffer_handle(s) input.

Actors and Roles

AAL Application: calls AAL to receive the buffer.

 AAL Implementation: executes receiveBuffer operation.

Assumptions

This sequence is representative of how the AAL Application uses the receiveBuffer operation in an asynchronous manner with non-NULL buffer_handle(s) input.

Pre-conditions

At least one AAL-Profile-Instance is configured and started. At least one AAL-Profile-Queue is configured and started. Receive buffer(s) are allocated.

Begins when

The AAL Application is ready to receive buffer.

Step 1-4 (CM)

In case of without callback, the AAL Application calls the receiveBuffer API to receive buffer content from the AAL which will execute the receiveBuffer operation. In the case no buffers are ready to be received the AAL implementation returns immediately indicating no buffers were received.

The AAL Application calls the receiveBuffer API to receive buffer content from the AAL which will execute the receiveBuffer operation. The AAL returns the status of the operation and the number of buffers received.

Steps 5-8 (CM)

In case of with preregistered callback, the AAL Application calls the receiveBuffer API to receive buffer content from the AAL which will execute the receiveBuffer operation. In the case no buffers are ready to be received the AAL implementation returns immediately indicating the status of the operation. The AAL implementation waits asynchronously for buffers to be received. Upon receiving buffers, the pre-registered callback function is executed to asynchronously inform the AAL Application that new buffers have been received.

Steps 9-10 (M)

The AAL Application, when finished with the buffer, calls freeBuffer operation and the AAL will free the buffer back to the buffer pool.

Ends when

receiveBuffer operation has completed.

Exceptions

Exceptions can occur if the receiveBuffer operation fails. Status indicating failure will be returned in Step 1 or 5 or 8.

Post Conditions

The AAL Application can continue processing.

Traceability

To Be added later.

@startuml

Autonumber

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

autoactivate on

Box “O-RAN” #NavajoWhite

   Participant “O-DU” as ODU << AAL-App >>

end box

Box “Cloud Platform” #lightseagreen

   participant “AAL Implementation” as AAL

End box

activate ODU

ref over ODU, AAL

Section 5.3.3.1 Creating Buffer Pools and Allocating Buffers

end ref

==Asynchronous Receive Buffer==

alt without callback

ODU -> AAL : receiveBuffer

deactivate ODU

note over AAL

If no buffers received return immediately.

In Asynchronous mode with no callback receive

API behaves in a poll manner.

endnote

AAL --> ODU : (number of buffers = 0)

activate ODU

ODU -> AAL : receiveBuffer

deactivate ODU

AAL --> ODU : success (number of buffers)

activate ODU

else with preregistered callback

ODU -> AAL : receiveBuffer

Activate AAL

AAL --> ODU : return status

AAL -> AAL : wait for receive buffers

note over AAL

AAL executes receive operation.

endnote

AAL --> ODU: execute preregistered callback function

deactivate AAL

end

activate ODU

ODU -> AAL: freeBuffer

AAL --> ODU : success/failure

deactivate ODU

@enduml

5.3.3.2.8	Receive Buffer Asynchronous Mode with NULL buffer_handle input

Table 5.3.3.2.8-1 :  Receive Buffer Asynchronous Mode with NULL buffer_handle input workflow steps

Evolution / Specification

<<Uses>>

Related use

Goal

The AAL Application (e.g., O-DU) receives buffer(s) from the AAL in asynchronous mode with NULL buffer_handle input.

Actors and Roles

AAL Application: calls AAL to receive the buffer.

 AAL Implementation: executes receiveBuffer operation.

Assumptions

This sequence is representative of how the AAL Application uses the receiveBuffer operation in an asynchronous manner with NULL buffer_handle input.

Pre-conditions

At least one AAL-Profile-Instance is configured and started. At least one AAL-Profile-Queue is configured and started.

Begins when

The AAL Application is ready to receive buffer.

Steps 1-5 (CM)

In case of with callback, the AAL Application calls the receiveBuffer API to receive buffer content from the AAL which will execute the receive. In the case no buffers are ready to be received the AAL implementation returns immediately indicating no buffers were received.

The AAL Application calls the receiveBuffer API to receive buffer content from the AAL which will execute the receiveBuffer operation including the allocation of the buffers. The AAL returns the status of the operation, newly allocated buffer_hanlde(s) and the number of buffers received.

Steps 6-10 (CM)

In case of with preregistered callback, the AAL Application calls the receiveBuffer API to receive buffer content from the AAL which will execute the receiveBuffer operation. In the case no buffers are ready to be received the AAL implementation returns immediately indicating the status of the operation.

The AAL implementation waits asynchronously for buffers to be received. The AAL allocates the buffers. Upon receiving buffers, the pre-registered callback function is executed to asynchronously inform the AAL Application that new buffers have been received.

Steps 11-12 (M)

The AAL Application, when finished with the buffer, calls freeBuffer operation and the AAL will free the buffer back to the buffer pool.

Ends when

receiveBuffer operation has completed.

Exceptions

Exceptions can occur if the receiveBuffer operation fails. Status indicating failure will be returned in Step 1 or 5 or 8.

Post Conditions

The AAL Application can continue processing.

Traceability

To Be added later.

@startuml

Autonumber

Skinparam sequenceArrowThickness 2

skinparam ParticipantPadding 5

skinparam BoxPadding 10

autoactivate on

Box “O-RAN” #NavajoWhite

   Participant “O-DU” as ODU << AAL-App>>

end box

Box “Cloud Platform” #lightseagreen

   participant “AAL Implementation” as AAL

End box

activate ODU

ref over ODU, AAL

Section 5.3.3.1 Creating Buffer Pools and Allocating Buffers

end ref

==Asynchronous Receive Buffer==

alt without callback

ODU -> AAL : receiveBuffer

deactivate ODU

note over AAL

If no buffers received return immediately.

In Asynchronous mode with no callback receive

API behaves in a poll mode manner.

endnote

AAL --> ODU : (number of buffers = 0)

activate ODU

ODU -> AAL : receiveBuffer

deactivate ODU

AAL -> AAL : Allocate buffer(s)

AAL --> ODU : success (number of buffers)

activate ODU

else with preregistered callback

ODU -> AAL : receiveBuffer

AAL --> ODU : return status

AAL -> AAL : wait for receive buffers

AAL -> AAL : Allocate buffer(s)

note over AAL

AAL executes receive operation.

endnote

AAL --> ODU: execute preregistered callback function

deactivate AAL

deactivate AAL

end

activate ODU

ODU -> AAL: freeBuffer

AAL --> ODU : success/failure

deactivate ODU

@enduml

5.4 AALI-C-App API details

5.4.1 Capabilities discovery and configuration

5.4.1.1 getAalLpuInfo

Description: An AAL Application queries the handle and capabilities of the AAL-LPU(s) assigned to the AAL Application. AAL-LPUs may provide different capabilities such as different AAL Profiles can be supported by the AAL-LPUs that includes different types of AAL-Profile-Instances and AAL-Profile-Queue(s). The aal-lpu-handle is unique between the AAL Application and the AAL-LPUs assigned to the AAL Application. The aal-lpu-handle is generated by the AAL implementation.

Pre-conditions: AAL Application has at least 1 AAL-LPU assigned and available for use.

Triggers: On demand request from the AAL Application

Frequency: AAL Application Initialization time.

Table 5.4.1.1-1: getAalLpuInfo operation

Operation

Direction

getAalLpuInfo

AAL Application    =>    AAL

Table 5.4.1.1-2: getAalLpuInfo Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

aal_lpu_handle

0 to 1

O

If supplied, the capabilities of only the AAL-LPU associated with the Handle is requested. If omitted, the capabilities of all the AAL-LPUs assigned to the AAL Application is requested.

Table 5.4.1.1-3: getAalLpuInfo Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

aal-lpu-cap-struct

0 to many

struct

O

Struct containing the aal-lpu-handle and the capabilities supported by this AAL-LPU including AAL Profile type(s) that are available to the calling AAL Application.

status_of_operation

Reference WG10 object model

M

Returns the status of the procedure

Note: List of AAL Profile types to be defined, e.g. High-PHY. Types should also be versioned, e.g. High-PHY.V1

5.4.2 AALI-C-App Configuration Services

Before using AAL-Profile-Instance services the AAL Application must first create the AAL-Profile-Instance, then configure the AAL-Profile-Instance and the AAL-Profile-Queue(s).

5.4.2.1 createAalProfileInstance

Description: The AAL Application creates an AAL-Profile-Instance on the AAL-LPU. The AAL-Profile-Instance is created based on the AAL Profile type that is requested by the AAL Application. The list of available AAL Profile type(s) is provided by the AALI in the getAalLpuInfo response. After successful creation, the AAL-Profile-Instance is in a ‘in use, stopped’ state. The AAL Application may now configure the AAL-Profile-Instance, AAL-Profile-Queue(s) and start the AAL-Profile-Instance.

This procedure may be repeated by the AAL Application in order to create multiple AAL-Profile-Instances, of the same or different AAL Profile types.

Pre-conditions: AAL Application has at least 1 AAL-LPU assigned and available for use. The AAL Profile type that is requested to be created is provided by the AAL-LPU (listed in the AAL-LPU-Capability struct of the getAalLpuInfo response operation).

Triggers: On demand request from the AAL Application

Frequency: Infrequent.

Table 5.4.2.1-1: createAalProfileInstance Operator

Operation

Direction

createAalProfileInstance

AAL Application    =>    AAL Implementation

Table 5.4.2.1-2: createAalProfileInstance Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

aal_lpu_handle

1

N/A

M

The Handle of the AAL-LPU to create the profile instance on.

aal_profile_instance_type

1

tbd

M

The type (and version) of an AAL-Profile-Instance (returned in the getAalLpuInfo operation) to create on this AAL-LPU

Table 5.4.2.1-3: createAalProfileInstance Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

Status

1

M

Result of the createProfileInstance operation

aal_profile_instance_handle

1

C

Handle of the AAL-Profile instance created in this create AAL-Profile-Instance Request.

This field is only present if the createProfileInstance operation is successful

aal_profile_instance_config

1

Struct

C

Structure containing the default settings of the AAL-Profile-Instance . This field is only present if the createProfileInstance operation is successful.

status_of_operation

Reference WG10 object model

M

Returns the status of the procedure

5.4.2.2 setAalProfileInstanceConfig

Description: The AAL Application configures the AAL-Profile-Instance on the AAL-LPU for a specific AAL Profile configuration for use by the AAL Application.

Pre-conditions: AAL Application has successfully created the AAL-LPU-Profile instance on the AAL-LPU. The AAL-Profile-Instance is not started.

Triggers: On demand request from the AAL Application

Frequency: Infrequent.

Table 5.4.2.2-1: setProfileInstanceConfig Operation

Operation

Direction

setProfileInstanceConfig

AAL Application    =>    AAL Implementation

Table 5.4.2.2-2: setProfileInstanceConfig Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

aal_profile_instance_handle

1

N/A

M

The Handle of the AAL-Profile-Instance to be configured.

aal_profile_instance_config

1

struct

M

Structure containing the AAL-Profile-Instance configuration to apply.

Table 5.4.2.2-3: setProfileInstanceConfig Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG10 object model

M

Returns the status of the procedure

5.4.2.3 deleteAalProfileInstance

Description: The AAL Application may delete the AAL-Profile-Instance when it no longer requires it. For example, if a cell is deleted from the O-DU by upper layers or the OAM system, the AAL-Profile-Instance resources used to offload that cell can be deleted. After deleting the AAL-Profile-Instance, that AAL-Profile-Instance is no longer usable by the AAL Application.

Pre-conditions: The AAL Application has successfully stopped the AAL-Profile-Instance.

Triggers: On demand request from the AAL Application

Frequency: Infrequent.

Table 5.4.2.3-1: setProfileInstanceConfig Operation

Operation

Direction

deleteAalProfileInstance

AAL Application    =>    AAL Implementation

Table 5.4.2.3-2: setProfileInstanceConfig Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

aal_profile_instance_handle

1

N/A

M

The Handle of the AAL-Profile-Instance to delete.

Table 5.4.2.3-3: setProfileInstanceConfig Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG10 object model

M

Returns the status of the procedure

5.4.2.4 setAalProfileQueueConfig

Note: Use of AAL-Profile-Queue operations for user plane data transfer and buffer API operations needs to be clarified.

Description: The AAL Application configures the AAL-Profile-Queue on the AAL-Profile-Instance.

If no AAL-Profile-Queue Handle is included, this operation will create and configure a new AAL-Profile-Queue. The response will include the AAL-Profile-Queue Handle for the AAL-Profile-Queue. To add an AAL-Profile-Queue to an AAL-Profile-Instance, the AAL-Profile-Instance must be stopped by the AAL Application.

If an AAL-Profile-Queue Handle is supplied, the configuration of the AAL-Profile-Queue identified by the AAL-Profile-Queue Handle is modified with the supplied configuration. Any items already on the queue are deleted when this operation is called. The AAL-Profile-Queue must be in the stopped state.

Pre-conditions: AAL-Profile-Instance has already successfully been created in the AAL-LPU. The AAL Application has successfully configured the AAL-Profile-Instance. The AAL-Profile-Queue (if already existing) is in the stopped state. To add an AAL-Profile-Queue to an AAL-Profile-Instance, the AAL-Profile-Instance must be stopped by the AAL Application. To re-configure an existing AAL-Profile-Queue on an AAL-Profile-Instance, the AAL-Profile-Instance does not need to be stopped by the AAL Application.

Triggers: On demand request from the AAL Application

Frequency: Infrequent.

Table 5.4.2.4-1: setAalProfileQueueConfig Operation

Operation

Direction

setAalProfileQueueConfig

AAL Application    =>    AAL Implementation

Table 5.4.2.4-2: setAalProfileQueueConfig Input Parameter

Input Parameter

Cardinality

Data Type

Qualifier

Description

aal-profile-instance-handle

1

M

The Handle of the AAL-Profile-Instance

aal_profile_queue-handle

1

N/A

O

If this field is included, the operation is for an existing AAL-Profile-Queue.

If this field is omitted, a new AAL-Profile-Queue is being configured.

aal_profile_queue-config

1

struct

M

Structure containing the AAL-Profile-Queue configuration to apply. E.g.

Direction (Input or Output);

Max number of entries permitted.

Queue priority (relative to the other queues of the same direction associated with this AAL-Profile-Instance)

Table 5.4.2.4-2: setAalProfileQueueConfig Output Parameter

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG10 object model

M

Returns the status of the procedure

aal_profile_queue-handle

0 to 1

C

If no AAL-Profile-Queue Handle was included in the request, a new AAL-Profile-Queue Handle is returned if the operation was successful.

5.4.2.5 getAalProfileQueueConfig

Description: The AAL Application may query the current AAL-Profile-Instance queue configuration.

Pre-conditions: AAL-Profile-Instance has already successfully been created in the AAL-LPU. The AAL Application has successfully created the AAL-Profile-Instance and the AAL-Profile-Queue.

Triggers: On demand request from the AAL Application

Frequency: N/A

Table 5.4.2.5-1: getAalProfileQueueConfig Operation

Operation

Direction

getAalProfileQueueConfig

AAL Application    =>    AAL Implementation

Table 5.4.2.5-2: getAalProfileQueueConfig Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

aal_profile_queue-handle

1

N/A

The handle of the AAL-Profile-Queue to be queried.

Table 5.4.2.5-3: getAalProfileQueueConfig Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

Reference WG10 object model

M

Returns the status of the procedure

aal_profile_queue_config

1

structure

C

On success the struct that contains the AAL-Profile-Queue configuration.

5.4.3 AALI-C-App Transport Operations

5.4.3.1 createBufferPool

Description: The createBufferPool operation shall support creation of N buffer pools (N>=1) of a specific buffer type, with buffer read/write access to the AAL Application.

The AAL Application shall have the flexibility to invoke the createBufferPool operation either one time, or multiple times, to request creation of buffer pool(s) with multiple buffer sizes.

The AAL Application shall invoke the createBufferPool operation multiple times for creation of buffer pools of different buffer types.

The AAL Application shall not assume buffers in created buffer pools to be in a specific memory state (e.g., zero ’ed buffer).

Buffer pool(s) and buffers are sharable by AAL-LPU(s).

FFS: support for inter-accelerator buffer pool sharing.

Pre-conditions: AAL implementation is initialized

Triggers: On demand request from the AAL Application

Frequency:  No restriction

Table 5.4.3.1-1: createBufferPool Operation

Operation

Direction

createBufferPool

AAL Application    =>    AAL Implementation

Table 5.4.3.1-2: createBufferPool Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

number_of_buffer_pools

1

integer

M

Indicates the number of buffer pool(s) creation requested by the AAL Application

buffer_type

N

integer

M

Indicates the type(s) of content that can be placed in buffers allocated from the buffer pool(s).

AAL profile instances can share buffer pools of the same buffer type(s)

The buffer type values are identified within the AAL profile specification.

An empty list indicates that the buffer(s) within the buffer pool(s) do not have an intended type of content that can be placed in the buffer pool(s).

buffer_size

N

integer

M

Indicates the buffer size for each requested buffer pool

NOTE:

AAL Application shall indicate N buffer sizes, when requesting for creation of N buffer pool(s) (N>=1) in a single createBufferPool Operation

number_of_buffers

N

integer

M

Indicates the size of each buffer pool, i.e., number of buffers available in each pool upon creation

NOTE:

AAL Application shall indicate N buffer pool sizes, when requesting for creation of N buffer pool(s), (N>=1) in a single createBufferPool Operation

Table 5.4.3.1-3: createBufferPool Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

1

Reference WG10 object model

M

Returns the status of the procedure. Indicates the status of createBufferPool Operation execution (TRUE for success, FALSE for failure)

If FALSE: Returns failure code if the AAL implementation does not support pre-created buffer pools.

buffer_pool_handle

N

opaque handle

M

For each buffer pool, a handle to the pool

NOTE: Each buffer_pool_handle is associated with a specific buffer_size

A NULL shall be returned if the status_of_operation is FALSE (failure)

5.4.3.2 allocBuffer

Description: The allocBuffer operation shall support allocation of a buffer either from pre-created buffer pool(s), or from memory that is not associated with a pre-created buffer pool.

Pre-conditions:  If a non-NULL buffer_pool_handle is passed, the buffers are allocated from the buffer pool(s) created using the createBufferPool operation.

Triggers: On demand request from the AAL Application

Frequency: No restriction

Table 5.4.3.2-1: allocBuffer Operation

Operation

Direction

allocBuffer

AAL Application    =>    AAL Implementation

Table 5.4.3.2-2: allocBuffer Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

buffer_pool_handle

1

opaque handle

M

A handle to a pre-created buffer pool generated using createBufferPool operation or a NULL handle.

When a NULL handle is passed, the AAL implementation shall not use memory that is part of a pre-created buffer pool.

message_size

1

integer

M

Indicates message size (in bytes) for which the AAL Application is requesting buffer allocation

NOTE:

The AAL Application shall not use the allocated buffer for a message greater than the indicated message_size.

Whether/how an AAL implementation takes into consideration message_size in allocating the buffer is transparent to the AAL Application.

When the value of the buffer_pool_handle is not NULL:

The AAL Application shall request buffer allocation from a pre-created buffer pool with buffer_ size >= message_size > 0

The AAL Application can indicate the message_size equal to the buffer_size associated with the buffer_pool_handle.

For optimal memory usage, AAL Application should indicate a buffer_pool_handle with associated buffer_size closest to the indicated memory size.

Table 5.4.3.2-3: allocBuffer Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

1

Reference WG10 object model

M

Returns the status of the procedure. Indicates the status of allocBuffer Operation execution (TRUE for success, FALSE for failure)

Note: If the status of the operation is FALSE:

Returns a failure code if the AAL implementation requires buffers to be allocated from a pre-created buffer pool and the operation was invoked with buffer_pool_handle = NULL.

Returns a failure code if the AAL implementation does not support pre-created buffer pools and the operation was invoked with a buffer_pool_handle that is not NULL.

buffer_handle

1

opaque handle

M

Handle to the allocated buffer

5.4.3.3 getBufferAddr

Description: The getBufferAddr operation shall return address from buffer_handle

Pre-conditions:  The buffer_handle is created using allocBuffer operation

Triggers: On demand request from the AAL Application

Frequency: No restriction

Table 5.4.3.3-1: getBufferAddr Operation

Operation

Direction

getBufferAddr

AAL Application    =>    AAL Implementation

 Table 5.4.3.3-2: getBufferAddr Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

buffer_handle

1

opaque handle

M

buffer object handle returned by allocBuffer operation

Table 5.4.3.3-3: getBufferAddr Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

1

Reference WG10 object model

M

Returns the status of the procedure.

buffer_address

1

void *

M

Pointer that points to the starting virtual address of the buffer for the AAL Application to use. On error, buffer address will be NULL value.

5.4.3.4 getBufferSize

Description: The getBufferSize operation shall return the size of the buffer from buffer_handle

Pre-conditions: buffer_handle is created using allocBuffer operation

Triggers: On demand request from the AAL Application

Frequency: No restriction

Table 5.4.3.4-1: getBufferSize Operation

Operation

Direction

getBufferSize

AAL Application    =>    AAL Implementation

 Table 5.4.3.4-2: getBufferSize Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

buffer_handle

1

opaque handle

M

buffer object handle returned by allocBuffer operation

Table 5.4.3.4-3: getBufferSize Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

1

Reference WG10 object model

M

Returns the status of the procedure.

Indicates the status of getBufferSize operation execution (TRUE for success, FALSE for failure)

buffer_size

1

Integer

M

Size of the buffer

5.4.3.5 sendBuffer

Description: The sendBuffer operation shall support enqueuing of N buffer(s) (N >=1) by the AAL Application.  The AAL Application shall either retain buffer ownership in sendBuffer operation or indicate buffer ownership transfer. AAL Application shall indicate the synchronization mode ('synchronous' or 'asynchronous') in sendBuffer operation.

AAL implementation shall support both modes of operation.

For synchronous mode, the AAL implementation, upon execution completion of sendBuffer operation, shall return the status of the sendBuffer operation

For asynchronous mode, AAL implementation shall return the status of sendBuffer operation execution, only if AAL Application preregisters for a callback; otherwise AAL implementation is not expected to return the execution status of the sendBuffer operation

FFS: Mechanism of sending details of AAL-Profile specific parameters

Pre-conditions: Buffers are allocated through allocBuffer operation. At least one AAL-Profile-Instance is configured and started. At least one AAL-Profile-Queue is configured and started

Triggers: On demand request from the AAL Application

Frequency: No restriction

Table 5.4.3.5-1: sendBuffer Operation

Operation

Direction

sendBuffer

AAL Application    =>    AAL  Implementation

Table 5.4.3.5-2: sendBuffer Input Parameter

Input Parameter

Cardinality

Data Type

Qualifier

Description

number_of_buffers

1

integer

M

Indicates number of enqueued buffer(s) (N >=1)

per_buffer_config

N

structure

M

Structure containing attributes corresponding to enqueued buffer(s).

> buffer_handle

1

opaque handle

M

Indicates the buffer(s) containing metadata and payload to be sent.

> buffer_free

1

integer

M

When “TRUE” or 1, the AAL Application transfers ownership of the buffer to the AAL implementation, which is expected to free the buffer upon completion of the sendBuffer operation,  for each enqueued buffer.

When "FALSE" or 0, the AAL Application retains the ownership of the buffer and the AAL implementation shall not automatically free the buffer upon completion of the sendBuffer operation.

aal_profile_instance_handle

1

opaque handle

M

Indicates the AAL-Profile-Instance corresponding to the buffer payload(s)

aal_queue_handle

1

opaque handle

M

Indicates the AAL-Profile-Queue associated with the enqueued buffer(s)

synchronization_mode

1

integer

M

Indicates synchronous/asynchronous mode of operation

Table 5.4.3.5-3: sendBuffer Output Parameter

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

1

Reference WG10 object model

M

Returns the status of the procedure.

Indicates the status of sendBuffer operation execution (success or failure) in synchronous mode and in asynchronous mode with preregistered callback

FFS: Details of callback preregistration mechanism

number_of_buffers_transmitted

1

integer

M

Indicates the total number of successfully transmitted buffers

status_of_each_buffer

N

bool

O

Optionally, returns status of each buffer (success or failure)

5.4.3.6 receiveBuffer

Description: The receiveBuffer operation shall support dequeuing up to N buffer(s) (N >=1) by the AAL Application. The AAL Application shall indicate the synchronization mode ('synchronous' or 'asynchronous') in the receiveBuffer operation.

AAL implementation shall support both modes of the operation.

For synchronous mode, the AAL implementation, upon execution completion of receiveBuffer operation, shall return the status of the receiveBuffer operation

For asynchronous mode, the AAL implementation shall return the status of receiveBuffer operation execution, only if AAL Application preregisters for a callback; otherwise AAL implementation is not expected to return the execution status of the receiveBuffer operation

Either the AAL Application, or the AAL implementation shall allocate the receiving buffer(s) either from buffer pool(s) pre-created through createBufferPool operation or from memory not mapped to a pre-created buffer pool.

Pre-conditions: At least one AAL-Profile-Instance is configured and started. At least one AAL-Profile-Queue is configured and started

Triggers: On demand request from the AAL Application

Frequency: No restriction

Table 5.4.3.6-1: receiveBuffer Operation

Operation

Direction

receiveBuffer

AAL Application    =>    AAL Implementation

Table 5.4.3.6-2: receiveBuffer Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

number_of_buffers

1

integer

M

Indicates maximum number of buffers (N >=1) that can be dequeued by the AAL Application

buffer_handle

0..N

opaque handle

M

Indicates dequeue buffer(s) allocated by the AAL Application.

If NULL, the AAL implementation allocates the dequeue buffer(s)

The AAL Application shall not use the dequeue buffer(s) allocated by the AAL implementation for any other subsequent send or receive operation

aal_profile_instance_handle

1

opaque handle

M

Indicates the AAL-Profile-Instance corresponding to the dequeued buffer payloads

aal_queue_handle

1

opaque handle

M

Indicates the AAL-Profile-Queue associated with the dequeued buffers

synchronization_mode

1

integer

M

Indicates synchronous/asynchronous mode of operation

Table 5.4.3.6-3: receiveBuffer Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

1

Reference WG10 object model

M

Returns the status of the procedure.

Indicates the status of receiveBuffer operation execution (success or failure) in synchronous mode and in asynchronous mode with preregistered callback

FFS: details of callback preregistration mechanism

number_of_received buffers

1

integer

M

Indicates number of buffers (L) to be received by the AAL Application, which is < = maximum number of buffers (N)

buffer_handle

L

opaque handle

M

Indicates dequeue buffer(s) where from AAL Application retrieves the received data.

buffer_content_size

L

integer

O

Optionally, indicates the size (in bytes) of the contents of each received buffer

5.4.3.7 freeBuffer

Description: The freeBuffer operation shall free the buffer back to the buffer pool to which the buffer was allocated from.

If the buffer is not freed in the sendBuffer operation (i.e., buffer_free parameter is set to 0 or 'FALSE'), the freeBuffer operation shall free the buffer upon completion of the sendBuffer operation execution by the AAL implementation.

Pre-conditions:  The buffer_handle is created using allocBuffer operation

Post-condition: Upon successful completion of the freeBuffer operation, the buffer_handle is no longer usable by the AAL Application

Triggers: On demand request from the AAL Application

Frequency:  No restriction

Table 5.4.3.7-1: freeBuffer Operation

Operation

Direction

freeBuffer

AAL Application    =>    AAL Implementation

Table 5.4.3.7-2: freeBuffer Input Operation

Input Parameter

Cardinality

Data Type

Qualifier

Description

buffer_handle

1

opaque handle

M

buffer object handle returned by allocBuffer operation

Table 5.4.3.7-3: freeBuffer Output Operation

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

1

Reference WG10 object model

M

Returns the status of the procedure.

Indicates the status of freeBuffer Operation execution (TRUE for success, FALSE for failure)

5.4.3.8 destroyBufferPool

Description: The destroyBufferPool operation shall support termination of buffer pool, which will make buffer_handle(s) associated with the buffer pool unusable by the AAL Application.

Pre-condition:  The buffer_pool_handle is created using createBufferPool operation

Trigger: On demand request from the AAL Application

Frequency: Infrequent

Table 5.4.3.8-1: destroyBufferPool Operation

Operation

Direction

destroyBufferPool

AAL Application    =>    AAL Implementation

Table 5.4.3.8-2: destroyBufferPool Input Parameters

Input Parameter

Cardinality

Data Type

Qualifier

Description

buffer_pool _handle

1

opaque handle

M

Indicates handle to pre-created buffer pool

Table 5.4.3.8-3: destroyBufferPool Output Parameters

Output Parameter

Cardinality

Data Type

Qualifier

Description

status_of_operation

1

Reference WG10 object model

M

Returns the status of the procedure.

Indicates the status of destroyBufferPool Operation execution (success or failure)

Revision History

Date

Revision

Author

Description

2022.2.28

00.00.01

VMware, Ericsson, Wind River, Nvidia, Marvell, AT&T, Orange, Qualcomm

Initial skeleton

2022.3.18

00.00.02

VMware

Incorporated 2 CRs:

Management Objects Model CR (VMWare)

Common API Requirements CR (VMWare)

2022.3.25

00.00.03

NVIDIA, Intel, VMware

Incorporated 4 CRs:

Transport abstraction (NVIDIA)

AALI-C-App APIs (Intel)

AALI-C-Mgmt Workflow CR (VMWare)

AALI-C-Mgmt APIs CR (VMWare)

2022.3.28

01.00

Padma Sudarsan VMware

Spec for final approval

2022.5.12

01.00.01

VMware

Incorporate CR:

Align AAL Definitions and Acronyms (Ericsson)

2022.6.10

01.00.02

Padma Sudarsan VMware

Incorporate 7 CRs

AAL Transport Buffer Operations (Marvell)

AAL Transport API Operations (Nvidia)

AAL Transport Abstraction Requirements (Nvidia)

AAL-LPU start/Stop (Ericsson)

AAL Common API Spec Alignment (VMware)

AAL Get Accel Info part 1 (VMware)

AAL Common API e2e lcm flow (VMware et al.)

2022.7.15

01.00.03

Padma Sudarsan VMware

Editor changes:

Modified cover page, footer, copyright, and Annex Z per new template

Incorporate CRs:

AAL Common API AAL Application Operations (Ericsson)

Editor Changes:

Modify Naming Conventions for Operations/parameters

Identify sections that are still in progress

2022.7.20

01.00.04

Padma Sudarsan VMware

Incorporate CRs:

AAL Get Accel Info part 2 (VMware et al)

AAL Common API e2e lcm flow enhancement (Intel, VMware.)

AAL-C App Init Sequence alignment (VMware)

Buffer Pool Create Operation (Nvidia et al)

Buffer Send Operation (Nvidia et al))

Buffer Receive buffer pool destroy operation (Nvidia et al)

Editor Changes:

Modify Naming Conventions for Operations/parameters etc.

2022.7.21

01.00.05

Padma Sudarsan VMware

Incorporate CRs:

AAL-C-Transport Call flow (Nvidia et al)

2022.7.25

01.00.06

Padma Sudarsan VMware

Incorporate CRs:

AAL-C-Transport Call flow (Nvidia et al) update

Editorial Cleanup

2022.11.07

02.00.01

Padma Sudarsan

VMware

Incorporate CRs:

AAL Transport API-freeBuffer clarification (Nvidia)

Transport Req. alignment with receiveBuffer and freeBuffer (Nvidia)

Transport receives buffer Operation clarification (Nvidia)

e2e lcm flow updates (VMware)

Correct UML in AALI-C-App API Init Sequence (Ericsson)

Add Detailed API Diagrams (Intel, Nvidia)

Update allocBuffer (Qualcomm)

Update createBufferPool (Qualcomm)

2022.11.07

02.00.02

Padma Sudarsan

VMware

Editorial corrections based on comments from the member companies.

2022.12.05

03.00.01

Padma Sudarsan

VMware

Incorporate Editorial corrections

Editorial alignment of terminology (Qualcomm)

Fault management service with AALI-C-Mgmt (Qualcomm, VMware, Ericsson)

2023.1.11

03.00.02

Padma Sudarsan

VMware

Incorporate Editorial corrections

2023.2.1

03.00.03

Padma Sudarsan

VMware

Incorporate CRs:

Common API Mgmt Requirement Clarification (Ericsson)

AAL-AALI-C-MGMT uploadBootImage Removal (Ericsson)

AAL-Common-API-03.00-Add-Inv-Sub-Not (Qualcomm)

2023.3.11

03.00.04

Padma Sudarsan

VMware

Incorporate CRs:

CR 0027 AAL Common API Updates from F2F (Qualcomm)

Incorporate Editorial corrections

2023.3.17

03.00.05

Padma Sudarsan

VMware

Incorporate Editorial corrections

History

Date

Revision

Description

2022.03.28

01.00

Published from version 00.00.03

2022.08.01

02.00

Published from version 01.00.06

2022.11.21

03.00

Published from version 02.00.02

2023.03.27

04.00

Published from version 03.00.05

	________________________________________________________________________________________________© 2023 by the O-RAN ALLIANCE e.V. Your use is subject to the copyright statement on the cover page of this specification.	3